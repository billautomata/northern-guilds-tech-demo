/*! For license information please see main.e6b90304.js.LICENSE.txt */
!function(){var t={66419:function(t,e,r){t.exports=r(36433)},41511:function(t,e,r){t.exports=r(59072)},54103:function(t,e,r){t.exports=r(73784)},77766:function(t,e,r){t.exports=r(41168)},72119:function(t,e,r){t.exports=r(85764)},10062:function(t,e,r){t.exports=r(25575)},20116:function(t,e,r){t.exports=r(70810)},94473:function(t,e,r){t.exports=r(38362)},78914:function(t,e,r){t.exports=r(34944)},78580:function(t,e,r){t.exports=r(1706)},81643:function(t,e,r){t.exports=r(60070)},69301:function(t,e,r){t.exports=r(28471)},2991:function(t,e,r){t.exports=r(3243)},54903:function(t,e,r){t.exports=r(12412)},32366:function(t,e,r){t.exports=r(6186)},3649:function(t,e,r){t.exports=r(1323)},47302:function(t,e,r){t.exports=r(31889)},92762:function(t,e,r){t.exports=r(2359)},29828:function(t,e,r){t.exports=r(5152)},25843:function(t,e,r){t.exports=r(25860)},89400:function(t,e,r){t.exports=r(49631)},59340:function(t,e,r){t.exports=r(21452)},39392:function(t,e,r){t.exports=r(68522)},97657:function(t,e,r){t.exports=r(72799)},98926:function(t,e,r){t.exports=r(91929)},54943:function(t,e,r){t.exports=r(61973)},20368:function(t,e,r){t.exports=r(91063)},63978:function(t,e,r){t.exports=r(68597)},26295:function(t,e,r){t.exports=r(88132)},56474:function(t,e,r){t.exports=r(71885)},34074:function(t,e,r){t.exports=r(5162)},39649:function(t,e,r){t.exports=r(26829)},14310:function(t,e,r){t.exports=r(6363)},21611:function(t,e,r){t.exports=r(37931)},86902:function(t,e,r){t.exports=r(3195)},20455:function(t,e,r){t.exports=r(9545)},94198:function(t,e,r){t.exports=r(63971)},93476:function(t,e,r){t.exports=r(67788)},1068:function(t,e,r){t.exports=r(8561)},33032:function(t,e,r){t.exports=r(59571)},36384:function(t,e,r){t.exports=r(70771)},65420:function(t,e,r){t.exports=r(86863)},17388:function(t,e,r){t.exports=r(15660)},39969:function(t,e,r){t.exports=r(2702)},52424:function(t,e,r){t.exports=r(7481)},53592:function(t,e,r){t.exports=r(20544)},78363:function(t,e,r){t.exports=r(4753)},19996:function(t,e,r){t.exports=r(28488)},51445:function(t,e,r){t.exports=r(60326)},95683:function(t,e,r){t.exports=r(11318)},95238:function(t,e,r){t.exports=r(87109)},90:function(t,e,r){t.exports=r(14497)},189:function(t,e,r){t.exports=r(44680)},44341:function(t,e,r){t.exports=r(52772)},58377:function(t,e,r){t.exports=r(26955)},24889:function(t,e,r){t.exports=r(67686)},79542:function(t,e,r){t.exports=r(73428)},69798:function(t,e,r){t.exports=r(99779)},13535:function(t,e,r){t.exports=r(34426)},83863:function(t,e,r){t.exports=r(39073)},51446:function(t,e,r){t.exports=r(47164)},23882:function(t,e,r){t.exports=r(52165)},34243:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports},57726:function(t,e,r){var n=r(78363);t.exports=function(t){if(n(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},46868:function(t,e,r){var n=r(78363),i=r(34243);t.exports=function(t){if(n(t))return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},5824:function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},51161:function(t,e,r){var n=r(69798);function i(t,e,r,i,o,a,s){try{var u=t[a](s),l=u.value}catch(h){return void r(h)}u.done?e(l):n.resolve(l).then(i,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new n((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,u,"next",t)}function u(t){i(a,n,o,s,u,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},26394:function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},74003:function(t,e,r){var n=r(13535),i=r(51445),o=r(5613),a=r(8647);function s(e,r,u){return a()?(t.exports=s=n,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=s=function(t,e,r){var n=[null];n.push.apply(n,e);var a=new(i(Function).apply(t,n));return r&&o(a,r.prototype),a},t.exports.__esModule=!0,t.exports.default=t.exports),s.apply(null,arguments)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports},69198:function(t,e,r){var n=r(44341);function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(t,i.key,i)}}t.exports=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),n(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},87672:function(t,e,r){var n=r(44341);t.exports=function(t,e,r){return e in t?n(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports},31474:function(t,e,r){var n=r(83863),i=r(58377),o=r(16649);function a(){return"undefined"!==typeof Reflect&&n?(t.exports=a=n,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=a=function(t,e,r){var n=o(t,e);if(n){var a=i(n,e);return a.get?a.get.call(arguments.length<3?t:r):a.value}},t.exports.__esModule=!0,t.exports.default=t.exports),a.apply(this,arguments)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},66380:function(t,e,r){var n=r(79542),i=r(24889);function o(e){return t.exports=o=n?i:function(t){return t.__proto__||i(t)},t.exports.__esModule=!0,t.exports.default=t.exports,o(e)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},51379:function(t,e,r){var n=r(189),i=r(44341),o=r(5613);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=n(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i(t,"prototype",{writable:!1}),e&&o(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},60530:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},3807:function(t,e,r){var n=r(95683);t.exports=function(t){var e;return-1!==n(e=Function.toString.call(t)).call(e,"[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports},8647:function(t,e,r){var n=r(13535);t.exports=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},85400:function(t,e,r){var n=r(51446),i=r(19996),o=r(53592);t.exports=function(t){if("undefined"!==typeof n&&null!=i(t)||null!=t["@@iterator"])return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},65056:function(t,e,r){var n=r(51446),i=r(19996);t.exports=function(t,e){var r=null==t?null:"undefined"!==typeof n&&i(t)||t["@@iterator"];if(null!=r){var o,a,s=[],u=!0,l=!1;try{for(r=r.call(t);!(u=(o=r.next()).done)&&(s.push(o.value),!e||s.length!==e);u=!0);}catch(h){l=!0,a=h}finally{try{u||null==r.return||r.return()}finally{if(l)throw a}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},79736:function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},76670:function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},214:function(t,e,r){var n=r(23765).default,i=r(5824);t.exports=function(t,e){if(e&&("object"===n(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},5613:function(t,e,r){var n=r(79542);function i(e,r){return t.exports=i=n||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,i(e,r)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},18777:function(t,e,r){var n=r(57726),i=r(65056),o=r(79299),a=r(79736);t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},16649:function(t,e,r){var n=r(66380);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},59036:function(t,e,r){var n=r(46868),i=r(85400),o=r(79299),a=r(76670);t.exports=function(t){return n(t)||i(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},23765:function(t,e,r){var n=r(51446),i=r(23882);function o(e){return t.exports=o="function"==typeof n&&"symbol"==typeof i?function(t){return typeof t}:function(t){return t&&"function"==typeof n&&t.constructor===n&&t!==n.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,o(e)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},79299:function(t,e,r){var n=r(95238),i=r(53592),o=r(34243);t.exports=function(t,e){var r;if(t){if("string"===typeof t)return o(t,e);var a=n(r=Object.prototype.toString.call(t)).call(r,8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?i(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},74803:function(t,e,r){var n=r(90),i=r(189),o=r(66380),a=r(5613),s=r(3807),u=r(74003);function l(e){var r="function"===typeof n?new n:void 0;return t.exports=l=function(t){if(null===t||!s(t))return t;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(t))return r.get(t);r.set(t,e)}function e(){return u(t,arguments,o(this).constructor)}return e.prototype=i(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports,l(e)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports},63109:function(t,e,r){t.exports=r(19727)},87757:function(t,e,r){t.exports=r(19727)},63244:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(88677).Buffer}catch(T){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var l=t.charCodeAt(u)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&a<i,"Invalid character"),o+=a}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,h=r;h<s;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var c=1;for(u=l(t,h,t.length,e),h=0;h<a;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var v=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?v+r:f[l-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function v(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&a}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,l=0,h=0|a[0],c=8191&h,f=h>>>13,d=0|a[1],p=8191&d,v=d>>>13,m=0|a[2],g=8191&m,y=m>>>13,b=0|a[3],_=8191&b,w=b>>>13,x=0|a[4],E=8191&x,M=x>>>13,S=0|a[5],A=8191&S,k=S>>>13,T=0|a[6],R=8191&T,P=T>>>13,I=0|a[7],N=8191&I,O=I>>>13,C=0|a[8],D=8191&C,L=C>>>13,F=0|a[9],B=8191&F,U=F>>>13,G=0|s[0],j=8191&G,z=G>>>13,H=0|s[1],V=8191&H,W=H>>>13,q=0|s[2],X=8191&q,Z=q>>>13,K=0|s[3],Y=8191&K,J=K>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ht=0|s[8],ct=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,vt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(l+(n=Math.imul(c,j))|0)+((8191&(i=(i=Math.imul(c,z))+Math.imul(f,j)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(v,j)|0,o=Math.imul(v,z);var gt=(l+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,W)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,j),i=(i=Math.imul(g,z))+Math.imul(y,j)|0,o=Math.imul(y,z),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0;var yt=(l+(n=n+Math.imul(c,X)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(w,j)|0,o=Math.imul(w,z),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0;var bt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,z))+Math.imul(M,j)|0,o=Math.imul(M,z),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,J)|0;var _t=(l+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(k,j)|0,o=Math.imul(k,z),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0;var wt=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,z))+Math.imul(P,j)|0,o=Math.imul(P,z),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,W)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0;var xt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),i=(i=Math.imul(N,z))+Math.imul(O,j)|0,o=Math.imul(O,z),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0;var Et=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,lt)|0;var Mt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(U,j)|0,o=Math.imul(U,z),n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var St=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,vt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,vt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,W))+Math.imul(U,V)|0,o=Math.imul(U,W),n=n+Math.imul(D,X)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var At=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,vt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((o=o+Math.imul(v,vt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(U,X)|0,o=Math.imul(U,Z),n=n+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var kt=(l+(n=n+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,vt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,vt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,Y),i=(i=Math.imul(B,J))+Math.imul(U,Y)|0,o=Math.imul(U,J),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var Tt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,vt)|0)+Math.imul(w,pt)|0))<<13)|0;l=((o=o+Math.imul(w,vt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,lt)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Rt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,vt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,vt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ft)|0;var Pt=(l+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,vt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,vt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,vt)|0)+Math.imul(P,pt)|0))<<13)|0;l=((o=o+Math.imul(P,vt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(U,ut)|0,o=Math.imul(U,lt),n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Nt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,vt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((o=o+Math.imul(O,vt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,ct),i=(i=Math.imul(B,ft))+Math.imul(U,ct)|0,o=Math.imul(U,ft);var Ot=(l+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,vt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,vt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(l+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,vt))+Math.imul(U,pt)|0))<<13)|0;return l=((o=Math.imul(U,vt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=mt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=xt,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=At,u[11]=kt,u[12]=Tt,u[13]=Rt,u[14]=Pt,u[15]=It,u[16]=Nt,u[17]=Ot,u[18]=Ct,0!==l&&(u[19]=l,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;s=67108863&(f=f+s|0),i+=(a=(a=a+(c/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(m=v),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?v(this,t,e):r<1024?g(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var c=u,f=l,d=0;d<a;d++){var p=r[h+d],v=n[h+d],m=r[h+d+a],g=n[h+d+a],y=c*m-f*g;g=c*g+f*m,m=y,r[h+d]=p+m,n[h+d]=v+g,r[h+d+a]=p-m,n[h+d+a]=v-g,d!==s&&(y=u*c-l*f,f=u*f+l*c,c=y)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0===(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=s[d]*h[d]-u[d]*c[d];u[d]=s[d]*c[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,s&&(s.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);s&&(s.words[c]=f)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(c)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(c)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(x,w),x.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,w),i(M,w),i(S,w),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new E;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return _[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();n(m<p);var g=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==a?(a<<=1,a|=c,(4===++s||0===n&&0===h)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},29286:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(62808).Buffer}catch(T){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var l=t.charCodeAt(u)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&a<i,"Invalid character"),o+=a}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,h=r;h<s;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var c=1;for(u=l(t,h,t.length,e),h=0;h<a;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var v=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?v+r:f[l-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function v(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&a}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,l=0,h=0|a[0],c=8191&h,f=h>>>13,d=0|a[1],p=8191&d,v=d>>>13,m=0|a[2],g=8191&m,y=m>>>13,b=0|a[3],_=8191&b,w=b>>>13,x=0|a[4],E=8191&x,M=x>>>13,S=0|a[5],A=8191&S,k=S>>>13,T=0|a[6],R=8191&T,P=T>>>13,I=0|a[7],N=8191&I,O=I>>>13,C=0|a[8],D=8191&C,L=C>>>13,F=0|a[9],B=8191&F,U=F>>>13,G=0|s[0],j=8191&G,z=G>>>13,H=0|s[1],V=8191&H,W=H>>>13,q=0|s[2],X=8191&q,Z=q>>>13,K=0|s[3],Y=8191&K,J=K>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ht=0|s[8],ct=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,vt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(l+(n=Math.imul(c,j))|0)+((8191&(i=(i=Math.imul(c,z))+Math.imul(f,j)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(v,j)|0,o=Math.imul(v,z);var gt=(l+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,W)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,j),i=(i=Math.imul(g,z))+Math.imul(y,j)|0,o=Math.imul(y,z),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0;var yt=(l+(n=n+Math.imul(c,X)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(w,j)|0,o=Math.imul(w,z),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0;var bt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,z))+Math.imul(M,j)|0,o=Math.imul(M,z),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,J)|0;var _t=(l+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(k,j)|0,o=Math.imul(k,z),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0;var wt=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,z))+Math.imul(P,j)|0,o=Math.imul(P,z),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,W)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0;var xt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),i=(i=Math.imul(N,z))+Math.imul(O,j)|0,o=Math.imul(O,z),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0;var Et=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,lt)|0;var Mt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(U,j)|0,o=Math.imul(U,z),n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var St=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,vt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,vt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,W))+Math.imul(U,V)|0,o=Math.imul(U,W),n=n+Math.imul(D,X)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var At=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,vt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((o=o+Math.imul(v,vt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(U,X)|0,o=Math.imul(U,Z),n=n+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var kt=(l+(n=n+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,vt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,vt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,Y),i=(i=Math.imul(B,J))+Math.imul(U,Y)|0,o=Math.imul(U,J),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var Tt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,vt)|0)+Math.imul(w,pt)|0))<<13)|0;l=((o=o+Math.imul(w,vt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,lt)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Rt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,vt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,vt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ft)|0;var Pt=(l+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,vt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,vt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,vt)|0)+Math.imul(P,pt)|0))<<13)|0;l=((o=o+Math.imul(P,vt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(U,ut)|0,o=Math.imul(U,lt),n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Nt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,vt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((o=o+Math.imul(O,vt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,ct),i=(i=Math.imul(B,ft))+Math.imul(U,ct)|0,o=Math.imul(U,ft);var Ot=(l+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,vt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,vt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(l+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,vt))+Math.imul(U,pt)|0))<<13)|0;return l=((o=Math.imul(U,vt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=mt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=xt,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=At,u[11]=kt,u[12]=Tt,u[13]=Rt,u[14]=Pt,u[15]=It,u[16]=Nt,u[17]=Ot,u[18]=Ct,0!==l&&(u[19]=l,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;s=67108863&(f=f+s|0),i+=(a=(a=a+(c/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(m=v),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?v(this,t,e):r<1024?g(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var c=u,f=l,d=0;d<a;d++){var p=r[h+d],v=n[h+d],m=r[h+d+a],g=n[h+d+a],y=c*m-f*g;g=c*g+f*m,m=y,r[h+d]=p+m,n[h+d]=v+g,r[h+d+a]=p-m,n[h+d+a]=v-g,d!==s&&(y=u*c-l*f,f=u*f+l*c,c=y)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0===(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=s[d]*h[d]-u[d]*c[d];u[d]=s[d]*c[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,s&&(s.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);s&&(s.words[c]=f)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(c)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(c)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(x,w),x.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,w),i(M,w),i(S,w),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new E;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return _[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();n(m<p);var g=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==a?(a<<=1,a|=c,(4===++s||0===n&&0===h)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},80226:function(t){"use strict";t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mustBeMetaMask,r=void 0!==e&&e,n=t.silent,i=void 0!==n&&n,o=t.timeout,a=void 0===o?3e3:o;u();var s=!1;return new Promise((function(t){function e(){if(!s){s=!0,window.removeEventListener("ethereum#initialized",e);var n=window.ethereum;if(!n||r&&!n.isMetaMask){var o=r&&n?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!i&&console.error("@metamask/detect-provider:",o),t(null)}else t(n)}}window.ethereum?e():(window.addEventListener("ethereum#initialized",e,{once:!0}),setTimeout((function(){e()}),a))}));function u(){if("boolean"!==typeof r)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!==typeof i)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!==typeof a)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}},25810:function(t){"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,a){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||t,a),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,l,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,i),!0;case 5:return h.fn.call(h.context,e,n,i,o),!0;case 6:return h.fn.call(h.context,e,n,i,o,a),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,n);break;case 4:h[l].fn.call(h[l].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},s.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},s.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},s.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,l=[],h=s.length;u<h;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s},30468:function(t){"use strict";!function(e){function r(t){return parseInt(t)===t}function n(t){if(!r(t.length))return!1;for(var e=0;e<t.length;e++)if(!r(t[e])||t[e]<0||t[e]>255)return!1;return!0}function i(t,e){if(t.buffer&&ArrayBuffer.isView(t)&&"Uint8Array"===t.name)return e&&(t=t.slice?t.slice():Array.prototype.slice.call(t)),t;if(Array.isArray(t)){if(!n(t))throw new Error("Array contains invalid value: "+t);return new Uint8Array(t)}if(r(t.length)&&n(t))return new Uint8Array(t);throw new Error("unsupported array-like object")}function o(t){return new Uint8Array(t)}function a(t,e,r,n,i){null==n&&null==i||(t=t.slice?t.slice(n,i):Array.prototype.slice.call(t,n,i)),e.set(t,r)}var s={toBytes:function(t){var e=[],r=0;for(t=encodeURI(t);r<t.length;){var n=t.charCodeAt(r++);37===n?(e.push(parseInt(t.substr(r,2),16)),r+=2):e.push(n)}return i(e)},fromBytes:function(t){for(var e=[],r=0;r<t.length;){var n=t[r];n<128?(e.push(String.fromCharCode(n)),r++):n>191&&n<224?(e.push(String.fromCharCode((31&n)<<6|63&t[r+1])),r+=2):(e.push(String.fromCharCode((15&n)<<12|(63&t[r+1])<<6|63&t[r+2])),r+=3)}return e.join("")}},u=function(){var t="0123456789abcdef";return{toBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},fromBytes:function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n];r.push(t[(240&i)>>4]+t[15&i])}return r.join("")}}}(),l={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],c=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],d=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],v=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],m=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],g=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],y=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],b=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],w=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],x=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],E=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],M=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function S(t){for(var e=[],r=0;r<t.length;r+=4)e.push(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]);return e}var A=function t(e){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};A.prototype._prepare=function(){var t=l[this.key.length];if(null==t)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var e=0;e<=t;e++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(t+1),i=this.key.length/4,o=S(this.key);for(e=0;e<i;e++)r=e>>2,this._Ke[r][e%4]=o[e],this._Kd[t-r][e%4]=o[e];for(var a,s=0,u=i;u<n;){if(a=o[i-1],o[0]^=c[a>>16&255]<<24^c[a>>8&255]<<16^c[255&a]<<8^c[a>>24&255]^h[s]<<24,s+=1,8!=i)for(e=1;e<i;e++)o[e]^=o[e-1];else{for(e=1;e<i/2;e++)o[e]^=o[e-1];a=o[i/2-1],o[i/2]^=c[255&a]^c[a>>8&255]<<8^c[a>>16&255]<<16^c[a>>24&255]<<24;for(e=i/2+1;e<i;e++)o[e]^=o[e-1]}for(e=0;e<i&&u<n;)f=u>>2,d=u%4,this._Ke[f][d]=o[e],this._Kd[t-f][d]=o[e++],u++}for(var f=1;f<t;f++)for(var d=0;d<4;d++)a=this._Kd[f][d],this._Kd[f][d]=w[a>>24&255]^x[a>>16&255]^E[a>>8&255]^M[255&a]},A.prototype.encrypt=function(t){if(16!=t.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var e=this._Ke.length-1,r=[0,0,0,0],n=S(t),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var a=1;a<e;a++){for(i=0;i<4;i++)r[i]=d[n[i]>>24&255]^p[n[(i+1)%4]>>16&255]^v[n[(i+2)%4]>>8&255]^m[255&n[(i+3)%4]]^this._Ke[a][i];n=r.slice()}var s,u=o(16);for(i=0;i<4;i++)s=this._Ke[e][i],u[4*i]=255&(c[n[i]>>24&255]^s>>24),u[4*i+1]=255&(c[n[(i+1)%4]>>16&255]^s>>16),u[4*i+2]=255&(c[n[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(c[255&n[(i+3)%4]]^s);return u},A.prototype.decrypt=function(t){if(16!=t.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var e=this._Kd.length-1,r=[0,0,0,0],n=S(t),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var a=1;a<e;a++){for(i=0;i<4;i++)r[i]=g[n[i]>>24&255]^y[n[(i+3)%4]>>16&255]^b[n[(i+2)%4]>>8&255]^_[255&n[(i+1)%4]]^this._Kd[a][i];n=r.slice()}var s,u=o(16);for(i=0;i<4;i++)s=this._Kd[e][i],u[4*i]=255&(f[n[i]>>24&255]^s>>24),u[4*i+1]=255&(f[n[(i+3)%4]>>16&255]^s>>16),u[4*i+2]=255&(f[n[(i+2)%4]>>8&255]^s>>8),u[4*i+3]=255&(f[255&n[(i+1)%4]]^s);return u};var k=function t(e){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new A(e)};k.prototype.encrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=o(t.length),r=o(16),n=0;n<t.length;n+=16)a(t,r,0,n,n+16),a(r=this._aes.encrypt(r),e,n);return e},k.prototype.decrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=o(t.length),r=o(16),n=0;n<t.length;n+=16)a(t,r,0,n,n+16),a(r=this._aes.decrypt(r),e,n);return e};var T=function t(e,r){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=o(16);this._lastCipherblock=i(r,!0),this._aes=new A(e)};T.prototype.encrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var e=o(t.length),r=o(16),n=0;n<t.length;n+=16){a(t,r,0,n,n+16);for(var s=0;s<16;s++)r[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(r),a(this._lastCipherblock,e,n)}return e},T.prototype.decrypt=function(t){if((t=i(t)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var e=o(t.length),r=o(16),n=0;n<t.length;n+=16){a(t,r,0,n,n+16),r=this._aes.decrypt(r);for(var s=0;s<16;s++)e[n+s]=r[s]^this._lastCipherblock[s];a(t,this._lastCipherblock,0,n,n+16)}return e};var R=function t(e,r,n){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 size)")}else r=o(16);n||(n=1),this.segmentSize=n,this._shiftRegister=i(r,!0),this._aes=new A(e)};R.prototype.encrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var e,r=i(t,!0),n=0;n<r.length;n+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=e[o];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},R.prototype.decrypt=function(t){if(t.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var e,r=i(t,!0),n=0;n<r.length;n+=this.segmentSize){e=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=e[o];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(t,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var P=function t(e,r){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",r){if(16!=r.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else r=o(16);this._lastPrecipher=i(r,!0),this._lastPrecipherIndex=16,this._aes=new A(e)};P.prototype.encrypt=function(t){for(var e=i(t,!0),r=0;r<e.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),e[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return e},P.prototype.decrypt=P.prototype.encrypt;var I=function t(e){if(!(this instanceof t))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"===typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};I.prototype.setValue=function(t){if("number"!==typeof t||parseInt(t)!=t)throw new Error("invalid counter value (must be an integer)");for(var e=15;e>=0;--e)this._counter[e]=t%256,t>>=8},I.prototype.setBytes=function(t){if(16!=(t=i(t,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=t},I.prototype.increment=function(){for(var t=15;t>=0;t--){if(255!==this._counter[t]){this._counter[t]++;break}this._counter[t]=0}};var N=function t(e,r){if(!(this instanceof t))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",r instanceof I||(r=new I(r)),this._counter=r,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new A(e)};N.prototype.encrypt=function(t){for(var e=i(t,!0),r=0;r<e.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),e[r]^=this._remainingCounter[this._remainingCounterIndex++];return e},N.prototype.decrypt=N.prototype.encrypt;var O={AES:A,Counter:I,ModeOfOperation:{ecb:k,cbc:T,cfb:R,ofb:P,ctr:N},utils:{hex:u,utf8:s},padding:{pkcs7:{pad:function(t){var e=16-(t=i(t,!0)).length%16,r=o(t.length+e);a(t,r);for(var n=t.length;n<r.length;n++)r[n]=e;return r},strip:function(t){if((t=i(t,!0)).length<16)throw new Error("PKCS#7 invalid length");var e=t[t.length-1];if(e>16)throw new Error("PKCS#7 padding byte out of range");for(var r=t.length-e,n=0;n<e;n++)if(t[r+n]!==e)throw new Error("PKCS#7 invalid padding byte");var s=o(r);return a(t,s,0,0,r),s}}},_arrayTest:{coerceArray:i,createArray:o,copyArray:a}};t.exports=O}()},74569:function(t,e,r){t.exports=r(28036)},73381:function(t,e,r){"use strict";var n=r(33589),i=r(47297),o=r(29301),a=r(39774),s=r(81804),u=r(59145),l=r(95411),h=r(96467),c=r(46789),f=r(9346);t.exports=function(t){return new Promise((function(e,r){var d,p=t.data,v=t.headers,m=t.responseType;function g(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}n.isFormData(p)&&delete v["Content-Type"];var y=new XMLHttpRequest;if(t.auth){var b=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+_)}var w=s(t.baseURL,t.url);function x(){if(y){var n="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:t,request:y};i((function(t){e(t),g()}),(function(t){r(t),g()}),o),y=null}}if(y.open(t.method.toUpperCase(),a(w,t.params,t.paramsSerializer),!0),y.timeout=t.timeout,"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(x)},y.onabort=function(){y&&(r(h("Request aborted",t,"ECONNABORTED",y)),y=null)},y.onerror=function(){r(h("Network Error",t,null,y)),y=null},y.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||c;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(h(e,t,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},n.isStandardBrowserEnv()){var E=(t.withCredentials||l(w))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;E&&(v[t.xsrfHeaderName]=E)}"setRequestHeader"in y&&n.forEach(v,(function(t,e){"undefined"===typeof p&&"content-type"===e.toLowerCase()?delete v[e]:y.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),m&&"json"!==m&&(y.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&y.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(d=function(t){y&&(r(!t||t&&t.type?new f("canceled"):t),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d))),p||(p=null),y.send(p)}))}},28036:function(t,e,r){"use strict";var n=r(33589),i=r(44049),o=r(23773),a=r(40777);var s=function t(e){var r=new o(e),s=i(o.prototype.request,r);return n.extend(s,o.prototype,r),n.extend(s,r),s.create=function(r){return t(a(e,r))},s}(r(1709));s.Axios=o,s.Cancel=r(9346),s.CancelToken=r(6857),s.isCancel=r(35517),s.VERSION=r(67600).version,s.all=function(t){return Promise.all(t)},s.spread=r(98089),s.isAxiosError=r(49580),t.exports=s,t.exports.default=s},9346:function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},6857:function(t,e,r){"use strict";var n=r(9346);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},35517:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},23773:function(t,e,r){"use strict";var n=r(33589),i=r(39774),o=r(37470),a=r(72733),s=r(40777),u=r(47835),l=u.validators;function h(t){this.defaults=t,this.interceptors={request:new o,response:new o}}h.prototype.request=function(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&u.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,h=[];if(this.interceptors.response.forEach((function(t){h.push(t.fulfilled,t.rejected)})),!i){var c=[a,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(h),o=Promise.resolve(e);c.length;)o=o.then(c.shift(),c.shift());return o}for(var f=e;n.length;){var d=n.shift(),p=n.shift();try{f=d(f)}catch(v){p(v);break}}try{o=a(f)}catch(v){return Promise.reject(v)}for(;h.length;)o=o.then(h.shift(),h.shift());return o},h.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){h.prototype[t]=function(e,r){return this.request(s(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){h.prototype[t]=function(e,r,n){return this.request(s(n||{},{method:t,url:e,data:r}))}})),t.exports=h},37470:function(t,e,r){"use strict";var n=r(33589);function i(){this.handlers=[]}i.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},81804:function(t,e,r){"use strict";var n=r(84044),i=r(79549);t.exports=function(t,e){return t&&!n(e)?i(t,e):e}},96467:function(t,e,r){"use strict";var n=r(76460);t.exports=function(t,e,r,i,o){var a=new Error(t);return n(a,e,r,i,o)}},72733:function(t,e,r){"use strict";var n=r(33589),i=r(52693),o=r(35517),a=r(1709),s=r(9346);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s("canceled")}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},76460:function(t){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},40777:function(t,e,r){"use strict";var n=r(33589);t.exports=function(t,e){e=e||{};var r={};function i(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function o(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(t[r],e[r])}function a(t){if(!n.isUndefined(e[t]))return i(void 0,e[t])}function s(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:i(void 0,t[r]):i(void 0,e[r])}function u(r){return r in e?i(t[r],e[r]):r in t?i(void 0,t[r]):void 0}var l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=l[t]||o,i=e(t);n.isUndefined(i)&&e!==u||(r[t]=i)})),r}},47297:function(t,e,r){"use strict";var n=r(96467);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},52693:function(t,e,r){"use strict";var n=r(33589),i=r(1709);t.exports=function(t,e,r){var o=this||i;return n.forEach(r,(function(r){t=r.call(o,t,e)})),t}},1709:function(t,e,r){"use strict";var n=r(33589),i=r(64341),o=r(76460),a=r(46789),s={"Content-Type":"application/x-www-form-urlencoded"};function u(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var l={transitional:a,adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(t=r(73381)),t}(),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(u(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)||e&&"application/json"===e["Content-Type"]?(u(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(e||JSON.parse)(t),n.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||l.transitional,r=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||i&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){l.headers[t]=n.merge(s)})),t.exports=l},46789:function(t){"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},67600:function(t){t.exports={version:"0.26.1"}},44049:function(t){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},39774:function(t,e,r){"use strict";var n=r(33589);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var a=[];n.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},79549:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},29301:function(t,e,r){"use strict";var n=r(33589);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},84044:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},49580:function(t,e,r){"use strict";var n=r(33589);t.exports=function(t){return n.isObject(t)&&!0===t.isAxiosError}},95411:function(t,e,r){"use strict";var n=r(33589);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},64341:function(t,e,r){"use strict";var n=r(33589);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},59145:function(t,e,r){"use strict";var n=r(33589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,a={};return t?(n.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}})),a):a}},98089:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},47835:function(t,e,r){"use strict";var n=r(67600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var o={};i.transitional=function(t,e,r){function i(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,a){if(!1===t)throw new Error(i(n," has been removed"+(e?" in "+e:"")));return e&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,a)}},t.exports={assertOptions:function(t,e,r){if("object"!==typeof t)throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var o=n[i],a=e[o];if(a){var s=t[o],u=void 0===s||a(s,o,t);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:i}},33589:function(t,e,r){"use strict";var n=r(44049),i=Object.prototype.toString;function o(t){return Array.isArray(t)}function a(t){return"undefined"===typeof t}function s(t){return"[object ArrayBuffer]"===i.call(t)}function u(t){return null!==t&&"object"===typeof t}function l(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function h(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),o(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:s,isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"[object FormData]"===i.call(t)},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&s(t.buffer)},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:u,isPlainObject:l,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:h,isStream:function(t){return u(t)&&h(t.pipe)},isURLSearchParams:function(t){return"[object URLSearchParams]"===i.call(t)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function t(){var e={};function r(r,n){l(e[n])&&l(r)?e[n]=t(e[n],r):l(r)?e[n]=t({},r):o(r)?e[n]=r.slice():e[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return e},extend:function(t,e,r){return c(e,(function(e,i){t[i]=r&&"function"===typeof e?n(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},31360:function(t){"use strict";for(var e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<e.length;n++){var i=e.charAt(n);if(void 0!==r[i])throw new TypeError(i+" is ambiguous");r[i]=n}function o(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function a(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=o(e)^n>>5}for(e=o(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=o(e)^31&i}return e}function s(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var n=t.toLowerCase(),i=t.toUpperCase();if(t!==n&&t!==i)return"Mixed-case string "+t;var s=(t=n).lastIndexOf("1");if(-1===s)return"No separator character for "+t;if(0===s)return"Missing prefix for "+t;var u=t.slice(0,s),l=t.slice(s+1);if(l.length<6)return"Data too short";var h=a(u);if("string"===typeof h)return h;for(var c=[],f=0;f<l.length;++f){var d=l.charAt(f),p=r[d];if(void 0===p)return"Unknown character "+d;h=o(h)^p,f+6>=l.length||c.push(p)}return 1!==h?"Invalid checksum for "+t:{prefix:u,words:c}}function u(t,e,r,n){for(var i=0,o=0,a=(1<<r)-1,s=[],u=0;u<t.length;++u)for(i=i<<e|t[u],o+=e;o>=r;)o-=r,s.push(i>>o&a);if(n)o>0&&s.push(i<<r-o&a);else{if(o>=e)return"Excess padding";if(i<<r-o&a)return"Non-zero padding"}return s}t.exports={decodeUnsafe:function(){var t=s.apply(null,arguments);if("object"===typeof t)return t},decode:function(t){var e=s.apply(null,arguments);if("object"===typeof e)return e;throw new Error(e)},encode:function(t,r,n){if(n=n||90,t.length+7+r.length>n)throw new TypeError("Exceeds length limit");var i=a(t=t.toLowerCase());if("string"===typeof i)throw new Error(i);for(var s=t+"1",u=0;u<r.length;++u){var l=r[u];if(l>>5!==0)throw new Error("Non 5-bit word");i=o(i)^l,s+=e.charAt(l)}for(u=0;u<6;++u)i=o(i);for(i^=1,u=0;u<6;++u){s+=e.charAt(i>>5*(5-u)&31)}return s},toWordsUnsafe:function(t){var e=u(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=u(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=u(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=u(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}}},80518:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(46601).Buffer}catch(S){}function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,h=r;h<s;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var c=1;for(u=l(t,h,t.length,e),h=0;h<a;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&a}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=c[t],d=f[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?v+r:h[l-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n("undefined"!==typeof a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,l=new t(o),h=this.clone();if(u){for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),l[s]=a;for(;s<o;s++)l[s]=0}else{for(s=0;s<o-i;s++)l[s]=0;for(s=0;!h.isZero();s++)a=h.andln(255),h.iushrn(8),l[o-s-1]=a}return l},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,l=0,h=0|a[0],c=8191&h,f=h>>>13,d=0|a[1],p=8191&d,v=d>>>13,m=0|a[2],g=8191&m,y=m>>>13,b=0|a[3],_=8191&b,w=b>>>13,x=0|a[4],E=8191&x,M=x>>>13,S=0|a[5],A=8191&S,k=S>>>13,T=0|a[6],R=8191&T,P=T>>>13,I=0|a[7],N=8191&I,O=I>>>13,C=0|a[8],D=8191&C,L=C>>>13,F=0|a[9],B=8191&F,U=F>>>13,G=0|s[0],j=8191&G,z=G>>>13,H=0|s[1],V=8191&H,W=H>>>13,q=0|s[2],X=8191&q,Z=q>>>13,K=0|s[3],Y=8191&K,J=K>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ht=0|s[8],ct=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,vt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(l+(n=Math.imul(c,j))|0)+((8191&(i=(i=Math.imul(c,z))+Math.imul(f,j)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(v,j)|0,o=Math.imul(v,z);var gt=(l+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,W)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,j),i=(i=Math.imul(g,z))+Math.imul(y,j)|0,o=Math.imul(y,z),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0;var yt=(l+(n=n+Math.imul(c,X)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(w,j)|0,o=Math.imul(w,z),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0;var bt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,z))+Math.imul(M,j)|0,o=Math.imul(M,z),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,J)|0;var _t=(l+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(k,j)|0,o=Math.imul(k,z),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0;var wt=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,z))+Math.imul(P,j)|0,o=Math.imul(P,z),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,W)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0;var xt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),i=(i=Math.imul(N,z))+Math.imul(O,j)|0,o=Math.imul(O,z),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0;var Et=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,lt)|0;var Mt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(U,j)|0,o=Math.imul(U,z),n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var St=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,vt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,vt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,W))+Math.imul(U,V)|0,o=Math.imul(U,W),n=n+Math.imul(D,X)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var At=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,vt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((o=o+Math.imul(v,vt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(U,X)|0,o=Math.imul(U,Z),n=n+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var kt=(l+(n=n+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,vt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,vt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,Y),i=(i=Math.imul(B,J))+Math.imul(U,Y)|0,o=Math.imul(U,J),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var Tt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,vt)|0)+Math.imul(w,pt)|0))<<13)|0;l=((o=o+Math.imul(w,vt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,lt)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Rt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,vt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,vt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ft)|0;var Pt=(l+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,vt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,vt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,vt)|0)+Math.imul(P,pt)|0))<<13)|0;l=((o=o+Math.imul(P,vt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(U,ut)|0,o=Math.imul(U,lt),n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Nt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,vt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((o=o+Math.imul(O,vt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,ct),i=(i=Math.imul(B,ft))+Math.imul(U,ct)|0,o=Math.imul(U,ft);var Ot=(l+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,vt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,vt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(l+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,vt))+Math.imul(U,pt)|0))<<13)|0;return l=((o=Math.imul(U,vt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=mt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=xt,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=At,u[11]=kt,u[12]=Tt,u[13]=Rt,u[14]=Pt,u[15]=It,u[16]=Nt,u[17]=Ot,u[18]=Ct,0!==l&&(u[19]=l,r.length++),r};function v(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=d),o.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;s=67108863&(f=f+s|0),i+=(a=(a=a+(c/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):v(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},m.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var c=u,f=l,d=0;d<a;d++){var p=r[h+d],v=n[h+d],m=r[h+d+a],g=n[h+d+a],y=c*m-f*g;g=c*g+f*m,m=y,r[h+d]=p+m,n[h+d]=v+g,r[h+d+a]=p-m,n[h+d+a]=v-g,d!==s&&(y=u*c-l*f,f=u*f+l*c,c=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0===(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=s[d]*h[d]-u[d]*c[d];u[d]=s[d]*c[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"===typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,s&&(s.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);s&&(s.words[c]=f)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(c)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(c)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new E(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){E.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(b,y),b.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(_,y),i(w,y),i(x,y),x.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new _;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new x}return g[t]=e,e},E.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},E.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},E.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();n(m<p);var g=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return f},E.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},E.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==a?(a<<=1,a|=c,(4===++s||0===n&&0===h)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},E.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},E.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new M(t)},i(M,E),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},55225:function(t,e,r){var n=r(36433);t.exports=n},47851:function(t,e,r){var n=r(59072);t.exports=n},45072:function(t,e,r){var n=r(12633);t.exports=n},35343:function(t,e,r){var n=r(73784);t.exports=n},56336:function(t,e,r){var n=r(60070);t.exports=n},30619:function(t,e,r){var n=r(1323);t.exports=n},13979:function(t,e,r){var n=r(68522);t.exports=n},13095:function(t,e,r){var n=r(61973);t.exports=n},78965:function(t,e,r){var n=r(68597);t.exports=n},60297:function(t,e,r){var n=r(5162);t.exports=n},86284:function(t,e,r){var n=r(37931);t.exports=n},28291:function(t,e,r){var n=r(28483);t.exports=n},12493:function(t,e,r){var n=r(67788);t.exports=n},79956:function(t,e,r){var n=r(8561);t.exports=n},57447:function(t,e,r){var n=r(37204);t.exports=n},97329:function(t,e,r){var n=r(86863);t.exports=n},63446:function(t,e,r){var n=r(74944);t.exports=n},38087:function(t,e,r){r(25360),r(7199);var n=r(20983);t.exports=n.Array.from},43314:function(t,e,r){r(36751);var n=r(20983);t.exports=n.Array.isArray},95629:function(t,e,r){r(4665);var n=r(72802);t.exports=n("Array").concat},16672:function(t,e,r){r(66282),r(27917);var n=r(72802);t.exports=n("Array").entries},97176:function(t,e,r){r(7569);var n=r(72802);t.exports=n("Array").every},64346:function(t,e,r){r(71028);var n=r(72802);t.exports=n("Array").filter},46297:function(t,e,r){r(70806);var n=r(72802);t.exports=n("Array").find},45475:function(t,e,r){r(18578);var n=r(72802);t.exports=n("Array").forEach},62276:function(t,e,r){r(37152);var n=r(72802);t.exports=n("Array").includes},37802:function(t,e,r){r(84488);var n=r(72802);t.exports=n("Array").indexOf},61700:function(t,e,r){r(66282),r(27917);var n=r(72802);t.exports=n("Array").keys},2916:function(t,e,r){r(89182);var n=r(72802);t.exports=n("Array").map},13200:function(t,e,r){r(25780);var n=r(72802);t.exports=n("Array").reduce},33454:function(t,e,r){r(51388);var n=r(72802);t.exports=n("Array").slice},86136:function(t,e,r){r(22288);var n=r(72802);t.exports=n("Array").sort},92797:function(t,e,r){r(62925);var n=r(72802);t.exports=n("Array").splice},70049:function(t,e,r){r(66282),r(27917);var n=r(72802);t.exports=n("Array").values},62653:function(t,e,r){r(42474);var n=r(72802);t.exports=n("Function").bind},52288:function(t,e,r){r(66282),r(25360);var n=r(17137);t.exports=n},68067:function(t,e,r){var n=r(54765),i=r(62653),o=Function.prototype;t.exports=function(t){var e=t.bind;return t===o||n(o,t)&&e===o.bind?i:e}},57512:function(t,e,r){var n=r(54765),i=r(95629),o=Array.prototype;t.exports=function(t){var e=t.concat;return t===o||n(o,t)&&e===o.concat?i:e}},94443:function(t,e,r){var n=r(54765),i=r(97176),o=Array.prototype;t.exports=function(t){var e=t.every;return t===o||n(o,t)&&e===o.every?i:e}},35267:function(t,e,r){var n=r(54765),i=r(64346),o=Array.prototype;t.exports=function(t){var e=t.filter;return t===o||n(o,t)&&e===o.filter?i:e}},1283:function(t,e,r){var n=r(54765),i=r(46297),o=Array.prototype;t.exports=function(t){var e=t.find;return t===o||n(o,t)&&e===o.find?i:e}},96061:function(t,e,r){var n=r(54765),i=r(62276),o=r(53239),a=Array.prototype,s=String.prototype;t.exports=function(t){var e=t.includes;return t===a||n(a,t)&&e===a.includes?i:"string"==typeof t||t===s||n(s,t)&&e===s.includes?o:e}},53253:function(t,e,r){var n=r(54765),i=r(37802),o=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===o||n(o,t)&&e===o.indexOf?i:e}},54494:function(t,e,r){var n=r(54765),i=r(2916),o=Array.prototype;t.exports=function(t){var e=t.map;return t===o||n(o,t)&&e===o.map?i:e}},35909:function(t,e,r){var n=r(54765),i=r(2267),o=String.prototype;t.exports=function(t){var e=t.padStart;return"string"==typeof t||t===o||n(o,t)&&e===o.padStart?i:e}},61845:function(t,e,r){var n=r(54765),i=r(13200),o=Array.prototype;t.exports=function(t){var e=t.reduce;return t===o||n(o,t)&&e===o.reduce?i:e}},10654:function(t,e,r){var n=r(54765),i=r(33454),o=Array.prototype;t.exports=function(t){var e=t.slice;return t===o||n(o,t)&&e===o.slice?i:e}},35673:function(t,e,r){var n=r(54765),i=r(86136),o=Array.prototype;t.exports=function(t){var e=t.sort;return t===o||n(o,t)&&e===o.sort?i:e}},8839:function(t,e,r){var n=r(54765),i=r(92797),o=Array.prototype;t.exports=function(t){var e=t.splice;return t===o||n(o,t)&&e===o.splice?i:e}},63208:function(t,e,r){var n=r(54765),i=r(11489),o=String.prototype;t.exports=function(t){var e=t.startsWith;return"string"==typeof t||t===o||n(o,t)&&e===o.startsWith?i:e}},51429:function(t,e,r){var n=r(54765),i=r(41655),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||n(o,t)&&e===o.trim?i:e}},56945:function(t,e,r){r(7165);var n=r(20983),i=r(34680);n.JSON||(n.JSON={stringify:JSON.stringify}),t.exports=function(t,e,r){return i(n.JSON.stringify,null,arguments)}},71916:function(t,e,r){r(66282),r(78147),r(27917),r(25360);var n=r(20983);t.exports=n.Map},80510:function(t,e,r){r(69425);var n=r(20983);t.exports=n.Number.isInteger},31314:function(t,e,r){r(83837);var n=r(20983);t.exports=n.Number.isNaN},16182:function(t,e,r){r(51814);var n=r(20983).Object;t.exports=function(t,e){return n.create(t,e)}},88058:function(t,e,r){r(86713);var n=r(20983).Object,i=t.exports=function(t,e){return n.defineProperties(t,e)};n.defineProperties.sham&&(i.sham=!0)},79730:function(t,e,r){r(79768);var n=r(20983).Object,i=t.exports=function(t,e,r){return n.defineProperty(t,e,r)};n.defineProperty.sham&&(i.sham=!0)},93400:function(t,e,r){r(2524);var n=r(20983);t.exports=n.Object.entries},5995:function(t,e,r){r(76197);var n=r(20983);t.exports=n.Object.freeze},72165:function(t,e,r){r(51893);var n=r(20983).Object,i=t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)};n.getOwnPropertyDescriptor.sham&&(i.sham=!0)},56637:function(t,e,r){r(39753);var n=r(20983);t.exports=n.Object.getOwnPropertyDescriptors},46057:function(t,e,r){r(79526);var n=r(20983);t.exports=n.Object.getOwnPropertySymbols},40073:function(t,e,r){r(77859);var n=r(20983);t.exports=n.Object.getPrototypeOf},47502:function(t,e,r){r(23169);var n=r(20983);t.exports=n.Object.keys},8021:function(t,e,r){r(50541);var n=r(20983);t.exports=n.Object.setPrototypeOf},29788:function(t,e,r){r(91946);var n=r(20983);t.exports=n.Object.values},87346:function(t,e,r){r(54520);var n=r(20983);t.exports=n.parseInt},22284:function(t,e,r){r(20673),r(66282),r(27917),r(75393),r(75232),r(62029),r(6088),r(25360);var n=r(20983);t.exports=n.Promise},5893:function(t,e,r){r(54493);var n=r(20983);t.exports=n.Reflect.construct},90955:function(t,e,r){r(55447);var n=r(20983);t.exports=n.Reflect.get},18882:function(t,e,r){r(66282),r(27917),r(85582),r(25360);var n=r(20983);t.exports=n.Set},53239:function(t,e,r){r(18228);var n=r(72802);t.exports=n("String").includes},2267:function(t,e,r){r(21813);var n=r(72802);t.exports=n("String").padStart},11489:function(t,e,r){r(55931);var n=r(72802);t.exports=n("String").startsWith},41655:function(t,e,r){r(71378);var n=r(72802);t.exports=n("String").trim},28009:function(t,e,r){r(4665),r(27917),r(79526),r(48594),r(64693),r(95654),r(60878),r(3087),r(91356),r(81214),r(89014),r(73763),r(91990),r(23836),r(46782),r(42774),r(83755),r(49311),r(87305),r(28979);var n=r(20983);t.exports=n.Symbol},11451:function(t,e,r){r(66282),r(27917),r(25360),r(3087);var n=r(22334);t.exports=n.f("iterator")},65842:function(t,e,r){r(56339),r(89014),r(62687);var n=r(22334);t.exports=n.f("replace")},23583:function(t,e,r){r(66282),r(27917),r(16823);var n=r(20983);t.exports=n.WeakMap},20544:function(t,e,r){var n=r(55225);t.exports=n},4753:function(t,e,r){var n=r(47851);t.exports=n},28488:function(t,e,r){var n=r(45072);t.exports=n},60326:function(t,e,r){var n=r(35343);t.exports=n},11318:function(t,e,r){var n=r(56336);t.exports=n},87109:function(t,e,r){var n=r(30619);t.exports=n},14497:function(t,e,r){var n=r(13979);r(35409),r(44028),r(38795),r(75570),r(14052),r(79010),r(50241),r(48090),r(3751),r(8068),r(90678),r(97091),r(94430),r(2656),r(52126),r(57097),r(87860),r(95751),r(95886),r(25302),t.exports=n},44680:function(t,e,r){var n=r(13095);t.exports=n},52772:function(t,e,r){var n=r(78965);t.exports=n},26955:function(t,e,r){var n=r(60297);t.exports=n},67686:function(t,e,r){var n=r(86284);t.exports=n},73428:function(t,e,r){var n=r(28291);t.exports=n},99779:function(t,e,r){var n=r(12493);r(63702),r(48361),r(57170),r(68839),t.exports=n},34426:function(t,e,r){var n=r(79956);t.exports=n},39073:function(t,e,r){var n=r(57447);t.exports=n},47164:function(t,e,r){var n=r(97329);r(45032),r(71922),r(34329),r(66029),r(61650),r(49286),r(29907),t.exports=n},52165:function(t,e,r){var n=r(63446);t.exports=n},19473:function(t,e,r){var n=r(84724),i=r(57589),o=r(3431),a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},48041:function(t,e,r){var n=r(84724),i=r(40620),o=r(3431),a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a constructor")}},14018:function(t,e,r){var n=r(84724),i=r(57589),o=n.String,a=n.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},10351:function(t){t.exports=function(){}},41331:function(t,e,r){var n=r(84724),i=r(54765),o=n.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},9427:function(t,e,r){var n=r(84724),i=r(73419),o=n.String,a=n.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},96738:function(t,e,r){var n=r(23998);t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},39820:function(t,e,r){"use strict";var n=r(72770).forEach,i=r(20995)("forEach");t.exports=i?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},31791:function(t,e,r){"use strict";var n=r(84724),i=r(50790),o=r(68647),a=r(91265),s=r(93497),u=r(85219),l=r(40620),h=r(64440),c=r(87401),f=r(9817),d=r(17137),p=n.Array;t.exports=function(t){var e=a(t),r=l(this),n=arguments.length,v=n>1?arguments[1]:void 0,m=void 0!==v;m&&(v=i(v,n>2?arguments[2]:void 0));var g,y,b,_,w,x,E=d(e),M=0;if(!E||this==p&&u(E))for(g=h(e),y=r?new this(g):p(g);g>M;M++)x=m?v(e[M],M):e[M],c(y,M,x);else for(w=(_=f(e,E)).next,y=r?new this:[];!(b=o(w,_)).done;M++)x=m?s(_,v,[b.value,M],!0):b.value,c(y,M,x);return y.length=M,y}},9302:function(t,e,r){var n=r(78179),i=r(21462),o=r(64440),a=function(t){return function(e,r,a){var s,u=n(e),l=o(u),h=i(a,l);if(t&&r!=r){for(;l>h;)if((s=u[h++])!=s)return!0}else for(;l>h;h++)if((t||h in u)&&u[h]===r)return t||h||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},72770:function(t,e,r){var n=r(50790),i=r(44188),o=r(92916),a=r(91265),s=r(64440),u=r(92288),l=i([].push),h=function(t){var e=1==t,r=2==t,i=3==t,h=4==t,c=6==t,f=7==t,d=5==t||c;return function(p,v,m,g){for(var y,b,_=a(p),w=o(_),x=n(v,m),E=s(w),M=0,S=g||u,A=e?S(p,E):r||f?S(p,0):void 0;E>M;M++)if((d||M in w)&&(b=x(y=w[M],M,_),t))if(e)A[M]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return M;case 2:l(A,y)}else switch(t){case 4:return!1;case 7:l(A,y)}return c?-1:i||h?h:A}};t.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},70882:function(t,e,r){var n=r(23998),i=r(98907),o=r(75561),a=i("species");t.exports=function(t){return o>=51||!n((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},20995:function(t,e,r){"use strict";var n=r(23998);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},2116:function(t,e,r){var n=r(84724),i=r(19473),o=r(91265),a=r(92916),s=r(64440),u=n.TypeError,l=function(t){return function(e,r,n,l){i(r);var h=o(e),c=a(h),f=s(h),d=t?f-1:0,p=t?-1:1;if(n<2)for(;;){if(d in c){l=c[d],d+=p;break}if(d+=p,t?d<0:f<=d)throw u("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=p)d in c&&(l=r(l,c[d],d,h));return l}};t.exports={left:l(!1),right:l(!0)}},44369:function(t,e,r){var n=r(84724),i=r(21462),o=r(64440),a=r(87401),s=n.Array,u=Math.max;t.exports=function(t,e,r){for(var n=o(t),l=i(e,n),h=i(void 0===r?n:r,n),c=s(u(h-l,0)),f=0;l<h;l++,f++)a(c,f,t[l]);return c.length=f,c}},46372:function(t,e,r){var n=r(44188);t.exports=n([].slice)},40065:function(t,e,r){var n=r(44369),i=Math.floor,o=function(t,e){for(var r,n,i=t.length,o=1;o<i;){for(n=o,r=t[o];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==o++&&(t[n]=r)}return t},a=function(t,e,r,n){for(var i=e.length,o=r.length,a=0,s=0;a<i||s<o;)t[a+s]=a<i&&s<o?n(e[a],r[s])<=0?e[a++]:r[s++]:a<i?e[a++]:r[s++];return t};t.exports=function t(e,r){var s=e.length,u=i(s/2);return s<8?o(e,r):a(e,t(n(e,0,u),r),t(n(e,u),r),r)}},48001:function(t,e,r){var n=r(84724),i=r(56078),o=r(40620),a=r(73419),s=r(98907)("species"),u=n.Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(o(e)&&(e===u||i(e.prototype))||a(e)&&null===(e=e[s]))&&(e=void 0)),void 0===e?u:e}},92288:function(t,e,r){var n=r(48001);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},93497:function(t,e,r){var n=r(9427),i=r(2960);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(a){i(t,"throw",a)}}},66043:function(t,e,r){var n=r(98907)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},t(o)}catch(s){}return r}},87629:function(t,e,r){var n=r(44188),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},89829:function(t,e,r){var n=r(84724),i=r(78895),o=r(57589),a=r(87629),s=r(98907)("toStringTag"),u=n.Object,l="Arguments"==a(function(){return arguments}());t.exports=i?a:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(r){}}(e=u(t),s))?r:l?a(e):"Object"==(n=a(e))&&o(e.callee)?"Arguments":n}},32275:function(t,e,r){var n=r(44188)("".replace),i=String(Error("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,a=o.test(i);t.exports=function(t,e){if(a&&"string"==typeof t)for(;e--;)t=n(t,o,"");return t}},71423:function(t,e,r){"use strict";var n=r(68647),i=r(19473),o=r(9427);t.exports=function(){for(var t,e=o(this),r=i(e.delete),a=!0,s=0,u=arguments.length;s<u;s++)t=n(r,e,arguments[s]),a=a&&t;return!!a}},5711:function(t,e,r){"use strict";var n=r(50790),i=r(68647),o=r(19473),a=r(48041),s=r(62900),u=[].push;t.exports=function(t){var e,r,l,h,c=arguments.length,f=c>1?arguments[1]:void 0;return a(this),(e=void 0!==f)&&o(f),void 0==t?new this:(r=[],e?(l=0,h=n(f,c>2?arguments[2]:void 0),s(t,(function(t){i(u,r,h(t,l++))}))):s(t,u,{that:r}),new this(r))}},85227:function(t,e,r){"use strict";var n=r(46372);t.exports=function(){return new this(n(arguments))}},89019:function(t,e,r){"use strict";var n=r(19179).f,i=r(35599),o=r(36540),a=r(50790),s=r(41331),u=r(62900),l=r(61806),h=r(79577),c=r(68240),f=r(45901).fastKey,d=r(94546),p=d.set,v=d.getterFor;t.exports={getConstructor:function(t,e,r,l){var h=t((function(t,n){s(t,d),p(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),c||(t.size=0),void 0!=n&&u(n,t[l],{that:t,AS_ENTRIES:r})})),d=h.prototype,m=v(e),g=function(t,e,r){var n,i,o=m(t),a=y(t,e);return a?a.value=r:(o.last=a={index:i=f(e,!0),key:e,value:r,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),c?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},y=function(t,e){var r,n=m(t),i=f(e);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==e)return r};return o(d,{clear:function(){for(var t=m(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,c?t.size=0:this.size=0},delete:function(t){var e=this,r=m(e),n=y(e,t);if(n){var i=n.next,o=n.previous;delete r.index[n.index],n.removed=!0,o&&(o.next=i),i&&(i.previous=o),r.first==n&&(r.first=i),r.last==n&&(r.last=o),c?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=m(this),n=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),o(d,r?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),c&&n(d,"size",{get:function(){return m(this).size}}),h},setStrong:function(t,e,r){var n=e+" Iterator",i=v(e),o=v(n);l(t,e,(function(t,e){p(this,{type:n,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),h(e)}}},15559:function(t,e,r){"use strict";var n=r(44188),i=r(36540),o=r(45901).getWeakData,a=r(9427),s=r(73419),u=r(41331),l=r(62900),h=r(72770),c=r(25645),f=r(94546),d=f.set,p=f.getterFor,v=h.find,m=h.findIndex,g=n([].splice),y=0,b=function(t){return t.frozen||(t.frozen=new _)},_=function(){this.entries=[]},w=function(t,e){return v(t.entries,(function(t){return t[0]===e}))};_.prototype={get:function(t){var e=w(this,t);if(e)return e[1]},has:function(t){return!!w(this,t)},set:function(t,e){var r=w(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&g(this.entries,e,1),!!~e}},t.exports={getConstructor:function(t,e,r,n){var h=t((function(t,i){u(t,f),d(t,{type:e,id:y++,frozen:void 0}),void 0!=i&&l(i,t[n],{that:t,AS_ENTRIES:r})})),f=h.prototype,v=p(e),m=function(t,e,r){var n=v(t),i=o(a(e),!0);return!0===i?b(n).set(e,r):i[n.id]=r,t};return i(f,{delete:function(t){var e=v(this);if(!s(t))return!1;var r=o(t);return!0===r?b(e).delete(t):r&&c(r,e.id)&&delete r[e.id]},has:function(t){var e=v(this);if(!s(t))return!1;var r=o(t);return!0===r?b(e).has(t):r&&c(r,e.id)}}),i(f,r?{get:function(t){var e=v(this);if(s(t)){var r=o(t);return!0===r?b(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),h}}},75133:function(t,e,r){"use strict";var n=r(17834),i=r(84724),o=r(45901),a=r(23998),s=r(93540),u=r(62900),l=r(41331),h=r(57589),c=r(73419),f=r(45417),d=r(19179).f,p=r(72770).forEach,v=r(68240),m=r(94546),g=m.set,y=m.getterFor;t.exports=function(t,e,r){var m,b=-1!==t.indexOf("Map"),_=-1!==t.indexOf("Weak"),w=b?"set":"add",x=i[t],E=x&&x.prototype,M={};if(v&&h(x)&&(_||E.forEach&&!a((function(){(new x).entries().next()})))){var S=(m=e((function(e,r){g(l(e,S),{type:t,collection:new x}),void 0!=r&&u(r,e[w],{that:e,AS_ENTRIES:b})}))).prototype,A=y(t);p(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(t){var e="add"==t||"set"==t;!(t in E)||_&&"clear"==t||s(S,t,(function(r,n){var i=A(this).collection;if(!e&&_&&!c(r))return"get"==t&&void 0;var o=i[t](0===r?0:r,n);return e?this:o}))})),_||d(S,"size",{configurable:!0,get:function(){return A(this).collection.size}})}else m=r.getConstructor(e,t,b,w),o.enable();return f(m,t,!1,!0),M[t]=m,n({global:!0,forced:!0},M),_||r.setStrong(m,t,b),m}},59315:function(t,e,r){var n=r(25645),i=r(86217),o=r(34963),a=r(19179);t.exports=function(t,e,r){for(var s=i(e),u=a.f,l=o.f,h=0;h<s.length;h++){var c=s[h];n(t,c)||r&&n(r,c)||u(t,c,l(e,c))}}},41206:function(t,e,r){var n=r(98907)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(i){}}return!1}},13051:function(t,e,r){var n=r(23998);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},3690:function(t,e,r){"use strict";var n=r(76174).IteratorPrototype,i=r(35599),o=r(23898),a=r(45417),s=r(41428),u=function(){return this};t.exports=function(t,e,r,l){var h=e+" Iterator";return t.prototype=i(n,{next:o(+!l,r)}),a(t,h,!1,!0),s[h]=u,t}},93540:function(t,e,r){var n=r(68240),i=r(19179),o=r(23898);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},23898:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},87401:function(t,e,r){"use strict";var n=r(78944),i=r(19179),o=r(23898);t.exports=function(t,e,r){var a=n(e);a in t?i.f(t,a,o(0,r)):t[a]=r}},61806:function(t,e,r){"use strict";var n=r(17834),i=r(68647),o=r(47741),a=r(81958),s=r(57589),u=r(3690),l=r(79786),h=r(68333),c=r(45417),f=r(93540),d=r(8232),p=r(98907),v=r(41428),m=r(76174),g=a.PROPER,y=a.CONFIGURABLE,b=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,w=p("iterator"),x="keys",E="values",M="entries",S=function(){return this};t.exports=function(t,e,r,a,p,m,A){u(r,e,a);var k,T,R,P=function(t){if(t===p&&D)return D;if(!_&&t in O)return O[t];switch(t){case x:case E:case M:return function(){return new r(this,t)}}return function(){return new r(this)}},I=e+" Iterator",N=!1,O=t.prototype,C=O[w]||O["@@iterator"]||p&&O[p],D=!_&&C||P(p),L="Array"==e&&O.entries||C;if(L&&(k=l(L.call(new t)))!==Object.prototype&&k.next&&(o||l(k)===b||(h?h(k,b):s(k[w])||d(k,w,S)),c(k,I,!0,!0),o&&(v[I]=S)),g&&p==E&&C&&C.name!==E&&(!o&&y?f(O,"name",E):(N=!0,D=function(){return i(C,this)})),p)if(T={values:P(E),keys:m?D:P(x),entries:P(M)},A)for(R in T)(_||N||!(R in O))&&d(O,R,T[R]);else n({target:e,proto:!0,forced:_||N},T);return o&&!A||O[w]===D||d(O,w,D,{name:p}),v[e]=D,T}},14174:function(t,e,r){var n=r(20983),i=r(25645),o=r(22334),a=r(19179).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},68240:function(t,e,r){var n=r(23998);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7303:function(t,e,r){var n=r(84724),i=r(73419),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},91691:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},35774:function(t,e,r){var n=r(3086).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},47204:function(t){t.exports="object"==typeof window},69458:function(t,e,r){var n=r(3086);t.exports=/MSIE|Trident/.test(n)},79114:function(t,e,r){var n=r(3086),i=r(84724);t.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==i.Pebble},69372:function(t,e,r){var n=r(3086);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},9969:function(t,e,r){var n=r(87629),i=r(84724);t.exports="process"==n(i.process)},62583:function(t,e,r){var n=r(3086);t.exports=/web0s(?!.*chrome)/i.test(n)},3086:function(t,e,r){var n=r(85285);t.exports=n("navigator","userAgent")||""},75561:function(t,e,r){var n,i,o=r(84724),a=r(3086),s=o.process,u=o.Deno,l=s&&s.versions||u&&u.version,h=l&&l.v8;h&&(i=(n=h.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},84193:function(t,e,r){var n=r(3086).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},72802:function(t,e,r){var n=r(20983);t.exports=function(t){return n[t+"Prototype"]}},99832:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},51076:function(t,e,r){var n=r(23998),i=r(23898);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},17834:function(t,e,r){"use strict";var n=r(84724),i=r(34680),o=r(44188),a=r(57589),s=r(34963).f,u=r(67832),l=r(20983),h=r(50790),c=r(93540),f=r(25645),d=function(t){var e=function e(r,n,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var r,i,p,v,m,g,y,b,_=t.target,w=t.global,x=t.stat,E=t.proto,M=w?n:x?n[_]:(n[_]||{}).prototype,S=w?l:l[_]||c(l,_,{})[_],A=S.prototype;for(p in e)r=!u(w?p:_+(x?".":"#")+p,t.forced)&&M&&f(M,p),m=S[p],r&&(g=t.noTargetGet?(b=s(M,p))&&b.value:M[p]),v=r&&g?g:e[p],r&&typeof m==typeof v||(y=t.bind&&r?h(v,n):t.wrap&&r?d(v):E&&a(v)?o(v):v,(t.sham||v&&v.sham||m&&m.sham)&&c(y,"sham",!0),c(S,p,y),E&&(f(l,i=_+"Prototype")||c(l,i,{}),c(l[i],p,v),t.real&&A&&!A[p]&&c(A,p,v)))}},23998:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},34970:function(t,e,r){var n=r(23998);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},34680:function(t,e,r){var n=r(91376),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},50790:function(t,e,r){var n=r(44188),i=r(19473),o=r(91376),a=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},91376:function(t,e,r){var n=r(23998);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},77425:function(t,e,r){"use strict";var n=r(84724),i=r(44188),o=r(19473),a=r(73419),s=r(25645),u=r(46372),l=r(91376),h=n.Function,c=i([].concat),f=i([].join),d={},p=function(t,e,r){if(!s(d,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";d[e]=h("C,a","return new C("+f(n,",")+")")}return d[e](t,r)};t.exports=l?h.bind:function(t){var e=o(this),r=e.prototype,n=u(arguments,1),i=function(){var r=c(n,u(arguments));return this instanceof i?p(e,r.length,r):e.apply(t,r)};return a(r)&&(i.prototype=r),i}},68647:function(t,e,r){var n=r(91376),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},81958:function(t,e,r){var n=r(68240),i=r(25645),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,l=s&&(!n||n&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},44188:function(t,e,r){var n=r(91376),i=Function.prototype,o=i.bind,a=i.call,s=n&&o.bind(a,a);t.exports=n?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},85285:function(t,e,r){var n=r(20983),i=r(84724),o=r(57589),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t])||a(i[t]):n[t]&&n[t][e]||i[t]&&i[t][e]}},17137:function(t,e,r){var n=r(89829),i=r(23660),o=r(41428),a=r(98907)("iterator");t.exports=function(t){if(void 0!=t)return i(t,a)||i(t,"@@iterator")||o[n(t)]}},9817:function(t,e,r){var n=r(84724),i=r(68647),o=r(19473),a=r(9427),s=r(3431),u=r(17137),l=n.TypeError;t.exports=function(t,e){var r=arguments.length<2?u(t):e;if(o(r))return a(i(r,t));throw l(s(t)+" is not iterable")}},42874:function(t,e,r){var n=r(9817);t.exports=n},23660:function(t,e,r){var n=r(19473);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r)}},84724:function(t,e,r){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},25645:function(t,e,r){var n=r(44188),i=r(91265),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},87001:function(t){t.exports={}},21174:function(t,e,r){var n=r(84724);t.exports=function(t,e){var r=n.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}},48719:function(t,e,r){var n=r(85285);t.exports=n("document","documentElement")},18:function(t,e,r){var n=r(68240),i=r(23998),o=r(7303);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},92916:function(t,e,r){var n=r(84724),i=r(44188),o=r(23998),a=r(87629),s=n.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},85033:function(t,e,r){var n=r(44188),i=r(57589),o=r(75358),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},68828:function(t,e,r){var n=r(73419),i=r(93540);t.exports=function(t,e){n(e)&&"cause"in e&&i(t,"cause",e.cause)}},45901:function(t,e,r){var n=r(17834),i=r(44188),o=r(87001),a=r(73419),s=r(25645),u=r(19179).f,l=r(22523),h=r(82088),c=r(13292),f=r(90123),d=r(34970),p=!1,v=f("meta"),m=0,g=function(t){u(t,v,{value:{objectID:"O"+m++,weakData:{}}})},y=t.exports={enable:function(){y.enable=function(){},p=!0;var t=l.f,e=i([].splice),r={};r[v]=1,t(r).length&&(l.f=function(r){for(var n=t(r),i=0,o=n.length;i<o;i++)if(n[i]===v){e(n,i,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:h.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,v)){if(!c(t))return"F";if(!e)return"E";g(t)}return t[v].objectID},getWeakData:function(t,e){if(!s(t,v)){if(!c(t))return!0;if(!e)return!1;g(t)}return t[v].weakData},onFreeze:function(t){return d&&p&&c(t)&&!s(t,v)&&g(t),t}};o[v]=!0},94546:function(t,e,r){var n,i,o,a=r(65351),s=r(84724),u=r(44188),l=r(73419),h=r(93540),c=r(25645),f=r(75358),d=r(5503),p=r(87001),v="Object already initialized",m=s.TypeError,g=s.WeakMap;if(a||f.state){var y=f.state||(f.state=new g),b=u(y.get),_=u(y.has),w=u(y.set);n=function(t,e){if(_(y,t))throw new m(v);return e.facade=t,w(y,t,e),e},i=function(t){return b(y,t)||{}},o=function(t){return _(y,t)}}else{var x=d("state");p[x]=!0,n=function(t,e){if(c(t,x))throw new m(v);return e.facade=t,h(t,x,e),e},i=function(t){return c(t,x)?t[x]:{}},o=function(t){return c(t,x)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!l(e)||(r=i(e)).type!==t)throw m("Incompatible receiver, "+t+" required");return r}}}},85219:function(t,e,r){var n=r(98907),i=r(41428),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},56078:function(t,e,r){var n=r(87629);t.exports=Array.isArray||function(t){return"Array"==n(t)}},57589:function(t){t.exports=function(t){return"function"==typeof t}},40620:function(t,e,r){var n=r(44188),i=r(23998),o=r(57589),a=r(89829),s=r(85285),u=r(85033),l=function(){},h=[],c=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,d=n(f.exec),p=!f.exec(l),v=function(t){if(!o(t))return!1;try{return c(l,h,t),!0}catch(e){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!d(f,u(t))}catch(e){return!0}};m.sham=!0,t.exports=!c||i((function(){var t;return v(v.call)||!v(Object)||!v((function(){t=!0}))||t}))?m:v},89773:function(t,e,r){var n=r(25645);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},67832:function(t,e,r){var n=r(23998),i=r(57589),o=/#|\.prototype\./,a=function(t,e){var r=u[s(t)];return r==h||r!=l&&(i(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},l=a.NATIVE="N",h=a.POLYFILL="P";t.exports=a},81515:function(t,e,r){var n=r(73419),i=Math.floor;t.exports=Number.isInteger||function(t){return!n(t)&&isFinite(t)&&i(t)===t}},73419:function(t,e,r){var n=r(57589);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},47741:function(t){t.exports=!0},94377:function(t,e,r){var n=r(73419),i=r(87629),o=r(98907)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},17802:function(t,e,r){var n=r(84724),i=r(85285),o=r(57589),a=r(54765),s=r(74194),u=n.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,u(t))}},62900:function(t,e,r){var n=r(84724),i=r(50790),o=r(68647),a=r(9427),s=r(3431),u=r(85219),l=r(64440),h=r(54765),c=r(9817),f=r(17137),d=r(2960),p=n.TypeError,v=function(t,e){this.stopped=t,this.result=e},m=v.prototype;t.exports=function(t,e,r){var n,g,y,b,_,w,x,E=r&&r.that,M=!(!r||!r.AS_ENTRIES),S=!(!r||!r.IS_ITERATOR),A=!(!r||!r.INTERRUPTED),k=i(e,E),T=function(t){return n&&d(n,"normal",t),new v(!0,t)},R=function(t){return M?(a(t),A?k(t[0],t[1],T):k(t[0],t[1])):A?k(t,T):k(t)};if(S)n=t;else{if(!(g=f(t)))throw p(s(t)+" is not iterable");if(u(g)){for(y=0,b=l(t);b>y;y++)if((_=R(t[y]))&&h(m,_))return _;return new v(!1)}n=c(t,g)}for(w=n.next;!(x=o(w,n)).done;){try{_=R(x.value)}catch(P){d(n,"throw",P)}if("object"==typeof _&&_&&h(m,_))return _}return new v(!1)}},2960:function(t,e,r){var n=r(68647),i=r(9427),o=r(23660);t.exports=function(t,e,r){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(u){s=!0,a=u}if("throw"===e)throw r;if(s)throw a;return i(a),r}},76174:function(t,e,r){"use strict";var n,i,o,a=r(23998),s=r(57589),u=r(35599),l=r(79786),h=r(8232),c=r(98907),f=r(47741),d=c("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=l(l(o)))!==Object.prototype&&(n=i):p=!0),void 0==n||a((function(){var t={};return n[d].call(t)!==t}))?n={}:f&&(n=u(n)),s(n[d])||h(n,d,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},41428:function(t){t.exports={}},64440:function(t,e,r){var n=r(83782);t.exports=function(t){return n(t.length)}},53181:function(t,e,r){"use strict";var n=r(68647),i=r(19473),o=r(9427);t.exports=function(t,e){var r=o(this),a=i(r.get),s=i(r.has),u=i(r.set),l=n(s,r,t)&&"update"in e?e.update(n(a,r,t),t,r):e.insert(t,r);return n(u,r,t,l),l}},71232:function(t,e,r){"use strict";var n=r(84724),i=r(68647),o=r(19473),a=r(57589),s=r(9427),u=n.TypeError;t.exports=function(t,e){var r,n=s(this),l=o(n.get),h=o(n.has),c=o(n.set),f=arguments.length>2?arguments[2]:void 0;if(!a(e)&&!a(f))throw u("At least one callback required");return i(h,n,t)?(r=i(l,n,t),a(e)&&(r=e(r),i(c,n,t,r))):a(f)&&(r=f(),i(c,n,t,r)),r}},12275:function(t,e,r){var n,i,o,a,s,u,l,h,c=r(84724),f=r(50790),d=r(34963).f,p=r(2016).set,v=r(69372),m=r(79114),g=r(62583),y=r(9969),b=c.MutationObserver||c.WebKitMutationObserver,_=c.document,w=c.process,x=c.Promise,E=d(c,"queueMicrotask"),M=E&&E.value;M||(n=function(){var t,e;for(y&&(t=w.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(r){throw i?a():o=void 0,r}}o=void 0,t&&t.enter()},v||y||g||!b||!_?!m&&x&&x.resolve?((l=x.resolve(void 0)).constructor=x,h=f(l.then,l),a=function(){h(n)}):y?a=function(){w.nextTick(n)}:(p=f(p,c),a=function(){p(n)}):(s=!0,u=_.createTextNode(""),new b(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),t.exports=M||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},16716:function(t,e,r){var n=r(84724);t.exports=n.Promise},93227:function(t,e,r){var n=r(75561),i=r(23998);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},85479:function(t,e,r){var n=r(23998),i=r(98907),o=r(47741),a=i("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},65351:function(t,e,r){var n=r(84724),i=r(57589),o=r(85033),a=n.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},66289:function(t,e,r){"use strict";var n=r(19473),i=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new i(t)}},96618:function(t,e,r){var n=r(62787);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},19930:function(t,e,r){var n=r(84724),i=r(94377),o=n.TypeError;t.exports=function(t){if(i(t))throw o("The method doesn't accept regular expressions");return t}},54159:function(t,e,r){var n=r(84724),i=r(23998),o=r(44188),a=r(62787),s=r(53119).trim,u=r(60563),l=n.parseInt,h=n.Symbol,c=h&&h.iterator,f=/^[+-]?0x/i,d=o(f.exec),p=8!==l(u+"08")||22!==l(u+"0x16")||c&&!i((function(){l(Object(c))}));t.exports=p?function(t,e){var r=s(a(t));return l(r,e>>>0||(d(f,r)?16:10))}:l},8956:function(t,e,r){"use strict";var n=r(68240),i=r(44188),o=r(68647),a=r(23998),s=r(84757),u=r(27772),l=r(67085),h=r(91265),c=r(92916),f=Object.assign,d=Object.defineProperty,p=i([].concat);t.exports=!f||a((function(){if(n&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),i="abcdefghijklmnopqrst";return t[r]=7,i.split("").forEach((function(t){e[t]=t})),7!=f({},t)[r]||s(f({},e)).join("")!=i}))?function(t,e){for(var r=h(t),i=arguments.length,a=1,f=u.f,d=l.f;i>a;)for(var v,m=c(arguments[a++]),g=f?p(s(m),f(m)):s(m),y=g.length,b=0;y>b;)v=g[b++],n&&!o(d,m,v)||(r[v]=m[v]);return r}:f},35599:function(t,e,r){var n,i=r(9427),o=r(75343),a=r(99832),s=r(87001),u=r(48719),l=r(7303),h=r(5503),c=h("IE_PROTO"),f=function(){},d=function(t){return"<script>"+t+"</"+"script>"},p=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}v="undefined"!=typeof document?document.domain&&n?p(n):function(){var t,e=l("iframe");return e.style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F}():p(n);for(var t=a.length;t--;)delete v.prototype[a[t]];return v()};s[c]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(f.prototype=i(t),r=new f,f.prototype=null,r[c]=t):r=v(),void 0===e?r:o.f(r,e)}},75343:function(t,e,r){var n=r(68240),i=r(11804),o=r(19179),a=r(9427),s=r(78179),u=r(84757);e.f=n&&!i?Object.defineProperties:function(t,e){a(t);for(var r,n=s(e),i=u(e),l=i.length,h=0;l>h;)o.f(t,r=i[h++],n[r]);return t}},19179:function(t,e,r){var n=r(84724),i=r(68240),o=r(18),a=r(11804),s=r(9427),u=r(78944),l=n.TypeError,h=Object.defineProperty,c=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",p="writable";e.f=i?a?function(t,e,r){if(s(t),e=u(e),s(r),"function"===typeof t&&"prototype"===e&&"value"in r&&p in r&&!r.writable){var n=c(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:d in r?r.configurable:n.configurable,enumerable:f in r?r.enumerable:n.enumerable,writable:!1})}return h(t,e,r)}:h:function(t,e,r){if(s(t),e=u(e),s(r),o)try{return h(t,e,r)}catch(n){}if("get"in r||"set"in r)throw l("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},34963:function(t,e,r){var n=r(68240),i=r(68647),o=r(67085),a=r(23898),s=r(78179),u=r(78944),l=r(25645),h=r(18),c=Object.getOwnPropertyDescriptor;e.f=n?c:function(t,e){if(t=s(t),e=u(e),h)try{return c(t,e)}catch(r){}if(l(t,e))return a(!i(o.f,t,e),t[e])}},82088:function(t,e,r){var n=r(87629),i=r(78179),o=r(22523).f,a=r(44369),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==n(t)?function(t){try{return o(t)}catch(e){return a(s)}}(t):o(i(t))}},22523:function(t,e,r){var n=r(1955),i=r(99832).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},27772:function(t,e){e.f=Object.getOwnPropertySymbols},79786:function(t,e,r){var n=r(84724),i=r(25645),o=r(57589),a=r(91265),s=r(5503),u=r(13051),l=s("IE_PROTO"),h=n.Object,c=h.prototype;t.exports=u?h.getPrototypeOf:function(t){var e=a(t);if(i(e,l))return e[l];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof h?c:null}},13292:function(t,e,r){var n=r(23998),i=r(73419),o=r(87629),a=r(96738),s=Object.isExtensible,u=n((function(){s(1)}));t.exports=u||a?function(t){return!!i(t)&&((!a||"ArrayBuffer"!=o(t))&&(!s||s(t)))}:s},54765:function(t,e,r){var n=r(44188);t.exports=n({}.isPrototypeOf)},1955:function(t,e,r){var n=r(44188),i=r(25645),o=r(78179),a=r(9302).indexOf,s=r(87001),u=n([].push);t.exports=function(t,e){var r,n=o(t),l=0,h=[];for(r in n)!i(s,r)&&i(n,r)&&u(h,r);for(;e.length>l;)i(n,r=e[l++])&&(~a(h,r)||u(h,r));return h}},84757:function(t,e,r){var n=r(1955),i=r(99832);t.exports=Object.keys||function(t){return n(t,i)}},67085:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},68333:function(t,e,r){var n=r(44188),i=r(9427),o=r(14018);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(a){}return function(r,n){return i(r),o(n),e?t(r,n):r.__proto__=n,r}}():void 0)},5293:function(t,e,r){var n=r(68240),i=r(44188),o=r(84757),a=r(78179),s=i(r(67085).f),u=i([].push),l=function(t){return function(e){for(var r,i=a(e),l=o(i),h=l.length,c=0,f=[];h>c;)r=l[c++],n&&!s(i,r)||u(f,t?[r,i[r]]:i[r]);return f}};t.exports={entries:l(!0),values:l(!1)}},51876:function(t,e,r){"use strict";var n=r(78895),i=r(89829);t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},34686:function(t,e,r){var n=r(84724),i=r(68647),o=r(57589),a=r(73419),s=n.TypeError;t.exports=function(t,e){var r,n;if("string"===e&&o(r=t.toString)&&!a(n=i(r,t)))return n;if(o(r=t.valueOf)&&!a(n=i(r,t)))return n;if("string"!==e&&o(r=t.toString)&&!a(n=i(r,t)))return n;throw s("Can't convert object to primitive value")}},86217:function(t,e,r){var n=r(85285),i=r(44188),o=r(22523),a=r(27772),s=r(9427),u=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=a.f;return r?u(e,r(t)):e}},20983:function(t){t.exports={}},93071:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},75970:function(t,e,r){var n=r(9427),i=r(73419),o=r(66289);t.exports=function(t,e){if(n(t),i(e)&&e.constructor===t)return e;var r=o.f(t);return(0,r.resolve)(e),r.promise}},28470:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},t.exports=e},36540:function(t,e,r){var n=r(8232);t.exports=function(t,e,r){for(var i in e)r&&r.unsafe&&t[i]?t[i]=e[i]:n(t,i,e[i],r);return t}},8232:function(t,e,r){var n=r(93540);t.exports=function(t,e,r,i){i&&i.enumerable?t[e]=r:n(t,e,r)}},17914:function(t,e,r){var n=r(84724).TypeError;t.exports=function(t){if(void 0==t)throw n("Can't call method on "+t);return t}},11723:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},84066:function(t,e,r){var n=r(84724),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},79577:function(t,e,r){"use strict";var n=r(85285),i=r(19179),o=r(98907),a=r(68240),s=o("species");t.exports=function(t){var e=n(t),r=i.f;a&&e&&!e[s]&&r(e,s,{configurable:!0,get:function(){return this}})}},45417:function(t,e,r){var n=r(78895),i=r(19179).f,o=r(93540),a=r(25645),s=r(51876),u=r(98907)("toStringTag");t.exports=function(t,e,r,l){if(t){var h=r?t:t.prototype;a(h,u)||i(h,u,{configurable:!0,value:e}),l&&!n&&o(h,"toString",s)}}},5503:function(t,e,r){var n=r(70797),i=r(90123),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},75358:function(t,e,r){var n=r(84724),i=r(84066),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},70797:function(t,e,r){var n=r(47741),i=r(75358);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.20.3",mode:n?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},48284:function(t,e,r){var n=r(9427),i=r(48041),o=r(98907)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||void 0==(r=n(a)[o])?e:i(r)}},50355:function(t,e,r){var n=r(44188),i=r(78037),o=r(62787),a=r(17914),s=n("".charAt),u=n("".charCodeAt),l=n("".slice),h=function(t){return function(e,r){var n,h,c=o(a(e)),f=i(r),d=c.length;return f<0||f>=d?t?"":void 0:(n=u(c,f))<55296||n>56319||f+1===d||(h=u(c,f+1))<56320||h>57343?t?s(c,f):n:t?l(c,f,f+2):h-56320+(n-55296<<10)+65536}};t.exports={codeAt:h(!1),charAt:h(!0)}},88382:function(t,e,r){var n=r(3086);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},89964:function(t,e,r){var n=r(44188),i=r(83782),o=r(62787),a=r(85034),s=r(17914),u=n(a),l=n("".slice),h=Math.ceil,c=function(t){return function(e,r,n){var a,c,f=o(s(e)),d=i(r),p=f.length,v=void 0===n?" ":o(n);return d<=p||""==v?f:((c=u(v,h((a=d-p)/v.length))).length>a&&(c=l(c,0,a)),t?f+c:c+f)}};t.exports={start:c(!1),end:c(!0)}},78447:function(t,e,r){"use strict";var n=r(84724),i=r(44188),o=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",l=n.RangeError,h=i(s.exec),c=Math.floor,f=String.fromCharCode,d=i("".charCodeAt),p=i([].join),v=i([].push),m=i("".replace),g=i("".split),y=i("".toLowerCase),b=function(t){return t+22+75*(t<26)},_=function(t,e,r){var n=0;for(t=r?c(t/700):t>>1,t+=c(t/e);t>455;)t=c(t/35),n+=36;return c(n+36*t/(t+38))},w=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=d(t,r++);if(i>=55296&&i<=56319&&r<n){var o=d(t,r++);56320==(64512&o)?v(e,((1023&i)<<10)+(1023&o)+65536):(v(e,i),r--)}else v(e,i)}return e}(t);var r,n,i=t.length,a=128,s=0,h=72;for(r=0;r<t.length;r++)(n=t[r])<128&&v(e,f(n));var m=e.length,g=m;for(m&&v(e,"-");g<i;){var y=o;for(r=0;r<t.length;r++)(n=t[r])>=a&&n<y&&(y=n);var w=g+1;if(y-a>c((o-s)/w))throw l(u);for(s+=(y-a)*w,a=y,r=0;r<t.length;r++){if((n=t[r])<a&&++s>o)throw l(u);if(n==a){for(var x=s,E=36;;){var M=E<=h?1:E>=h+26?26:E-h;if(x<M)break;var S=x-M,A=36-M;v(e,f(b(M+S%A))),x=c(S/A),E+=36}v(e,f(b(x))),h=_(s,w,g==m),s=0,g++}}s++,a++}return p(e,"")};t.exports=function(t){var e,r,n=[],i=g(m(y(t),s,"."),".");for(e=0;e<i.length;e++)r=i[e],v(n,h(a,r)?"xn--"+w(r):r);return p(n,".")}},85034:function(t,e,r){"use strict";var n=r(84724),i=r(78037),o=r(62787),a=r(17914),s=n.RangeError;t.exports=function(t){var e=o(a(this)),r="",n=i(t);if(n<0||n==1/0)throw s("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r}},50705:function(t,e,r){var n=r(81958).PROPER,i=r(23998),o=r(60563);t.exports=function(t){return i((function(){return!!o[t]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[t]()||n&&o[t].name!==t}))}},53119:function(t,e,r){var n=r(44188),i=r(17914),o=r(62787),a=r(60563),s=n("".replace),u="["+a+"]",l=RegExp("^"+u+u+"*"),h=RegExp(u+u+"*$"),c=function(t){return function(e){var r=o(i(e));return 1&t&&(r=s(r,l,"")),2&t&&(r=s(r,h,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},2016:function(t,e,r){var n,i,o,a,s=r(84724),u=r(34680),l=r(50790),h=r(57589),c=r(25645),f=r(23998),d=r(48719),p=r(46372),v=r(7303),m=r(69372),g=r(9969),y=s.setImmediate,b=s.clearImmediate,_=s.process,w=s.Dispatch,x=s.Function,E=s.MessageChannel,M=s.String,S=0,A={},k="onreadystatechange";try{n=s.location}catch(N){}var T=function(t){if(c(A,t)){var e=A[t];delete A[t],e()}},R=function(t){return function(){T(t)}},P=function(t){T(t.data)},I=function(t){s.postMessage(M(t),n.protocol+"//"+n.host)};y&&b||(y=function(t){var e=p(arguments,1);return A[++S]=function(){u(h(t)?t:x(t),void 0,e)},i(S),S},b=function(t){delete A[t]},g?i=function(t){_.nextTick(R(t))}:w&&w.now?i=function(t){w.now(R(t))}:E&&!m?(a=(o=new E).port2,o.port1.onmessage=P,i=l(a.postMessage,a)):s.addEventListener&&h(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!f(I)?(i=I,s.addEventListener("message",P,!1)):i=k in v("script")?function(t){d.appendChild(v("script")).onreadystatechange=function(){d.removeChild(this),T(t)}}:function(t){setTimeout(R(t),0)}),t.exports={set:y,clear:b}},21462:function(t,e,r){var n=r(78037),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},78179:function(t,e,r){var n=r(92916),i=r(17914);t.exports=function(t){return n(i(t))}},78037:function(t){var e=Math.ceil,r=Math.floor;t.exports=function(t){var n=+t;return n!==n||0===n?0:(n>0?r:e)(n)}},83782:function(t,e,r){var n=r(78037),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},91265:function(t,e,r){var n=r(84724),i=r(17914),o=n.Object;t.exports=function(t){return o(i(t))}},68501:function(t,e,r){var n=r(84724),i=r(68647),o=r(73419),a=r(17802),s=r(23660),u=r(34686),l=r(98907),h=n.TypeError,c=l("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var r,n=s(t,c);if(n){if(void 0===e&&(e="default"),r=i(n,t,e),!o(r)||a(r))return r;throw h("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},78944:function(t,e,r){var n=r(68501),i=r(17802);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},78895:function(t,e,r){var n={};n[r(98907)("toStringTag")]="z",t.exports="[object z]"===String(n)},62787:function(t,e,r){var n=r(84724),i=r(89829),o=n.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},3431:function(t,e,r){var n=r(84724).String;t.exports=function(t){try{return n(t)}catch(e){return"Object"}}},90123:function(t,e,r){var n=r(44188),i=0,o=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},74194:function(t,e,r){var n=r(93227);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},11804:function(t,e,r){var n=r(68240),i=r(23998);t.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},10888:function(t,e,r){var n=r(84724).TypeError;t.exports=function(t,e){if(t<e)throw n("Not enough arguments");return t}},22334:function(t,e,r){var n=r(98907);e.f=n},98907:function(t,e,r){var n=r(84724),i=r(70797),o=r(25645),a=r(90123),s=r(93227),u=r(74194),l=i("wks"),h=n.Symbol,c=h&&h.for,f=u?h:h&&h.withoutSetter||a;t.exports=function(t){if(!o(l,t)||!s&&"string"!=typeof l[t]){var e="Symbol."+t;s&&o(h,t)?l[t]=h[t]:l[t]=u&&c?c(e):f(e)}return l[t]}},60563:function(t){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},20673:function(t,e,r){"use strict";var n=r(17834),i=r(84724),o=r(54765),a=r(79786),s=r(68333),u=r(59315),l=r(35599),h=r(93540),c=r(23898),f=r(32275),d=r(68828),p=r(62900),v=r(96618),m=r(98907),g=r(51076),y=m("toStringTag"),b=i.Error,_=[].push,w=function(t,e){var r,n=arguments.length>2?arguments[2]:void 0,i=o(x,this);s?r=s(new b,i?a(this):x):(r=i?this:l(x),h(r,y,"Error")),void 0!==e&&h(r,"message",v(e)),g&&h(r,"stack",f(r.stack,1)),d(r,n);var u=[];return p(t,_,{that:u}),h(r,"errors",u),r};s?s(w,b):u(w,b,{name:!0});var x=w.prototype=l(b.prototype,{constructor:c(1,w),message:c(1,""),name:c(1,"AggregateError")});n({global:!0},{AggregateError:w})},4665:function(t,e,r){"use strict";var n=r(17834),i=r(84724),o=r(23998),a=r(56078),s=r(73419),u=r(91265),l=r(64440),h=r(87401),c=r(92288),f=r(70882),d=r(98907),p=r(75561),v=d("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",y=i.TypeError,b=p>=51||!o((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),_=f("concat"),w=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:a(t)};n({target:"Array",proto:!0,forced:!b||!_},{concat:function(t){var e,r,n,i,o,a=u(this),s=c(a,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(w(o=-1===e?a:arguments[e])){if(f+(i=l(o))>m)throw y(g);for(r=0;r<i;r++,f++)r in o&&h(s,f,o[r])}else{if(f>=m)throw y(g);h(s,f++,o)}return s.length=f,s}})},7569:function(t,e,r){"use strict";var n=r(17834),i=r(72770).every;n({target:"Array",proto:!0,forced:!r(20995)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},71028:function(t,e,r){"use strict";var n=r(17834),i=r(72770).filter;n({target:"Array",proto:!0,forced:!r(70882)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},70806:function(t,e,r){"use strict";var n=r(17834),i=r(72770).find,o=r(10351),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o(a)},18578:function(t,e,r){"use strict";var n=r(17834),i=r(39820);n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},7199:function(t,e,r){var n=r(17834),i=r(31791);n({target:"Array",stat:!0,forced:!r(66043)((function(t){Array.from(t)}))},{from:i})},37152:function(t,e,r){"use strict";var n=r(17834),i=r(9302).includes,o=r(10351);n({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},84488:function(t,e,r){"use strict";var n=r(17834),i=r(44188),o=r(9302).indexOf,a=r(20995),s=i([].indexOf),u=!!s&&1/s([1],1,-0)<0,l=a("indexOf");n({target:"Array",proto:!0,forced:u||!l},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return u?s(this,t,e)||0:o(this,t,e)}})},36751:function(t,e,r){r(17834)({target:"Array",stat:!0},{isArray:r(56078)})},66282:function(t,e,r){"use strict";var n=r(78179),i=r(10351),o=r(41428),a=r(94546),s=r(19179).f,u=r(61806),l=r(47741),h=r(68240),c="Array Iterator",f=a.set,d=a.getterFor(c);t.exports=u(Array,"Array",(function(t,e){f(this,{type:c,target:n(t),index:0,kind:e})}),(function(){var t=d(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!l&&h&&"values"!==p.name)try{s(p,"name",{value:"values"})}catch(v){}},89182:function(t,e,r){"use strict";var n=r(17834),i=r(72770).map;n({target:"Array",proto:!0,forced:!r(70882)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},25780:function(t,e,r){"use strict";var n=r(17834),i=r(2116).left,o=r(20995),a=r(75561),s=r(9969);n({target:"Array",proto:!0,forced:!o("reduce")||!s&&a>79&&a<83},{reduce:function(t){var e=arguments.length;return i(this,t,e,e>1?arguments[1]:void 0)}})},51388:function(t,e,r){"use strict";var n=r(17834),i=r(84724),o=r(56078),a=r(40620),s=r(73419),u=r(21462),l=r(64440),h=r(78179),c=r(87401),f=r(98907),d=r(70882),p=r(46372),v=d("slice"),m=f("species"),g=i.Array,y=Math.max;n({target:"Array",proto:!0,forced:!v},{slice:function(t,e){var r,n,i,f=h(this),d=l(f),v=u(t,d),b=u(void 0===e?d:e,d);if(o(f)&&(r=f.constructor,(a(r)&&(r===g||o(r.prototype))||s(r)&&null===(r=r[m]))&&(r=void 0),r===g||void 0===r))return p(f,v,b);for(n=new(void 0===r?g:r)(y(b-v,0)),i=0;v<b;v++,i++)v in f&&c(n,i,f[v]);return n.length=i,n}})},22288:function(t,e,r){"use strict";var n=r(17834),i=r(44188),o=r(19473),a=r(91265),s=r(64440),u=r(62787),l=r(23998),h=r(40065),c=r(20995),f=r(35774),d=r(69458),p=r(75561),v=r(84193),m=[],g=i(m.sort),y=i(m.push),b=l((function(){m.sort(void 0)})),_=l((function(){m.sort(null)})),w=c("sort"),x=!l((function(){if(p)return p<70;if(!(f&&f>3)){if(d)return!0;if(v)return v<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)m.push({k:e+n,v:r})}for(m.sort((function(t,e){return e.v-t.v})),n=0;n<m.length;n++)e=m[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));n({target:"Array",proto:!0,forced:b||!_||!w||!x},{sort:function(t){void 0!==t&&o(t);var e=a(this);if(x)return void 0===t?g(e):g(e,t);var r,n,i=[],l=s(e);for(n=0;n<l;n++)n in e&&y(i,e[n]);for(h(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:u(e)>u(r)?1:-1}}(t)),r=i.length,n=0;n<r;)e[n]=i[n++];for(;n<l;)delete e[n++];return e}})},62925:function(t,e,r){"use strict";var n=r(17834),i=r(84724),o=r(21462),a=r(78037),s=r(64440),u=r(91265),l=r(92288),h=r(87401),c=r(70882)("splice"),f=i.TypeError,d=Math.max,p=Math.min,v=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!c},{splice:function(t,e){var r,n,i,c,g,y,b=u(this),_=s(b),w=o(t,_),x=arguments.length;if(0===x?r=n=0:1===x?(r=0,n=_-w):(r=x-2,n=p(d(a(e),0),_-w)),_+r-n>v)throw f(m);for(i=l(b,n),c=0;c<n;c++)(g=w+c)in b&&h(i,c,b[g]);if(i.length=n,r<n){for(c=w;c<_-n;c++)y=c+r,(g=c+n)in b?b[y]=b[g]:delete b[y];for(c=_;c>_-n+r;c--)delete b[c-1]}else if(r>n)for(c=_-n;c>w;c--)y=c+r-1,(g=c+n-1)in b?b[y]=b[g]:delete b[y];for(c=0;c<r;c++)b[c+w]=arguments[c+2];return b.length=_-n+r,i}})},42474:function(t,e,r){var n=r(17834),i=r(77425);n({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},7165:function(t,e,r){var n=r(17834),i=r(84724),o=r(85285),a=r(34680),s=r(44188),u=r(23998),l=i.Array,h=o("JSON","stringify"),c=s(/./.exec),f=s("".charAt),d=s("".charCodeAt),p=s("".replace),v=s(1..toString),m=/[\uD800-\uDFFF]/g,g=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,b=function(t,e,r){var n=f(r,e-1),i=f(r,e+1);return c(g,t)&&!c(y,i)||c(y,t)&&!c(g,n)?"\\u"+v(d(t,0),16):t},_=u((function(){return'"\\udf06\\ud834"'!==h("\udf06\ud834")||'"\\udead"'!==h("\udead")}));h&&n({target:"JSON",stat:!0,forced:_},{stringify:function(t,e,r){for(var n=0,i=arguments.length,o=l(i);n<i;n++)o[n]=arguments[n];var s=a(h,null,o);return"string"==typeof s?p(s,m,b):s}})},49311:function(t,e,r){var n=r(84724);r(45417)(n.JSON,"JSON",!0)},78147:function(t,e,r){"use strict";r(75133)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(89019))},87305:function(){},69425:function(t,e,r){r(17834)({target:"Number",stat:!0},{isInteger:r(81515)})},83837:function(t,e,r){r(17834)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},51814:function(t,e,r){r(17834)({target:"Object",stat:!0,sham:!r(68240)},{create:r(35599)})},86713:function(t,e,r){var n=r(17834),i=r(68240),o=r(75343).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},79768:function(t,e,r){var n=r(17834),i=r(68240),o=r(19179).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},2524:function(t,e,r){var n=r(17834),i=r(5293).entries;n({target:"Object",stat:!0},{entries:function(t){return i(t)}})},76197:function(t,e,r){var n=r(17834),i=r(34970),o=r(23998),a=r(73419),s=r(45901).onFreeze,u=Object.freeze;n({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!i},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},51893:function(t,e,r){var n=r(17834),i=r(23998),o=r(78179),a=r(34963).f,s=r(68240),u=i((function(){a(1)}));n({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},39753:function(t,e,r){var n=r(17834),i=r(68240),o=r(86217),a=r(78179),s=r(34963),u=r(87401);n({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),i=s.f,l=o(n),h={},c=0;l.length>c;)void 0!==(r=i(n,e=l[c++]))&&u(h,e,r);return h}})},77859:function(t,e,r){var n=r(17834),i=r(23998),o=r(91265),a=r(79786),s=r(13051);n({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},23169:function(t,e,r){var n=r(17834),i=r(91265),o=r(84757);n({target:"Object",stat:!0,forced:r(23998)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},50541:function(t,e,r){r(17834)({target:"Object",stat:!0},{setPrototypeOf:r(68333)})},27917:function(){},91946:function(t,e,r){var n=r(17834),i=r(5293).values;n({target:"Object",stat:!0},{values:function(t){return i(t)}})},54520:function(t,e,r){var n=r(17834),i=r(54159);n({global:!0,forced:parseInt!=i},{parseInt:i})},75232:function(t,e,r){"use strict";var n=r(17834),i=r(68647),o=r(19473),a=r(66289),s=r(93071),u=r(62900);n({target:"Promise",stat:!0},{allSettled:function(t){var e=this,r=a.f(e),n=r.resolve,l=r.reject,h=s((function(){var r=o(e.resolve),a=[],s=0,l=1;u(t,(function(t){var o=s++,u=!1;l++,i(r,e,t).then((function(t){u||(u=!0,a[o]={status:"fulfilled",value:t},--l||n(a))}),(function(t){u||(u=!0,a[o]={status:"rejected",reason:t},--l||n(a))}))})),--l||n(a)}));return h.error&&l(h.value),r.promise}})},62029:function(t,e,r){"use strict";var n=r(17834),i=r(19473),o=r(85285),a=r(68647),s=r(66289),u=r(93071),l=r(62900),h="No one promise resolved";n({target:"Promise",stat:!0},{any:function(t){var e=this,r=o("AggregateError"),n=s.f(e),c=n.resolve,f=n.reject,d=u((function(){var n=i(e.resolve),o=[],s=0,u=1,d=!1;l(t,(function(t){var i=s++,l=!1;u++,a(n,e,t).then((function(t){l||d||(d=!0,c(t))}),(function(t){l||d||(l=!0,o[i]=t,--u||f(new r(o,h)))}))})),--u||f(new r(o,h))}));return d.error&&f(d.value),n.promise}})},6088:function(t,e,r){"use strict";var n=r(17834),i=r(47741),o=r(16716),a=r(23998),s=r(85285),u=r(57589),l=r(48284),h=r(75970),c=r(8232);if(n({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,s("Promise")),r=u(t);return this.then(r?function(r){return h(e,t()).then((function(){return r}))}:t,r?function(r){return h(e,t()).then((function(){throw r}))}:t)}}),!i&&u(o)){var f=s("Promise").prototype.finally;o.prototype.finally!==f&&c(o.prototype,"finally",f,{unsafe:!0})}},75393:function(t,e,r){"use strict";var n,i,o,a,s=r(17834),u=r(47741),l=r(84724),h=r(85285),c=r(68647),f=r(16716),d=r(8232),p=r(36540),v=r(68333),m=r(45417),g=r(79577),y=r(19473),b=r(57589),_=r(73419),w=r(41331),x=r(85033),E=r(62900),M=r(66043),S=r(48284),A=r(2016).set,k=r(12275),T=r(75970),R=r(21174),P=r(66289),I=r(93071),N=r(28470),O=r(94546),C=r(67832),D=r(98907),L=r(47204),F=r(9969),B=r(75561),U=D("species"),G="Promise",j=O.getterFor(G),z=O.set,H=O.getterFor(G),V=f&&f.prototype,W=f,q=V,X=l.TypeError,Z=l.document,K=l.process,Y=P.f,J=Y,$=!!(Z&&Z.createEvent&&l.dispatchEvent),Q=b(l.PromiseRejectionEvent),tt="unhandledrejection",et=!1,rt=C(G,(function(){var t=x(W),e=t!==String(W);if(!e&&66===B)return!0;if(u&&!q.finally)return!0;if(B>=51&&/native code/.test(t))return!1;var r=new W((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(r.constructor={})[U]=n,!(et=r.then((function(){}))instanceof n)||!e&&L&&!Q})),nt=rt||!M((function(t){W.all(t).catch((function(){}))})),it=function(t){var e;return!(!_(t)||!b(e=t.then))&&e},ot=function(t,e){var r,n,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,u=t.resolve,l=t.reject,h=t.domain;try{s?(a||(2===e.rejection&&ht(e),e.rejection=1),!0===s?r=o:(h&&h.enter(),r=s(o),h&&(h.exit(),i=!0)),r===t.promise?l(X("Promise-chain cycle")):(n=it(r))?c(n,r,u,l):u(r)):l(o)}catch(f){h&&!i&&h.exit(),l(f)}},at=function(t,e){t.notified||(t.notified=!0,k((function(){for(var r,n=t.reactions;r=n.get();)ot(r,t);t.notified=!1,e&&!t.rejection&&ut(t)})))},st=function(t,e,r){var n,i;$?((n=Z.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),l.dispatchEvent(n)):n={promise:e,reason:r},!Q&&(i=l["on"+t])?i(n):t===tt&&R("Unhandled promise rejection",r)},ut=function(t){c(A,l,(function(){var e,r=t.facade,n=t.value;if(lt(t)&&(e=I((function(){F?K.emit("unhandledRejection",n,r):st(tt,r,n)})),t.rejection=F||lt(t)?2:1,e.error))throw e.value}))},lt=function(t){return 1!==t.rejection&&!t.parent},ht=function(t){c(A,l,(function(){var e=t.facade;F?K.emit("rejectionHandled",e):st("rejectionhandled",e,t.value)}))},ct=function(t,e,r){return function(n){t(e,n,r)}},ft=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,at(t,!0))},dt=function t(e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===r)throw X("Promise can't be resolved itself");var i=it(r);i?k((function(){var n={done:!1};try{c(i,r,ct(t,n,e),ct(ft,n,e))}catch(o){ft(n,o,e)}})):(e.value=r,e.state=1,at(e,!1))}catch(o){ft({done:!1},o,e)}}};if(rt&&(q=(W=function(t){w(this,q),y(t),c(n,this);var e=j(this);try{t(ct(dt,e),ct(ft,e))}catch(r){ft(e,r)}}).prototype,(n=function(t){z(this,{type:G,done:!1,notified:!1,parent:!1,reactions:new N,rejection:!1,state:0,value:void 0})}).prototype=p(q,{then:function(t,e){var r=H(this),n=Y(S(this,W));return r.parent=!0,n.ok=!b(t)||t,n.fail=b(e)&&e,n.domain=F?K.domain:void 0,0==r.state?r.reactions.add(n):k((function(){ot(n,r)})),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new n,e=j(t);this.promise=t,this.resolve=ct(dt,e),this.reject=ct(ft,e)},P.f=Y=function(t){return t===W||t===o?new i(t):J(t)},!u&&b(f)&&V!==Object.prototype)){a=V.then,et||(d(V,"then",(function(t,e){var r=this;return new W((function(t,e){c(a,r,t,e)})).then(t,e)}),{unsafe:!0}),d(V,"catch",q.catch,{unsafe:!0}));try{delete V.constructor}catch(pt){}v&&v(V,q)}s({global:!0,wrap:!0,forced:rt},{Promise:W}),m(W,G,!1,!0),g(G),o=h(G),s({target:G,stat:!0,forced:rt},{reject:function(t){var e=Y(this);return c(e.reject,void 0,t),e.promise}}),s({target:G,stat:!0,forced:u||rt},{resolve:function(t){return T(u&&this===o?W:this,t)}}),s({target:G,stat:!0,forced:nt},{all:function(t){var e=this,r=Y(e),n=r.resolve,i=r.reject,o=I((function(){var r=y(e.resolve),o=[],a=0,s=1;E(t,(function(t){var u=a++,l=!1;s++,c(r,e,t).then((function(t){l||(l=!0,o[u]=t,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(t){var e=this,r=Y(e),n=r.reject,i=I((function(){var i=y(e.resolve);E(t,(function(t){c(i,e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},54493:function(t,e,r){var n=r(17834),i=r(85285),o=r(34680),a=r(77425),s=r(48041),u=r(9427),l=r(73419),h=r(35599),c=r(23998),f=i("Reflect","construct"),d=Object.prototype,p=[].push,v=c((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),m=!c((function(){f((function(){}))})),g=v||m;n({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){s(t),u(e);var r=arguments.length<3?t:s(arguments[2]);if(m&&!v)return f(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return o(p,n,e),new(o(a,t,n))}var i=r.prototype,c=h(l(i)?i:d),g=o(t,c,e);return l(g)?g:c}})},55447:function(t,e,r){var n=r(17834),i=r(68647),o=r(73419),a=r(9427),s=r(89773),u=r(34963),l=r(79786);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,h,c=arguments.length<3?e:arguments[2];return a(e)===c?e[r]:(n=u.f(e,r))?s(n)?n.value:void 0===n.get?void 0:i(n.get,c):o(h=l(e))?t(h,r,c):void 0}})},28979:function(){},56339:function(){},85582:function(t,e,r){"use strict";r(75133)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(89019))},18228:function(t,e,r){"use strict";var n=r(17834),i=r(44188),o=r(19930),a=r(17914),s=r(62787),u=r(41206),l=i("".indexOf);n({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~l(s(a(this)),s(o(t)),arguments.length>1?arguments[1]:void 0)}})},25360:function(t,e,r){"use strict";var n=r(50355).charAt,i=r(62787),o=r(94546),a=r(61806),s="String Iterator",u=o.set,l=o.getterFor(s);a(String,"String",(function(t){u(this,{type:s,string:i(t),index:0})}),(function(){var t,e=l(this),r=e.string,i=e.index;return i>=r.length?{value:void 0,done:!0}:(t=n(r,i),e.index+=t.length,{value:t,done:!1})}))},21813:function(t,e,r){"use strict";var n=r(17834),i=r(89964).start;n({target:"String",proto:!0,forced:r(88382)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},62687:function(){},55931:function(t,e,r){"use strict";var n=r(17834),i=r(44188),o=r(34963).f,a=r(83782),s=r(62787),u=r(19930),l=r(17914),h=r(41206),c=r(47741),f=i("".startsWith),d=i("".slice),p=Math.min,v=h("startsWith");n({target:"String",proto:!0,forced:!(!c&&!v&&!!function(){var t=o(String.prototype,"startsWith");return t&&!t.writable}())&&!v},{startsWith:function(t){var e=s(l(this));u(t);var r=a(p(arguments.length>1?arguments[1]:void 0,e.length)),n=s(t);return f?f(e,n,r):d(e,r,r+n.length)===n}})},71378:function(t,e,r){"use strict";var n=r(17834),i=r(53119).trim;n({target:"String",proto:!0,forced:r(50705)("trim")},{trim:function(){return i(this)}})},48594:function(t,e,r){r(14174)("asyncIterator")},64693:function(){},95654:function(t,e,r){r(14174)("hasInstance")},60878:function(t,e,r){r(14174)("isConcatSpreadable")},3087:function(t,e,r){r(14174)("iterator")},79526:function(t,e,r){"use strict";var n=r(17834),i=r(84724),o=r(85285),a=r(34680),s=r(68647),u=r(44188),l=r(47741),h=r(68240),c=r(93227),f=r(23998),d=r(25645),p=r(56078),v=r(57589),m=r(73419),g=r(54765),y=r(17802),b=r(9427),_=r(91265),w=r(78179),x=r(78944),E=r(62787),M=r(23898),S=r(35599),A=r(84757),k=r(22523),T=r(82088),R=r(27772),P=r(34963),I=r(19179),N=r(75343),O=r(67085),C=r(46372),D=r(8232),L=r(70797),F=r(5503),B=r(87001),U=r(90123),G=r(98907),j=r(22334),z=r(14174),H=r(45417),V=r(94546),W=r(72770).forEach,q=F("hidden"),X="Symbol",Z=G("toPrimitive"),K=V.set,Y=V.getterFor(X),J=Object.prototype,$=i.Symbol,Q=$&&$.prototype,tt=i.TypeError,et=i.QObject,rt=o("JSON","stringify"),nt=P.f,it=I.f,ot=T.f,at=O.f,st=u([].push),ut=L("symbols"),lt=L("op-symbols"),ht=L("string-to-symbol-registry"),ct=L("symbol-to-string-registry"),ft=L("wks"),dt=!et||!et.prototype||!et.prototype.findChild,pt=h&&f((function(){return 7!=S(it({},"a",{get:function(){return it(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=nt(J,e);n&&delete J[e],it(t,e,r),n&&t!==J&&it(J,e,n)}:it,vt=function(t,e){var r=ut[t]=S(Q);return K(r,{type:X,tag:t,description:e}),h||(r.description=e),r},mt=function(t,e,r){t===J&&mt(lt,e,r),b(t);var n=x(e);return b(r),d(ut,n)?(r.enumerable?(d(t,q)&&t[q][n]&&(t[q][n]=!1),r=S(r,{enumerable:M(0,!1)})):(d(t,q)||it(t,q,M(1,{})),t[q][n]=!0),pt(t,n,r)):it(t,n,r)},gt=function(t,e){b(t);var r=w(e),n=A(r).concat(wt(r));return W(n,(function(e){h&&!s(yt,r,e)||mt(t,e,r[e])})),t},yt=function(t){var e=x(t),r=s(at,this,e);return!(this===J&&d(ut,e)&&!d(lt,e))&&(!(r||!d(this,e)||!d(ut,e)||d(this,q)&&this[q][e])||r)},bt=function(t,e){var r=w(t),n=x(e);if(r!==J||!d(ut,n)||d(lt,n)){var i=nt(r,n);return!i||!d(ut,n)||d(r,q)&&r[q][n]||(i.enumerable=!0),i}},_t=function(t){var e=ot(w(t)),r=[];return W(e,(function(t){d(ut,t)||d(B,t)||st(r,t)})),r},wt=function(t){var e=t===J,r=ot(e?lt:w(t)),n=[];return W(r,(function(t){!d(ut,t)||e&&!d(J,t)||st(n,ut[t])})),n};(c||($=function(){if(g(Q,this))throw tt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?E(arguments[0]):void 0,e=U(t),r=function t(r){this===J&&s(t,lt,r),d(this,q)&&d(this[q],e)&&(this[q][e]=!1),pt(this,e,M(1,r))};return h&&dt&&pt(J,e,{configurable:!0,set:r}),vt(e,t)},D(Q=$.prototype,"toString",(function(){return Y(this).tag})),D($,"withoutSetter",(function(t){return vt(U(t),t)})),O.f=yt,I.f=mt,N.f=gt,P.f=bt,k.f=T.f=_t,R.f=wt,j.f=function(t){return vt(G(t),t)},h&&(it(Q,"description",{configurable:!0,get:function(){return Y(this).description}}),l||D(J,"propertyIsEnumerable",yt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:$}),W(A(ft),(function(t){z(t)})),n({target:X,stat:!0,forced:!c},{for:function(t){var e=E(t);if(d(ht,e))return ht[e];var r=$(e);return ht[e]=r,ct[r]=e,r},keyFor:function(t){if(!y(t))throw tt(t+" is not a symbol");if(d(ct,t))return ct[t]},useSetter:function(){dt=!0},useSimple:function(){dt=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!h},{create:function(t,e){return void 0===e?S(t):gt(S(t),e)},defineProperty:mt,defineProperties:gt,getOwnPropertyDescriptor:bt}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:_t,getOwnPropertySymbols:wt}),n({target:"Object",stat:!0,forced:f((function(){R.f(1)}))},{getOwnPropertySymbols:function(t){return R.f(_(t))}}),rt)&&n({target:"JSON",stat:!0,forced:!c||f((function(){var t=$();return"[null]"!=rt([t])||"{}"!=rt({a:t})||"{}"!=rt(Object(t))}))},{stringify:function(t,e,r){var n=C(arguments),i=e;if((m(e)||void 0!==t)&&!y(t))return p(e)||(e=function(t,e){if(v(i)&&(e=s(i,this,t,e)),!y(e))return e}),n[1]=e,a(rt,null,n)}});if(!Q[Z]){var xt=Q.valueOf;D(Q,Z,(function(t){return s(xt,this)}))}H($,X),B[q]=!0},81214:function(t,e,r){r(14174)("matchAll")},91356:function(t,e,r){r(14174)("match")},89014:function(t,e,r){r(14174)("replace")},73763:function(t,e,r){r(14174)("search")},91990:function(t,e,r){r(14174)("species")},23836:function(t,e,r){r(14174)("split")},46782:function(t,e,r){r(14174)("toPrimitive")},42774:function(t,e,r){r(14174)("toStringTag")},83755:function(t,e,r){r(14174)("unscopables")},16823:function(t,e,r){"use strict";var n,i=r(84724),o=r(44188),a=r(36540),s=r(45901),u=r(75133),l=r(15559),h=r(73419),c=r(13292),f=r(94546).enforce,d=r(65351),p=!i.ActiveXObject&&"ActiveXObject"in i,v=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},m=u("WeakMap",v,l);if(d&&p){n=l.getConstructor(v,"WeakMap",!0),s.enable();var g=m.prototype,y=o(g.delete),b=o(g.has),_=o(g.get),w=o(g.set);a(g,{delete:function(t){if(h(t)&&!c(t)){var e=f(this);return e.frozen||(e.frozen=new n),y(this,t)||e.frozen.delete(t)}return y(this,t)},has:function(t){if(h(t)&&!c(t)){var e=f(this);return e.frozen||(e.frozen=new n),b(this,t)||e.frozen.has(t)}return b(this,t)},get:function(t){if(h(t)&&!c(t)){var e=f(this);return e.frozen||(e.frozen=new n),b(this,t)?_(this,t):e.frozen.get(t)}return _(this,t)},set:function(t,e){if(h(t)&&!c(t)){var r=f(this);r.frozen||(r.frozen=new n),b(this,t)?w(this,t,e):r.frozen.set(t,e)}else w(this,t,e);return this}})}},63702:function(t,e,r){r(20673)},38795:function(t,e,r){"use strict";r(17834)({target:"Map",proto:!0,real:!0,forced:r(47741)},{deleteAll:r(71423)})},75570:function(t,e,r){"use strict";r(17834)({target:"Map",proto:!0,real:!0,forced:r(47741)},{emplace:r(53181)})},14052:function(t,e,r){"use strict";var n=r(17834),i=r(47741),o=r(9427),a=r(50790),s=r(42874),u=r(62900);n({target:"Map",proto:!0,real:!0,forced:i},{every:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0);return!u(r,(function(t,r,i){if(!n(r,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},79010:function(t,e,r){"use strict";var n=r(47741),i=r(17834),o=r(85285),a=r(50790),s=r(68647),u=r(19473),l=r(9427),h=r(48284),c=r(42874),f=r(62900);i({target:"Map",proto:!0,real:!0,forced:n},{filter:function(t){var e=l(this),r=c(e),n=a(t,arguments.length>1?arguments[1]:void 0),i=new(h(e,o("Map"))),d=u(i.set);return f(r,(function(t,r){n(r,t,e)&&s(d,i,t,r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},48090:function(t,e,r){"use strict";var n=r(17834),i=r(47741),o=r(9427),a=r(50790),s=r(42874),u=r(62900);n({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0);return u(r,(function(t,r,i){if(n(r,t,e))return i(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},50241:function(t,e,r){"use strict";var n=r(17834),i=r(47741),o=r(9427),a=r(50790),s=r(42874),u=r(62900);n({target:"Map",proto:!0,real:!0,forced:i},{find:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0);return u(r,(function(t,r,i){if(n(r,t,e))return i(r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},35409:function(t,e,r){r(17834)({target:"Map",stat:!0},{from:r(5711)})},3751:function(t,e,r){"use strict";var n=r(17834),i=r(68647),o=r(44188),a=r(19473),s=r(9817),u=r(62900),l=o([].push);n({target:"Map",stat:!0},{groupBy:function(t,e){a(e);var r=s(t),n=new this,o=a(n.has),h=a(n.get),c=a(n.set);return u(r,(function(t){var r=e(t);i(o,n,r)?l(i(h,n,r),t):i(c,n,r,[t])}),{IS_ITERATOR:!0}),n}})},8068:function(t,e,r){"use strict";var n=r(47741),i=r(17834),o=r(9427),a=r(42874),s=r(11723),u=r(62900);i({target:"Map",proto:!0,real:!0,forced:n},{includes:function(t){return u(a(o(this)),(function(e,r,n){if(s(r,t))return n()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},90678:function(t,e,r){"use strict";var n=r(17834),i=r(68647),o=r(62900),a=r(19473);n({target:"Map",stat:!0},{keyBy:function(t,e){var r=new this;a(e);var n=a(r.set);return o(t,(function(t){i(n,r,e(t),t)})),r}})},97091:function(t,e,r){"use strict";var n=r(17834),i=r(47741),o=r(9427),a=r(42874),s=r(62900);n({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(t){return s(a(o(this)),(function(e,r,n){if(r===t)return n(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},94430:function(t,e,r){"use strict";var n=r(47741),i=r(17834),o=r(85285),a=r(50790),s=r(68647),u=r(19473),l=r(9427),h=r(48284),c=r(42874),f=r(62900);i({target:"Map",proto:!0,real:!0,forced:n},{mapKeys:function(t){var e=l(this),r=c(e),n=a(t,arguments.length>1?arguments[1]:void 0),i=new(h(e,o("Map"))),d=u(i.set);return f(r,(function(t,r){s(d,i,n(r,t,e),r)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},2656:function(t,e,r){"use strict";var n=r(47741),i=r(17834),o=r(85285),a=r(50790),s=r(68647),u=r(19473),l=r(9427),h=r(48284),c=r(42874),f=r(62900);i({target:"Map",proto:!0,real:!0,forced:n},{mapValues:function(t){var e=l(this),r=c(e),n=a(t,arguments.length>1?arguments[1]:void 0),i=new(h(e,o("Map"))),d=u(i.set);return f(r,(function(t,r){s(d,i,t,n(r,t,e))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}})},52126:function(t,e,r){"use strict";var n=r(17834),i=r(47741),o=r(19473),a=r(9427),s=r(62900);n({target:"Map",proto:!0,real:!0,forced:i},{merge:function(t){for(var e=a(this),r=o(e.set),n=arguments.length,i=0;i<n;)s(arguments[i++],r,{that:e,AS_ENTRIES:!0});return e}})},44028:function(t,e,r){r(17834)({target:"Map",stat:!0},{of:r(85227)})},57097:function(t,e,r){"use strict";var n=r(17834),i=r(84724),o=r(47741),a=r(9427),s=r(19473),u=r(42874),l=r(62900),h=i.TypeError;n({target:"Map",proto:!0,real:!0,forced:o},{reduce:function(t){var e=a(this),r=u(e),n=arguments.length<2,i=n?void 0:arguments[1];if(s(t),l(r,(function(r,o){n?(n=!1,i=o):i=t(i,o,r,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),n)throw h("Reduce of empty map with no initial value");return i}})},87860:function(t,e,r){"use strict";var n=r(17834),i=r(47741),o=r(9427),a=r(50790),s=r(42874),u=r(62900);n({target:"Map",proto:!0,real:!0,forced:i},{some:function(t){var e=o(this),r=s(e),n=a(t,arguments.length>1?arguments[1]:void 0);return u(r,(function(t,r,i){if(n(r,t,e))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},25302:function(t,e,r){"use strict";r(17834)({target:"Map",proto:!0,real:!0,name:"upsert",forced:r(47741)},{updateOrInsert:r(71232)})},95751:function(t,e,r){"use strict";var n=r(47741),i=r(17834),o=r(84724),a=r(68647),s=r(9427),u=r(19473),l=o.TypeError;i({target:"Map",proto:!0,real:!0,forced:n},{update:function(t,e){var r=s(this),n=u(r.get),i=u(r.has),o=u(r.set),h=arguments.length;u(e);var c=a(i,r,t);if(!c&&h<3)throw l("Updating absent value");var f=c?a(n,r,t):u(h>2?arguments[2]:void 0)(t,r);return a(o,r,t,e(f,t,r)),r}})},95886:function(t,e,r){"use strict";r(17834)({target:"Map",proto:!0,real:!0,forced:r(47741)},{upsert:r(71232)})},48361:function(t,e,r){r(75232)},68839:function(t,e,r){r(62029)},57170:function(t,e,r){"use strict";var n=r(17834),i=r(66289),o=r(93071);n({target:"Promise",stat:!0},{try:function(t){var e=i.f(this),r=o(t);return(r.error?e.reject:e.resolve)(r.value),e.promise}})},45032:function(t,e,r){r(14174)("asyncDispose")},71922:function(t,e,r){r(14174)("dispose")},34329:function(t,e,r){r(14174)("matcher")},66029:function(t,e,r){r(14174)("metadata")},61650:function(t,e,r){r(14174)("observable")},49286:function(t,e,r){r(14174)("patternMatch")},29907:function(t,e,r){r(14174)("replaceAll")},47435:function(t,e,r){r(66282);var n=r(91691),i=r(84724),o=r(89829),a=r(93540),s=r(41428),u=r(98907)("toStringTag");for(var l in n){var h=i[l],c=h&&h.prototype;c&&o(c)!==u&&a(c,u,l),s[l]=s.Array}},72324:function(t,e,r){var n=r(17834),i=r(84724),o=r(34680),a=r(57589),s=r(3086),u=r(46372),l=/MSIE .\./.test(s),h=i.Function,c=function(t){return function(e,r){var n=arguments.length>2,i=n?u(arguments,2):void 0;return t(n?function(){o(a(e)?e:h(e),this,i)}:e,r)}};n({global:!0,bind:!0,forced:l},{setTimeout:c(i.setTimeout),setInterval:c(i.setInterval)})},28892:function(t,e,r){"use strict";r(66282);var n=r(17834),i=r(84724),o=r(85285),a=r(68647),s=r(44188),u=r(85479),l=r(8232),h=r(36540),c=r(45417),f=r(3690),d=r(94546),p=r(41331),v=r(57589),m=r(25645),g=r(50790),y=r(89829),b=r(9427),_=r(73419),w=r(62787),x=r(35599),E=r(23898),M=r(9817),S=r(17137),A=r(10888),k=r(98907),T=r(40065),R=k("iterator"),P="URLSearchParams",I="URLSearchParamsIterator",N=d.set,O=d.getterFor(P),C=d.getterFor(I),D=o("fetch"),L=o("Request"),F=o("Headers"),B=L&&L.prototype,U=F&&F.prototype,G=i.RegExp,j=i.TypeError,z=i.decodeURIComponent,H=i.encodeURIComponent,V=s("".charAt),W=s([].join),q=s([].push),X=s("".replace),Z=s([].shift),K=s([].splice),Y=s("".split),J=s("".slice),$=/\+/g,Q=Array(4),tt=function(t){return Q[t-1]||(Q[t-1]=G("((?:%[\\da-f]{2}){"+t+"})","gi"))},et=function(t){try{return z(t)}catch(e){return t}},rt=function(t){var e=X(t,$," "),r=4;try{return z(e)}catch(n){for(;r;)e=X(e,tt(r--),et);return e}},nt=/[!'()~]|%20/g,it={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ot=function(t){return it[t]},at=function(t){return X(H(t),nt,ot)},st=f((function(t,e){N(this,{type:I,iterator:M(O(t).entries),kind:e})}),"Iterator",(function(){var t=C(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r}),!0),ut=function(t){this.entries=[],this.url=null,void 0!==t&&(_(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===V(t,0)?J(t,1):t:w(t)))};ut.prototype={type:P,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,i,o,s,u,l=S(t);if(l)for(r=(e=M(t,l)).next;!(n=a(r,e)).done;){if(o=(i=M(b(n.value))).next,(s=a(o,i)).done||(u=a(o,i)).done||!a(o,i).done)throw j("Expected sequence with length 2");q(this.entries,{key:w(s.value),value:w(u.value)})}else for(var h in t)m(t,h)&&q(this.entries,{key:h,value:w(t[h])})},parseQuery:function(t){if(t)for(var e,r,n=Y(t,"&"),i=0;i<n.length;)(e=n[i++]).length&&(r=Y(e,"="),q(this.entries,{key:rt(Z(r)),value:rt(W(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],q(r,at(t.key)+"="+at(t.value));return W(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var lt=function(){p(this,ht);var t=arguments.length>0?arguments[0]:void 0;N(this,new ut(t))},ht=lt.prototype;if(h(ht,{append:function(t,e){A(arguments.length,2);var r=O(this);q(r.entries,{key:w(t),value:w(e)}),r.updateURL()},delete:function(t){A(arguments.length,1);for(var e=O(this),r=e.entries,n=w(t),i=0;i<r.length;)r[i].key===n?K(r,i,1):i++;e.updateURL()},get:function(t){A(arguments.length,1);for(var e=O(this).entries,r=w(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){A(arguments.length,1);for(var e=O(this).entries,r=w(t),n=[],i=0;i<e.length;i++)e[i].key===r&&q(n,e[i].value);return n},has:function(t){A(arguments.length,1);for(var e=O(this).entries,r=w(t),n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){A(arguments.length,1);for(var r,n=O(this),i=n.entries,o=!1,a=w(t),s=w(e),u=0;u<i.length;u++)(r=i[u]).key===a&&(o?K(i,u--,1):(o=!0,r.value=s));o||q(i,{key:a,value:s}),n.updateURL()},sort:function(){var t=O(this);T(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=O(this).entries,n=g(t,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((e=r[i++]).value,e.key,this)},keys:function(){return new st(this,"keys")},values:function(){return new st(this,"values")},entries:function(){return new st(this,"entries")}},{enumerable:!0}),l(ht,R,ht.entries,{name:"entries"}),l(ht,"toString",(function(){return O(this).serialize()}),{enumerable:!0}),c(lt,P),n({global:!0,forced:!u},{URLSearchParams:lt}),!u&&v(F)){var ct=s(U.has),ft=s(U.set),dt=function(t){if(_(t)){var e,r=t.body;if(y(r)===P)return e=t.headers?new F(t.headers):new F,ct(e,"content-type")||ft(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(t,{body:E(0,w(r)),headers:E(0,e)})}return t};if(v(D)&&n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return D(t,arguments.length>1?dt(arguments[1]):{})}}),v(L)){var pt=function(t){return p(this,B),new L(t,arguments.length>1?dt(arguments[1]):{})};B.constructor=pt,pt.prototype=B,n({global:!0,forced:!0},{Request:pt})}}t.exports={URLSearchParams:lt,getState:O}},83589:function(t,e,r){"use strict";r(25360);var n,i=r(17834),o=r(68240),a=r(85479),s=r(84724),u=r(50790),l=r(44188),h=r(75343).f,c=r(8232),f=r(41331),d=r(25645),p=r(8956),v=r(31791),m=r(44369),g=r(50355).codeAt,y=r(78447),b=r(62787),_=r(45417),w=r(28892),x=r(94546),E=x.set,M=x.getterFor("URL"),S=w.URLSearchParams,A=w.getState,k=s.URL,T=s.TypeError,R=s.parseInt,P=Math.floor,I=Math.pow,N=l("".charAt),O=l(/./.exec),C=l([].join),D=l(1..toString),L=l([].pop),F=l([].push),B=l("".replace),U=l([].shift),G=l("".split),j=l("".slice),z=l("".toLowerCase),H=l([].unshift),V="Invalid scheme",W="Invalid host",q="Invalid port",X=/[a-z]/i,Z=/[\d+-.a-z]/i,K=/\d/,Y=/^0x/i,J=/^[0-7]+$/,$=/^\d+$/,Q=/^[\da-f]+$/i,tt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,et=/[\0\t\n\r #/:<>?@[\\\]^|]/,rt=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,nt=/[\t\n\r]/g,it=function(t){var e,r,n,i;if("number"==typeof t){for(e=[],r=0;r<4;r++)H(e,t%256),t=P(t/256);return C(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,i=0,o=0;o<8;o++)0!==t[o]?(i>r&&(e=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(e=n,r=i),e}(t),r=0;r<8;r++)i&&0===t[r]||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=D(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},ot={},at=p({},ot,{" ":1,'"':1,"<":1,">":1,"`":1}),st=p({},at,{"#":1,"?":1,"{":1,"}":1}),ut=p({},st,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),lt=function(t,e){var r=g(t,0);return r>32&&r<127&&!d(e,t)?t:encodeURIComponent(t)},ht={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ct=function(t,e){var r;return 2==t.length&&O(X,N(t,0))&&(":"==(r=N(t,1))||!e&&"|"==r)},ft=function(t){var e;return t.length>1&&ct(j(t,0,2))&&(2==t.length||"/"===(e=N(t,2))||"\\"===e||"?"===e||"#"===e)},dt=function(t){return"."===t||"%2e"===z(t)},pt={},vt={},mt={},gt={},yt={},bt={},_t={},wt={},xt={},Et={},Mt={},St={},At={},kt={},Tt={},Rt={},Pt={},It={},Nt={},Ot={},Ct={},Dt=function t(e,r,n){var i,o,a,s=b(e);if(r){if(o=this.parse(s))throw T(o);this.searchParams=null}else{if(void 0!==n&&(i=new t(n,!0)),o=this.parse(s,null,i))throw T(o);(a=A(new S)).bindURL(this),this.searchParams=a}};Dt.prototype={type:"URL",parse:function(t,e,r){var i,o,a,s,u,l=this,h=e||pt,c=0,f="",p=!1,g=!1,y=!1;for(t=b(t),e||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,t=B(t,rt,"")),t=B(t,nt,""),i=v(t);c<=i.length;){switch(o=i[c],h){case pt:if(!o||!O(X,o)){if(e)return V;h=mt;continue}f+=z(o),h=vt;break;case vt:if(o&&(O(Z,o)||"+"==o||"-"==o||"."==o))f+=z(o);else{if(":"!=o){if(e)return V;f="",h=mt,c=0;continue}if(e&&(l.isSpecial()!=d(ht,f)||"file"==f&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=f,e)return void(l.isSpecial()&&ht[l.scheme]==l.port&&(l.port=null));f="","file"==l.scheme?h=kt:l.isSpecial()&&r&&r.scheme==l.scheme?h=gt:l.isSpecial()?h=wt:"/"==i[c+1]?(h=yt,c++):(l.cannotBeABaseURL=!0,F(l.path,""),h=Nt)}break;case mt:if(!r||r.cannotBeABaseURL&&"#"!=o)return V;if(r.cannotBeABaseURL&&"#"==o){l.scheme=r.scheme,l.path=m(r.path),l.query=r.query,l.fragment="",l.cannotBeABaseURL=!0,h=Ct;break}h="file"==r.scheme?kt:bt;continue;case gt:if("/"!=o||"/"!=i[c+1]){h=bt;continue}h=xt,c++;break;case yt:if("/"==o){h=Et;break}h=It;continue;case bt:if(l.scheme=r.scheme,o==n)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.query=r.query;else if("/"==o||"\\"==o&&l.isSpecial())h=_t;else if("?"==o)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.query="",h=Ot;else{if("#"!=o){l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.path.length--,h=It;continue}l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=m(r.path),l.query=r.query,l.fragment="",h=Ct}break;case _t:if(!l.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,h=It;continue}h=Et}else h=xt;break;case wt:if(h=xt,"/"!=o||"/"!=N(f,c+1))continue;c++;break;case xt:if("/"!=o&&"\\"!=o){h=Et;continue}break;case Et:if("@"==o){p&&(f="%40"+f),p=!0,a=v(f);for(var _=0;_<a.length;_++){var w=a[_];if(":"!=w||y){var x=lt(w,ut);y?l.password+=x:l.username+=x}else y=!0}f=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&l.isSpecial()){if(p&&""==f)return"Invalid authority";c-=v(f).length+1,f="",h=Mt}else f+=o;break;case Mt:case St:if(e&&"file"==l.scheme){h=Rt;continue}if(":"!=o||g){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&l.isSpecial()){if(l.isSpecial()&&""==f)return W;if(e&&""==f&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(f))return s;if(f="",h=Pt,e)return;continue}"["==o?g=!0:"]"==o&&(g=!1),f+=o}else{if(""==f)return W;if(s=l.parseHost(f))return s;if(f="",h=At,e==St)return}break;case At:if(!O(K,o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&l.isSpecial()||e){if(""!=f){var E=R(f,10);if(E>65535)return q;l.port=l.isSpecial()&&E===ht[l.scheme]?null:E,f=""}if(e)return;h=Pt;continue}return q}f+=o;break;case kt:if(l.scheme="file","/"==o||"\\"==o)h=Tt;else{if(!r||"file"!=r.scheme){h=It;continue}if(o==n)l.host=r.host,l.path=m(r.path),l.query=r.query;else if("?"==o)l.host=r.host,l.path=m(r.path),l.query="",h=Ot;else{if("#"!=o){ft(C(m(i,c),""))||(l.host=r.host,l.path=m(r.path),l.shortenPath()),h=It;continue}l.host=r.host,l.path=m(r.path),l.query=r.query,l.fragment="",h=Ct}}break;case Tt:if("/"==o||"\\"==o){h=Rt;break}r&&"file"==r.scheme&&!ft(C(m(i,c),""))&&(ct(r.path[0],!0)?F(l.path,r.path[0]):l.host=r.host),h=It;continue;case Rt:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!e&&ct(f))h=It;else if(""==f){if(l.host="",e)return;h=Pt}else{if(s=l.parseHost(f))return s;if("localhost"==l.host&&(l.host=""),e)return;f="",h=Pt}continue}f+=o;break;case Pt:if(l.isSpecial()){if(h=It,"/"!=o&&"\\"!=o)continue}else if(e||"?"!=o)if(e||"#"!=o){if(o!=n&&(h=It,"/"!=o))continue}else l.fragment="",h=Ct;else l.query="",h=Ot;break;case It:if(o==n||"/"==o||"\\"==o&&l.isSpecial()||!e&&("?"==o||"#"==o)){if(".."===(u=z(u=f))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(l.shortenPath(),"/"==o||"\\"==o&&l.isSpecial()||F(l.path,"")):dt(f)?"/"==o||"\\"==o&&l.isSpecial()||F(l.path,""):("file"==l.scheme&&!l.path.length&&ct(f)&&(l.host&&(l.host=""),f=N(f,0)+":"),F(l.path,f)),f="","file"==l.scheme&&(o==n||"?"==o||"#"==o))for(;l.path.length>1&&""===l.path[0];)U(l.path);"?"==o?(l.query="",h=Ot):"#"==o&&(l.fragment="",h=Ct)}else f+=lt(o,st);break;case Nt:"?"==o?(l.query="",h=Ot):"#"==o?(l.fragment="",h=Ct):o!=n&&(l.path[0]+=lt(o,ot));break;case Ot:e||"#"!=o?o!=n&&("'"==o&&l.isSpecial()?l.query+="%27":l.query+="#"==o?"%23":lt(o,ot)):(l.fragment="",h=Ct);break;case Ct:o!=n&&(l.fragment+=lt(o,at))}c++}},parseHost:function(t){var e,r,n;if("["==N(t,0)){if("]"!=N(t,t.length-1))return W;if(e=function(t){var e,r,n,i,o,a,s,u=[0,0,0,0,0,0,0,0],l=0,h=null,c=0,f=function(){return N(t,c)};if(":"==f()){if(":"!=N(t,1))return;c+=2,h=++l}for(;f();){if(8==l)return;if(":"!=f()){for(e=r=0;r<4&&O(Q,f());)e=16*e+R(f(),16),c++,r++;if("."==f()){if(0==r)return;if(c-=r,l>6)return;for(n=0;f();){if(i=null,n>0){if(!("."==f()&&n<4))return;c++}if(!O(K,f()))return;for(;O(K,f());){if(o=R(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;c++}u[l]=256*u[l]+i,2!=++n&&4!=n||l++}if(4!=n)return;break}if(":"==f()){if(c++,!f())return}else if(f())return;u[l++]=e}else{if(null!==h)return;c++,h=++l}}if(null!==h)for(a=l-h,l=7;0!=l&&a>0;)s=u[l],u[l--]=u[h+a-1],u[h+--a]=s;else if(8!=l)return;return u}(j(t,1,-1)),!e)return W;this.host=e}else if(this.isSpecial()){if(t=y(t),O(tt,t))return W;if(e=function(t){var e,r,n,i,o,a,s,u=G(t,".");if(u.length&&""==u[u.length-1]&&u.length--,(e=u.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(i=u[n]))return t;if(o=10,i.length>1&&"0"==N(i,0)&&(o=O(Y,i)?16:8,i=j(i,8==o?1:2)),""===i)a=0;else{if(!O(10==o?$:8==o?J:Q,i))return t;a=R(i,o)}F(r,a)}for(n=0;n<e;n++)if(a=r[n],n==e-1){if(a>=I(256,5-e))return null}else if(a>255)return null;for(s=L(r),n=0;n<r.length;n++)s+=r[n]*I(256,3-n);return s}(t),null===e)return W;this.host=e}else{if(O(et,t))return W;for(e="",r=v(t),n=0;n<r.length;n++)e+=lt(r[n],ot);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return d(ht,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&ct(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,l=e+":";return null!==i?(l+="//",t.includesCredentials()&&(l+=r+(n?":"+n:"")+"@"),l+=it(i),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+C(a,"/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},setHref:function(t){var e=this.parse(t);if(e)throw T(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Lt(t.path[0]).origin}catch(r){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+it(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(b(t)+":",pt)},getUsername:function(){return this.username},setUsername:function(t){var e=v(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=lt(e[r],ut)}},getPassword:function(){return this.password},setPassword:function(t){var e=v(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=lt(e[r],ut)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?it(t):it(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Mt)},getHostname:function(){var t=this.host;return null===t?"":it(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,St)},getPort:function(){var t=this.port;return null===t?"":b(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=b(t))?this.port=null:this.parse(t,At))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+C(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Pt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=b(t))?this.query=null:("?"==N(t,0)&&(t=j(t,1)),this.query="",this.parse(t,Ot)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=b(t))?("#"==N(t,0)&&(t=j(t,1)),this.fragment="",this.parse(t,Ct)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Lt=function(t){var e=f(this,Ft),r=arguments.length>1?arguments[1]:void 0,n=E(e,new Dt(t,!1,r));o||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Ft=Lt.prototype,Bt=function(t,e){return{get:function(){return M(this)[t]()},set:e&&function(t){return M(this)[e](t)},configurable:!0,enumerable:!0}};if(o&&h(Ft,{href:Bt("serialize","setHref"),origin:Bt("getOrigin"),protocol:Bt("getProtocol","setProtocol"),username:Bt("getUsername","setUsername"),password:Bt("getPassword","setPassword"),host:Bt("getHost","setHost"),hostname:Bt("getHostname","setHostname"),port:Bt("getPort","setPort"),pathname:Bt("getPathname","setPathname"),search:Bt("getSearch","setSearch"),searchParams:Bt("getSearchParams"),hash:Bt("getHash","setHash")}),c(Ft,"toJSON",(function(){return M(this).serialize()}),{enumerable:!0}),c(Ft,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),k){var Ut=k.createObjectURL,Gt=k.revokeObjectURL;Ut&&c(Lt,"createObjectURL",u(Ut,k)),Gt&&c(Lt,"revokeObjectURL",u(Gt,k))}_(Lt,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Lt})},29108:function(){},36433:function(t,e,r){var n=r(38087);t.exports=n},59072:function(t,e,r){var n=r(43314);t.exports=n},70028:function(t,e,r){var n=r(16672);t.exports=n},16808:function(t,e,r){var n=r(45475);t.exports=n},37162:function(t,e,r){var n=r(61700);t.exports=n},75045:function(t,e,r){var n=r(70049);t.exports=n},12633:function(t,e,r){var n=r(52288);r(47435),t.exports=n},73784:function(t,e,r){var n=r(68067);t.exports=n},41168:function(t,e,r){var n=r(57512);t.exports=n},85764:function(t,e,r){r(47435);var n=r(89829),i=r(25645),o=r(54765),a=r(70028),s=Array.prototype,u={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.entries;return t===s||o(s,t)&&e===s.entries||i(u,n(t))?a:e}},25575:function(t,e,r){var n=r(94443);t.exports=n},70810:function(t,e,r){var n=r(35267);t.exports=n},38362:function(t,e,r){var n=r(1283);t.exports=n},34944:function(t,e,r){r(47435);var n=r(89829),i=r(25645),o=r(54765),a=r(16808),s=Array.prototype,u={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===s||o(s,t)&&e===s.forEach||i(u,n(t))?a:e}},1706:function(t,e,r){var n=r(96061);t.exports=n},60070:function(t,e,r){var n=r(53253);t.exports=n},28471:function(t,e,r){r(47435);var n=r(89829),i=r(25645),o=r(54765),a=r(37162),s=Array.prototype,u={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.keys;return t===s||o(s,t)&&e===s.keys||i(u,n(t))?a:e}},3243:function(t,e,r){var n=r(54494);t.exports=n},12412:function(t,e,r){var n=r(35909);t.exports=n},6186:function(t,e,r){var n=r(61845);t.exports=n},1323:function(t,e,r){var n=r(10654);t.exports=n},31889:function(t,e,r){var n=r(35673);t.exports=n},2359:function(t,e,r){var n=r(8839);t.exports=n},5152:function(t,e,r){var n=r(63208);t.exports=n},25860:function(t,e,r){var n=r(51429);t.exports=n},49631:function(t,e,r){r(47435);var n=r(89829),i=r(25645),o=r(54765),a=r(75045),s=Array.prototype,u={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.values;return t===s||o(s,t)&&e===s.values||i(u,n(t))?a:e}},21452:function(t,e,r){var n=r(56945);t.exports=n},68522:function(t,e,r){var n=r(71916);r(47435),t.exports=n},72799:function(t,e,r){var n=r(80510);t.exports=n},91929:function(t,e,r){var n=r(31314);t.exports=n},61973:function(t,e,r){var n=r(16182);t.exports=n},91063:function(t,e,r){var n=r(88058);t.exports=n},68597:function(t,e,r){var n=r(79730);t.exports=n},88132:function(t,e,r){var n=r(93400);t.exports=n},71885:function(t,e,r){var n=r(5995);t.exports=n},5162:function(t,e,r){var n=r(72165);t.exports=n},26829:function(t,e,r){var n=r(56637);t.exports=n},6363:function(t,e,r){var n=r(46057);t.exports=n},37931:function(t,e,r){var n=r(40073);t.exports=n},3195:function(t,e,r){var n=r(47502);t.exports=n},28483:function(t,e,r){var n=r(8021);t.exports=n},9545:function(t,e,r){var n=r(29788);t.exports=n},63971:function(t,e,r){var n=r(87346);t.exports=n},67788:function(t,e,r){var n=r(22284);r(47435),t.exports=n},8561:function(t,e,r){var n=r(5893);t.exports=n},37204:function(t,e,r){var n=r(90955);t.exports=n},59571:function(t,e,r){r(72324);var n=r(20983);t.exports=n.setTimeout},70771:function(t,e,r){var n=r(18882);r(47435),t.exports=n},86863:function(t,e,r){var n=r(28009);r(47435),t.exports=n},74944:function(t,e,r){var n=r(11451);r(47435),t.exports=n},15660:function(t,e,r){var n=r(65842);t.exports=n},2702:function(t,e,r){var n=r(63312);t.exports=n},7481:function(t,e,r){var n=r(23583);r(47435),t.exports=n},63312:function(t,e,r){r(83589),r(29108),r(28892);var n=r(20983);t.exports=n.URL},78177:function(t,e,r){!function(e,n,i){var o;t.exports=(o=r(68926),r(53713),r(93074),r(68228),r(33650),function(){var t=o,e=t.lib.BlockCipher,r=t.algo,n=[],i=[],a=[],s=[],u=[],l=[],h=[],c=[],f=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,o=0;for(e=0;e<256;e++){var p=o^o<<1^o<<2^o<<3^o<<4;p=p>>>8^255&p^99,n[r]=p,i[p]=r;var v=t[r],m=t[v],g=t[m],y=257*t[p]^16843008*p;a[r]=y<<24|y>>>8,s[r]=y<<16|y>>>16,u[r]=y<<8|y>>>24,l[r]=y,y=16843009*g^65537*m^257*v^16843008*r,h[p]=y<<24|y>>>8,c[p]=y<<16|y>>>16,f[p]=y<<8|y>>>24,d[p]=y,r?(r=v^t[t[t[g^v]]],o^=t[t[o]]):r=o=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,i=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<i;a++)a<r?o[a]=e[a]:(l=o[a-1],a%r?r>6&&a%r==4&&(l=n[l>>>24]<<24|n[l>>>16&255]<<16|n[l>>>8&255]<<8|n[255&l]):(l=n[(l=l<<8|l>>>24)>>>24]<<24|n[l>>>16&255]<<16|n[l>>>8&255]<<8|n[255&l],l^=p[a/r|0]<<24),o[a]=o[a-r]^l);for(var s=this._invKeySchedule=[],u=0;u<i;u++){if(a=i-u,u%4)var l=o[a];else l=o[a-4];s[u]=u<4||a<=4?l:h[n[l>>>24]]^c[n[l>>>16&255]]^f[n[l>>>8&255]]^d[n[255&l]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,s,u,l,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,h,c,f,d,i),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,o,a,s){for(var u=this._nRounds,l=t[e]^r[0],h=t[e+1]^r[1],c=t[e+2]^r[2],f=t[e+3]^r[3],d=4,p=1;p<u;p++){var v=n[l>>>24]^i[h>>>16&255]^o[c>>>8&255]^a[255&f]^r[d++],m=n[h>>>24]^i[c>>>16&255]^o[f>>>8&255]^a[255&l]^r[d++],g=n[c>>>24]^i[f>>>16&255]^o[l>>>8&255]^a[255&h]^r[d++],y=n[f>>>24]^i[l>>>16&255]^o[h>>>8&255]^a[255&c]^r[d++];l=v,h=m,c=g,f=y}v=(s[l>>>24]<<24|s[h>>>16&255]<<16|s[c>>>8&255]<<8|s[255&f])^r[d++],m=(s[h>>>24]<<24|s[c>>>16&255]<<16|s[f>>>8&255]<<8|s[255&l])^r[d++],g=(s[c>>>24]<<24|s[f>>>16&255]<<16|s[l>>>8&255]<<8|s[255&h])^r[d++],y=(s[f>>>24]<<24|s[l>>>16&255]<<16|s[h>>>8&255]<<8|s[255&c])^r[d++],t[e]=v,t[e+1]=m,t[e+2]=g,t[e+3]=y},keySize:8});t.AES=e._createHelper(v)}(),o.AES)}()},33650:function(t,e,r){!function(e,n,i){var o;t.exports=(o=r(68926),r(68228),void(o.lib.Cipher||function(t){var e=o,r=e.lib,n=r.Base,i=r.WordArray,a=r.BufferedBlockAlgorithm,s=e.enc,u=(s.Utf8,s.Base64),l=e.algo.EvpKDF,h=r.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?b:g}return function(e){return{encrypt:function(r,n,i){return t(n).encrypt(e,r,n,i)},decrypt:function(r,n,i){return t(n).decrypt(e,r,n,i)}}}}()}),c=(r.StreamCipher=h.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),f=r.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),d=c.CBC=function(){var e=f.extend();function r(e,r,n){var i,o=this._iv;o?(i=o,this._iv=t):i=this._prevBlock;for(var a=0;a<n;a++)e[r+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;r.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),e.Decryptor=e.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=t.slice(e,e+i);n.decryptBlock(t,e),r.call(this,t,e,i),this._prevBlock=o}}),e}(),p=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,o=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(o);var u=i.create(a,n);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},v=(r.BlockCipher=h.extend({cfg:h.cfg.extend({mode:d,padding:p}),reset:function(){var t;h.reset.call(this);var e=this.cfg,r=e.iv,n=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=n.createEncryptor:(t=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(n,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),r.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),m=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;return(r?i.create([1398893684,1701076831]).concat(r).concat(e):e).toString(u)},parse:function(t){var e,r=u.parse(t),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(e=i.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),v.create({ciphertext:r,salt:e})}},g=r.SerializableCipher=n.extend({cfg:n.extend({format:m}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n),o=i.finalize(e),a=i.cfg;return v.create({ciphertext:o,key:r,iv:a.iv,algorithm:t,mode:a.mode,padding:a.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=i.random(8));var o=l.create({keySize:e+r}).compute(t,n),a=i.create(o.words.slice(e),4*r);return o.sigBytes=4*e,v.create({key:o,iv:a,salt:n})}},b=r.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:y}),encrypt:function(t,e,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=i.iv;var o=g.encrypt.call(this,t,e,i.key,n);return o.mixIn(i),o},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=i.iv,g.decrypt.call(this,t,e,i.key,n)}})}()))}()},68926:function(t,e,r){t.exports=function(){var t=t||function(t,e){var n;if("undefined"!==typeof window&&window.crypto&&(n=window.crypto),"undefined"!==typeof self&&self.crypto&&(n=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!==typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&"undefined"!==typeof r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(42480)}catch(m){}var i=function(){if(n){if("function"===typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(m){}if("function"===typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(m){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),a={},s=a.lib={},u=s.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=u.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;e[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var s=0;s<i;s+=4)e[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=u.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(i());return new l.init(e,t)}}),h=a.enc={},c=h.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new l.init(r,e/2)}},f=h.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var o=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new l.init(r,e)}},d=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},p=s.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=d.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r,n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),u=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,h=t.min(4*u,o);if(u){for(var c=0;c<u;c+=a)this._doProcessBlock(i,c);r=i.splice(0,u),n.sigBytes-=h}return new l.init(r,h)},clone:function(){var t=u.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),v=(s.Hasher=p.extend({cfg:u.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new v.HMAC.init(t,r).finalize(e)}}}),a.algo={});return a}(Math);return t}()},53713:function(t,e,r){!function(e,n){var i;t.exports=(i=r(68926),function(){var t=i,e=t.lib.WordArray;function r(t,r,n){for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n[t.charCodeAt(a-1)]<<a%4*2|n[t.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return e.create(i,o)}t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=t.indexOf(a);-1!==s&&(e=s)}return r(t,e,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},10886:function(t,e,r){!function(e,n){var i;t.exports=(i=r(68926),i.enc.Utf8)}()},68228:function(t,e,r){!function(e,n,i){var o;t.exports=(o=r(68926),r(25590),r(45086),function(){var t=o,e=t.lib,r=e.Base,n=e.WordArray,i=t.algo,a=i.MD5,s=i.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r,i=this.cfg,o=i.hasher.create(),a=n.create(),s=a.words,u=i.keySize,l=i.iterations;s.length<u;){r&&o.update(r),r=o.update(t).finalize(e),o.reset();for(var h=1;h<l;h++)r=o.finalize(r),o.reset();a.concat(r)}return a.sigBytes=4*u,a}});t.EvpKDF=function(t,e,r){return s.create(r).compute(t,e)}}(),o.EvpKDF)}()},45086:function(t,e,r){!function(e,n){var i;t.exports=(i=r(68926),void function(){var t=i,e=t.lib.Base,r=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=r.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),a=this._iKey=e.clone(),s=o.words,u=a.words,l=0;l<n;l++)s[l]^=1549556828,u[l]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})}())}()},93074:function(t,e,r){!function(e,n){var i;t.exports=(i=r(68926),function(t){var e=i,r=e.lib,n=r.WordArray,o=r.Hasher,a=e.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=a.MD5=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=t[e+0],u=t[e+1],d=t[e+2],p=t[e+3],v=t[e+4],m=t[e+5],g=t[e+6],y=t[e+7],b=t[e+8],_=t[e+9],w=t[e+10],x=t[e+11],E=t[e+12],M=t[e+13],S=t[e+14],A=t[e+15],k=o[0],T=o[1],R=o[2],P=o[3];k=l(k,T,R,P,a,7,s[0]),P=l(P,k,T,R,u,12,s[1]),R=l(R,P,k,T,d,17,s[2]),T=l(T,R,P,k,p,22,s[3]),k=l(k,T,R,P,v,7,s[4]),P=l(P,k,T,R,m,12,s[5]),R=l(R,P,k,T,g,17,s[6]),T=l(T,R,P,k,y,22,s[7]),k=l(k,T,R,P,b,7,s[8]),P=l(P,k,T,R,_,12,s[9]),R=l(R,P,k,T,w,17,s[10]),T=l(T,R,P,k,x,22,s[11]),k=l(k,T,R,P,E,7,s[12]),P=l(P,k,T,R,M,12,s[13]),R=l(R,P,k,T,S,17,s[14]),k=h(k,T=l(T,R,P,k,A,22,s[15]),R,P,u,5,s[16]),P=h(P,k,T,R,g,9,s[17]),R=h(R,P,k,T,x,14,s[18]),T=h(T,R,P,k,a,20,s[19]),k=h(k,T,R,P,m,5,s[20]),P=h(P,k,T,R,w,9,s[21]),R=h(R,P,k,T,A,14,s[22]),T=h(T,R,P,k,v,20,s[23]),k=h(k,T,R,P,_,5,s[24]),P=h(P,k,T,R,S,9,s[25]),R=h(R,P,k,T,p,14,s[26]),T=h(T,R,P,k,b,20,s[27]),k=h(k,T,R,P,M,5,s[28]),P=h(P,k,T,R,d,9,s[29]),R=h(R,P,k,T,y,14,s[30]),k=c(k,T=h(T,R,P,k,E,20,s[31]),R,P,m,4,s[32]),P=c(P,k,T,R,b,11,s[33]),R=c(R,P,k,T,x,16,s[34]),T=c(T,R,P,k,S,23,s[35]),k=c(k,T,R,P,u,4,s[36]),P=c(P,k,T,R,v,11,s[37]),R=c(R,P,k,T,y,16,s[38]),T=c(T,R,P,k,w,23,s[39]),k=c(k,T,R,P,M,4,s[40]),P=c(P,k,T,R,a,11,s[41]),R=c(R,P,k,T,p,16,s[42]),T=c(T,R,P,k,g,23,s[43]),k=c(k,T,R,P,_,4,s[44]),P=c(P,k,T,R,E,11,s[45]),R=c(R,P,k,T,A,16,s[46]),k=f(k,T=c(T,R,P,k,d,23,s[47]),R,P,a,6,s[48]),P=f(P,k,T,R,y,10,s[49]),R=f(R,P,k,T,S,15,s[50]),T=f(T,R,P,k,m,21,s[51]),k=f(k,T,R,P,E,6,s[52]),P=f(P,k,T,R,p,10,s[53]),R=f(R,P,k,T,w,15,s[54]),T=f(T,R,P,k,u,21,s[55]),k=f(k,T,R,P,b,6,s[56]),P=f(P,k,T,R,A,10,s[57]),R=f(R,P,k,T,g,15,s[58]),T=f(T,R,P,k,M,21,s[59]),k=f(k,T,R,P,v,6,s[60]),P=f(P,k,T,R,x,10,s[61]),R=f(R,P,k,T,d,15,s[62]),T=f(T,R,P,k,_,21,s[63]),o[0]=o[0]+k|0,o[1]=o[1]+T|0,o[2]=o[2]+R|0,o[3]=o[3]+P|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,u=s.words,l=0;l<4;l++){var h=u[l];u[l]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}return s},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}});function l(t,e,r,n,i,o,a){var s=t+(e&r|~e&n)+i+a;return(s<<o|s>>>32-o)+e}function h(t,e,r,n,i,o,a){var s=t+(e&n|r&~n)+i+a;return(s<<o|s>>>32-o)+e}function c(t,e,r,n,i,o,a){var s=t+(e^r^n)+i+a;return(s<<o|s>>>32-o)+e}function f(t,e,r,n,i,o,a){var s=t+(r^(e|~n))+i+a;return(s<<o|s>>>32-o)+e}e.MD5=o._createHelper(u),e.HmacMD5=o._createHmacHelper(u)}(Math),i.MD5)}()},25590:function(t,e,r){!function(e,n){var i;t.exports=(i=r(68926),function(){var t=i,e=t.lib,r=e.WordArray,n=e.Hasher,o=t.algo,a=[],s=o.SHA1=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],u=r[4],l=0;l<80;l++){if(l<16)a[l]=0|t[e+l];else{var h=a[l-3]^a[l-8]^a[l-14]^a[l-16];a[l]=h<<1|h>>>31}var c=(n<<5|n>>>27)+u+a[l];c+=l<20?1518500249+(i&o|~i&s):l<40?1859775393+(i^o^s):l<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,u=s,s=o,o=i<<30|i>>>2,i=n,n=c}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=n._createHelper(s),t.HmacSHA1=n._createHmacHelper(s)}(),i.SHA1)}()},57089:function(t){"use strict";function e(t,e,o){o=o||2;var a,s,u,c,f,p,v,m=e&&e.length,g=m?e[0]*o:t.length,y=r(t,0,g,o,!0),b=[];if(!y||y.next===y.prev)return b;if(m&&(y=function(t,e,i,o){var a,s,u,c=[];for(a=0,s=e.length;a<s;a++)(u=r(t,e[a]*o,a<s-1?e[a+1]*o:t.length,o,!1))===u.next&&(u.steiner=!0),c.push(d(u));for(c.sort(l),a=0;a<c.length;a++)i=n(i=h(c[a],i),i.next);return i}(t,e,y,o)),t.length>80*o){a=u=t[0],s=c=t[1];for(var _=o;_<g;_+=o)(f=t[_])<a&&(a=f),(p=t[_+1])<s&&(s=p),f>u&&(u=f),p>c&&(c=p);v=0!==(v=Math.max(u-a,c-s))?1/v:0}return i(y,b,o,a,s,v),b}function r(t,e,r,n,i){var o,a;if(i===A(t,e,r,n)>0)for(o=e;o<r;o+=n)a=E(o,t[o],t[o+1],a);else for(o=r-n;o>=e;o-=n)a=E(o,t[o],t[o+1],a);return a&&g(a,a.next)&&(M(a),a=a.next),a}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!g(n,n.next)&&0!==m(n.prev,n,n.next))n=n.next;else{if(M(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function i(t,e,r,l,h,c,d){if(t){!d&&c&&function(t,e,r,n){var i=t;do{null===i.z&&(i.z=f(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,o,a,s,u,l=1;do{for(r=t,t=null,o=null,a=0;r;){for(a++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ);e++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,l*=2}while(a>1)}(i)}(t,l,h,c);for(var p,v,m=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?a(t,l,h,c):o(t))e.push(p.i/r),e.push(t.i/r),e.push(v.i/r),M(t),t=v.next,m=v.next;else if((t=v)===m){d?1===d?i(t=s(n(t),e,r),e,r,l,h,c,2):2===d&&u(t,e,r,l,h,c):i(n(t),e,r,l,h,c,1);break}}}function o(t){var e=t.prev,r=t,n=t.next;if(m(e,r,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(p(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&&m(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function a(t,e,r,n){var i=t.prev,o=t,a=t.next;if(m(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,h=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,c=f(s,u,e,r,n),d=f(l,h,e,r,n),v=t.prevZ,g=t.nextZ;v&&v.z>=c&&g&&g.z<=d;){if(v!==t.prev&&v!==t.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,g!==t.prev&&g!==t.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;v&&v.z>=c;){if(v!==t.prev&&v!==t.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;g&&g.z<=d;){if(g!==t.prev&&g!==t.next&&p(i.x,i.y,o.x,o.y,a.x,a.y,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function s(t,e,r){var i=t;do{var o=i.prev,a=i.next.next;!g(o,a)&&y(o,i,i.next,a)&&w(o,a)&&w(a,o)&&(e.push(o.i/r),e.push(i.i/r),e.push(a.i/r),M(i),M(i.next),i=t=a),i=i.next}while(i!==t);return n(i)}function u(t,e,r,o,a,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var h=x(u,l);return u=n(u,u.next),h=n(h,h.next),i(u,e,r,o,a,s),void i(h,e,r,o,a,s)}l=l.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function h(t,e){var r=function(t,e){var r,n=e,i=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a){if(a=s,s===i){if(o===n.y)return n;if(o===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===a)return r;var u,l=r,h=r.x,f=r.y,d=1/0;n=r;do{i>=n.x&&n.x>=h&&i!==n.x&&p(o<f?i:a,o,h,f,o<f?a:i,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(i-n.x),w(n,t)&&(u<d||u===d&&(n.x>r.x||n.x===r.x&&c(r,n)))&&(r=n,d=u)),n=n.next}while(n!==l);return r}(t,e);if(!r)return e;var i=x(r,t),o=n(r,r.next);return n(i,i.next),e===r?o:e}function c(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function f(t,e,r,n,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function p(t,e,r,n,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(r-a)*(e-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&y(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(w(t,e)&&w(e,t)&&function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!==r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||g(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function y(t,e,r,n){var i=_(m(t,e,r)),o=_(m(t,e,n)),a=_(m(r,n,t)),s=_(m(r,n,e));return i!==o&&a!==s||(!(0!==i||!b(t,r,e))||(!(0!==o||!b(t,n,e))||(!(0!==a||!b(r,t,n))||!(0!==s||!b(r,e,n)))))}function b(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function _(t){return t>0?1:t<0?-1:0}function w(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function x(t,e){var r=new S(t.i,t.x,t.y),n=new S(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function E(t,e,r,n){var i=new S(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function M(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,r,n){for(var i=0,o=e,a=r-n;o<r;o+=n)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,a=Math.abs(A(t,0,o,r));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,h=s<u-1?e[s+1]*r:t.length;a-=Math.abs(A(t,l,h,r))}var c=0;for(s=0;s<n.length;s+=3){var f=n[s]*r,d=n[s+1]*r,p=n[s+2]*r;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)r.vertices.push(t[i][o][a]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r}},60186:function(t,e,r){"use strict";r.r(e),r.d(e,{BaseContract:function(){return Ln},BigNumber:function(){return ni},Contract:function(){return Fn},ContractFactory:function(){return Bn},FixedNumber:function(){return yi},Signer:function(){return Si},VoidSigner:function(){return Ai},Wallet:function(){return Ko},Wordlist:function(){return bl},constants:function(){return n},errors:function(){return k},ethers:function(){return u},getDefaultProvider:function(){return il},logger:function(){return iw},providers:function(){return i},utils:function(){return s},version:function(){return nw},wordlists:function(){return Ml}});var n={};r.r(n),r.d(n,{AddressZero:function(){return $o},EtherSymbol:function(){return ka},HashZero:function(){return Aa},MaxInt256:function(){return Sa},MaxUint256:function(){return Ea},MinInt256:function(){return Ma},NegativeOne:function(){return ya},One:function(){return _a},Two:function(){return wa},WeiPerEther:function(){return xa},Zero:function(){return ba}});var i={};r.r(i),r.d(i,{AlchemyProvider:function(){return du},AlchemyWebSocketProvider:function(){return fu},BaseProvider:function(){return Gs},CloudflareProvider:function(){return mu},EtherscanProvider:function(){return Su},FallbackProvider:function(){return ju},Formatter:function(){return fs},InfuraProvider:function(){return qu},InfuraWebSocketProvider:function(){return Wu},IpcProvider:function(){return zu},JsonRpcBatchProvider:function(){return Xu},JsonRpcProvider:function(){return Qs},JsonRpcSigner:function(){return Ys},NodesmithProvider:function(){return Ku},PocketProvider:function(){return $u},Provider:function(){return ar},Resolver:function(){return Fs},StaticJsonRpcProvider:function(){return uu},UrlJsonRpcProvider:function(){return lu},Web3Provider:function(){return rl},WebSocketProvider:function(){return ou},getDefaultProvider:function(){return il},getNetwork:function(){return Da},isCommunityResourcable:function(){return ds},isCommunityResource:function(){return ps},showThrottleMessage:function(){return ms}});var o={};r.r(o),r.d(o,{decode:function(){return wc},encode:function(){return xc}});var a={};r.r(a),r.d(a,{decode:function(){return Im},encode:function(){return Tm}});var s={};r.r(s),r.d(s,{AbiCoder:function(){return gh},ConstructorFragment:function(){return ah},ErrorFragment:function(){return lh},EventFragment:function(){return rh},FormatTypes:function(){return Jl},Fragment:function(){return eh},FunctionFragment:function(){return sh},HDNode:function(){return _v},Indexed:function(){return Eh},Interface:function(){return Ah},LogDescription:function(){return _h},Logger:function(){return P},ParamType:function(){return Ql},RLP:function(){return a},SigningKey:function(){return Tg},SupportedAlgorithm:function(){return zv},TransactionDescription:function(){return wh},TransactionTypes:function(){return Wb},UnicodeNormalizationForm:function(){return jg},Utf8ErrorFuncs:function(){return Wg},Utf8ErrorReason:function(){return zg},_TypedDataEncoder:function(){return xd},_fetchData:function(){return tw},_toEscapedUtf8String:function(){return Kg},accessListify:function(){return e_},arrayify:function(){return Bc},base58:function(){return Ic},base64:function(){return o},checkProperties:function(){return pt},checkResultErrors:function(){return kl},commify:function(){return E_},computeAddress:function(){return Jb},computeHmac:function(){return Xv},computePublicKey:function(){return Pg},concat:function(){return Uc},deepCopy:function(){return bt},defaultAbiCoder:function(){return yh},defaultPath:function(){return bv},defineReadOnly:function(){return ct},dnsEncode:function(){return Uf},entropyToMnemonic:function(){return Ev},fetchJson:function(){return ew},formatBytes32String:function(){return hy},formatEther:function(){return A_},formatUnits:function(){return M_},getAccountPath:function(){return Sv},getAddress:function(){return lc},getContractAddress:function(){return fc},getCreate2Address:function(){return dc},getIcapAddress:function(){return cc},getJsonWalletAddress:function(){return Av},getStatic:function(){return ft},hashMessage:function(){return Gf},hexConcat:function(){return Xc},hexDataLength:function(){return Wc},hexDataSlice:function(){return qc},hexStripZeros:function(){return Kc},hexValue:function(){return Zc},hexZeroPad:function(){return Yc},hexlify:function(){return Vc},id:function(){return jf},isAddress:function(){return hc},isBytes:function(){return Fc},isBytesLike:function(){return Dc},isHexString:function(){return zc},isValidMnemonic:function(){return Mv},isValidName:function(){return Ff},joinSignature:function(){return $c},keccak256:function(){return Cv},mnemonicToEntropy:function(){return xv},mnemonicToSeed:function(){return wv},namehash:function(){return Bf},nameprep:function(){return ly},parseBytes32String:function(){return cy},parseEther:function(){return k_},parseTransaction:function(){return s_},parseUnits:function(){return S_},poll:function(){return rw},randomBytes:function(){return fm},recoverAddress:function(){return $b},recoverPublicKey:function(){return Rg},resolveProperties:function(){return dt},ripemd160:function(){return Vv},serializeTransaction:function(){return o_},sha256:function(){return Wv},sha512:function(){return qv},shallowCopy:function(){return vt},shuffled:function(){return dm},solidityKeccak256:function(){return tm},solidityPack:function(){return Qv},soliditySha256:function(){return em},splitSignature:function(){return Jc},stripZeros:function(){return Gc},toUtf8Bytes:function(){return Xg},toUtf8CodePoints:function(){return $g},toUtf8String:function(){return Jg},verifyMessage:function(){return Yo},verifyTypedData:function(){return Jo},zeroPad:function(){return jc}});var u={};r.r(u),r.d(u,{BaseContract:function(){return Ln},BigNumber:function(){return ni},Contract:function(){return Fn},ContractFactory:function(){return Bn},FixedNumber:function(){return yi},Signer:function(){return Si},VoidSigner:function(){return Ai},Wallet:function(){return Ko},Wordlist:function(){return bl},constants:function(){return n},errors:function(){return k},getDefaultProvider:function(){return il},logger:function(){return iw},providers:function(){return i},utils:function(){return s},version:function(){return nw},wordlists:function(){return Ml}});var l=r(30907);var h=r(40181);function c(t){return function(t){if(Array.isArray(t))return(0,l.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,h.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=r(97326),d=r(11752),p=r(61120),v=r(79340),m=r(54062),g=r(15671),y=r(43144),b=r(87757),_=r.n(b),w=!1,x=!1,E={debug:1,default:2,info:2,warning:3,error:4,off:5},M=E.default,S=null;var A,k,T=function(){try{var t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(e){try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(A||(A={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(k||(k={}));var R="0123456789abcdef",P=function(){function t(e){(0,g.Z)(this,t),Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}return(0,y.Z)(t,[{key:"_log",value:function(t,e){var r=t.toLowerCase();null==E[r]&&this.throwArgumentError("invalid log level name","logLevel",t),M>E[r]||console.log.apply(console,e)}},{key:"debug",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this._log(t.levels.DEBUG,r)}},{key:"info",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this._log(t.levels.INFO,r)}},{key:"warn",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this._log(t.levels.WARNING,r)}},{key:"makeError",value:function(e,r,n){if(x)return this.makeError("censored error",r,{});r||(r=t.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(t){var e=n[t];try{if(e instanceof Uint8Array){for(var r="",o=0;o<e.length;o++)r+=R[e[o]>>4],r+=R[15&e[o]];i.push(t+"=Uint8Array(0x"+r+")")}else i.push(t+"="+JSON.stringify(e))}catch(u){i.push(t+"="+JSON.stringify(n[t].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var o=e,a="";switch(r){case k.NUMERIC_FAULT:a="NUMERIC_FAULT";var s=e;switch(s){case"overflow":case"underflow":case"division-by-zero":a+="-"+s;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break;case k.CALL_EXCEPTION:case k.INSUFFICIENT_FUNDS:case k.MISSING_NEW:case k.NONCE_EXPIRED:case k.REPLACEMENT_UNDERPRICED:case k.TRANSACTION_REPLACED:case k.UNPREDICTABLE_GAS_LIMIT:a=r}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");var u=new Error(e);return u.reason=o,u.code=r,Object.keys(n).forEach((function(t){u[t]=n[t]})),u}},{key:"throwError",value:function(t,e,r){throw this.makeError(t,e,r)}},{key:"throwArgumentError",value:function(e,r,n){return this.throwError(e,t.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(t,e,r,n){t||this.throwError(e,r,n)}},{key:"assertArgument",value:function(t,e,r,n){t||this.throwArgumentError(e,r,n)}},{key:"checkNormalize",value:function(e){null==e&&(e="platform missing String.prototype.normalize"),T&&this.throwError("platform missing String.prototype.normalize",t.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:T})}},{key:"checkSafeUint53",value:function(e,r){"number"===typeof e&&(null==r&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,t.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,t.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}},{key:"checkArgumentCount",value:function(e,r,n){n=n?": "+n:"",e<r&&this.throwError("missing argument"+n,t.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,t.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}},{key:"checkNew",value:function(e,r){e!==Object&&null!=e||this.throwError("missing new",t.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",t.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",t.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return S||(S=new t("logger/5.6.0")),S}},{key:"setCensorship",value:function(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",t.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),w){if(!e)return;this.globalLogger().throwError("error censorship permanent",t.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}x=!!e,w=!!r}},{key:"setLogLevel",value:function(e){var r=E[e.toLowerCase()];null!=r?M=r:t.globalLogger().warn("invalid log level - "+e)}},{key:"from",value:function(e){return new t(e)}}]),t}();P.errors=k,P.levels=A;var I=new P("bytes/5.6.1");function N(t){return!!t.toHexString}function O(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return O(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function C(t){return j(t)&&!(t.length%2)||L(t)}function D(t){return"number"===typeof t&&t==t&&t%1===0}function L(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!D(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!D(r)||r<0||r>=256)return!1}return!0}function F(t,e){if(e||(e={}),"number"===typeof t){I.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),O(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),N(t)&&(t=t.toHexString()),j(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":I.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return O(new Uint8Array(i))}return L(t)?O(new Uint8Array(t)):I.throwArgumentError("invalid arrayify value","value",t)}function B(t){var e=t.map((function(t){return F(t)})),r=e.reduce((function(t,e){return t+e.length}),0),n=new Uint8Array(r);return e.reduce((function(t,e){return n.set(e,t),t+e.length}),0),O(n)}function U(t){var e=F(t);if(0===e.length)return e;for(var r=0;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function G(t,e){(t=F(t)).length>e&&I.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(e);return r.set(t,e-t.length),O(r)}function j(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var z="0123456789abcdef";function H(t,e){if(e||(e={}),"number"===typeof t){I.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=z[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),N(t))return t.toHexString();if(j(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":I.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(L(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=z[(240&o)>>4]+z[15&o]}return n}return I.throwArgumentError("invalid hexlify value","value",t)}function V(t){if("string"!==typeof t)t=H(t);else if(!j(t)||t.length%2)return null;return(t.length-2)/2}function W(t,e,r){return"string"!==typeof t?t=H(t):(!j(t)||t.length%2)&&I.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function q(t){var e="0x";return t.forEach((function(t){e+=H(t).substring(2)})),e}function X(t){var e=function(t){"string"!==typeof t&&(t=H(t));j(t)||I.throwArgumentError("invalid hex string","value",t);t=t.substring(2);var e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(H(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function Z(t,e){for("string"!==typeof t?t=H(t):j(t)||I.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&I.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function K(t){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(C(t)){var r=F(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=H(r.slice(0,32)),e.s=H(r.slice(32,64))):65===r.length?(e.r=H(r.slice(0,32)),e.s=H(r.slice(32,64)),e.v=r[64]):I.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:I.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=H(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){var n=G(F(e._vs),32);e._vs=H(n);var i=n[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=i:e.recoveryParam!==i&&I.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),n[0]&=127;var o=H(n);null==e.s?e.s=o:e.s!==o&&I.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?I.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{var a=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==a&&I.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&j(e.r)?e.r=Z(e.r,32):I.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&j(e.s)?e.s=Z(e.s,32):I.throwArgumentError("signature missing or invalid s","signature",t);var s=F(e.s);s[0]>=128&&I.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(s[0]|=128);var u=H(s);e._vs&&(j(e._vs)||I.throwArgumentError("signature invalid _vs","signature",t),e._vs=Z(e._vs,32)),null==e._vs?e._vs=u:e._vs!==u&&I.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Y(t){return H(B([(t=K(t)).r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}var J=r(63244),$="bignumber/5.6.2",Q=r.n(J)().BN,tt=new P($),et={},rt=9007199254740991;var nt=!1,it=function(){function t(e,r){(0,g.Z)(this,t),e!==et&&tt.throwError("cannot call constructor directly; use BigNumber.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"fromTwos",value:function(t){return at(st(this).fromTwos(t))}},{key:"toTwos",value:function(t){return at(st(this).toTwos(t))}},{key:"abs",value:function(){return"-"===this._hex[0]?t.from(this._hex.substring(1)):this}},{key:"add",value:function(t){return at(st(this).add(st(t)))}},{key:"sub",value:function(t){return at(st(this).sub(st(t)))}},{key:"div",value:function(e){return t.from(e).isZero()&&ut("division-by-zero","div"),at(st(this).div(st(e)))}},{key:"mul",value:function(t){return at(st(this).mul(st(t)))}},{key:"mod",value:function(t){var e=st(t);return e.isNeg()&&ut("division-by-zero","mod"),at(st(this).umod(e))}},{key:"pow",value:function(t){var e=st(t);return e.isNeg()&&ut("negative-power","pow"),at(st(this).pow(e))}},{key:"and",value:function(t){var e=st(t);return(this.isNegative()||e.isNeg())&&ut("unbound-bitwise-result","and"),at(st(this).and(e))}},{key:"or",value:function(t){var e=st(t);return(this.isNegative()||e.isNeg())&&ut("unbound-bitwise-result","or"),at(st(this).or(e))}},{key:"xor",value:function(t){var e=st(t);return(this.isNegative()||e.isNeg())&&ut("unbound-bitwise-result","xor"),at(st(this).xor(e))}},{key:"mask",value:function(t){return(this.isNegative()||t<0)&&ut("negative-width","mask"),at(st(this).maskn(t))}},{key:"shl",value:function(t){return(this.isNegative()||t<0)&&ut("negative-width","shl"),at(st(this).shln(t))}},{key:"shr",value:function(t){return(this.isNegative()||t<0)&&ut("negative-width","shr"),at(st(this).shrn(t))}},{key:"eq",value:function(t){return st(this).eq(st(t))}},{key:"lt",value:function(t){return st(this).lt(st(t))}},{key:"lte",value:function(t){return st(this).lte(st(t))}},{key:"gt",value:function(t){return st(this).gt(st(t))}},{key:"gte",value:function(t){return st(this).gte(st(t))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return st(this).isZero()}},{key:"toNumber",value:function(){try{return st(this).toNumber()}catch(t){ut("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(t){}return tt.throwError("this platform does not support BigInt",P.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?nt||(nt=!0,tt.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?tt.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",P.errors.UNEXPECTED_ARGUMENT,{}):tt.throwError("BigNumber.toString does not accept parameters",P.errors.UNEXPECTED_ARGUMENT,{})),st(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(t){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(e){if(e instanceof t)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new t(et,ot(e)):e.match(/^-?[0-9]+$/)?new t(et,ot(new Q(e))):tt.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&ut("underflow","BigNumber.from",e),(e>=rt||e<=-rt)&&ut("overflow","BigNumber.from",e),t.from(String(e));var r=e;if("bigint"===typeof r)return t.from(r.toString());if(L(r))return t.from(H(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"===typeof n)return t.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"===typeof i&&(j(i)||"-"===i[0]&&j(i.substring(1))))return t.from(i)}return tt.throwArgumentError("invalid BigNumber value","value",e)}},{key:"isBigNumber",value:function(t){return!(!t||!t._isBigNumber)}}]),t}();function ot(t){if("string"!==typeof t)return ot(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&tt.throwArgumentError("invalid hex","value",t),"0x00"===(t=ot(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function at(t){return it.from(ot(t))}function st(t){var e=it.from(t).toHexString();return"-"===e[0]?new Q("-"+e.substring(3),16):new Q(e.substring(2),16)}function ut(t,e,r){var n={fault:t,operation:e};return null!=r&&(n.value=r),tt.throwError(t,P.errors.NUMERIC_FAULT,n)}var lt=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},ht=new P("properties/5.6.0");function ct(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function ft(t,e){for(var r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!==typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function dt(t){return lt(this,void 0,void 0,_().mark((function e(){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.keys(t).map((function(e){var r=t[e];return Promise.resolve(r).then((function(t){return{key:e,value:t}}))})),e.next=3,Promise.all(r);case 3:return n=e.sent,e.abrupt("return",n.reduce((function(t,e){return t[e.key]=e.value,t}),{}));case 5:case"end":return e.stop()}}),e)})))}function pt(t,e){t&&"object"===typeof t||ht.throwArgumentError("invalid object","object",t),Object.keys(t).forEach((function(r){e[r]||ht.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)}))}function vt(t){var e={};for(var r in t)e[r]=t[r];return e}var mt={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function gt(t){if(void 0===t||null===t||mt[typeof t])return!0;if(Array.isArray(t)||"object"===typeof t){if(!Object.isFrozen(t))return!1;for(var e=Object.keys(t),r=0;r<e.length;r++){var n=null;try{n=t[e[r]]}catch(i){continue}if(!gt(n))return!1}return!0}return ht.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function yt(t){if(gt(t))return t;if(Array.isArray(t))return Object.freeze(t.map((function(t){return bt(t)})));if("object"===typeof t){var e={};for(var r in t){var n=t[r];void 0!==n&&ct(e,r,bt(n))}return e}return ht.throwArgumentError("Cannot deepCopy ".concat(typeof t),"object",t)}function bt(t){return yt(t)}var _t=(0,y.Z)((function t(e){for(var r in(0,g.Z)(this,t),e)this[r]=bt(e[r])})),wt="abi/5.6.4",xt=new P(wt);var Et=function(){function t(e,r,n,i){(0,g.Z)(this,t),this.name=e,this.type=r,this.localName=n,this.dynamic=i}return(0,y.Z)(t,[{key:"_throwError",value:function(t,e){xt.throwArgumentError(t,this.localName,e)}}]),t}(),Mt=function(){function t(e){(0,g.Z)(this,t),ct(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}return(0,y.Z)(t,[{key:"data",get:function(){return q(this._data)}},{key:"length",get:function(){return this._dataLength}},{key:"_writeData",value:function(t){return this._data.push(t),this._dataLength+=t.length,t.length}},{key:"appendWriter",value:function(t){return this._writeData(B(t._data))}},{key:"writeBytes",value:function(t){var e=F(t),r=e.length%this.wordSize;return r&&(e=B([e,this._padding.slice(r)])),this._writeData(e)}},{key:"_getValue",value:function(t){var e=F(it.from(t));return e.length>this.wordSize&&xt.throwError("value out-of-bounds",P.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=B([this._padding.slice(e.length%this.wordSize),e])),e}},{key:"writeValue",value:function(t){return this._writeData(this._getValue(t))}},{key:"writeUpdatableValue",value:function(){var t=this,e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(r){t._data[e]=t._getValue(r)}}}]),t}(),St=function(){function t(e,r,n,i){(0,g.Z)(this,t),ct(this,"_data",F(e)),ct(this,"wordSize",r||32),ct(this,"_coerceFunc",n),ct(this,"allowLoose",i),this._offset=0}return(0,y.Z)(t,[{key:"data",get:function(){return H(this._data)}},{key:"consumed",get:function(){return this._offset}},{key:"coerce",value:function(e,r){return this._coerceFunc?this._coerceFunc(e,r):t.coerce(e,r)}},{key:"_peekBytes",value:function(t,e,r){var n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:xt.throwError("data out-of-bounds",P.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}},{key:"subReader",value:function(e){return new t(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}},{key:"readBytes",value:function(t,e){var r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}},{key:"readValue",value:function(){return it.from(this.readBytes(this.wordSize))}}],[{key:"coerce",value:function(t,e){var r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}}]),t}(),At=r(27898),kt=r.n(At);function Tt(t){return"0x"+kt().keccak_256(F(t))}var Rt=new P("rlp/5.6.1");function Pt(t){for(var e=[];t;)e.unshift(255&t),t>>=8;return e}function It(t,e,r){for(var n=0,i=0;i<r;i++)n=256*n+t[e+i];return n}function Nt(t){if(Array.isArray(t)){var e=[];if(t.forEach((function(t){e=e.concat(Nt(t))})),e.length<=55)return e.unshift(192+e.length),e;var r=Pt(e.length);return r.unshift(247+r.length),r.concat(e)}C(t)||Rt.throwArgumentError("RLP object must be BytesLike","object",t);var n=Array.prototype.slice.call(F(t));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=Pt(n.length);return i.unshift(183+i.length),i.concat(n)}function Ot(t){return H(Nt(t))}function Ct(t,e,r,n){for(var i=[];r<e+1+n;){var o=Dt(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&Rt.throwError("child data too short",P.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Dt(t,e){if(0===t.length&&Rt.throwError("data too short",P.errors.BUFFER_OVERRUN,{}),t[e]>=248){var r=t[e]-247;e+1+r>t.length&&Rt.throwError("data short segment too short",P.errors.BUFFER_OVERRUN,{});var n=It(t,e+1,r);return e+1+r+n>t.length&&Rt.throwError("data long segment too short",P.errors.BUFFER_OVERRUN,{}),Ct(t,e,e+1+r,r+n)}if(t[e]>=192){var i=t[e]-192;return e+1+i>t.length&&Rt.throwError("data array too short",P.errors.BUFFER_OVERRUN,{}),Ct(t,e,e+1,i)}if(t[e]>=184){var o=t[e]-183;e+1+o>t.length&&Rt.throwError("data array too short",P.errors.BUFFER_OVERRUN,{});var a=It(t,e+1,o);return e+1+o+a>t.length&&Rt.throwError("data array too short",P.errors.BUFFER_OVERRUN,{}),{consumed:1+o+a,result:H(t.slice(e+1+o,e+1+o+a))}}if(t[e]>=128){var s=t[e]-128;return e+1+s>t.length&&Rt.throwError("data too short",P.errors.BUFFER_OVERRUN,{}),{consumed:1+s,result:H(t.slice(e+1,e+1+s))}}return{consumed:1,result:H(t[e])}}function Lt(t){var e=F(t),r=Dt(e,0);return r.consumed!==e.length&&Rt.throwArgumentError("invalid rlp data","data",t),r.result}var Ft=new P("address/5.6.1");function Bt(t){j(t,20)||Ft.throwArgumentError("invalid address","address",t);for(var e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=e[n].charCodeAt(0);for(var i=F(Tt(r)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(15&i[o>>1])>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}for(var Ut={},Gt=0;Gt<10;Gt++)Ut[String(Gt)]=String(Gt);for(var jt=0;jt<26;jt++)Ut[String.fromCharCode(65+jt)]=String(10+jt);var zt,Ht=Math.floor((zt=9007199254740991,Math.log10?Math.log10(zt):Math.log(zt)/Math.LN10));function Vt(t){for(var e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((function(t){return Ut[t]})).join("");e.length>=Ht;){var r=e.substring(0,Ht);e=parseInt(r,10)%97+e.substring(r.length)}for(var n=String(98-parseInt(e,10)%97);n.length<2;)n="0"+n;return n}function Wt(t){var e,r=null;if("string"!==typeof t&&Ft.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),r=Bt(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&r!==t&&Ft.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Vt(t)&&Ft.throwArgumentError("bad icap checksum","address",t),e=t.substring(4),r=new Q(e,36).toString(16);r.length<40;)r="0"+r;r=Bt("0x"+r)}else Ft.throwArgumentError("invalid address","address",t);return r}function qt(t){var e=null;try{e=Wt(t.from)}catch(r){Ft.throwArgumentError("missing from address","transaction",t)}return Wt(W(Tt(Ot([e,U(F(it.from(t.nonce).toHexString()))])),12))}var Xt,Zt,Kt=new P("strings/5.6.1");function Yt(t,e,r,n,i){if(t===Zt.BAD_PREFIX||t===Zt.UNEXPECTED_CONTINUE){for(var o=0,a=e+1;a<r.length&&r[a]>>6===2;a++)o++;return o}return t===Zt.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Xt||(Xt={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Zt||(Zt={}));var Jt=Object.freeze({error:function(t,e,r,n,i){return Kt.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:Yt,replace:function(t,e,r,n,i){return t===Zt.OVERLONG?(n.push(i),0):(n.push(65533),Yt(t,e,r))}});function $t(t,e){null==e&&(e=Jt.error),t=F(t);for(var r=[],n=0;n<t.length;){var i=t[n++];if(i>>7!==0){var o=null,a=null;if(192===(224&i))o=1,a=127;else if(224===(240&i))o=2,a=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?Zt.UNEXPECTED_CONTINUE:Zt.BAD_PREFIX,n-1,t,r);continue}o=3,a=65535}if(n-1+o>=t.length)n+=e(Zt.OVERRUN,n-1,t,r);else{for(var s=i&(1<<8-o-1)-1,u=0;u<o;u++){var l=t[n];if(128!=(192&l)){n+=e(Zt.MISSING_CONTINUE,n,t,r),s=null;break}s=s<<6|63&l,n++}null!==s&&(s>1114111?n+=e(Zt.OUT_OF_RANGE,n-1-o,t,r,s):s>=55296&&s<=57343?n+=e(Zt.UTF16_SURROGATE,n-1-o,t,r,s):s<=a?n+=e(Zt.OVERLONG,n-1-o,t,r,s):r.push(s))}}else r.push(i)}return r}function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt.current;e!=Xt.current&&(Kt.checkNormalize(),t=t.normalize(e));for(var r=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var o=t.charCodeAt(n);if(n>=t.length||56320!==(64512&o))throw new Error("invalid utf-8 string");var a=65536+((1023&i)<<10)+(1023&o);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return F(r)}function te(t){return t.map((function(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t)))})).join("")}function ee(t,e){return te($t(t,e))}function re(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt.current;return $t(Qt(t,e))}function ne(t){return Tt(Qt(t))}var ie=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){return(0,g.Z)(this,r),e.call(this,"address","address",t,!1)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(t,e){try{e=Wt(e)}catch(r){this._throwError(r.message,e)}return t.writeValue(e)}},{key:"decode",value:function(t){return Wt(Z(t.readValue().toHexString(),20))}}]),r}(Et),oe=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){var n;return(0,g.Z)(this,r),(n=e.call(this,t.name,t.type,void 0,t.dynamic)).coder=t,n}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(t,e){return this.coder.encode(t,e)}},{key:"decode",value:function(t){return this.coder.decode(t)}}]),r}(Et),ae=new P(wt);function se(t,e,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){var i={};n=e.map((function(t){var e=t.localName;return e||ae.throwError("cannot encode object for signature with missing names",P.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),i[e]&&ae.throwError("cannot encode object for signature with duplicate names",P.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),i[e]=!0,r[e]}))}else ae.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&ae.throwArgumentError("types/value length mismatch","tuple",r);var o=new Mt(t.wordSize),a=new Mt(t.wordSize),s=[];e.forEach((function(t,e){var r=n[e];if(t.dynamic){var i=a.length;t.encode(a,r);var u=o.writeUpdatableValue();s.push((function(t){u(t+i)}))}else t.encode(o,r)})),s.forEach((function(t){t(o.length)}));var u=t.appendWriter(o);return u+=t.appendWriter(a)}function ue(t,e){var r=[],n=t.subReader(0);e.forEach((function(e){var i=null;if(e.dynamic){var o=t.readValue(),a=n.subReader(o.toNumber());try{i=e.decode(a)}catch(s){if(s.code===P.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(s){if(s.code===P.errors.BUFFER_OVERRUN)throw s;(i=s).baseType=e.name,i.name=e.localName,i.type=e.type}void 0!=i&&r.push(i)}));var i=e.reduce((function(t,e){var r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach((function(t,e){var n=t.localName;if(n&&1===i[n]&&("length"===n&&(n="_length"),null==r[n])){var o=r[e];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:function(){throw o}}):r[n]=o}}));for(var o=function(t){var e=r[t];e instanceof Error&&Object.defineProperty(r,t,{enumerable:!0,get:function(){throw e}})},a=0;a<r.length;a++)o(a);return Object.freeze(r)}var le=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n,i){var o;(0,g.Z)(this,r);var a=t.type+"["+(n>=0?n:"")+"]",s=-1===n||t.dynamic;return(o=e.call(this,"array",a,i,s)).coder=t,o.length=n,o}return(0,y.Z)(r,[{key:"defaultValue",value:function(){for(var t=this.coder.defaultValue(),e=[],r=0;r<this.length;r++)e.push(t);return e}},{key:"encode",value:function(t,e){Array.isArray(e)||this._throwError("expected array value",e);var r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),ae.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;i<e.length;i++)n.push(this.coder);return se(t,n,e)}},{key:"decode",value:function(t){var e=this.length;-1===e&&32*(e=t.readValue().toNumber())>t._data.length&&ae.throwError("insufficient data length",P.errors.BUFFER_OVERRUN,{length:t._data.length,count:e});for(var r=[],n=0;n<e;n++)r.push(new oe(this.coder));return t.coerce(this.name,ue(t,r))}}]),r}(Et),he=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){return(0,g.Z)(this,r),e.call(this,"bool","bool",t,!1)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(t,e){return t.writeValue(e?1:0)}},{key:"decode",value:function(t){return t.coerce(this.type,!t.readValue().isZero())}}]),r}(Et),ce=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){return(0,g.Z)(this,r),e.call(this,t,t,n,!0)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(t,e){e=F(e);var r=t.writeValue(e.length);return r+=t.writeBytes(e)}},{key:"decode",value:function(t){return t.readBytes(t.readValue().toNumber(),!0)}}]),r}(Et),fe=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){return(0,g.Z)(this,r),e.call(this,"bytes",t)}return(0,y.Z)(r,[{key:"decode",value:function(t){return t.coerce(this.name,H((0,d.Z)((0,p.Z)(r.prototype),"decode",this).call(this,t)))}}]),r}(ce),de=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;(0,g.Z)(this,r);var o="bytes"+String(t);return(i=e.call(this,o,o,n,!1)).size=t,i}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(t,e){var r=F(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}},{key:"decode",value:function(t){return t.coerce(this.name,H(t.readBytes(this.size)))}}]),r}(Et),pe=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){return(0,g.Z)(this,r),e.call(this,"null","",t,!1)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}},{key:"decode",value:function(t){return t.readBytes(0),t.coerce(this.name,null)}}]),r}(Et),ve=it.from(-1),me=it.from(0),ge=it.from(1),ye=it.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),be=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n,i){var o;(0,g.Z)(this,r);var a=(n?"int":"uint")+8*t;return(o=e.call(this,a,a,i,!1)).size=t,o.signed=n,o}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(t,e){var r=it.from(e),n=ye.mask(8*t.wordSize);if(this.signed){var i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(ge).mul(ve)))&&this._throwError("value out-of-bounds",e)}else(r.lt(me)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}},{key:"decode",value:function(t){var e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}]),r}(Et),_e=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){return(0,g.Z)(this,r),e.call(this,"string",t)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(t,e){return(0,d.Z)((0,p.Z)(r.prototype),"encode",this).call(this,t,Qt(e))}},{key:"decode",value:function(t){return ee((0,d.Z)((0,p.Z)(r.prototype),"decode",this).call(this,t))}}]),r}(ce),we=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;(0,g.Z)(this,r);var o=!1,a=[];t.forEach((function(t){t.dynamic&&(o=!0),a.push(t.type)}));var s="tuple("+a.join(",")+")";return(i=e.call(this,"tuple",s,n,o)).coders=t,i}return(0,y.Z)(r,[{key:"defaultValue",value:function(){var t=[];this.coders.forEach((function(e){t.push(e.defaultValue())}));var e=this.coders.reduce((function(t,e){var r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach((function(r,n){var i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}},{key:"encode",value:function(t,e){return se(t,this.coders,e)}},{key:"decode",value:function(t){return t.coerce(this.name,ue(t,this.coders))}}]),r}(Et),xe=new P(wt),Ee={},Me={calldata:!0,memory:!0,storage:!0},Se={calldata:!0,memory:!0};function Ae(t,e){if("bytes"===t||"string"===t){if(Me[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&Se[e])return!0;return(Me[e]||"payable"===e)&&xe.throwArgumentError("invalid modifier","name",e),!1}function ke(t,e){for(var r in e)ct(t,r,e[r])}var Te=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Re=new RegExp(/^(.*)\[([0-9]*)\]$/),Pe=function(){function t(e,r){(0,g.Z)(this,t),e!==Ee&&xe.throwError("use fromString",P.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),ke(this,r);var n=this.type.match(Re);ke(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:t.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"format",value:function(t){if(t||(t=Te.sighash),Te[t]||xe.throwArgumentError("invalid format type","format",t),t===Te.json){var e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((function(e){return JSON.parse(e.format(t))}))),JSON.stringify(e)}var r="";return"array"===this.baseType?(r+=this.arrayChildren.format(t),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==Te.sighash&&(r+=this.type),r+="("+this.components.map((function(e){return e.format(t)})).join(t===Te.full?", ":",")+")"):r+=this.type,t!==Te.sighash&&(!0===this.indexed&&(r+=" indexed"),t===Te.full&&this.name&&(r+=" "+this.name)),r}}],[{key:"from",value:function(e,r){return"string"===typeof e?t.fromString(e,r):t.fromObject(e)}},{key:"fromObject",value:function(e){return t.isParamType(e)?e:new t(Ee,{name:e.name||null,type:je(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(t.fromObject):null})}},{key:"fromString",value:function(e,r){return n=function(t,e){var r=t;function n(e){xe.throwArgumentError("unexpected character at position ".concat(e),"param",t)}function i(t){var r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");for(var o={type:"",name:"",state:{allowType:!0}},a=o,s=0;s<t.length;s++){var u=t[s];switch(u){case"(":a.state.allowType&&""===a.type?a.type="tuple":a.state.allowParams||n(s),a.state.allowType=!1,a.type=je(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,"indexed"===a.name&&(e||n(s),a.indexed=!0,a.name=""),Ae(a.type,a.name)&&(a.name=""),a.type=je(a.type);var l=a;(a=a.parent)||n(s),delete l.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,"indexed"===a.name&&(e||n(s),a.indexed=!0,a.name=""),Ae(a.type,a.name)&&(a.name=""),a.type=je(a.type);var h=i(a.parent);a.parent.components.push(h),delete a.parent,a=h;break;case" ":a.state.allowType&&""!==a.type&&(a.type=je(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&""!==a.name&&("indexed"===a.name?(e||n(s),a.indexed&&n(s),a.indexed=!0,a.name=""):Ae(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(s),a.type+=u,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(s),a.type+=u,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=u,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=u,delete a.state.allowArray):a.state.readArray?a.type+=u:n(s)}}return a.parent&&xe.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===a.name?(e||n(r.length-7),a.indexed&&n(r.length-7),a.indexed=!0,a.name=""):Ae(a.type,a.name)&&(a.name=""),o.type=je(o.type),o}(e,!!r),t.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}},{key:"isParamType",value:function(t){return!(null==t||!t._isParamType)}}]),t}();function Ie(t,e){return function(t){t=t.trim();for(var e=[],r="",n=0,i=0;i<t.length;i++){var o=t[i];","===o&&0===n?(e.push(r),r=""):(r+=o,"("===o?n++:")"===o&&-1===--n&&xe.throwArgumentError("unbalanced parenthesis","value",t))}r&&e.push(r);return e}(t).map((function(t){return Pe.fromString(t,e)}))}var Ne=function(){function t(e,r){(0,g.Z)(this,t),e!==Ee&&xe.throwError("use a static from method",P.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),ke(this,r),this._isFragment=!0,Object.freeze(this)}return(0,y.Z)(t,null,[{key:"from",value:function(e){return t.isFragment(e)?e:"string"===typeof e?t.fromString(e):t.fromObject(e)}},{key:"fromObject",value:function(e){if(t.isFragment(e))return e;switch(e.type){case"function":return Be.fromObject(e);case"event":return Oe.fromObject(e);case"constructor":return Fe.fromObject(e);case"error":return Ge.fromObject(e);case"fallback":case"receive":return null}return xe.throwArgumentError("invalid fragment object","value",e)}},{key:"fromString",value:function(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Oe.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?Be.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?Fe.fromString(t.trim()):"error"===t.split(" ")[0]?Ge.fromString(t.substring(5).trim()):xe.throwArgumentError("unsupported fragment","value",t)}},{key:"isFragment",value:function(t){return!(!t||!t._isFragment)}}]),t}(),Oe=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(t){if(t||(t=Te.sighash),Te[t]||xe.throwArgumentError("invalid format type","format",t),t===Te.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});var e="";return t!==Te.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((function(e){return e.format(t)})).join(t===Te.full?", ":",")+") ",t!==Te.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isEventFragment(t))return t;"event"!==t.type&&xe.throwArgumentError("invalid event object","value",t);var e={name:He(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Pe.fromObject):[],type:"event"};return new r(Ee,e)}},{key:"fromString",value:function(t){var e=t.match(Ve);e||xe.throwArgumentError("invalid event string","value",t);var n=!1;return e[3].split(" ").forEach((function(t){switch(t.trim()){case"anonymous":n=!0;break;case"":break;default:xe.warn("unknown modifier: "+t)}})),r.fromObject({name:e[1].trim(),anonymous:n,inputs:Ie(e[2],!0),type:"event"})}},{key:"isEventFragment",value:function(t){return t&&t._isFragment&&"event"===t.type}}]),r}(Ne);function Ce(t,e){e.gas=null;var r=t.split("@");return 1!==r.length?(r.length>2&&xe.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||xe.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=it.from(r[1]),r[0]):t}function De(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((function(t){switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function Le(t){var e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&xe.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&xe.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||xe.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&xe.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&xe.throwArgumentError("unable to determine stateMutability","value",t),e}var Fe=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(t){if(t||(t=Te.sighash),Te[t]||xe.throwArgumentError("invalid format type","format",t),t===Te.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});t===Te.sighash&&xe.throwError("cannot format a constructor for sighash",P.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var e="constructor("+this.inputs.map((function(e){return e.format(t)})).join(t===Te.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isConstructorFragment(t))return t;"constructor"!==t.type&&xe.throwArgumentError("invalid constructor object","value",t);var e=Le(t);e.constant&&xe.throwArgumentError("constructor cannot be constant","value",t);var n={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Pe.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?it.from(t.gas):null};return new r(Ee,n)}},{key:"fromString",value:function(t){var e={type:"constructor"},n=(t=Ce(t,e)).match(Ve);return n&&"constructor"===n[1].trim()||xe.throwArgumentError("invalid constructor string","value",t),e.inputs=Ie(n[2].trim(),!1),De(n[3].trim(),e),r.fromObject(e)}},{key:"isConstructorFragment",value:function(t){return t&&t._isFragment&&"constructor"===t.type}}]),r}(Ne),Be=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(t){if(t||(t=Te.sighash),Te[t]||xe.throwArgumentError("invalid format type","format",t),t===Te.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))})),outputs:this.outputs.map((function(e){return JSON.parse(e.format(t))}))});var e="";return t!==Te.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((function(e){return e.format(t)})).join(t===Te.full?", ":",")+") ",t!==Te.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((function(e){return e.format(t)})).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isFunctionFragment(t))return t;"function"!==t.type&&xe.throwArgumentError("invalid function object","value",t);var e=Le(t),n={type:t.type,name:He(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(Pe.fromObject):[],outputs:t.outputs?t.outputs.map(Pe.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?it.from(t.gas):null};return new r(Ee,n)}},{key:"fromString",value:function(t){var e={type:"function"},n=(t=Ce(t,e)).split(" returns ");n.length>2&&xe.throwArgumentError("invalid function string","value",t);var i=n[0].match(Ve);if(i||xe.throwArgumentError("invalid function signature","value",t),e.name=i[1].trim(),e.name&&He(e.name),e.inputs=Ie(i[2],!1),De(i[3].trim(),e),n.length>1){var o=n[1].match(Ve);""==o[1].trim()&&""==o[3].trim()||xe.throwArgumentError("unexpected tokens","value",t),e.outputs=Ie(o[2],!1)}else e.outputs=[];return r.fromObject(e)}},{key:"isFunctionFragment",value:function(t){return t&&t._isFragment&&"function"===t.type}}]),r}(Fe);function Ue(t){var e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||xe.throwArgumentError("cannot specify user defined ".concat(e," error"),"fragment",t),t}var Ge=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(t){if(t||(t=Te.sighash),Te[t]||xe.throwArgumentError("invalid format type","format",t),t===Te.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});var e="";return t!==Te.sighash&&(e+="error "),(e+=this.name+"("+this.inputs.map((function(e){return e.format(t)})).join(t===Te.full?", ":",")+") ").trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isErrorFragment(t))return t;"error"!==t.type&&xe.throwArgumentError("invalid error object","value",t);var e={type:t.type,name:He(t.name),inputs:t.inputs?t.inputs.map(Pe.fromObject):[]};return Ue(new r(Ee,e))}},{key:"fromString",value:function(t){var e={type:"error"},n=t.match(Ve);return n||xe.throwArgumentError("invalid error signature","value",t),e.name=n[1].trim(),e.name&&He(e.name),e.inputs=Ie(n[2],!1),Ue(r.fromObject(e))}},{key:"isErrorFragment",value:function(t){return t&&t._isFragment&&"error"===t.type}}]),r}(Ne);function je(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}var ze=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function He(t){return t&&t.match(ze)||xe.throwArgumentError('invalid identifier "'.concat(t,'"'),"value",t),t}var Ve=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var We=new P(wt),qe=new RegExp(/^bytes([0-9]*)$/),Xe=new RegExp(/^(u?int)([0-9]*)$/),Ze=new(function(){function t(e){(0,g.Z)(this,t),ct(this,"coerceFunc",e||null)}return(0,y.Z)(t,[{key:"_getCoder",value:function(t){var e=this;switch(t.baseType){case"address":return new ie(t.name);case"bool":return new he(t.name);case"string":return new _e(t.name);case"bytes":return new fe(t.name);case"array":return new le(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new we((t.components||[]).map((function(t){return e._getCoder(t)})),t.name);case"":return new pe(t.name)}var r=t.type.match(Xe);if(r){var n=parseInt(r[2]||"256");return(0===n||n>256||n%8!==0)&&We.throwArgumentError("invalid "+r[1]+" bit length","param",t),new be(n/8,"int"===r[1],t.name)}if(r=t.type.match(qe)){var i=parseInt(r[1]);return(0===i||i>32)&&We.throwArgumentError("invalid bytes length","param",t),new de(i,t.name)}return We.throwArgumentError("invalid type","type",t.type)}},{key:"_getWordSize",value:function(){return 32}},{key:"_getReader",value:function(t,e){return new St(t,this._getWordSize(),this.coerceFunc,e)}},{key:"_getWriter",value:function(){return new Mt(this._getWordSize())}},{key:"getDefaultValue",value:function(t){var e=this,r=t.map((function(t){return e._getCoder(Pe.from(t))}));return new we(r,"_").defaultValue()}},{key:"encode",value:function(t,e){var r=this;t.length!==e.length&&We.throwError("types/values length mismatch",P.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});var n=t.map((function(t){return r._getCoder(Pe.from(t))})),i=new we(n,"_"),o=this._getWriter();return i.encode(o,e),o.data}},{key:"decode",value:function(t,e,r){var n=this,i=t.map((function(t){return n._getCoder(Pe.from(t))}));return new we(i,"_").decode(this._getReader(F(e),r))}}]),t}()),Ke=new P(wt),Ye=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r)}(_t),Je=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r)}(_t),$e=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r)}(_t),Qe=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,null,[{key:"isIndexed",value:function(t){return!(!t||!t._isIndexed)}}]),r}(_t),tr={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function er(t,e){var r=new Error("deferred error during ABI decoding triggered accessing ".concat(t));return r.error=e,r}var rr=function(){function t(e){var r=this;(0,g.Z)(this,t);ct(this,"fragments",("string"===typeof e?JSON.parse(e):e).map((function(t){return Ne.from(t)})).filter((function(t){return null!=t}))),ct(this,"_abiCoder",ft(this instanceof t?this.constructor:void 0,"getAbiCoder")()),ct(this,"functions",{}),ct(this,"errors",{}),ct(this,"events",{}),ct(this,"structs",{}),this.fragments.forEach((function(t){var e=null;switch(t.type){case"constructor":return r.deploy?void Ke.warn("duplicate definition - constructor"):void ct(r,"deploy",t);case"function":e=r.functions;break;case"event":e=r.events;break;case"error":e=r.errors;break;default:return}var n=t.format();e[n]?Ke.warn("duplicate definition - "+n):e[n]=t})),this.deploy||ct(this,"deploy",Fe.from({payable:!1,type:"constructor"})),ct(this,"_isInterface",!0)}return(0,y.Z)(t,[{key:"format",value:function(t){t||(t=Te.full),t===Te.sighash&&Ke.throwArgumentError("interface does not support formatting sighash","format",t);var e=this.fragments.map((function(e){return e.format(t)}));return t===Te.json?JSON.stringify(e.map((function(t){return JSON.parse(t)}))):e}},{key:"getFunction",value:function(t){if(j(t)){for(var e in this.functions)if(t===this.getSighash(e))return this.functions[e];Ke.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){var r=t.trim(),n=Object.keys(this.functions).filter((function(t){return t.split("(")[0]===r}));return 0===n.length?Ke.throwArgumentError("no matching function","name",r):n.length>1&&Ke.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var i=this.functions[Be.fromString(t).format()];return i||Ke.throwArgumentError("no matching function","signature",t),i}},{key:"getEvent",value:function(t){if(j(t)){var e=t.toLowerCase();for(var r in this.events)if(e===this.getEventTopic(r))return this.events[r];Ke.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){var n=t.trim(),i=Object.keys(this.events).filter((function(t){return t.split("(")[0]===n}));return 0===i.length?Ke.throwArgumentError("no matching event","name",n):i.length>1&&Ke.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}var o=this.events[Oe.fromString(t).format()];return o||Ke.throwArgumentError("no matching event","signature",t),o}},{key:"getError",value:function(t){if(j(t)){var e=ft(this.constructor,"getSighash");for(var r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}Ke.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){var n=t.trim(),i=Object.keys(this.errors).filter((function(t){return t.split("(")[0]===n}));return 0===i.length?Ke.throwArgumentError("no matching error","name",n):i.length>1&&Ke.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}var o=this.errors[Be.fromString(t).format()];return o||Ke.throwArgumentError("no matching error","signature",t),o}},{key:"getSighash",value:function(t){if("string"===typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(r){throw e}}return ft(this.constructor,"getSighash")(t)}},{key:"getEventTopic",value:function(t){return"string"===typeof t&&(t=this.getEvent(t)),ft(this.constructor,"getEventTopic")(t)}},{key:"_decodeParams",value:function(t,e){return this._abiCoder.decode(t,e)}},{key:"_encodeParams",value:function(t,e){return this._abiCoder.encode(t,e)}},{key:"encodeDeploy",value:function(t){return this._encodeParams(this.deploy.inputs,t||[])}},{key:"decodeErrorResult",value:function(t,e){"string"===typeof t&&(t=this.getError(t));var r=F(e);return H(r.slice(0,4))!==this.getSighash(t)&&Ke.throwArgumentError("data signature does not match error ".concat(t.name,"."),"data",H(r)),this._decodeParams(t.inputs,r.slice(4))}},{key:"encodeErrorResult",value:function(t,e){return"string"===typeof t&&(t=this.getError(t)),H(B([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}},{key:"decodeFunctionData",value:function(t,e){"string"===typeof t&&(t=this.getFunction(t));var r=F(e);return H(r.slice(0,4))!==this.getSighash(t)&&Ke.throwArgumentError("data signature does not match function ".concat(t.name,"."),"data",H(r)),this._decodeParams(t.inputs,r.slice(4))}},{key:"encodeFunctionData",value:function(t,e){return"string"===typeof t&&(t=this.getFunction(t)),H(B([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}},{key:"decodeFunctionResult",value:function(t,e){"string"===typeof t&&(t=this.getFunction(t));var r=F(e),n=null,i="",o=null,a=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(h){}break;case 4:var u=H(r.slice(0,4)),l=tr[u];if(l)o=this._abiCoder.decode(l.inputs,r.slice(4)),a=l.name,s=l.signature,l.reason&&(n=o[0]),"Error"===a?i="; VM Exception while processing transaction: reverted with reason string ".concat(JSON.stringify(o[0])):"Panic"===a&&(i="; VM Exception while processing transaction: reverted with panic code ".concat(o[0]));else try{var h=this.getError(u);o=this._abiCoder.decode(h.inputs,r.slice(4)),a=h.name,s=h.format()}catch(h){}}return Ke.throwError("call revert exception"+i,P.errors.CALL_EXCEPTION,{method:t.format(),data:H(e),errorArgs:o,errorName:a,errorSignature:s,reason:n})}},{key:"encodeFunctionResult",value:function(t,e){return"string"===typeof t&&(t=this.getFunction(t)),H(this._abiCoder.encode(t.outputs,e||[]))}},{key:"encodeFilterTopics",value:function(t,e){var r=this;"string"===typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&Ke.throwError("too many arguments for "+t.format(),P.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});var n=[];t.anonymous||n.push(this.getEventTopic(t));var i=function(t,e){return"string"===t.type?ne(e):"bytes"===t.type?Tt(H(e)):("bool"===t.type&&"boolean"===typeof e&&(e=e?"0x01":"0x00"),t.type.match(/^u?int/)&&(e=it.from(e).toHexString()),"address"===t.type&&r._abiCoder.encode(["address"],[e]),Z(H(e),32))};for(e.forEach((function(e,r){var o=t.inputs[r];o.indexed?null==e?n.push(null):"array"===o.baseType||"tuple"===o.baseType?Ke.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?n.push(e.map((function(t){return i(o,t)}))):n.push(i(o,e)):null!=e&&Ke.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)}));n.length&&null===n[n.length-1];)n.pop();return n}},{key:"encodeEventLog",value:function(t,e){var r=this;"string"===typeof t&&(t=this.getEvent(t));var n=[],i=[],o=[];return t.anonymous||n.push(this.getEventTopic(t)),e.length!==t.inputs.length&&Ke.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach((function(t,a){var s=e[a];if(t.indexed)if("string"===t.type)n.push(ne(s));else if("bytes"===t.type)n.push(Tt(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");n.push(r._abiCoder.encode([t.type],[s]))}else i.push(t),o.push(s)})),{data:this._abiCoder.encode(i,o),topics:n}}},{key:"decodeEventLog",value:function(t,e,r){if("string"===typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){var n=this.getEventTopic(t);j(r[0],32)&&r[0].toLowerCase()===n||Ke.throwError("fragment/topic mismatch",P.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var i=[],o=[],a=[];t.inputs.forEach((function(t,e){t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(i.push(Pe.fromObject({type:"bytes32",name:t.name})),a.push(!0)):(i.push(t),a.push(!1)):(o.push(t),a.push(!1))}));var s=null!=r?this._abiCoder.decode(i,B(r)):null,u=this._abiCoder.decode(o,e,!0),l=[],h=0,c=0;t.inputs.forEach((function(t,e){if(t.indexed)if(null==s)l[e]=new Qe({_isIndexed:!0,hash:null});else if(a[e])l[e]=new Qe({_isIndexed:!0,hash:s[c++]});else try{l[e]=s[c++]}catch(n){l[e]=n}else try{l[e]=u[h++]}catch(n){l[e]=n}if(t.name&&null==l[t.name]){var r=l[e];r instanceof Error?Object.defineProperty(l,t.name,{enumerable:!0,get:function(){throw er("property ".concat(JSON.stringify(t.name)),r)}}):l[t.name]=r}}));for(var f=function(t){var e=l[t];e instanceof Error&&Object.defineProperty(l,t,{enumerable:!0,get:function(){throw er("index ".concat(t),e)}})},d=0;d<l.length;d++)f(d);return Object.freeze(l)}},{key:"parseTransaction",value:function(t){var e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new Je({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:it.from(t.value||"0")}):null}},{key:"parseLog",value:function(t){var e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Ye({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}},{key:"parseError",value:function(t){var e=H(t),r=this.getError(e.substring(0,10).toLowerCase());return r?new $e({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}}],[{key:"getAbiCoder",value:function(){return Ze}},{key:"getAddress",value:function(t){return Wt(t)}},{key:"getSighash",value:function(t){return W(ne(t.format()),0,4)}},{key:"getEventTopic",value:function(t){return ne(t.format())}},{key:"isInterface",value:function(t){return!(!t||!t._isInterface)}}]),t}(),nr=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},ir=new P("abstract-provider/5.6.1"),or=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,null,[{key:"isForkEvent",value:function(t){return!(!t||!t._isForkEvent)}}]),r}(_t),ar=function(){function t(){(0,g.Z)(this,t),ir.checkAbstract(this instanceof t?this.constructor:void 0,t),ct(this,"_isProvider",!0)}return(0,y.Z)(t,[{key:"getFeeData",value:function(){return nr(this,void 0,void 0,_().mark((function t(){var e,r,n,i,o;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((function(t){return null}))});case 2:return e=t.sent,r=e.block,n=e.gasPrice,i=null,o=null,r&&r.baseFeePerGas&&(o=it.from("1500000000"),i=r.baseFeePerGas.mul(2).add(o)),t.abrupt("return",{maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:n});case 8:case"end":return t.stop()}}),t,this)})))}},{key:"addListener",value:function(t,e){return this.on(t,e)}},{key:"removeListener",value:function(t,e){return this.off(t,e)}}],[{key:"isProvider",value:function(t){return!(!t||!t._isProvider)}}]),t}(),sr=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},ur=new P("abstract-signer/5.6.2"),lr=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],hr=[P.errors.INSUFFICIENT_FUNDS,P.errors.NONCE_EXPIRED,P.errors.REPLACEMENT_UNDERPRICED],cr=function(){function t(){(0,g.Z)(this,t),ur.checkAbstract(this instanceof t?this.constructor:void 0,t),ct(this,"_isSigner",!0)}return(0,y.Z)(t,[{key:"getBalance",value:function(t){return sr(this,void 0,void 0,_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getBalance"),e.next=3,this.provider.getBalance(this.getAddress(),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getTransactionCount",value:function(t){return sr(this,void 0,void 0,_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getTransactionCount"),e.next=3,this.provider.getTransactionCount(this.getAddress(),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"estimateGas",value:function(t){return sr(this,void 0,void 0,_().mark((function e(){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("estimateGas"),e.next=3,dt(this.checkTransaction(t));case 3:return r=e.sent,e.next=6,this.provider.estimateGas(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"call",value:function(t,e){return sr(this,void 0,void 0,_().mark((function r(){var n;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("call"),r.next=3,dt(this.checkTransaction(t));case 3:return n=r.sent,r.next=6,this.provider.call(n,e);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"sendTransaction",value:function(t){return sr(this,void 0,void 0,_().mark((function e(){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("sendTransaction"),e.next=3,this.populateTransaction(t);case 3:return r=e.sent,e.next=6,this.signTransaction(r);case 6:return n=e.sent,e.next=9,this.provider.sendTransaction(n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"getChainId",value:function(){return sr(this,void 0,void 0,_().mark((function t(){var e;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getChainId"),t.next=3,this.provider.getNetwork();case 3:return e=t.sent,t.abrupt("return",e.chainId);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getGasPrice",value:function(){return sr(this,void 0,void 0,_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getGasPrice"),t.next=3,this.provider.getGasPrice();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getFeeData",value:function(){return sr(this,void 0,void 0,_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getFeeData"),t.next=3,this.provider.getFeeData();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"resolveName",value:function(t){return sr(this,void 0,void 0,_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("resolveName"),e.next=3,this.provider.resolveName(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"checkTransaction",value:function(t){for(var e in t)-1===lr.indexOf(e)&&ur.throwArgumentError("invalid transaction key: "+e,"transaction",t);var r=vt(t);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then((function(e){return e[0].toLowerCase()!==e[1].toLowerCase()&&ur.throwArgumentError("from address mismatch","transaction",t),e[0]})),r}},{key:"populateTransaction",value:function(t){return sr(this,void 0,void 0,_().mark((function e(){var r,n,i,o,a=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(this.checkTransaction(t));case 2:if(null!=(r=e.sent).to&&(r.to=Promise.resolve(r.to).then((function(t){return sr(a,void 0,void 0,_().mark((function e(){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.resolveName(t);case 4:return null==(r=e.sent)&&ur.throwArgumentError("provided ENS name resolves to null","tx.to",t),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})))})),r.to.catch((function(t){}))),n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas,null==r.gasPrice||2!==r.type&&!n?0!==r.type&&1!==r.type||!n||ur.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):ur.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas){e.next=10;break}r.type=2,e.next=18;break;case 10:if(0!==r.type&&1!==r.type){e.next=14;break}null==r.gasPrice&&(r.gasPrice=this.getGasPrice()),e.next=18;break;case 14:return e.next=16,this.getFeeData();case 16:i=e.sent,null==r.type?null!=i.maxFeePerGas&&null!=i.maxPriorityFeePerGas?(r.type=2,null!=r.gasPrice?(o=r.gasPrice,delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o):(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))):null!=i.gasPrice?(n&&ur.throwError("network does not support EIP-1559",P.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=i.gasPrice),r.type=0):ur.throwError("failed to get consistent fee data",P.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"}):2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas));case 18:return null==r.nonce&&(r.nonce=this.getTransactionCount("pending")),null==r.gasLimit&&(r.gasLimit=this.estimateGas(r).catch((function(t){if(hr.indexOf(t.code)>=0)throw t;return ur.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",P.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:r})}))),null==r.chainId?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then((function(e){return 0!==e[1]&&e[0]!==e[1]&&ur.throwArgumentError("chainId address mismatch","transaction",t),e[0]})),e.next=23,dt(r);case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,this)})))}},{key:"_checkProvider",value:function(t){this.provider||ur.throwError("missing provider",P.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}}],[{key:"isSigner",value:function(t){return!(!t||!t._isSigner)}}]),t}(),fr=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;return(0,g.Z)(this,r),i=e.call(this),ct((0,f.Z)(i),"address",t),ct((0,f.Z)(i),"provider",n||null),i}return(0,y.Z)(r,[{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"_fail",value:function(t,e){return Promise.resolve().then((function(){ur.throwError(t,P.errors.UNSUPPORTED_OPERATION,{operation:e})}))}},{key:"signMessage",value:function(t){return this._fail("VoidSigner cannot sign messages","signMessage")}},{key:"signTransaction",value:function(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}},{key:"_signTypedData",value:function(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}},{key:"connect",value:function(t){return new r(this.address,t)}}]),r}(cr),dr=r(29286),pr=r.n(dr),vr=r(33125),mr=r.n(vr);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function gr(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},t(r,r.exports),r.exports}var yr=br;function br(t,e){if(!t)throw new Error(e||"Assertion failed")}br.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var _r=gr((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!==typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),wr=gr((function(t,e){var r=e;r.assert=yr,r.toArray=_r.toArray,r.zero2=_r.zero2,r.toHex=_r.toHex,r.encode=_r.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),a=0;a<n.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var a,s,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),a=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(a),s=0===(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(pr())(t,"hex","le")}})),xr=wr.getNAF,Er=wr.getJSF,Mr=wr.assert;function Sr(t,e){this.type=t,this.p=new(pr())(e.p,16),this.red=e.prime?pr().red(e.prime):pr().mont(this.p),this.zero=new(pr())(0).toRed(this.red),this.one=new(pr())(1).toRed(this.red),this.two=new(pr())(2).toRed(this.red),this.n=e.n&&new(pr())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ar=Sr;function kr(t,e){this.curve=t,this.type=e,this.precomputed=null}Sr.prototype.point=function(){throw new Error("Not implemented")},Sr.prototype.validate=function(){throw new Error("Not implemented")},Sr.prototype._fixedNafMul=function(t,e){Mr(t.precomputed);var r=t._getDoubles(),n=xr(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=r.step){a=0;for(var u=o+r.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<s.length;o++)(a=s[o])===c?h=h.mixedAdd(r.points[o]):a===-c&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},Sr.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=xr(e,r,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var u=0;s>=0&&0===o[s];s--)u++;if(s>=0&&u++,a=a.dblp(u),s<0)break;var l=o[s];Mr(0!==l),a="affine"===t.type?l>0?a.mixedAdd(i[l-1>>1]):a.mixedAdd(i[-l-1>>1].neg()):l>0?a.add(i[l-1>>1]):a.add(i[-l-1>>1].neg())}return"affine"===t.type?a.toP():a},Sr.prototype._wnafMulAdd=function(t,e,r,n,i){var o,a,s,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,c=0;for(o=0;o<n;o++){var f=(s=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var v=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(v[1]=e[d].add(e[p]),v[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(v[1]=e[d].toJ().mixedAdd(e[p]),v[2]=e[d].add(e[p].neg())):(v[1]=e[d].toJ().mixedAdd(e[p]),v[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=Er(r[d],r[p]);for(c=Math.max(g[0].length,c),h[d]=new Array(c),h[p]=new Array(c),a=0;a<c;a++){var y=0|g[0][a],b=0|g[1][a];h[d][a]=m[3*(y+1)+(b+1)],h[p][a]=0,l[d]=v}}else h[d]=xr(r[d],u[d],this._bitLength),h[p]=xr(r[p],u[p],this._bitLength),c=Math.max(h[d].length,c),c=Math.max(h[p].length,c)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(o=c;o>=0;o--){for(var x=0;o>=0;){var E=!0;for(a=0;a<n;a++)w[a]=0|h[a][o],0!==w[a]&&(E=!1);if(!E)break;x++,o--}if(o>=0&&x++,_=_.dblp(x),o<0)break;for(a=0;a<n;a++){var M=w[a];0!==M&&(M>0?s=l[a][M-1>>1]:M<0&&(s=l[a][-M-1>>1].neg()),_="affine"===s.type?_.mixedAdd(s):_.add(s))}}for(o=0;o<n;o++)l[o]=null;return i?_:_.toP()},Sr.BasePoint=kr,kr.prototype.eq=function(){throw new Error("Not implemented")},kr.prototype.validate=function(){return this.curve.validate(this)},Sr.prototype.decodePoint=function(t,e){t=wr.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?Mr(t[t.length-1]%2===0):7===t[0]&&Mr(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},kr.prototype.encodeCompressed=function(t){return this.encode(t,!0)},kr.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},kr.prototype.encode=function(t,e){return wr.encode(this._encode(e),t)},kr.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},kr.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},kr.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},kr.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},kr.prototype._getBeta=function(){return null},kr.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Tr=gr((function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Rr=wr.assert;function Pr(t){Ar.call(this,"short",t),this.a=new(pr())(t.a,16).toRed(this.red),this.b=new(pr())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Tr(Pr,Ar);var Ir=Pr;function Nr(t,e,r,n){Ar.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(pr())(e,16),this.y=new(pr())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Or(t,e,r,n){Ar.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(pr())(0)):(this.x=new(pr())(e,16),this.y=new(pr())(r,16),this.z=new(pr())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Pr.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(pr())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(pr())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],Rr(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(pr())(t.a,16),b:new(pr())(t.b,16)}})):this._getEndoBasis(r)}}},Pr.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:pr().mont(t),r=new(pr())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(pr())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Pr.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,a,s,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),d=new(pr())(1),p=new(pr())(0),v=new(pr())(0),m=new(pr())(1),g=0;0!==c.cmpn(0);){var y=f.div(c);u=f.sub(y.mul(c)),l=v.sub(y.mul(d));var b=m.sub(y.mul(p));if(!n&&u.cmp(h)<0)e=s.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++g)break;s=u,f=c,c=u,v=d,d=l,m=p,p=b}o=u.neg(),a=l;var _=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=e,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},Pr.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(a).sub(s),k2:u.add(l).neg()}},Pr.prototype.pointFromX=function(t,e){(t=new(pr())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Pr.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Pr.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},Tr(Nr,Ar.BasePoint),Pr.prototype.point=function(t,e,r){return new Nr(this,t,e,r)},Pr.prototype.pointFromJSON=function(t,e){return Nr.fromJSON(this,t,e)},Nr.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Nr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Nr.fromJSON=function(t,e,r){"string"===typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Nr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Nr.prototype.isInfinity=function(){return this.inf},Nr.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Nr.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Nr.prototype.getX=function(){return this.x.fromRed()},Nr.prototype.getY=function(){return this.y.fromRed()},Nr.prototype.mul=function(t){return t=new(pr())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Nr.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Nr.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Nr.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Nr.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Nr.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Tr(Or,Ar.BasePoint),Pr.prototype.jpoint=function(t,e,r){return new Or(this,t,e,r)},Or.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Or.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Or.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),h=l.redMul(s),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),d=u.redMul(c.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(f,d,p)},Or.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),h=r.redMul(u),c=s.redSqr().redIAdd(l).redISub(h).redISub(h),f=s.redMul(h.redISub(c)).redISub(i.redMul(l)),d=this.z.redMul(a);return this.curve.jpoint(c,f,d)},Or.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(e=0;e<t;e++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=o.redMul(c),v=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(v),g=d.redMul(m);g=g.redIAdd(g).redISub(f);var y=l.redMul(s);e+1<t&&(u=u.redMul(f)),o=v,s=y,l=g}return this.curve.jpoint(o,l.redMul(i),s)},Or.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Or.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=s.redMul(a.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),v=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),t=v.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Or.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=s.redMul(a.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),v=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(v),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},Or.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(a),h=s.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=s.redMul(c).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},Or.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(s).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(c,f,d)},Or.prototype.mul=function(t,e){return t=new(pr())(t,e),this.curve._wnafMul(this,t)},Or.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Or.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Or.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Or.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Cr=gr((function(t,e){var r=e;r.base=Ar,r.short=Ir,r.mont=null,r.edwards=null})),Dr=gr((function(t,e){var r,n=e,i=wr.assert;function o(t){"short"===t.type?this.curve=new Cr.short(t):"edwards"===t.type?this.curve=new Cr.edwards(t):this.curve=new Cr.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:mr().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:mr().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:mr().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:mr().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:mr().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mr().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mr().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(s){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:mr().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Lr(t){if(!(this instanceof Lr))return new Lr(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=_r.toArray(t.entropy,t.entropyEnc||"hex"),r=_r.toArray(t.nonce,t.nonceEnc||"hex"),n=_r.toArray(t.pers,t.persEnc||"hex");yr(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Fr=Lr;Lr.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Lr.prototype._hmac=function(){return new(mr().hmac)(this.hash,this.K)},Lr.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Lr.prototype.reseed=function(t,e,r,n){"string"!==typeof e&&(n=r,r=e,e=null),t=_r.toArray(t,e),r=_r.toArray(r,n),yr(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Lr.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(n=r,r=e,e=null),r&&(r=_r.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,_r.encode(o,e)};var Br=wr.assert;function Ur(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Gr=Ur;Ur.fromPublic=function(t,e,r){return e instanceof Ur?e:new Ur(t,{pub:e,pubEnc:r})},Ur.fromPrivate=function(t,e,r){return e instanceof Ur?e:new Ur(t,{priv:e,privEnc:r})},Ur.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ur.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Ur.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Ur.prototype._importPrivate=function(t,e){this.priv=new(pr())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Ur.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Br(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Br(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Ur.prototype.derive=function(t){return t.validate()||Br(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Ur.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Ur.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Ur.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var jr=wr.assert;function zr(t,e){if(t instanceof zr)return t;this._importDER(t,e)||(jr(t.r&&t.s,"Signature without r or s"),this.r=new(pr())(t.r,16),this.s=new(pr())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Hr=zr;function Vr(){this.place=0}function Wr(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=e.place;o<n;o++,a++)i<<=8,i|=t[a],i>>>=0;return!(i<=127)&&(e.place=a,i)}function qr(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Xr(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}zr.prototype._importDER=function(t,e){t=wr.toArray(t,e);var r=new Vr;if(48!==t[r.place++])return!1;var n=Wr(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Wr(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var a=Wr(t,r);if(!1===a)return!1;if(t.length!==a+r.place)return!1;var s=t.slice(r.place,a+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(pr())(o),this.s=new(pr())(s),this.recoveryParam=null,!0},zr.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=qr(e),r=qr(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];Xr(n,e.length),(n=n.concat(e)).push(2),Xr(n,r.length);var i=n.concat(r),o=[48];return Xr(o,i.length),o=o.concat(i),wr.encode(o,t)};var Zr=function(){throw new Error("unsupported")},Kr=wr.assert;function Yr(t){if(!(this instanceof Yr))return new Yr(t);"string"===typeof t&&(Kr(Object.prototype.hasOwnProperty.call(Dr,t),"Unknown curve "+t),t=Dr[t]),t instanceof Dr.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Jr=Yr;Yr.prototype.keyPair=function(t){return new Gr(this,t)},Yr.prototype.keyFromPrivate=function(t,e){return Gr.fromPrivate(this,t,e)},Yr.prototype.keyFromPublic=function(t,e){return Gr.fromPublic(this,t,e)},Yr.prototype.genKeyPair=function(t){t||(t={});for(var e=new Fr({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Zr(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(pr())(2));;){var i=new(pr())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Yr.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Yr.prototype.sign=function(t,e,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(pr())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),a=t.toArray("be",i),s=new Fr({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(pr())(1)),l=0;;l++){var h=n.k?n.k(l):new(pr())(s.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var f=c.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(c.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new Hr({r:d,s:p,recoveryParam:v})}}}}}},Yr.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(pr())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new Hr(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),u=s.mul(t).umod(this.n),l=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},Yr.prototype.recoverPubKey=function(t,e,r,n){Kr((3&r)===r,"The recovery param is more than two bits"),e=new Hr(e,n);var i=this.n,o=new(pr())(t),a=e.r,s=e.s,u=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var h=e.r.invm(i),c=i.sub(o).mul(h).umod(i),f=s.mul(h).umod(i);return this.g.mulAdd(c,a,f)},Yr.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Hr(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var $r=gr((function(t,e){var r=e;r.version="6.5.4",r.utils=wr,r.rand=function(){throw new Error("unsupported")},r.curve=Cr,r.curves=Dr,r.ec=Jr,r.eddsa=null})).ec,Qr=new P("signing-key/5.6.2"),tn=null;function en(){return tn||(tn=new $r("secp256k1")),tn}var rn=function(){function t(e){(0,g.Z)(this,t),ct(this,"curve","secp256k1"),ct(this,"privateKey",H(e)),32!==V(this.privateKey)&&Qr.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var r=en().keyFromPrivate(F(this.privateKey));ct(this,"publicKey","0x"+r.getPublic(!1,"hex")),ct(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ct(this,"_isSigningKey",!0)}return(0,y.Z)(t,[{key:"_addPoint",value:function(t){var e=en().keyFromPublic(F(this.publicKey)),r=en().keyFromPublic(F(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(t){var e=en().keyFromPrivate(F(this.privateKey)),r=F(t);32!==r.length&&Qr.throwArgumentError("bad digest length","digest",t);var n=e.sign(r,{canonical:!0});return K({recoveryParam:n.recoveryParam,r:Z("0x"+n.r.toString(16),32),s:Z("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(t){var e=en().keyFromPrivate(F(this.privateKey)),r=en().keyFromPublic(F(nn(t)));return Z("0x"+e.derive(r.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(t){return!(!t||!t._isSigningKey)}}]),t}();function nn(t,e){var r=F(t);if(32===r.length){var n=new rn(r);return e?"0x"+en().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?e?H(r):"0x"+en().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+en().keyFromPublic(r).getPublic(!0,"hex"):H(r):Qr.throwArgumentError("invalid public or private key","key","[REDACTED]")}var on,an=new P("transactions/5.6.2");function sn(t){return"0x"===t?null:Wt(t)}function un(t){return"0x"===t?me:it.from(t)}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(on||(on={}));var ln=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],hn={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function cn(t){return Wt(W(Tt(W(nn(t),1)),12))}function fn(t,e){return cn(function(t,e){var r=K(e),n={r:F(r.r),s:F(r.s)};return"0x"+en().recoverPubKey(F(t),n,r.recoveryParam).encode("hex",!1)}(F(t),e))}function dn(t,e){var r=U(it.from(t).toHexString());return r.length>32&&an.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function pn(t,e){return{address:Wt(t),storageKeys:(e||[]).map((function(e,r){return 32!==V(e)&&an.throwArgumentError("invalid access list storageKey","accessList[".concat(t,":").concat(r,"]"),e),e.toLowerCase()}))}}function vn(t){if(Array.isArray(t))return t.map((function(t,e){return Array.isArray(t)?(t.length>2&&an.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(e,"]"),t),pn(t[0],t[1])):pn(t.address,t.storageKeys)}));var e=Object.keys(t).map((function(e){var r=t[e].reduce((function(t,e){return t[e]=!0,t}),{});return pn(e,Object.keys(r).sort())}));return e.sort((function(t,e){return t.address.localeCompare(e.address)})),e}function mn(t){return vn(t).map((function(t){return[t.address,t.storageKeys]}))}function gn(t,e){if(null!=t.gasPrice){var r=it.from(t.gasPrice),n=it.from(t.maxFeePerGas||0);r.eq(n)||an.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:n})}var i=[dn(t.chainId||0,"chainId"),dn(t.nonce||0,"nonce"),dn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),dn(t.maxFeePerGas||0,"maxFeePerGas"),dn(t.gasLimit||0,"gasLimit"),null!=t.to?Wt(t.to):"0x",dn(t.value||0,"value"),t.data||"0x",mn(t.accessList||[])];if(e){var o=K(e);i.push(dn(o.recoveryParam,"recoveryParam")),i.push(U(o.r)),i.push(U(o.s))}return q(["0x02",Ot(i)])}function yn(t,e){var r=[dn(t.chainId||0,"chainId"),dn(t.nonce||0,"nonce"),dn(t.gasPrice||0,"gasPrice"),dn(t.gasLimit||0,"gasLimit"),null!=t.to?Wt(t.to):"0x",dn(t.value||0,"value"),t.data||"0x",mn(t.accessList||[])];if(e){var n=K(e);r.push(dn(n.recoveryParam,"recoveryParam")),r.push(U(n.r)),r.push(U(n.s))}return q(["0x01",Ot(r)])}function bn(t,e){if(null==t.type||0===t.type)return null!=t.accessList&&an.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),function(t,e){pt(t,hn);var r=[];ln.forEach((function(e){var n=t[e.name]||[],i={};e.numeric&&(i.hexPad="left"),n=F(H(n,i)),e.length&&n.length!==e.length&&n.length>0&&an.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,n),e.maxLength&&(n=U(n)).length>e.maxLength&&an.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,n),r.push(H(n))}));var n=0;if(null!=t.chainId?"number"!==typeof(n=t.chainId)&&an.throwArgumentError("invalid transaction.chainId","transaction",t):e&&!C(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),0!==n&&(r.push(H(n)),r.push("0x"),r.push("0x")),!e)return Ot(r);var i=K(e),o=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),o+=2*n+8,i.v>28&&i.v!==o&&an.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==o&&an.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(H(o)),r.push(U(F(i.r))),r.push(U(F(i.s))),Ot(r)}(t,e);switch(t.type){case 1:return yn(t,e);case 2:return gn(t,e)}return an.throwError("unsupported transaction type: ".concat(t.type),P.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function _n(t,e,r){try{var n=un(e[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");t.v=n}catch(o){an.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Z(e[1],32),t.s=Z(e[2],32);try{var i=Tt(r(t));t.from=fn(i,{r:t.r,s:t.s,recoveryParam:t.v})}catch(o){}}function wn(t){var e=F(t);if(e[0]>127)return function(t){var e=Lt(t);9!==e.length&&6!==e.length&&an.throwArgumentError("invalid raw transaction","rawTransaction",t);var r={nonce:un(e[0]).toNumber(),gasPrice:un(e[1]),gasLimit:un(e[2]),to:sn(e[3]),value:un(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=it.from(e[6]).toNumber()}catch(a){return r}if(r.r=Z(e[7],32),r.s=Z(e[8],32),it.from(r.r).isZero()&&it.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);var n=r.v-27,i=e.slice(0,6);0!==r.chainId&&(i.push(H(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);var o=Tt(Ot(i));try{r.from=fn(o,{r:H(r.r),s:H(r.s),recoveryParam:n})}catch(a){}r.hash=Tt(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){var e=Lt(t.slice(1));8!==e.length&&11!==e.length&&an.throwArgumentError("invalid component count for transaction type: 1","payload",H(t));var r={type:1,chainId:un(e[0]).toNumber(),nonce:un(e[1]).toNumber(),gasPrice:un(e[2]),gasLimit:un(e[3]),to:sn(e[4]),value:un(e[5]),data:e[6],accessList:vn(e[7])};return 8===e.length||(r.hash=Tt(t),_n(r,e.slice(8),yn)),r}(e);case 2:return function(t){var e=Lt(t.slice(1));9!==e.length&&12!==e.length&&an.throwArgumentError("invalid component count for transaction type: 2","payload",H(t));var r=un(e[2]),n=un(e[3]),i={type:2,chainId:un(e[0]).toNumber(),nonce:un(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:un(e[4]),to:sn(e[5]),value:un(e[6]),data:e[7],accessList:vn(e[8])};return 9===e.length||(i.hash=Tt(t),_n(i,e.slice(9),gn)),i}(e)}return an.throwError("unsupported transaction type: ".concat(e[0]),P.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}var xn=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},En=new P("contracts/5.6.0"),Mn={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function Sn(t,e){return xn(this,void 0,void 0,_().mark((function r(){var n,i;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e;case 2:return"string"!==typeof(n=r.sent)&&En.throwArgumentError("invalid address or ENS name","name",n),r.prev=4,r.abrupt("return",Wt(n));case 8:r.prev=8,r.t0=r.catch(4);case 10:return t||En.throwError("a provider or signer is needed to resolve ENS names",P.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"}),r.next=13,t.resolveName(n);case 13:return null==(i=r.sent)&&En.throwArgumentError("resolver or addr is not configured for ENS name","name",n),r.abrupt("return",i);case 16:case"end":return r.stop()}}),r,null,[[4,8]])})))}function An(t,e,r){return xn(this,void 0,void 0,_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Array.isArray(r)){n.next=4;break}return n.next=3,Promise.all(r.map((function(r,n){return An(t,Array.isArray(e)?e[n]:e[r.name],r)})));case 3:case 7:case 11:case 17:return n.abrupt("return",n.sent);case 4:if("address"!==r.type){n.next=8;break}return n.next=7,Sn(t,e);case 8:if("tuple"!==r.type){n.next=12;break}return n.next=11,An(t,e,r.components);case 12:if("array"!==r.baseType){n.next=18;break}if(Array.isArray(e)){n.next=15;break}return n.abrupt("return",Promise.reject(En.makeError("invalid value for array",P.errors.INVALID_ARGUMENT,{argument:"value",value:e})));case 15:return n.next=17,Promise.all(e.map((function(e){return An(t,e,r.arrayChildren)})));case 18:return n.abrupt("return",e);case 19:case"end":return n.stop()}}),n)})))}function kn(t,e,r){return xn(this,void 0,void 0,_().mark((function n(){var i,o,a,s,u,l,h,c,f,d,p=this;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={},r.length===e.inputs.length+1&&"object"===typeof r[r.length-1]&&(i=vt(r.pop())),En.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?i.from?i.from=dt({override:Sn(t.signer,i.from),signer:t.signer.getAddress()}).then((function(t){return xn(p,void 0,void 0,_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wt(t.signer)!==t.override&&En.throwError("Contract with a Signer cannot override from",P.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.abrupt("return",t.override);case 2:case"end":return e.stop()}}),e)})))})):i.from=t.signer.getAddress():i.from&&(i.from=Sn(t.provider,i.from)),n.next=6,dt({args:An(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:dt(i)||{}});case 6:if(o=n.sent,a=t.interface.encodeFunctionData(e,o.args),s={data:a,to:o.address},null!=(u=o.overrides).nonce&&(s.nonce=it.from(u.nonce).toNumber()),null!=u.gasLimit&&(s.gasLimit=it.from(u.gasLimit)),null!=u.gasPrice&&(s.gasPrice=it.from(u.gasPrice)),null!=u.maxFeePerGas&&(s.maxFeePerGas=it.from(u.maxFeePerGas)),null!=u.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=it.from(u.maxPriorityFeePerGas)),null!=u.from&&(s.from=u.from),null!=u.type&&(s.type=u.type),null!=u.accessList&&(s.accessList=vn(u.accessList)),null==s.gasLimit&&null!=e.gas){for(l=21e3,h=F(a),c=0;c<h.length;c++)l+=4,h[c]&&(l+=64);s.gasLimit=it.from(e.gas).add(l)}return u.value&&((f=it.from(u.value)).isZero()||e.payable||En.throwError("non-payable method cannot override value",P.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),s.value=f),u.customData&&(s.customData=vt(u.customData)),u.ccipReadEnabled&&(s.ccipReadEnabled=!!u.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled,d=Object.keys(i).filter((function(t){return null!=i[t]})),d.length&&En.throwError("cannot override ".concat(d.map((function(t){return JSON.stringify(t)})).join(",")),P.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:d}),n.abrupt("return",s);case 36:case"end":return n.stop()}}),n)})))}function Tn(t,e){var r=e.wait.bind(e);e.wait=function(e){return r(e).then((function(e){return e.events=e.logs.map((function(r){var n=bt(r),i=null;try{i=t.interface.parseLog(r)}catch(o){}return i&&(n.args=i.args,n.decode=function(e,r){return t.interface.decodeEventLog(i.eventFragment,e,r)},n.event=i.name,n.eventSignature=i.signature),n.removeListener=function(){return t.provider},n.getBlock=function(){return t.provider.getBlock(e.blockHash)},n.getTransaction=function(){return t.provider.getTransaction(e.transactionHash)},n.getTransactionReceipt=function(){return Promise.resolve(e)},n})),e}))}}function Rn(t,e,r){var n=t.signer||t.provider;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return xn(this,void 0,void 0,_().mark((function i(){var a,s,u,l,h;return _().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=void 0,o.length!==e.inputs.length+1||"object"!==typeof o[o.length-1]){i.next=9;break}if(null==(s=vt(o.pop())).blockTag){i.next=7;break}return i.next=6,s.blockTag;case 6:a=i.sent;case 7:delete s.blockTag,o.push(s);case 9:if(null==t.deployTransaction){i.next=12;break}return i.next=12,t._deployed(a);case 12:return i.next=14,kn(t,e,o);case 14:return u=i.sent,i.next=17,n.call(u,a);case 17:return l=i.sent,i.prev=18,h=t.interface.decodeFunctionResult(e,l),r&&1===e.outputs.length&&(h=h[0]),i.abrupt("return",h);case 24:throw i.prev=24,i.t0=i.catch(18),i.t0.code===P.errors.CALL_EXCEPTION&&(i.t0.address=t.address,i.t0.args=o,i.t0.transaction=u),i.t0;case 28:case"end":return i.stop()}}),i,null,[[18,24]])})))}}function Pn(t,e,r){return e.constant?Rn(t,e,r):function(t,e){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return xn(this,void 0,void 0,_().mark((function r(){var i,o;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.signer||En.throwError("sending a transaction requires a signer",P.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null==t.deployTransaction){r.next=4;break}return r.next=4,t._deployed();case 4:return r.next=6,kn(t,e,n);case 6:return i=r.sent,r.next=9,t.signer.sendTransaction(i);case 9:return o=r.sent,Tn(t,o),r.abrupt("return",o);case 12:case"end":return r.stop()}}),r)})))}}(t,e)}function In(t){return!t.address||null!=t.topics&&0!==t.topics.length?(t.address||"*")+"@"+(t.topics?t.topics.map((function(t){return Array.isArray(t)?t.join("|"):t})).join(":"):""):"*"}var Nn=function(){function t(e,r){(0,g.Z)(this,t),ct(this,"tag",e),ct(this,"filter",r),this._listeners=[]}return(0,y.Z)(t,[{key:"addListener",value:function(t,e){this._listeners.push({listener:t,once:e})}},{key:"removeListener",value:function(t){var e=!1;this._listeners=this._listeners.filter((function(r){return!(!e&&r.listener===t)||(e=!0,!1)}))}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"listeners",value:function(){return this._listeners.map((function(t){return t.listener}))}},{key:"listenerCount",value:function(){return this._listeners.length}},{key:"run",value:function(t){var e=this,r=this.listenerCount();return this._listeners=this._listeners.filter((function(r){var n=t.slice();return setTimeout((function(){r.listener.apply(e,n)}),0),!r.once})),r}},{key:"prepareEvent",value:function(t){}},{key:"getEmit",value:function(t){return[t]}}]),t}(),On=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.call(this,"error",null)}return(0,y.Z)(r)}(Nn),Cn=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n,i,o){var a;(0,g.Z)(this,r);var s={address:t},u=n.getEventTopic(i);return o?(u!==o[0]&&En.throwArgumentError("topic mismatch","topics",o),s.topics=o.slice()):s.topics=[u],a=e.call(this,In(s),s),ct((0,f.Z)(a),"address",t),ct((0,f.Z)(a),"interface",n),ct((0,f.Z)(a),"fragment",i),a}return(0,y.Z)(r,[{key:"prepareEvent",value:function(t){var e=this;(0,d.Z)((0,p.Z)(r.prototype),"prepareEvent",this).call(this,t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=function(t,r){return e.interface.decodeEventLog(e.fragment,t,r)};try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(n){t.args=null,t.decodeError=n}}},{key:"getEmit",value:function(t){var e=function(t){var e=[];return function t(r,n){if(Array.isArray(n))for(var i in n){var o=r.slice();o.push(i);try{t(o,n[i])}catch(a){e.push({path:o,error:a})}}}([],t),e}(t.args);if(e.length)throw e[0].error;var r=(t.args||[]).slice();return r.push(t),r}}]),r}(Nn),Dn=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;return(0,g.Z)(this,r),i=e.call(this,"*",{address:t}),ct((0,f.Z)(i),"address",t),ct((0,f.Z)(i),"interface",n),i}return(0,y.Z)(r,[{key:"prepareEvent",value:function(t){var e=this;(0,d.Z)((0,p.Z)(r.prototype),"prepareEvent",this).call(this,t);try{var n=this.interface.parseLog(t);t.event=n.name,t.eventSignature=n.signature,t.decode=function(t,r){return e.interface.decodeEventLog(n.eventFragment,t,r)},t.args=n.args}catch(i){}}}]),r}(Nn),Ln=function(){function t(e,r,n){var i=this;(0,g.Z)(this,t),En.checkNew(this instanceof t?this.constructor:void 0,Fn),ct(this,"interface",ft(this instanceof t?this.constructor:void 0,"getInterface")(r)),null==n?(ct(this,"provider",null),ct(this,"signer",null)):cr.isSigner(n)?(ct(this,"provider",n.provider||null),ct(this,"signer",n)):ar.isProvider(n)?(ct(this,"provider",n),ct(this,"signer",null)):En.throwArgumentError("invalid signer or provider","signerOrProvider",n),ct(this,"callStatic",{}),ct(this,"estimateGas",{}),ct(this,"functions",{}),ct(this,"populateTransaction",{}),ct(this,"filters",{});var o={};if(Object.keys(this.interface.events).forEach((function(t){var e=i.interface.events[t];ct(i.filters,t,(function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return{address:i.address,topics:i.interface.encodeFilterTopics(e,r)}})),o[e.name]||(o[e.name]=[]),o[e.name].push(t)})),Object.keys(o).forEach((function(t){var e=o[t];1===e.length?ct(i.filters,t,i.filters[e[0]]):En.warn("Duplicate definition of ".concat(t," (").concat(e.join(", "),")"))})),ct(this,"_runningEvents",{}),ct(this,"_wrappedEmits",{}),null==e&&En.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ct(this,"address",e),this.provider)ct(this,"resolvedAddress",Sn(this.provider,e));else try{ct(this,"resolvedAddress",Promise.resolve(Wt(e)))}catch(u){En.throwError("provider is required to use ENS name as contract address",P.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((function(t){}));var a={},s={};Object.keys(this.interface.functions).forEach((function(t){var e=i.interface.functions[t];if(s[t])En.warn("Duplicate ABI entry for ".concat(JSON.stringify(t)));else{s[t]=!0;var r=e.name;a["%".concat(r)]||(a["%".concat(r)]=[]),a["%".concat(r)].push(t),null==i[t]&&ct(i,t,Pn(i,e,!0)),null==i.functions[t]&&ct(i.functions,t,Pn(i,e,!1)),null==i.callStatic[t]&&ct(i.callStatic,t,Rn(i,e,!0)),null==i.populateTransaction[t]&&ct(i.populateTransaction,t,function(t,e){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return kn(t,e,n)}}(i,e)),null==i.estimateGas[t]&&ct(i.estimateGas,t,function(t,e){var r=t.signer||t.provider;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return xn(this,void 0,void 0,_().mark((function n(){var o;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r||En.throwError("estimate require a provider or signer",P.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),n.next=3,kn(t,e,i);case 3:return o=n.sent,n.next=6,r.estimateGas(o);case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n)})))}}(i,e))}})),Object.keys(a).forEach((function(t){var e=a[t];if(!(e.length>1)){t=t.substring(1);var r=e[0];try{null==i[t]&&ct(i,t,i[r])}catch(n){}null==i.functions[t]&&ct(i.functions,t,i.functions[r]),null==i.callStatic[t]&&ct(i.callStatic,t,i.callStatic[r]),null==i.populateTransaction[t]&&ct(i.populateTransaction,t,i.populateTransaction[r]),null==i.estimateGas[t]&&ct(i.estimateGas,t,i.estimateGas[r])}}))}return(0,y.Z)(t,[{key:"deployed",value:function(){return this._deployed()}},{key:"_deployed",value:function(t){var e=this;return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((function(){return e})):this._deployedPromise=this.provider.getCode(this.address,t).then((function(t){return"0x"===t&&En.throwError("contract not deployed",P.errors.UNSUPPORTED_OPERATION,{contractAddress:e.address,operation:"getDeployed"}),e}))),this._deployedPromise}},{key:"fallback",value:function(t){var e=this;this.signer||En.throwError("sending a transactions require a signer",P.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var r=vt(t||{});return["from","to"].forEach((function(t){null!=r[t]&&En.throwError("cannot override "+t,P.errors.UNSUPPORTED_OPERATION,{operation:t})})),r.to=this.resolvedAddress,this.deployed().then((function(){return e.signer.sendTransaction(r)}))}},{key:"connect",value:function(t){"string"===typeof t&&(t=new fr(t,this.provider));var e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&ct(e,"deployTransaction",this.deployTransaction),e}},{key:"attach",value:function(t){return new this.constructor(t,this.interface,this.signer||this.provider)}},{key:"_normalizeRunningEvent",value:function(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}},{key:"_getRunningEvent",value:function(t){if("string"===typeof t){if("error"===t)return this._normalizeRunningEvent(new On);if("event"===t)return this._normalizeRunningEvent(new Nn("event",null));if("*"===t)return this._normalizeRunningEvent(new Dn(this.address,this.interface));var e=this.interface.getEvent(t);return this._normalizeRunningEvent(new Cn(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{var r=t.topics[0];if("string"!==typeof r)throw new Error("invalid topic");var n=this.interface.getEvent(r);return this._normalizeRunningEvent(new Cn(this.address,this.interface,n,t.topics))}catch(o){}var i={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new Nn(In(i),i))}return this._normalizeRunningEvent(new Dn(this.address,this.interface))}},{key:"_checkRunningEvents",value:function(t){if(0===t.listenerCount()){delete this._runningEvents[t.tag];var e=this._wrappedEmits[t.tag];e&&t.filter&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}},{key:"_wrapEvent",value:function(t,e,r){var n=this,i=bt(e);return i.removeListener=function(){r&&(t.removeListener(r),n._checkRunningEvents(t))},i.getBlock=function(){return n.provider.getBlock(e.blockHash)},i.getTransaction=function(){return n.provider.getTransaction(e.transactionHash)},i.getTransactionReceipt=function(){return n.provider.getTransactionReceipt(e.transactionHash)},t.prepareEvent(i),i}},{key:"_addEventListener",value:function(t,e,r){var n=this;if(this.provider||En.throwError("events require a provider or a signer with a provider",P.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,r),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){var i=function(r){var i=n._wrapEvent(t,r,e);if(null==i.decodeError)try{var o=t.getEmit(i);n.emit.apply(n,[t.filter].concat(c(o)))}catch(a){i.decodeError=a.error}null!=t.filter&&n.emit("event",i),null!=i.decodeError&&n.emit("error",i.decodeError,i)};this._wrappedEmits[t.tag]=i,null!=t.filter&&this.provider.on(t.filter,i)}}},{key:"queryFilter",value:function(t,e,r){var n=this,i=this._getRunningEvent(t),o=vt(i.filter);return"string"===typeof e&&j(e,32)?(null!=r&&En.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),o.blockHash=e):(o.fromBlock=null!=e?e:0,o.toBlock=null!=r?r:"latest"),this.provider.getLogs(o).then((function(t){return t.map((function(t){return n._wrapEvent(i,t,null)}))}))}},{key:"on",value:function(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}},{key:"once",value:function(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}},{key:"emit",value:function(t){if(!this.provider)return!1;for(var e=this._getRunningEvent(t),r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=e.run(n)>0;return this._checkRunningEvents(e),o}},{key:"listenerCount",value:function(t){var e=this;return this.provider?null==t?Object.keys(this._runningEvents).reduce((function(t,r){return t+e._runningEvents[r].listenerCount()}),0):this._getRunningEvent(t).listenerCount():0}},{key:"listeners",value:function(t){var e=this;if(!this.provider)return[];if(null==t){var r=function(){var t=[];for(var r in e._runningEvents)e._runningEvents[r].listeners().forEach((function(e){t.push(e)}));return{v:t}}();if("object"===typeof r)return r.v}return this._getRunningEvent(t).listeners()}},{key:"removeAllListeners",value:function(t){if(!this.provider)return this;if(null==t){for(var e in this._runningEvents){var r=this._runningEvents[e];r.removeAllListeners(),this._checkRunningEvents(r)}return this}var n=this._getRunningEvent(t);return n.removeAllListeners(),this._checkRunningEvents(n),this}},{key:"off",value:function(t,e){if(!this.provider)return this;var r=this._getRunningEvent(t);return r.removeListener(e),this._checkRunningEvents(r),this}},{key:"removeListener",value:function(t,e){return this.off(t,e)}}],[{key:"getContractAddress",value:function(t){return qt(t)}},{key:"getInterface",value:function(t){return rr.isInterface(t)?t:new rr(t)}},{key:"isIndexed",value:function(t){return Qe.isIndexed(t)}}]),t}(),Fn=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r)}(Ln),Bn=function(){function t(e,r,n){(0,g.Z)(this,t);var i=null;"0x"!==(i="string"===typeof r?r:L(r)?H(r):r&&"string"===typeof r.object?r.object:"!").substring(0,2)&&(i="0x"+i),(!j(i)||i.length%2)&&En.throwArgumentError("invalid bytecode","bytecode",r),n&&!cr.isSigner(n)&&En.throwArgumentError("invalid signer","signer",n),ct(this,"bytecode",i),ct(this,"interface",ft(this instanceof t?this.constructor:void 0,"getInterface")(e)),ct(this,"signer",n||null)}return(0,y.Z)(t,[{key:"getDeployTransaction",value:function(){for(var t={},e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===this.interface.deploy.inputs.length+1&&"object"===typeof r[r.length-1])for(var i in t=vt(r.pop()))if(!Mn[i])throw new Error("unknown transaction override "+i);if(["data","from","to"].forEach((function(e){null!=t[e]&&En.throwError("cannot override "+e,P.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.value){var o=it.from(t.value);o.isZero()||this.interface.deploy.payable||En.throwError("non-payable constructor cannot override value",P.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}return En.checkArgumentCount(r.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=H(B([this.bytecode,this.interface.encodeDeploy(r)])),t}},{key:"deploy",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return xn(this,void 0,void 0,_().mark((function t(){var r,n,i,o,a,s;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},e.length===this.interface.deploy.inputs.length+1&&(r=e.pop()),En.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.next=5,An(this.signer,e,this.interface.deploy.inputs);case 5:return(n=t.sent).push(r),i=this.getDeployTransaction.apply(this,c(n)),t.next=10,this.signer.sendTransaction(i);case 10:return o=t.sent,a=ft(this.constructor,"getContractAddress")(o),Tn(s=ft(this.constructor,"getContract")(a,this.interface,this.signer),o),ct(s,"deployTransaction",o),t.abrupt("return",s);case 16:case"end":return t.stop()}}),t,this)})))}},{key:"attach",value:function(t){return this.constructor.getContract(t,this.interface,this.signer)}},{key:"connect",value:function(t){return new this.constructor(this.interface,this.bytecode,t)}}],[{key:"fromSolidity",value:function(t,e){null==t&&En.throwError("missing compiler output",P.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"===typeof t&&(t=JSON.parse(t));var r=t.abi,n=null;return t.bytecode?n=t.bytecode:t.evm&&t.evm.bytecode&&(n=t.evm.bytecode),new this(r,n,e)}},{key:"getInterface",value:function(t){return Fn.getInterface(t)}},{key:"getContractAddress",value:function(t){return qt(t)}},{key:"getContract",value:function(t,e,r){return new Fn(t,e,r)}}]),t}(),Un=r(80518),Gn=r.n(Un),jn=new P("bytes/5.6.1");function zn(t){return!!t.toHexString}function Hn(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return Hn(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Vn(t){return"number"===typeof t&&t==t&&t%1===0}function Wn(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Vn(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!Vn(r)||r<0||r>=256)return!1}return!0}function qn(t,e){if(e||(e={}),"number"===typeof t){jn.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),Hn(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),zn(t)&&(t=t.toHexString()),Xn(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":jn.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Hn(new Uint8Array(i))}return Wn(t)?Hn(new Uint8Array(t)):jn.throwArgumentError("invalid arrayify value","value",t)}function Xn(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var Zn="0123456789abcdef";function Kn(t,e){if(e||(e={}),"number"===typeof t){jn.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=Zn[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),zn(t))return t.toHexString();if(Xn(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":jn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Wn(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=Zn[(240&o)>>4]+Zn[15&o]}return n}return jn.throwArgumentError("invalid hexlify value","value",t)}function Yn(t,e){for("string"!==typeof t?t=Kn(t):Xn(t)||jn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&jn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var Jn="bignumber/5.6.0",$n=Gn().BN,Qn=new P(Jn),ti={},ei=9007199254740991;var ri=!1,ni=function(){function t(e,r){(0,g.Z)(this,t),Qn.checkNew(this instanceof t?this.constructor:void 0,t),e!==ti&&Qn.throwError("cannot call constructor directly; use BigNumber.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"fromTwos",value:function(t){return oi(ai(this).fromTwos(t))}},{key:"toTwos",value:function(t){return oi(ai(this).toTwos(t))}},{key:"abs",value:function(){return"-"===this._hex[0]?t.from(this._hex.substring(1)):this}},{key:"add",value:function(t){return oi(ai(this).add(ai(t)))}},{key:"sub",value:function(t){return oi(ai(this).sub(ai(t)))}},{key:"div",value:function(e){return t.from(e).isZero()&&si("division-by-zero","div"),oi(ai(this).div(ai(e)))}},{key:"mul",value:function(t){return oi(ai(this).mul(ai(t)))}},{key:"mod",value:function(t){var e=ai(t);return e.isNeg()&&si("division-by-zero","mod"),oi(ai(this).umod(e))}},{key:"pow",value:function(t){var e=ai(t);return e.isNeg()&&si("negative-power","pow"),oi(ai(this).pow(e))}},{key:"and",value:function(t){var e=ai(t);return(this.isNegative()||e.isNeg())&&si("unbound-bitwise-result","and"),oi(ai(this).and(e))}},{key:"or",value:function(t){var e=ai(t);return(this.isNegative()||e.isNeg())&&si("unbound-bitwise-result","or"),oi(ai(this).or(e))}},{key:"xor",value:function(t){var e=ai(t);return(this.isNegative()||e.isNeg())&&si("unbound-bitwise-result","xor"),oi(ai(this).xor(e))}},{key:"mask",value:function(t){return(this.isNegative()||t<0)&&si("negative-width","mask"),oi(ai(this).maskn(t))}},{key:"shl",value:function(t){return(this.isNegative()||t<0)&&si("negative-width","shl"),oi(ai(this).shln(t))}},{key:"shr",value:function(t){return(this.isNegative()||t<0)&&si("negative-width","shr"),oi(ai(this).shrn(t))}},{key:"eq",value:function(t){return ai(this).eq(ai(t))}},{key:"lt",value:function(t){return ai(this).lt(ai(t))}},{key:"lte",value:function(t){return ai(this).lte(ai(t))}},{key:"gt",value:function(t){return ai(this).gt(ai(t))}},{key:"gte",value:function(t){return ai(this).gte(ai(t))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return ai(this).isZero()}},{key:"toNumber",value:function(){try{return ai(this).toNumber()}catch(t){si("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(t){}return Qn.throwError("this platform does not support BigInt",P.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?ri||(ri=!0,Qn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Qn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",P.errors.UNEXPECTED_ARGUMENT,{}):Qn.throwError("BigNumber.toString does not accept parameters",P.errors.UNEXPECTED_ARGUMENT,{})),ai(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(t){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(e){if(e instanceof t)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new t(ti,ii(e)):e.match(/^-?[0-9]+$/)?new t(ti,ii(new $n(e))):Qn.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&si("underflow","BigNumber.from",e),(e>=ei||e<=-9007199254740991)&&si("overflow","BigNumber.from",e),t.from(String(e));var r=e;if("bigint"===typeof r)return t.from(r.toString());if(Wn(r))return t.from(Kn(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"===typeof n)return t.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"===typeof i&&(Xn(i)||"-"===i[0]&&Xn(i.substring(1))))return t.from(i)}return Qn.throwArgumentError("invalid BigNumber value","value",e)}},{key:"isBigNumber",value:function(t){return!(!t||!t._isBigNumber)}}]),t}();function ii(t){if("string"!==typeof t)return ii(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Qn.throwArgumentError("invalid hex","value",t),"0x00"===(t=ii(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function oi(t){return ni.from(ii(t))}function ai(t){var e=ni.from(t).toHexString();return"-"===e[0]?new $n("-"+e.substring(3),16):new $n(e.substring(2),16)}function si(t,e,r){var n={fault:t,operation:e};return null!=r&&(n.value=r),Qn.throwError(t,P.errors.NUMERIC_FAULT,n)}var ui=new P(Jn),li={},hi=ni.from(0),ci=ni.from(-1);function fi(t,e,r,n){var i={fault:e,operation:r};return void 0!==n&&(i.value=n),ui.throwError(t,P.errors.NUMERIC_FAULT,i)}for(var di="0";di.length<256;)di+=di;function pi(t){if("number"!==typeof t)try{t=ni.from(t).toNumber()}catch(e){}return"number"===typeof t&&t>=0&&t<=256&&!(t%1)?"1"+di.substring(0,t):ui.throwArgumentError("invalid decimal size","decimals",t)}function vi(t,e){null==e&&(e=0);var r=pi(e),n=(t=ni.from(t)).lt(hi);n&&(t=t.mul(ci));for(var i=t.mod(r).toString();i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];var o=t.div(r).toString();return t=1===r.length?o:o+"."+i,n&&(t="-"+t),t}function mi(t,e){null==e&&(e=0);var r=pi(e);"string"===typeof t&&t.match(/^-?[0-9.]+$/)||ui.throwArgumentError("invalid decimal value","value",t);var n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&ui.throwArgumentError("missing value","value",t);var i=t.split(".");i.length>2&&ui.throwArgumentError("too many decimal points","value",t);var o=i[0],a=i[1];for(o||(o="0"),a||(a="0");"0"===a[a.length-1];)a=a.substring(0,a.length-1);for(a.length>r.length-1&&fi("fractional component exceeds decimals","underflow","parseFixed"),""===a&&(a="0");a.length<r.length-1;)a+="0";var s=ni.from(o),u=ni.from(a),l=s.mul(r).add(u);return n&&(l=l.mul(ci)),l}var gi=function(){function t(e,r,n,i){(0,g.Z)(this,t),e!==li&&ui.throwError("cannot use FixedFormat constructor; use FixedFormat.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=pi(i),Object.freeze(this)}return(0,y.Z)(t,null,[{key:"from",value:function(e){if(e instanceof t)return e;"number"===typeof e&&(e="fixed128x".concat(e));var r=!0,n=128,i=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)r=!1;else{var o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||ui.throwArgumentError("invalid fixed format","format",e),r="u"!==o[1],n=parseInt(o[2]),i=parseInt(o[3])}else if(e){var a=function(t,r,n){return null==e[t]?n:(typeof e[t]!==r&&ui.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t])};r=a("signed","boolean",r),n=a("width","number",n),i=a("decimals","number",i)}return n%8&&ui.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&ui.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new t(li,r,n,i)}}]),t}(),yi=function(){function t(e,r,n,i){(0,g.Z)(this,t),ui.checkNew(this instanceof t?this.constructor:void 0,t),e!==li&&ui.throwError("cannot use FixedNumber constructor; use FixedNumber.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"_checkFormat",value:function(t){this.format.name!==t.format.name&&ui.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}},{key:"addUnsafe",value:function(e){this._checkFormat(e);var r=mi(this._value,this.format.decimals),n=mi(e._value,e.format.decimals);return t.fromValue(r.add(n),this.format.decimals,this.format)}},{key:"subUnsafe",value:function(e){this._checkFormat(e);var r=mi(this._value,this.format.decimals),n=mi(e._value,e.format.decimals);return t.fromValue(r.sub(n),this.format.decimals,this.format)}},{key:"mulUnsafe",value:function(e){this._checkFormat(e);var r=mi(this._value,this.format.decimals),n=mi(e._value,e.format.decimals);return t.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}},{key:"divUnsafe",value:function(e){this._checkFormat(e);var r=mi(this._value,this.format.decimals),n=mi(e._value,e.format.decimals);return t.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}},{key:"floor",value:function(){var e=this.toString().split(".");1===e.length&&e.push("0");var r=t.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(bi.toFormat(r.format))),r}},{key:"ceiling",value:function(){var e=this.toString().split(".");1===e.length&&e.push("0");var r=t.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(bi.toFormat(r.format))),r}},{key:"round",value:function(e){null==e&&(e=0);var r=this.toString().split(".");if(1===r.length&&r.push("0"),(e<0||e>80||e%1)&&ui.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;var n=t.from("1"+di.substring(0,e),this.format),i=_i.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}},{key:"isZero",value:function(){return"0.0"===this._value||"0"===this._value}},{key:"isNegative",value:function(){return"-"===this._value[0]}},{key:"toString",value:function(){return this._value}},{key:"toHexString",value:function(t){return null==t?this._hex:(t%8&&ui.throwArgumentError("invalid byte width","width",t),Yn(ni.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8))}},{key:"toUnsafeFloat",value:function(){return parseFloat(this.toString())}},{key:"toFormat",value:function(e){return t.fromString(this._value,e)}}],[{key:"fromValue",value:function(e,r,n){return null!=n||null==r||function(t){return null!=t&&(ni.isBigNumber(t)||"number"===typeof t&&t%1===0||"string"===typeof t&&!!t.match(/^-?[0-9]+$/)||Xn(t)||"bigint"===typeof t||Wn(t))}(r)||(n=r,r=null),null==r&&(r=0),null==n&&(n="fixed"),t.fromString(vi(e,r),gi.from(n))}},{key:"fromString",value:function(e,r){null==r&&(r="fixed");var n=gi.from(r),i=mi(e,n.decimals);!n.signed&&i.lt(hi)&&fi("unsigned value cannot be negative","overflow","value",e);var o=null;o=n.signed?i.toTwos(n.width).toHexString():Yn(o=i.toHexString(),n.width/8);var a=vi(i,n.decimals);return new t(li,o,a,n)}},{key:"fromBytes",value:function(e,r){null==r&&(r="fixed");var n=gi.from(r);if(qn(e).length>n.width/8)throw new Error("overflow");var i=ni.from(e);n.signed&&(i=i.fromTwos(n.width));var o=i.toTwos((n.signed?0:1)+n.width).toHexString(),a=vi(i,n.decimals);return new t(li,o,a,n)}},{key:"from",value:function(e,r){if("string"===typeof e)return t.fromString(e,r);if(Wn(e))return t.fromBytes(e,r);try{return t.fromValue(e,0,r)}catch(n){if(n.code!==P.errors.INVALID_ARGUMENT)throw n}return ui.throwArgumentError("invalid FixedNumber value","value",e)}},{key:"isFixedNumber",value:function(t){return!(!t||!t._isFixedNumber)}}]),t}(),bi=yi.from(1),_i=yi.from("0.5"),wi=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},xi=new P("abstract-signer/5.6.0"),Ei=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Mi=[P.errors.INSUFFICIENT_FUNDS,P.errors.NONCE_EXPIRED,P.errors.REPLACEMENT_UNDERPRICED],Si=function(){function t(){(0,g.Z)(this,t),xi.checkAbstract(this instanceof t?this.constructor:void 0,t),ct(this,"_isSigner",!0)}return(0,y.Z)(t,[{key:"getBalance",value:function(t){return wi(this,void 0,void 0,_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getBalance"),e.next=3,this.provider.getBalance(this.getAddress(),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getTransactionCount",value:function(t){return wi(this,void 0,void 0,_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("getTransactionCount"),e.next=3,this.provider.getTransactionCount(this.getAddress(),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"estimateGas",value:function(t){return wi(this,void 0,void 0,_().mark((function e(){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("estimateGas"),e.next=3,dt(this.checkTransaction(t));case 3:return r=e.sent,e.next=6,this.provider.estimateGas(r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"call",value:function(t,e){return wi(this,void 0,void 0,_().mark((function r(){var n;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this._checkProvider("call"),r.next=3,dt(this.checkTransaction(t));case 3:return n=r.sent,r.next=6,this.provider.call(n,e);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"sendTransaction",value:function(t){return wi(this,void 0,void 0,_().mark((function e(){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("sendTransaction"),e.next=3,this.populateTransaction(t);case 3:return r=e.sent,e.next=6,this.signTransaction(r);case 6:return n=e.sent,e.next=9,this.provider.sendTransaction(n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"getChainId",value:function(){return wi(this,void 0,void 0,_().mark((function t(){var e;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getChainId"),t.next=3,this.provider.getNetwork();case 3:return e=t.sent,t.abrupt("return",e.chainId);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getGasPrice",value:function(){return wi(this,void 0,void 0,_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getGasPrice"),t.next=3,this.provider.getGasPrice();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getFeeData",value:function(){return wi(this,void 0,void 0,_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._checkProvider("getFeeData"),t.next=3,this.provider.getFeeData();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"resolveName",value:function(t){return wi(this,void 0,void 0,_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._checkProvider("resolveName"),e.next=3,this.provider.resolveName(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"checkTransaction",value:function(t){for(var e in t)-1===Ei.indexOf(e)&&xi.throwArgumentError("invalid transaction key: "+e,"transaction",t);var r=vt(t);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then((function(e){return e[0].toLowerCase()!==e[1].toLowerCase()&&xi.throwArgumentError("from address mismatch","transaction",t),e[0]})),r}},{key:"populateTransaction",value:function(t){return wi(this,void 0,void 0,_().mark((function e(){var r,n,i,o,a=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt(this.checkTransaction(t));case 2:if(null!=(r=e.sent).to&&(r.to=Promise.resolve(r.to).then((function(t){return wi(a,void 0,void 0,_().mark((function e(){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.resolveName(t);case 4:return null==(r=e.sent)&&xi.throwArgumentError("provided ENS name resolves to null","tx.to",t),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})))})),r.to.catch((function(t){}))),n=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas,null==r.gasPrice||2!==r.type&&!n?0!==r.type&&1!==r.type||!n||xi.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):xi.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas){e.next=10;break}r.type=2,e.next=18;break;case 10:if(0!==r.type&&1!==r.type){e.next=14;break}null==r.gasPrice&&(r.gasPrice=this.getGasPrice()),e.next=18;break;case 14:return e.next=16,this.getFeeData();case 16:i=e.sent,null==r.type?null!=i.maxFeePerGas&&null!=i.maxPriorityFeePerGas?(r.type=2,null!=r.gasPrice?(o=r.gasPrice,delete r.gasPrice,r.maxFeePerGas=o,r.maxPriorityFeePerGas=o):(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))):null!=i.gasPrice?(n&&xi.throwError("network does not support EIP-1559",P.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=i.gasPrice),r.type=0):xi.throwError("failed to get consistent fee data",P.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"}):2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=i.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas));case 18:return null==r.nonce&&(r.nonce=this.getTransactionCount("pending")),null==r.gasLimit&&(r.gasLimit=this.estimateGas(r).catch((function(t){if(Mi.indexOf(t.code)>=0)throw t;return xi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",P.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:r})}))),null==r.chainId?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then((function(e){return 0!==e[1]&&e[0]!==e[1]&&xi.throwArgumentError("chainId address mismatch","transaction",t),e[0]})),e.next=23,dt(r);case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e,this)})))}},{key:"_checkProvider",value:function(t){this.provider||xi.throwError("missing provider",P.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}}],[{key:"isSigner",value:function(t){return!(!t||!t._isSigner)}}]),t}(),Ai=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;return(0,g.Z)(this,r),xi.checkNew(this instanceof r?this.constructor:void 0,r),i=e.call(this),ct((0,f.Z)(i),"address",t),ct((0,f.Z)(i),"provider",n||null),i}return(0,y.Z)(r,[{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"_fail",value:function(t,e){return Promise.resolve().then((function(){xi.throwError(t,P.errors.UNSUPPORTED_OPERATION,{operation:e})}))}},{key:"signMessage",value:function(t){return this._fail("VoidSigner cannot sign messages","signMessage")}},{key:"signTransaction",value:function(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}},{key:"_signTypedData",value:function(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}},{key:"connect",value:function(t){return new r(this.address,t)}}]),r}(Si);function ki(t){return"string"===typeof t&&(t=Qt(t)),Tt(B([Qt("\x19Ethereum Signed Message:\n"),Qt(String(t.length)),t]))}var Ti="hash/5.6.1",Ri=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Pi=new P(Ti),Ii=new Uint8Array(32);Ii.fill(0);var Ni=it.from(-1),Oi=it.from(0),Ci=it.from(1),Di=it.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Li=Z(Ci.toHexString(),32),Fi=Z(Oi.toHexString(),32),Bi={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ui=["name","version","chainId","verifyingContract","salt"];function Gi(t){return function(e){return"string"!==typeof e&&Pi.throwArgumentError("invalid domain value for ".concat(JSON.stringify(t)),"domain.".concat(t),e),e}}var ji={name:Gi("name"),version:Gi("version"),chainId:function(t){try{return it.from(t).toString()}catch(e){}return Pi.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Wt(t).toLowerCase()}catch(e){}return Pi.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{var e=F(t);if(32!==e.length)throw new Error("bad length");return H(e)}catch(r){}return Pi.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function zi(t){var e=t.match(/^(u?)int(\d*)$/);if(e){var r=""===e[1],n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Pi.throwArgumentError("invalid numeric width","type",t);var i=Di.mask(r?n-1:n),o=r?i.add(Ci).mul(Ni):Oi;return function(e){var r=it.from(e);return(r.lt(o)||r.gt(i))&&Pi.throwArgumentError("value out-of-bounds for ".concat(t),"value",e),Z(r.toTwos(256).toHexString(),32)}}var a=t.match(/^bytes(\d+)$/);if(a){var s=parseInt(a[1]);return(0===s||s>32||a[1]!==String(s))&&Pi.throwArgumentError("invalid bytes width","type",t),function(e){return F(e).length!==s&&Pi.throwArgumentError("invalid length for ".concat(t),"value",e),function(t){var e=F(t),r=e.length%32;return r?q([e,Ii.slice(r)]):H(e)}(e)}}switch(t){case"address":return function(t){return Z(Wt(t),32)};case"bool":return function(t){return t?Li:Fi};case"bytes":return function(t){return Tt(t)};case"string":return function(t){return ne(t)}}return null}function Hi(t,e){return"".concat(t,"(").concat(e.map((function(t){var e=t.name;return t.type+" "+e})).join(","),")")}var Vi,Wi=function(){function t(e){(0,g.Z)(this,t),ct(this,"types",Object.freeze(bt(e))),ct(this,"_encoderCache",{}),ct(this,"_types",{});var r={},n={},i={};Object.keys(e).forEach((function(t){r[t]={},n[t]=[],i[t]={}}));var o=function(t){var i={};e[t].forEach((function(o){i[o.name]&&Pi.throwArgumentError("duplicate variable name ".concat(JSON.stringify(o.name)," in ").concat(JSON.stringify(t)),"types",e),i[o.name]=!0;var a=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];a===t&&Pi.throwArgumentError("circular type reference to ".concat(JSON.stringify(a)),"types",e),zi(a)||(n[a]||Pi.throwArgumentError("unknown type ".concat(JSON.stringify(a)),"types",e),n[a].push(t),r[t][a]=!0)}))};for(var a in e)o(a);var s=Object.keys(n).filter((function(t){return 0===n[t].length}));for(var u in 0===s.length?Pi.throwArgumentError("missing primary type","types",e):s.length>1&&Pi.throwArgumentError("ambiguous primary types or unused types: ".concat(s.map((function(t){return JSON.stringify(t)})).join(", ")),"types",e),ct(this,"primaryType",s[0]),function t(o,a){a[o]&&Pi.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",e),a[o]=!0,Object.keys(r[o]).forEach((function(e){n[e]&&(t(e,a),Object.keys(a).forEach((function(t){i[t][e]=!0})))})),delete a[o]}(this.primaryType,{}),i){var l=Object.keys(i[u]);l.sort(),this._types[u]=Hi(u,e[u])+l.map((function(t){return Hi(t,e[t])})).join("")}}return(0,y.Z)(t,[{key:"getEncoder",value:function(t){var e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}},{key:"_getEncoder",value:function(t){var e=this,r=zi(t);if(r)return r;var n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){var i=n[1],o=this.getEncoder(i),a=parseInt(n[3]);return function(t){a>=0&&t.length!==a&&Pi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);var r=t.map(o);return e._types[i]&&(r=r.map(Tt)),Tt(q(r))}}var s=this.types[t];if(s){var u=ne(this._types[t]);return function(t){var r=s.map((function(r){var n=r.name,i=r.type,o=e.getEncoder(i)(t[n]);return e._types[i]?Tt(o):o}));return r.unshift(u),q(r)}}return Pi.throwArgumentError("unknown type: ".concat(t),"type",t)}},{key:"encodeType",value:function(t){var e=this._types[t];return e||Pi.throwArgumentError("unknown type: ".concat(JSON.stringify(t)),"name",t),e}},{key:"encodeData",value:function(t,e){return this.getEncoder(t)(e)}},{key:"hashStruct",value:function(t,e){return Tt(this.encodeData(t,e))}},{key:"encode",value:function(t){return this.encodeData(this.primaryType,t)}},{key:"hash",value:function(t){return this.hashStruct(this.primaryType,t)}},{key:"_visit",value:function(t,e,r){var n=this;if(zi(t))return r(t,e);var i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){var o=i[1],a=parseInt(i[3]);return a>=0&&e.length!==a&&Pi.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((function(t){return n._visit(o,t,r)}))}var s=this.types[t];return s?s.reduce((function(t,i){var o=i.name,a=i.type;return t[o]=n._visit(a,e[o],r),t}),{}):Pi.throwArgumentError("unknown type: ".concat(t),"type",t)}},{key:"visit",value:function(t,e){return this._visit(this.primaryType,t,e)}}],[{key:"from",value:function(e){return new t(e)}},{key:"getPrimaryType",value:function(e){return t.from(e).primaryType}},{key:"hashStruct",value:function(e,r,n){return t.from(r).hashStruct(e,n)}},{key:"hashDomain",value:function(e){var r=[];for(var n in e){var i=Bi[n];i||Pi.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",e),r.push({name:n,type:i})}return r.sort((function(t,e){return Ui.indexOf(t.name)-Ui.indexOf(e.name)})),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}},{key:"encode",value:function(e,r,n){return q(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}},{key:"hash",value:function(e,r,n){return Tt(t.encode(e,r,n))}},{key:"resolveNames",value:function(e,r,n,i){return Ri(this,void 0,void 0,_().mark((function o(){var a,s,u;return _().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e=vt(e),a={},e.verifyingContract&&!j(e.verifyingContract,20)&&(a[e.verifyingContract]="0x"),(s=t.from(r)).visit(n,(function(t,e){return"address"!==t||j(e,20)||(a[e]="0x"),e})),o.t0=_().keys(a);case 6:if((o.t1=o.t0()).done){o.next=13;break}return u=o.t1.value,o.next=10,i(u);case 10:a[u]=o.sent,o.next=6;break;case 13:return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),n=s.visit(n,(function(t,e){return"address"===t&&a[e]?a[e]:e})),o.abrupt("return",{domain:e,value:n});case 16:case"end":return o.stop()}}),o)})))}},{key:"getPayload",value:function(e,r,n){t.hashDomain(e);var i={},o=[];Ui.forEach((function(t){var r=e[t];null!=r&&(i[t]=ji[t](r),o.push({name:t,type:Bi[t]}))}));var a=t.from(r),s=vt(r);return s.EIP712Domain?Pi.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):s.EIP712Domain=o,a.encode(n),{types:s,domain:i,primaryType:a.primaryType,message:a.visit(n,(function(t,e){if(t.match(/^bytes(\d*)/))return H(F(e));if(t.match(/^u?int/))return it.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!==typeof e&&Pi.throwArgumentError("invalid string","value",e),e}return Pi.throwArgumentError("unsupported type","type",t)}))}}}]),t}(),qi=function(){function t(e){(0,g.Z)(this,t),ct(this,"alphabet",e),ct(this,"base",e.length),ct(this,"_alphabetMap",{}),ct(this,"_leader",e.charAt(0));for(var r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}return(0,y.Z)(t,[{key:"encode",value:function(t){var e=F(t);if(0===e.length)return"";for(var r=[0],n=0;n<e.length;++n){for(var i=e[n],o=0;o<r.length;++o)i+=r[o]<<8,r[o]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}for(var a="",s=0;0===e[s]&&s<e.length-1;++s)a+=this._leader;for(var u=r.length-1;u>=0;--u)a+=this.alphabet[r[u]];return a}},{key:"decode",value:function(t){if("string"!==typeof t)throw new TypeError("Expected String");var e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(var r=0;r<t.length;r++){var n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,o=0;o<e.length;++o)i+=e[o]*this.base,e[o]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(var a=0;t[a]===this._leader&&a<t.length-1;++a)e.push(0);return F(new Uint8Array(e.reverse()))}}]),t}(),Xi=(new qi("abcdefghijklmnopqrstuvwxyz234567"),new qi("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"));!function(t){t.sha256="sha256",t.sha512="sha512"}(Vi||(Vi={}));var Zi=new P("sha2/5.6.1");function Ki(t){return"0x"+mr().sha256().update(F(t)).digest("hex")}function Yi(t,e,r){return Vi[t]||Zi.throwError("unsupported algorithm "+t,P.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+mr().hmac(mr()[t],F(e)).update(F(r)).digest("hex")}function Ji(t,e,r,n,i){var o;t=F(t),e=F(e);var a,s,u=1,l=new Uint8Array(n),h=new Uint8Array(e.length+4);h.set(e);for(var c=1;c<=u;c++){h[e.length]=c>>24&255,h[e.length+1]=c>>16&255,h[e.length+2]=c>>8&255,h[e.length+3]=255&c;var f=F(Yi(i,t,h));o||(o=f.length,s=new Uint8Array(o),a=n-((u=Math.ceil(n/o))-1)*o),s.set(f);for(var d=1;d<r;d++){f=F(Yi(i,t,f));for(var p=0;p<o;p++)s[p]^=f[p]}var v=(c-1)*o,m=c===u?a:o;l.set(F(s).slice(0,m),v)}return H(l)}var $i=new P("wordlists/5.6.1"),Qi=function(){function t(e){(0,g.Z)(this,t),$i.checkAbstract(this instanceof t?this.constructor:void 0,t),ct(this,"locale",e)}return(0,y.Z)(t,[{key:"split",value:function(t){return t.toLowerCase().split(/ +/g)}},{key:"join",value:function(t){return t.join(" ")}}],[{key:"check",value:function(t){for(var e=[],r=0;r<2048;r++){var n=t.getWord(r);if(r!==t.getWordIndex(n))return"0x";e.push(n)}return ne(e.join("\n")+"\n")}},{key:"register",value:function(t,e){e||(e=t.locale)}}]),t}(),to=null;function eo(t){if(null==to&&(to="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==Qi.check(t)))throw to=null,new Error("BIP39 Wordlist for en (English) FAILED")}var ro=new(function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.call(this,"en")}return(0,y.Z)(r,[{key:"getWord",value:function(t){return eo(this),to[t]}},{key:"getWordIndex",value:function(t){return eo(this),to.indexOf(t)}}]),r}(Qi));Qi.register(ro);var no={en:ro},io=new P("hdnode/5.6.2"),oo=it.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ao=Qt("Bitcoin seed"),so=2147483648;function uo(t){return(1<<t)-1<<8-t}function lo(t){return Z(H(t),32)}function ho(t){return Xi.encode(B([t,W(Ki(Ki(t)),0,4)]))}function co(t){if(null==t)return no.en;if("string"===typeof t){var e=no[t];return null==e&&io.throwArgumentError("unknown locale","wordlist",t),e}return t}var fo={},po="m/44'/60'/0'/0/0",vo=function(){function t(e,r,n,i,o,a,s,u){if((0,g.Z)(this,t),e!==fo)throw new Error("HDNode constructor cannot be called directly");if(r){var l=new rn(r);ct(this,"privateKey",l.privateKey),ct(this,"publicKey",l.compressedPublicKey)}else ct(this,"privateKey",null),ct(this,"publicKey",H(n));var h;ct(this,"parentFingerprint",i),ct(this,"fingerprint",W((h=Ki(this.publicKey),"0x"+mr().ripemd160().update(F(h)).digest("hex")),0,4)),ct(this,"address",cn(this.publicKey)),ct(this,"chainCode",o),ct(this,"index",a),ct(this,"depth",s),null==u?(ct(this,"mnemonic",null),ct(this,"path",null)):"string"===typeof u?(ct(this,"mnemonic",null),ct(this,"path",u)):(ct(this,"mnemonic",u),ct(this,"path",u.path))}return(0,y.Z)(t,[{key:"extendedKey",get:function(){if(this.depth>=256)throw new Error("Depth too large!");return ho(B([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",H(this.depth),this.parentFingerprint,Z(H(this.index),4),this.chainCode,null!=this.privateKey?B(["0x00",this.privateKey]):this.publicKey]))}},{key:"neuter",value:function(){return new t(fo,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}},{key:"_derive",value:function(e){if(e>4294967295)throw new Error("invalid index - "+String(e));var r=this.path;r&&(r+="/"+(2147483647&e));var n=new Uint8Array(37);if(e&so){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(F(this.privateKey),1),r&&(r+="'")}else n.set(F(this.publicKey));for(var i=24;i>=0;i-=8)n[33+(i>>3)]=e>>24-i&255;var o=F(Yi(Vi.sha512,this.chainCode,n)),a=o.slice(0,32),s=o.slice(32),u=null,l=null;this.privateKey?u=lo(it.from(a).add(this.privateKey).mod(oo)):l=new rn(H(a))._addPoint(this.publicKey);var h=r,c=this.mnemonic;return c&&(h=Object.freeze({phrase:c.phrase,path:r,locale:c.locale||"en"})),new t(fo,u,l,this.fingerprint,lo(s),e,this.depth+1,h)}},{key:"derivePath",value:function(t){var e=t.split("/");if(0===e.length||"m"===e[0]&&0!==this.depth)throw new Error("invalid path - "+t);"m"===e[0]&&e.shift();for(var r=this,n=0;n<e.length;n++){var i=e[n];if(i.match(/^[0-9]+'$/)){var o=parseInt(i.substring(0,i.length-1));if(o>=so)throw new Error("invalid path index - "+i);r=r._derive(so+o)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);var a=parseInt(i);if(a>=so)throw new Error("invalid path index - "+i);r=r._derive(a)}}return r}}],[{key:"_fromSeed",value:function(e,r){var n=F(e);if(n.length<16||n.length>64)throw new Error("invalid seed");var i=F(Yi(Vi.sha512,ao,n));return new t(fo,lo(i.slice(0,32)),null,"0x00000000",lo(i.slice(32)),0,0,r)}},{key:"fromMnemonic",value:function(e,r,n){return e=go(mo(e,n=co(n)),n),t._fromSeed(function(t,e){e||(e="");var r=Qt("mnemonic"+e,Xt.NFKD);return Ji(Qt(t,Xt.NFKD),r,2048,64,"sha512")}(e,r),{phrase:e,path:"m",locale:n.locale})}},{key:"fromSeed",value:function(e){return t._fromSeed(e,null)}},{key:"fromExtendedKey",value:function(e){var r=Xi.decode(e);82===r.length&&ho(r.slice(0,78))===e||io.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");var n=r[4],i=H(r.slice(5,9)),o=parseInt(H(r.slice(9,13)).substring(2),16),a=H(r.slice(13,45)),s=r.slice(45,78);switch(H(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(fo,null,H(s),i,a,o,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new t(fo,H(s.slice(1)),null,i,a,o,n,null)}return io.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}]),t}();function mo(t,e){e=co(e),io.checkNormalize();var r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");for(var n=F(new Uint8Array(Math.ceil(11*r.length/8))),i=0,o=0;o<r.length;o++){var a=e.getWordIndex(r[o].normalize("NFKD"));if(-1===a)throw new Error("invalid mnemonic");for(var s=0;s<11;s++)a&1<<10-s&&(n[i>>3]|=1<<7-i%8),i++}var u=32*r.length/3,l=uo(r.length/3);if((F(Ki(n.slice(0,u/8)))[0]&l)!==(n[n.length-1]&l))throw new Error("invalid checksum");return H(n.slice(0,u/8))}function go(t,e){if(e=co(e),(t=F(t)).length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");for(var r=[0],n=11,i=0;i<t.length;i++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[i],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[i]>>8-n,r.push(t[i]&(1<<8-n)-1),n+=3);var o=t.length/4,a=F(Ki(t))[0]&uo(o);return r[r.length-1]<<=o,r[r.length-1]|=a>>8-o,e.join(r.map((function(t){return e.getWord(t)})))}var yo=new P("random/5.6.1");var bo=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}(),_o=bo.crypto||bo.msCrypto;function wo(t){(t<=0||t>1024||t%1||t!=t)&&yo.throwArgumentError("invalid length","length",t);var e=new Uint8Array(t);return _o.getRandomValues(e),F(e)}_o&&_o.getRandomValues||(yo.warn("WARNING: Missing strong random number source"),_o={getRandomValues:function(t){return yo.throwError("no secure random source avaialble",P.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var xo=r(30468),Eo=r.n(xo),Mo="json-wallets/5.6.1";function So(t){return"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),F(t)}function Ao(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function ko(t){return"string"===typeof t?Qt(t,Xt.NFKC):F(t)}function To(t,e){for(var r=t,n=e.toLowerCase().split("/"),i=0;i<n.length;i++){var o=null;for(var a in r)if(a.toLowerCase()===n[i]){o=r[a];break}if(null===o)return null;r=o}return r}function Ro(t){var e=F(t);e[6]=15&e[6]|64,e[8]=63&e[8]|128;var r=H(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var Po=new P(Mo),Io=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"isCrowdsaleAccount",value:function(t){return!(!t||!t._isCrowdsaleAccount)}}]),r}(_t);function No(t,e){var r=JSON.parse(t);e=ko(e);var n=Wt(To(r,"ethaddr")),i=So(To(r,"encseed"));i&&i.length%16===0||Po.throwArgumentError("invalid encseed","json",t);for(var o=F(Ji(e,e,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),s=i.slice(16),u=new(Eo().ModeOfOperation.cbc)(o,a),l=Eo().padding.pkcs7.strip(F(u.decrypt(s))),h="",c=0;c<l.length;c++)h+=String.fromCharCode(l[c]);var f=Tt(Qt(h));return new Io({_isCrowdsaleAccount:!0,address:n,privateKey:f})}function Oo(t){var e=null;try{e=JSON.parse(t)}catch(r){return!1}return e.encseed&&e.ethaddr}function Co(t){var e=null;try{e=JSON.parse(t)}catch(r){return!1}return!(!e.version||parseInt(e.version)!==e.version||3!==parseInt(e.version))}var Do=r(12065),Lo=r.n(Do),Fo=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Bo=new P(Mo);function Uo(t){return null!=t&&t.mnemonic&&t.mnemonic.phrase}var Go=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"isKeystoreAccount",value:function(t){return!(!t||!t._isKeystoreAccount)}}]),r}(_t);function jo(t,e){var r=So(To(t,"crypto/ciphertext"));if(H(Tt(B([e.slice(16,32),r]))).substring(2)!==To(t,"crypto/mac").toLowerCase())throw new Error("invalid password");var n=function(t,e,r){if("aes-128-ctr"===To(t,"crypto/cipher")){var n=So(To(t,"crypto/cipherparams/iv")),i=new(Eo().Counter)(n);return F(new(Eo().ModeOfOperation.ctr)(e,i).decrypt(r))}return null}(t,e.slice(0,16),r);n||Bo.throwError("unsupported cipher",P.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});var i=e.slice(32,64),o=cn(n);if(t.address){var a=t.address.toLowerCase();if("0x"!==a.substring(0,2)&&(a="0x"+a),Wt(a)!==o)throw new Error("address mismatch")}var s={_isKeystoreAccount:!0,address:o,privateKey:H(n)};if("0.1"===To(t,"x-ethers/version")){var u=So(To(t,"x-ethers/mnemonicCiphertext")),l=So(To(t,"x-ethers/mnemonicCounter")),h=new(Eo().Counter)(l),c=new(Eo().ModeOfOperation.ctr)(i,h),f=To(t,"x-ethers/path")||po,d=To(t,"x-ethers/locale")||"en",p=F(c.decrypt(u));try{var v=go(p,d),m=vo.fromMnemonic(v,null,d).derivePath(f);if(m.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=m.mnemonic}catch(g){if(g.code!==P.errors.INVALID_ARGUMENT||"wordlist"!==g.argument)throw g}}return new Go(s)}function zo(t,e,r,n,i){return F(Ji(t,e,r,n,i))}function Ho(t,e,r,n,i){return Promise.resolve(zo(t,e,r,n,i))}function Vo(t,e,r,n,i){var o=ko(e),a=To(t,"crypto/kdf");if(a&&"string"===typeof a){var s=function(t,e){return Bo.throwArgumentError("invalid key-derivation function parameters",t,e)};if("scrypt"===a.toLowerCase()){var u=So(To(t,"crypto/kdfparams/salt")),l=parseInt(To(t,"crypto/kdfparams/n")),h=parseInt(To(t,"crypto/kdfparams/r")),c=parseInt(To(t,"crypto/kdfparams/p"));l&&h&&c||s("kdf",a),0!==(l&l-1)&&s("N",l);var f=parseInt(To(t,"crypto/kdfparams/dklen"));return 32!==f&&s("dklen",f),n(o,u,l,h,c,64,i)}if("pbkdf2"===a.toLowerCase()){var d=So(To(t,"crypto/kdfparams/salt")),p=null,v=To(t,"crypto/kdfparams/prf");"hmac-sha256"===v?p="sha256":"hmac-sha512"===v?p="sha512":s("prf",v);var m=parseInt(To(t,"crypto/kdfparams/c")),g=parseInt(To(t,"crypto/kdfparams/dklen"));return 32!==g&&s("dklen",g),r(o,d,m,g,p)}}return Bo.throwArgumentError("unsupported key-derivation function","kdf",a)}function Wo(t,e,r){if(Oo(t)){r&&r(0);var n=No(t,e);return r&&r(1),Promise.resolve(n)}return Co(t)?function(t,e,r){return Fo(this,void 0,void 0,_().mark((function n(){var i,o;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=JSON.parse(t),n.next=3,Vo(i,e,Ho,Lo().scrypt,r);case 3:return o=n.sent,n.abrupt("return",jo(i,o));case 5:case"end":return n.stop()}}),n)})))}(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function qo(t,e){if(Oo(t))return No(t,e);if(Co(t))return function(t,e){var r=JSON.parse(t);return jo(r,Vo(r,e,zo,Lo().syncScrypt))}(t,e);throw new Error("invalid JSON wallet")}var Xo=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Zo=new P("wallet/5.6.0");var Ko=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i,o;if((0,g.Z)(this,r),Zo.checkNew(this instanceof r?this.constructor:void 0,r),i=e.call(this),null!=(o=t)&&j(o.privateKey,32)&&null!=o.address){var a=new rn(t.privateKey);if(ct((0,f.Z)(i),"_signingKey",(function(){return a})),ct((0,f.Z)(i),"address",cn(i.publicKey)),i.address!==Wt(t.address)&&Zo.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(t){var e=t.mnemonic;return e&&e.phrase}(t)){var s=t.mnemonic;ct((0,f.Z)(i),"_mnemonic",(function(){return{phrase:s.phrase,path:s.path||po,locale:s.locale||"en"}}));var u=i.mnemonic;cn(vo.fromMnemonic(u.phrase,null,u.locale).derivePath(u.path).privateKey)!==i.address&&Zo.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else ct((0,f.Z)(i),"_mnemonic",(function(){return null}))}else{if(rn.isSigningKey(t))"secp256k1"!==t.curve&&Zo.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),ct((0,f.Z)(i),"_signingKey",(function(){return t}));else{"string"===typeof t&&t.match(/^[0-9a-f]*$/i)&&64===t.length&&(t="0x"+t);var l=new rn(t);ct((0,f.Z)(i),"_signingKey",(function(){return l}))}ct((0,f.Z)(i),"_mnemonic",(function(){return null})),ct((0,f.Z)(i),"address",cn(i.publicKey))}return n&&!ar.isProvider(n)&&Zo.throwArgumentError("invalid provider","provider",n),ct((0,f.Z)(i),"provider",n||null),i}return(0,y.Z)(r,[{key:"mnemonic",get:function(){return this._mnemonic()}},{key:"privateKey",get:function(){return this._signingKey().privateKey}},{key:"publicKey",get:function(){return this._signingKey().publicKey}},{key:"getAddress",value:function(){return Promise.resolve(this.address)}},{key:"connect",value:function(t){return new r(this,t)}},{key:"signTransaction",value:function(t){var e=this;return dt(t).then((function(r){null!=r.from&&(Wt(r.from)!==e.address&&Zo.throwArgumentError("transaction from address mismatch","transaction.from",t.from),delete r.from);var n=e._signingKey().signDigest(Tt(bn(r)));return bn(r,n)}))}},{key:"signMessage",value:function(t){return Xo(this,void 0,void 0,_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y(this._signingKey().signDigest(ki(t))));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"_signTypedData",value:function(t,e,r){return Xo(this,void 0,void 0,_().mark((function n(){var i,o=this;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Wi.resolveNames(t,e,r,(function(t){return null==o.provider&&Zo.throwError("cannot resolve ENS names without a provider",P.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:t}),o.provider.resolveName(t)}));case 2:return i=n.sent,n.abrupt("return",Y(this._signingKey().signDigest(Wi.hash(i.domain,e,i.value))));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"encrypt",value:function(t,e,r){if("function"!==typeof e||r||(r=e,e={}),r&&"function"!==typeof r)throw new Error("invalid callback");return e||(e={}),function(t,e,r,n){try{if(Wt(t.address)!==cn(t.privateKey))throw new Error("address/privateKey mismatch");if(Uo(t)){var i=t.mnemonic;if(vo.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path||po).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(y){return Promise.reject(y)}"function"!==typeof r||n||(n=r,r={}),r||(r={});var o=F(t.privateKey),a=ko(e),s=null,u=null,l=null;if(Uo(t)){var h=t.mnemonic;s=F(mo(h.phrase,h.locale||"en")),u=h.path||po,l=h.locale||"en"}var c=r.client;c||(c="ethers.js");var f=null;f=r.salt?F(r.salt):wo(32);var d=null;if(r.iv){if(16!==(d=F(r.iv)).length)throw new Error("invalid iv")}else d=wo(16);var p=null;if(r.uuid){if(16!==(p=F(r.uuid)).length)throw new Error("invalid uuid")}else p=wo(16);var v=1<<17,m=8,g=1;return r.scrypt&&(r.scrypt.N&&(v=r.scrypt.N),r.scrypt.r&&(m=r.scrypt.r),r.scrypt.p&&(g=r.scrypt.p)),Lo().scrypt(a,f,v,m,g,64,n).then((function(e){var r=(e=F(e)).slice(0,16),n=e.slice(16,32),i=e.slice(32,64),a=new(Eo().Counter)(d),h=F(new(Eo().ModeOfOperation.ctr)(r,a).encrypt(o)),y=Tt(B([n,h])),b={address:t.address.substring(2).toLowerCase(),id:Ro(p),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:H(d).substring(2)},ciphertext:H(h).substring(2),kdf:"scrypt",kdfparams:{salt:H(f).substring(2),n:v,dklen:32,p:g,r:m},mac:y.substring(2)}};if(s){var _=wo(16),w=new(Eo().Counter)(_),x=F(new(Eo().ModeOfOperation.ctr)(i,w).encrypt(s)),E=new Date,M=E.getUTCFullYear()+"-"+Ao(E.getUTCMonth()+1,2)+"-"+Ao(E.getUTCDate(),2)+"T"+Ao(E.getUTCHours(),2)+"-"+Ao(E.getUTCMinutes(),2)+"-"+Ao(E.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:c,gethFilename:"UTC--"+M+"--"+b.address,mnemonicCounter:H(_).substring(2),mnemonicCiphertext:H(x).substring(2),path:u,locale:l,version:"0.1"}}return JSON.stringify(b)}))}(this,t,e,r)}}],[{key:"createRandom",value:function(t){var e=wo(16);t||(t={}),t.extraEntropy&&(e=F(W(Tt(B([e,t.extraEntropy])),0,16)));var n=go(e,t.locale);return r.fromMnemonic(n,t.path,t.locale)}},{key:"fromEncryptedJson",value:function(t,e,n){return Wo(t,e,n).then((function(t){return new r(t)}))}},{key:"fromEncryptedJsonSync",value:function(t,e){return new r(qo(t,e))}},{key:"fromMnemonic",value:function(t,e,n){return e||(e=po),new r(vo.fromMnemonic(t,null,n).derivePath(e))}}]),r}(cr);function Yo(t,e){return fn(ki(t),e)}function Jo(t,e,r,n){return fn(Wi.hash(t,e,r),n)}var $o="0x0000000000000000000000000000000000000000",Qo=r(52590),ta=r.n(Qo),ea=new P("bytes/5.6.1");function ra(t){return!!t.toHexString}function na(t){return"number"===typeof t&&t==t&&t%1===0}function ia(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!na(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!na(r)||r<0||r>=256)return!1}return!0}function oa(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var aa="0123456789abcdef";function sa(t,e){if(e||(e={}),"number"===typeof t){ea.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=aa[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ra(t))return t.toHexString();if(oa(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":ea.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ia(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=aa[(240&o)>>4]+aa[15&o]}return n}return ea.throwArgumentError("invalid hexlify value","value",t)}var ua=ta().BN,la=new P("bignumber/5.6.2"),ha={},ca=9007199254740991;var fa=!1,da=function(){function t(e,r){(0,g.Z)(this,t),e!==ha&&la.throwError("cannot call constructor directly; use BigNumber.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"fromTwos",value:function(t){return va(ma(this).fromTwos(t))}},{key:"toTwos",value:function(t){return va(ma(this).toTwos(t))}},{key:"abs",value:function(){return"-"===this._hex[0]?t.from(this._hex.substring(1)):this}},{key:"add",value:function(t){return va(ma(this).add(ma(t)))}},{key:"sub",value:function(t){return va(ma(this).sub(ma(t)))}},{key:"div",value:function(e){return t.from(e).isZero()&&ga("division-by-zero","div"),va(ma(this).div(ma(e)))}},{key:"mul",value:function(t){return va(ma(this).mul(ma(t)))}},{key:"mod",value:function(t){var e=ma(t);return e.isNeg()&&ga("division-by-zero","mod"),va(ma(this).umod(e))}},{key:"pow",value:function(t){var e=ma(t);return e.isNeg()&&ga("negative-power","pow"),va(ma(this).pow(e))}},{key:"and",value:function(t){var e=ma(t);return(this.isNegative()||e.isNeg())&&ga("unbound-bitwise-result","and"),va(ma(this).and(e))}},{key:"or",value:function(t){var e=ma(t);return(this.isNegative()||e.isNeg())&&ga("unbound-bitwise-result","or"),va(ma(this).or(e))}},{key:"xor",value:function(t){var e=ma(t);return(this.isNegative()||e.isNeg())&&ga("unbound-bitwise-result","xor"),va(ma(this).xor(e))}},{key:"mask",value:function(t){return(this.isNegative()||t<0)&&ga("negative-width","mask"),va(ma(this).maskn(t))}},{key:"shl",value:function(t){return(this.isNegative()||t<0)&&ga("negative-width","shl"),va(ma(this).shln(t))}},{key:"shr",value:function(t){return(this.isNegative()||t<0)&&ga("negative-width","shr"),va(ma(this).shrn(t))}},{key:"eq",value:function(t){return ma(this).eq(ma(t))}},{key:"lt",value:function(t){return ma(this).lt(ma(t))}},{key:"lte",value:function(t){return ma(this).lte(ma(t))}},{key:"gt",value:function(t){return ma(this).gt(ma(t))}},{key:"gte",value:function(t){return ma(this).gte(ma(t))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return ma(this).isZero()}},{key:"toNumber",value:function(){try{return ma(this).toNumber()}catch(t){ga("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(t){}return la.throwError("this platform does not support BigInt",P.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?fa||(fa=!0,la.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?la.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",P.errors.UNEXPECTED_ARGUMENT,{}):la.throwError("BigNumber.toString does not accept parameters",P.errors.UNEXPECTED_ARGUMENT,{})),ma(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(t){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(e){if(e instanceof t)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new t(ha,pa(e)):e.match(/^-?[0-9]+$/)?new t(ha,pa(new ua(e))):la.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&ga("underflow","BigNumber.from",e),(e>=ca||e<=-9007199254740991)&&ga("overflow","BigNumber.from",e),t.from(String(e));var r=e;if("bigint"===typeof r)return t.from(r.toString());if(ia(r))return t.from(sa(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"===typeof n)return t.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"===typeof i&&(oa(i)||"-"===i[0]&&oa(i.substring(1))))return t.from(i)}return la.throwArgumentError("invalid BigNumber value","value",e)}},{key:"isBigNumber",value:function(t){return!(!t||!t._isBigNumber)}}]),t}();function pa(t){if("string"!==typeof t)return pa(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&la.throwArgumentError("invalid hex","value",t),"0x00"===(t=pa(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function va(t){return da.from(pa(t))}function ma(t){var e=da.from(t).toHexString();return"-"===e[0]?new ua("-"+e.substring(3),16):new ua(e.substring(2),16)}function ga(t,e,r){var n={fault:t,operation:e};return null!=r&&(n.value=r),la.throwError(t,P.errors.NUMERIC_FAULT,n)}var ya=da.from(-1),ba=da.from(0),_a=da.from(1),wa=da.from(2),xa=da.from("1000000000000000000"),Ea=da.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ma=da.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),Sa=da.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Aa="0x0000000000000000000000000000000000000000000000000000000000000000",ka="\u039e",Ta=new P("networks/5.6.4");function Ra(t){var e=function(e,r){null==r&&(r={});var n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura))}catch(s){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan))}catch(s){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy))}catch(s){}if(e.PocketProvider&&"-"!==r.pocket){try{var i=new e.PocketProvider(t,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby"].indexOf(i.network.name)&&n.push(i)}catch(s){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t))}catch(s){}if(e.AnkrProvider&&"-"!==r.ankr)try{var o=new e.AnkrProvider(t,r.ankr);o.network&&-1===["ropsten"].indexOf(o.network.name)&&n.push(o)}catch(s){}if(0===n.length)return null;if(e.FallbackProvider){var a=1;return null!=r.quorum?a=r.quorum:"homestead"===t&&(a=2),new e.FallbackProvider(n,a)}return n[0]};return e.renetwork=function(t){return Ra(t)},e}function Pa(t,e){var r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return Pa(t,e)},r}var Ia={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Ra("homestead")},Na={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Ra("ropsten")},Oa={chainId:63,name:"classicMordor",_defaultProvider:Pa("https://www.ethercluster.com/mordor","classicMordor")},Ca={unspecified:{chainId:0,name:"unspecified"},homestead:Ia,mainnet:Ia,morden:{chainId:2,name:"morden"},ropsten:Na,testnet:Na,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Ra("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Ra("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Ra("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:Pa("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Oa,classicTestnet:Oa,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Pa("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Ra("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Ra("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function Da(t){if(null==t)return null;if("number"===typeof t){for(var e in Ca){var r=Ca[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"===typeof t){var n=Ca[t];return null==n?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}var i=Ca[t.name];if(!i)return"number"!==typeof t.chainId&&Ta.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==i.chainId&&Ta.throwArgumentError("network chainId mismatch","network",t);var o,a=t._defaultProvider||null;return null==a&&i._defaultProvider&&(a=(o=i._defaultProvider)&&"function"===typeof o.renetwork?i._defaultProvider.renetwork(t):i._defaultProvider),{name:t.name,chainId:i.chainId,ensAddress:t.ensAddress||i.ensAddress||null,_defaultProvider:a}}function La(t,e){e||(e=function(t){return[parseInt(t,16)]});var r=0,n={};return t.split(",").forEach((function(t){var i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function Fa(t){var e=0;return t.split(",").map((function(t){var r=t.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:e+parseInt(r[0],16),h:e=parseInt(r[1],16)}}))}function Ba(t,e){for(var r=0,n=0;n<e.length;n++){var i=e[n];if(t>=(r+=i.l)&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}var Ua=Fa("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Ga="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((function(t){return parseInt(t,16)})),ja=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],za=La("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Ha=La("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Va=La("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!==0)throw new Error("bad data");for(var e=[],r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Wa=Fa("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function qa(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();var e,r=re(t);e=r.map((function(t){if(Ga.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];var e=function(t){var e=Ba(t,ja);if(e)return[t+e.s];var r=za[t];if(r)return r;var n=Ha[t];return n?[t+n[0]]:Va[t]||null}(t);return e||[t]})),r=e.reduce((function(t,e){return e.forEach((function(e){t.push(e)})),t}),[]),(r=re(te(r),Xt.NFKC)).forEach((function(t){if(Ba(t,Wa))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),r.forEach((function(t){if(Ba(t,Ua))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));var n=te(r);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}var Xa=new P(Ti),Za=new Uint8Array(32);Za.fill(0);var Ka=new RegExp("^((.*)\\.)?([^.]+)$");function Ya(t){"string"!==typeof t&&Xa.throwArgumentError("invalid ENS name; not a string","name",t);for(var e=t,r=Za;e.length;){var n=e.match(Ka);null!=n&&""!==n[2]||Xa.throwArgumentError("invalid ENS address; missing component","name",t),r=Tt(B([r,Tt(Qt(qa(n[3])))])),e=n[2]||""}return H(r)}function Ja(t){return H(B(t.split(".").map((function(t){var e=Qt("_"+qa(t));return e[0]=e.length-1,e}))))+"00"}function $a(t){t=atob(t);for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r));return F(e)}function Qa(t){t=F(t);for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var ts=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))};function es(t,e){return ts(this,void 0,void 0,_().mark((function r(){var n,i,o,a;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==e&&(e={}),n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0},!0!==e.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),r.next=6,fetch(t,n);case 6:return i=r.sent,r.next=9,i.arrayBuffer();case 9:return o=r.sent,a={},i.headers.forEach?i.headers.forEach((function(t,e){a[e.toLowerCase()]=t})):i.headers.keys().forEach((function(t){a[t.toLowerCase()]=i.headers.get(t)})),r.abrupt("return",{headers:a,statusCode:i.status,statusMessage:i.statusText,body:F(new Uint8Array(o))});case 13:case"end":return r.stop()}}),r)})))}var rs=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},ns=new P("web/5.6.1");function is(t){return new Promise((function(e){setTimeout(e,t)}))}function os(t,e){if(null==t)return null;if("string"===typeof t)return t;if(C(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return ee(t)}catch(r){}return H(t)}return t}function as(t,e,r){var n=null;if(null!=e){n=Qt(e);var i="string"===typeof t?{url:t}:vt(t);if(i.headers)0!==Object.keys(i.headers).filter((function(t){return"content-type"===t.toLowerCase()})).length||(i.headers=vt(i.headers),i.headers["content-type"]="application/json");else i.headers={"content-type":"application/json"};t=i}return function(t,e,r){var n="object"===typeof t&&null!=t.throttleLimit?t.throttleLimit:12;ns.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);var i="object"===typeof t?t.throttleCallback:null,o="object"===typeof t&&"number"===typeof t.throttleSlotInterval?t.throttleSlotInterval:100;ns.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);var a="object"===typeof t&&!!t.errorPassThrough,s={},u=null,l={method:"GET"},h=!1,c=12e4;if("string"===typeof t)u=t;else if("object"===typeof t){if(null!=t&&null!=t.url||ns.throwArgumentError("missing URL","connection.url",t),u=t.url,"number"===typeof t.timeout&&t.timeout>0&&(c=t.timeout),t.headers)for(var f in t.headers)s[f.toLowerCase()]={key:f,value:String(t.headers[f])},["if-none-match","if-modified-since"].indexOf(f.toLowerCase())>=0&&(h=!0);if(l.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==u.substring(0,6)&&!0!==t.allowInsecureAuthentication&&ns.throwError("basic authentication requires a secure https url",P.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:t.user,password:"[REDACTED]"});var d=t.user+":"+t.password;s.authorization={key:"Authorization",value:"Basic "+Qa(Qt(d))}}null!=t.skipFetchSetup&&(l.skipFetchSetup=!!t.skipFetchSetup)}var p=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),v=u?u.match(p):null;if(v)try{var m={statusCode:200,statusMessage:"OK",headers:{"content-type":v[1]},body:$a(v[2])},g=m.body;return r&&(g=r(m.body,m)),Promise.resolve(g)}catch(x){ns.throwError("processing response error",P.errors.SERVER_ERROR,{body:os(v[1],v[2]),error:x,requestBody:null,requestMethod:"GET",url:u})}e&&(l.method="POST",l.body=e,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(e.length)}));var y={};Object.keys(s).forEach((function(t){var e=s[t];y[e.key]=e.value})),l.headers=y;var b=function(){var t=null;return{promise:new Promise((function(e,r){c&&(t=setTimeout((function(){null!=t&&(t=null,r(ns.makeError("timeout",P.errors.TIMEOUT,{requestBody:os(l.body,y["content-type"]),requestMethod:l.method,timeout:c,url:u})))}),c))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),w=function(){return rs(this,void 0,void 0,_().mark((function t(){var e,s,c,f,d,p,v,m,g,w;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n)){t.next=65;break}return s=null,t.prev=3,t.next=6,es(u,l);case 6:if(s=t.sent,!(e<n)){t.next=28;break}if(301!==s.statusCode&&302!==s.statusCode){t.next=15;break}if(c=s.headers.location||"","GET"!==l.method||!c.match(/^https:/)){t.next=13;break}return u=s.headers.location,t.abrupt("continue",62);case 13:t.next=28;break;case 15:if(429!==s.statusCode){t.next=28;break}if(f=!0,!i){t.next=21;break}return t.next=20,i(e,u);case 20:f=t.sent;case 21:if(!f){t.next=28;break}return d=0,p=s.headers["retry-after"],d="string"===typeof p&&p.match(/^[1-9][0-9]*$/)?1e3*parseInt(p):o*parseInt(String(Math.random()*Math.pow(2,e))),t.next=27,is(d);case 27:return t.abrupt("continue",62);case 28:t.next=34;break;case 30:t.prev=30,t.t0=t.catch(3),null==(s=t.t0.response)&&(b.cancel(),ns.throwError("missing response",P.errors.SERVER_ERROR,{requestBody:os(l.body,y["content-type"]),requestMethod:l.method,serverError:t.t0,url:u}));case 34:if(v=s.body,h&&304===s.statusCode?v=null:!a&&(s.statusCode<200||s.statusCode>=300)&&(b.cancel(),ns.throwError("bad response",P.errors.SERVER_ERROR,{status:s.statusCode,headers:s.headers,body:os(v,s.headers?s.headers["content-type"]:null),requestBody:os(l.body,y["content-type"]),requestMethod:l.method,url:u})),!r){t.next=60;break}return t.prev=37,t.next=40,r(v,s);case 40:return m=t.sent,b.cancel(),t.abrupt("return",m);case 45:if(t.prev=45,t.t1=t.catch(37),!(t.t1.throttleRetry&&e<n)){t.next=58;break}if(g=!0,!i){t.next=53;break}return t.next=52,i(e,u);case 52:g=t.sent;case 53:if(!g){t.next=58;break}return w=o*parseInt(String(Math.random()*Math.pow(2,e))),t.next=57,is(w);case 57:return t.abrupt("continue",62);case 58:b.cancel(),ns.throwError("processing response error",P.errors.SERVER_ERROR,{body:os(v,s.headers?s.headers["content-type"]:null),error:t.t1,requestBody:os(l.body,y["content-type"]),requestMethod:l.method,url:u});case 60:return b.cancel(),t.abrupt("return",v);case 62:e++,t.next=1;break;case 65:return t.abrupt("return",ns.throwError("failed response",P.errors.SERVER_ERROR,{requestBody:os(l.body,y["content-type"]),requestMethod:l.method,url:u}));case 66:case"end":return t.stop()}}),t,null,[[3,30],[37,45]])})))}();return Promise.race([b.promise,w])}(t,n,(function(t,e){var n=null;if(null!=t)try{n=JSON.parse(ee(t))}catch(i){ns.throwError("invalid JSON",P.errors.SERVER_ERROR,{body:t,error:i})}return r&&(n=r(n,e)),n}))}function ss(t,e){return e||(e={}),null==(e=vt(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){var i=null,o=!1,a=function(){return!o&&(o=!0,i&&clearTimeout(i),!0)};e.timeout&&(i=setTimeout((function(){a()&&n(new Error("timeout"))}),e.timeout));var s=e.retryLimit,u=0;!function i(){return t().then((function(t){if(void 0!==t)a()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(++u>s)return void(a()&&n(new Error("retry limit reached")));var l=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));l<e.floor&&(l=e.floor),l>e.ceiling&&(l=e.ceiling),setTimeout(i,l)}return null}),(function(t){a()&&n(t)}))}()}))}var us=r(31360),ls=r.n(us),hs="providers/5.6.0",cs=new P(hs),fs=function(){function t(){(0,g.Z)(this,t),cs.checkNew(this instanceof t?this.constructor:void 0,t),this.formats=this.getDefaultFormats()}return(0,y.Z)(t,[{key:"getDefaultFormats",value:function(){var e=this,r={},n=this.address.bind(this),i=this.bigNumber.bind(this),o=this.blockTag.bind(this),a=this.data.bind(this),s=this.hash.bind(this),u=this.hex.bind(this),l=this.number.bind(this),h=this.type.bind(this);return r.transaction={hash:s,type:h,accessList:t.allowNull(this.accessList.bind(this),null),blockHash:t.allowNull(s,null),blockNumber:t.allowNull(l,null),transactionIndex:t.allowNull(l,null),confirmations:t.allowNull(l,null),from:n,gasPrice:t.allowNull(i),maxPriorityFeePerGas:t.allowNull(i),maxFeePerGas:t.allowNull(i),gasLimit:i,to:t.allowNull(n,null),value:i,nonce:l,data:a,r:t.allowNull(this.uint256),s:t.allowNull(this.uint256),v:t.allowNull(l),creates:t.allowNull(n,null),raw:t.allowNull(a)},r.transactionRequest={from:t.allowNull(n),nonce:t.allowNull(l),gasLimit:t.allowNull(i),gasPrice:t.allowNull(i),maxPriorityFeePerGas:t.allowNull(i),maxFeePerGas:t.allowNull(i),to:t.allowNull(n),value:t.allowNull(i),data:t.allowNull((function(t){return e.data(t,!0)})),type:t.allowNull(l),accessList:t.allowNull(this.accessList.bind(this),null)},r.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:s,address:n,topics:t.arrayOf(s),data:a,logIndex:l,blockHash:s},r.receipt={to:t.allowNull(this.address,null),from:t.allowNull(this.address,null),contractAddress:t.allowNull(n,null),transactionIndex:l,root:t.allowNull(u),gasUsed:i,logsBloom:t.allowNull(a),blockHash:s,transactionHash:s,logs:t.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:t.allowNull(l,null),cumulativeGasUsed:i,effectiveGasPrice:t.allowNull(i),status:t.allowNull(l),type:h},r.block={hash:t.allowNull(s),parentHash:s,number:l,timestamp:l,nonce:t.allowNull(u),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:t.allowNull(n),extraData:a,transactions:t.allowNull(t.arrayOf(s)),baseFeePerGas:t.allowNull(i)},r.blockWithTransactions=vt(r.block),r.blockWithTransactions.transactions=t.allowNull(t.arrayOf(this.transactionResponse.bind(this))),r.filter={fromBlock:t.allowNull(o,void 0),toBlock:t.allowNull(o,void 0),blockHash:t.allowNull(s,void 0),address:t.allowNull(n,void 0),topics:t.allowNull(this.topics.bind(this),void 0)},r.filterLog={blockNumber:t.allowNull(l),blockHash:t.allowNull(s),transactionIndex:l,removed:t.allowNull(this.boolean.bind(this)),address:n,data:t.allowFalsish(a,"0x"),topics:t.arrayOf(s),transactionHash:s,logIndex:l},r}},{key:"accessList",value:function(t){return vn(t||[])}},{key:"number",value:function(t){return"0x"===t?0:it.from(t).toNumber()}},{key:"type",value:function(t){return"0x"===t||null==t?0:it.from(t).toNumber()}},{key:"bigNumber",value:function(t){return it.from(t)}},{key:"boolean",value:function(t){if("boolean"===typeof t)return t;if("string"===typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}},{key:"hex",value:function(t,e){return"string"===typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),j(t))?t.toLowerCase():cs.throwArgumentError("invalid hash","value",t)}},{key:"data",value:function(t,e){var r=this.hex(t,e);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+t);return r}},{key:"address",value:function(t){return Wt(t)}},{key:"callAddress",value:function(t){if(!j(t,32))return null;var e=Wt(W(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}},{key:"contractAddress",value:function(t){return qt(t)}},{key:"blockTag",value:function(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"===typeof t||j(t))return X(t);throw new Error("invalid blockTag")}},{key:"hash",value:function(t,e){var r=this.hex(t,e);return 32!==V(r)?cs.throwArgumentError("invalid hash","value",t):r}},{key:"difficulty",value:function(t){if(null==t)return null;var e=it.from(t);try{return e.toNumber()}catch(r){}return null}},{key:"uint256",value:function(t){if(!j(t))throw new Error("invalid uint256");return Z(t,32)}},{key:"_block",value:function(e,r){null!=e.author&&null==e.miner&&(e.miner=e.author);var n=null!=e._difficulty?e._difficulty:e.difficulty,i=t.check(r,e);return i._difficulty=null==n?null:it.from(n),i}},{key:"block",value:function(t){return this._block(t,this.formats.block)}},{key:"blockWithTransactions",value:function(t){return this._block(t,this.formats.blockWithTransactions)}},{key:"transactionRequest",value:function(e){return t.check(this.formats.transactionRequest,e)}},{key:"transactionResponse",value:function(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&it.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);var r=t.check(this.formats.transaction,e);if(null!=e.chainId){var n=e.chainId;j(n)&&(n=it.from(n).toNumber()),r.chainId=n}else{var i=e.networkId;null==i&&null==r.v&&(i=e.chainId),j(i)&&(i=it.from(i).toNumber()),"number"!==typeof i&&null!=r.v&&((i=(r.v-35)/2)<0&&(i=0),i=parseInt(i)),"number"!==typeof i&&(i=0),r.chainId=i}return r.blockHash&&"x"===r.blockHash.replace(/0/g,"")&&(r.blockHash=null),r}},{key:"transaction",value:function(t){return wn(t)}},{key:"receiptLog",value:function(e){return t.check(this.formats.receiptLog,e)}},{key:"receipt",value:function(e){var r=t.check(this.formats.receipt,e);if(null!=r.root)if(r.root.length<=4){var n=it.from(r.root).toNumber();0===n||1===n?(null!=r.status&&r.status!==n&&cs.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):cs.throwArgumentError("invalid alt-root-status","value.root",r.root)}else 66!==r.root.length&&cs.throwArgumentError("invalid root hash","value.root",r.root);return null!=r.status&&(r.byzantium=!0),r}},{key:"topics",value:function(t){var e=this;return Array.isArray(t)?t.map((function(t){return e.topics(t)})):null!=t?this.hash(t,!0):null}},{key:"filter",value:function(e){return t.check(this.formats.filter,e)}},{key:"filterLog",value:function(e){return t.check(this.formats.filterLog,e)}}],[{key:"check",value:function(t,e){var r={};for(var n in t)try{var i=t[n](e[n]);void 0!==i&&(r[n]=i)}catch(o){throw o.checkKey=n,o.checkValue=e[n],o}return r}},{key:"allowNull",value:function(t,e){return function(r){return null==r?e:t(r)}}},{key:"allowFalsish",value:function(t,e){return function(r){return r?t(r):e}}},{key:"arrayOf",value:function(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");var r=[];return e.forEach((function(e){r.push(t(e))})),r}}}]),t}();function ds(t){return t&&"function"===typeof t.isCommunityResource}function ps(t){return ds(t)&&t.isCommunityResource()}var vs=!1;function ms(){vs||(vs=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var gs=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},ys=new P(hs);function bs(t){return null==t?"null":(32!==V(t)&&ys.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function _s(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((function(t){if(Array.isArray(t)){var e={};t.forEach((function(t){e[bs(t)]=!0}));var r=Object.keys(e);return r.sort(),r.join("|")}return bs(t)})).join("&")}function ws(t){if("string"===typeof t){if(32===V(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+_s(t);if(or.isForkEvent(t))throw ys.warn("not implemented"),new Error("not implemented");if(t&&"object"===typeof t)return"filter:"+(t.address||"*")+":"+_s(t.topics||[])}throw new Error("invalid event - "+t)}function xs(){return(new Date).getTime()}function Es(t){return new Promise((function(e){setTimeout(e,t)}))}var Ms=["block","network","pending","poll"],Ss=function(){function t(e,r,n){(0,g.Z)(this,t),ct(this,"tag",e),ct(this,"listener",r),ct(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}return(0,y.Z)(t,[{key:"event",get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}},{key:"type",get:function(){return this.tag.split(":")[0]}},{key:"hash",get:function(){var t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}},{key:"filter",get:function(){var t=this.tag.split(":");if("filter"!==t[0])return null;var e,r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map((function(t){if(""===t)return[];var e=t.split("|").map((function(t){return"null"===t?null:t}));return 1===e.length?e[0]:e})),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}},{key:"pollable",value:function(){return this.tag.indexOf(":")>=0||Ms.indexOf(this.tag)>=0}}]),t}(),As={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ks(t){return Z(it.from(t).toHexString(),32)}function Ts(t){return Xi.encode(B([t,W(Ki(Ki(t)),0,4)]))}var Rs=new RegExp("^(ipfs)://(.*)$","i"),Ps=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Rs,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Is(t,e){try{return ee(Ns(t,e))}catch(r){}return null}function Ns(t,e){if("0x"===t)return null;var r=it.from(W(t,e,e+32)).toNumber(),n=it.from(W(t,r,r+32)).toNumber();return W(t,r+32,r+32+n)}function Os(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):ys.throwArgumentError("unsupported IPFS format","link",t),"https://gateway.ipfs.io/ipfs/".concat(t)}function Cs(t){var e=F(t);if(e.length>32)throw new Error("internal; should not happen");var r=new Uint8Array(32);return r.set(e,32-e.length),r}function Ds(t){if(t.length%32===0)return t;var e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}function Ls(t){for(var e=[],r=0,n=0;n<t.length;n++)e.push(null),r+=32;for(var i=0;i<t.length;i++){var o=F(t[i]);e[i]=Cs(r),e.push(Cs(o.length)),e.push(Ds(o)),r+=32+32*Math.ceil(o.length/32)}return q(e)}var Fs=function(){function t(e,r,n,i){(0,g.Z)(this,t),ct(this,"provider",e),ct(this,"name",n),ct(this,"address",e.formatter.address(r)),ct(this,"_resolvedAddress",i)}return(0,y.Z)(t,[{key:"supportsWildcard",value:function(){var t=this;return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((function(t){return it.from(t).eq(1)})).catch((function(e){if(e.code===P.errors.CALL_EXCEPTION)return!1;throw t._supportsEip2544=null,e}))),this._supportsEip2544}},{key:"_fetch",value:function(t,e){return gs(this,void 0,void 0,_().mark((function r(){var n,i,o;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={to:this.address,ccipReadEnabled:!0,data:q([t,Ya(this.name),e||"0x"])},i=!1,r.next=4,this.supportsWildcard();case 4:if(!r.sent){r.next=7;break}i=!0,n.data=q(["0x9061b923",Ls([Ja(this.name),n.data])]);case 7:return r.prev=7,r.next=10,this.provider.call(n);case 10:return F(o=r.sent).length%32===4&&ys.throwError("resolver threw error",P.errors.CALL_EXCEPTION,{transaction:n,data:o}),i&&(o=Ns(o,0)),r.abrupt("return",o);case 16:if(r.prev=16,r.t0=r.catch(7),r.t0.code!==P.errors.CALL_EXCEPTION){r.next=20;break}return r.abrupt("return",null);case 20:throw r.t0;case 21:case"end":return r.stop()}}),r,this,[[7,16]])})))}},{key:"_fetchBytes",value:function(t,e){return gs(this,void 0,void 0,_().mark((function r(){var n;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._fetch(t,e);case 2:if(null==(n=r.sent)){r.next=5;break}return r.abrupt("return",Ns(n,0));case 5:return r.abrupt("return",null);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"_getAddress",value:function(t,e){var r=As[String(t)];if(null==r&&ys.throwError("unsupported coin type: ".concat(t),P.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(t,")")}),"eth"===r.ilk)return this.provider.formatter.address(e);var n=F(e);if(null!=r.p2pkh){var i=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(i){var o=parseInt(i[1],16);if(i[2].length===2*o&&o>=1&&o<=75)return Ts(B([[r.p2pkh],"0x"+i[2]]))}}if(null!=r.p2sh){var a=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){var s=parseInt(a[1],16);if(a[2].length===2*s&&s>=1&&s<=75)return Ts(B([[r.p2sh],"0x"+a[2]]))}}if(null!=r.prefix){var u=n[1],l=n[0];if(0===l?20!==u&&32!==u&&(l=-1):l=-1,l>=0&&n.length===2+u&&u>=1&&u<=75){var h=ls().toWords(n.slice(2));return h.unshift(l),ls().encode(r.prefix,h)}}return null}},{key:"getAddress",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t&&(t=60),60!==t){e.next=16;break}return e.prev=2,e.next=5,this._fetch("0x3b3b57de");case 5:if("0x"!==(r=e.sent)&&"0x0000000000000000000000000000000000000000000000000000000000000000"!==r){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",this.provider.formatter.callAddress(r));case 11:if(e.prev=11,e.t0=e.catch(2),e.t0.code!==P.errors.CALL_EXCEPTION){e.next=15;break}return e.abrupt("return",null);case 15:throw e.t0;case 16:return e.next=18,this._fetchBytes("0xf1cb7e06",ks(t));case 18:if(null!=(n=e.sent)&&"0x"!==n){e.next=21;break}return e.abrupt("return",null);case 21:return null==(i=this._getAddress(t,n))&&ys.throwError("invalid or unsupported coin data",P.errors.UNSUPPORTED_OPERATION,{operation:"getAddress(".concat(t,")"),coinType:t,data:n}),e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,this,[[2,11]])})))}},{key:"getAvatar",value:function(){return gs(this,void 0,void 0,_().mark((function t(){var e,r,n,i,o,a,s,u,l,h,c,f,d,p,v,m;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{type:"name",content:this.name}],t.prev=1,t.next=4,this.getText("avatar");case 4:if(null!=(r=t.sent)){t.next=7;break}return t.abrupt("return",null);case 7:n=0;case 8:if(!(n<Ps.length)){t.next=91;break}if(null!=(i=r.match(Ps[n]))){t.next=12;break}return t.abrupt("continue",88);case 12:o=i[1].toLowerCase(),t.t0=o,t.next="https"===t.t0?16:"data"===t.t0?18:"ipfs"===t.t0?20:"erc721"===t.t0||"erc1155"===t.t0?22:88;break;case 16:return e.push({type:"url",content:r}),t.abrupt("return",{linkage:e,url:r});case 18:return e.push({type:"data",content:r}),t.abrupt("return",{linkage:e,url:r});case 20:return e.push({type:"ipfs",content:r}),t.abrupt("return",{linkage:e,url:Os(r)});case 22:if(a="erc721"===o?"0xc87b56dd":"0x0e89341c",e.push({type:o,content:r}),t.t1=this._resolvedAddress,t.t1){t.next=29;break}return t.next=28,this.getAddress();case 28:t.t1=t.sent;case 29:if(s=t.t1,2===(u=(i[2]||"").split("/")).length){t.next=33;break}return t.abrupt("return",null);case 33:return t.next=35,this.provider.formatter.address(u[0]);case 35:if(l=t.sent,h=Z(it.from(u[1]).toHexString(),32),"erc721"!==o){t.next=48;break}return t.t2=this.provider.formatter,t.next=41,this.provider.call({to:l,data:q(["0x6352211e",h])});case 41:if(t.t3=t.sent,c=t.t2.callAddress.call(t.t2,t.t3),s===c){t.next=45;break}return t.abrupt("return",null);case 45:e.push({type:"owner",content:c}),t.next=57;break;case 48:if("erc1155"!==o){t.next=57;break}return t.t4=it,t.next=52,this.provider.call({to:l,data:q(["0x00fdd58e",Z(s,32),h])});case 52:if(t.t5=t.sent,!(f=t.t4.from.call(t.t4,t.t5)).isZero()){t.next=56;break}return t.abrupt("return",null);case 56:e.push({type:"balance",content:f.toString()});case 57:return d={to:this.provider.formatter.address(u[0]),data:q([a,h])},t.t6=Is,t.next=61,this.provider.call(d);case 61:if(t.t7=t.sent,null!=(p=(0,t.t6)(t.t7,0))){t.next=65;break}return t.abrupt("return",null);case 65:return e.push({type:"metadata-url-base",content:p}),"erc1155"===o&&(p=p.replace("{id}",h.substring(2)),e.push({type:"metadata-url-expanded",content:p})),p.match(/^ipfs:/i)&&(p=Os(p)),e.push({type:"metadata-url",content:p}),t.next=71,as(p);case 71:if(v=t.sent){t.next=74;break}return t.abrupt("return",null);case 74:if(e.push({type:"metadata",content:JSON.stringify(v)}),"string"===typeof(m=v.image)){t.next=78;break}return t.abrupt("return",null);case 78:if(!m.match(/^(https:\/\/|data:)/i)){t.next=81;break}t.next=86;break;case 81:if(null!=m.match(Rs)){t.next=84;break}return t.abrupt("return",null);case 84:e.push({type:"url-ipfs",content:m}),m=Os(m);case 86:return e.push({type:"url",content:m}),t.abrupt("return",{linkage:e,url:m});case 88:n++,t.next=8;break;case 91:t.next=95;break;case 93:t.prev=93,t.t8=t.catch(1);case 95:return t.abrupt("return",null);case 96:case"end":return t.stop()}}),t,this,[[1,93]])})))}},{key:"getContentHash",value:function(){return gs(this,void 0,void 0,_().mark((function t(){var e,r,n,i;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._fetchBytes("0xbc1c58d1");case 2:if(null!=(e=t.sent)&&"0x"!==e){t.next=5;break}return t.abrupt("return",null);case 5:if(!(r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){t.next=10;break}if(n=parseInt(r[3],16),r[4].length!==2*n){t.next=10;break}return t.abrupt("return","ipfs://"+Xi.encode("0x"+r[1]));case 10:if(!(i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/))){t.next=14;break}if(64!==i[1].length){t.next=14;break}return t.abrupt("return","bzz://"+i[1]);case 14:return t.abrupt("return",ys.throwError("invalid or unsupported content hash data",P.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e}));case 15:case"end":return t.stop()}}),t,this)})))}},{key:"getText",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qt(t),(r=B([ks(64),ks(r.length),r])).length%32!==0&&(r=B([r,Z("0x",32-t.length%32)])),e.next=5,this._fetchBytes("0x59d1d43c",H(r));case 5:if(null!=(n=e.sent)&&"0x"!==n){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",ee(n));case 9:case"end":return e.stop()}}),e,this)})))}}]),t}(),Bs=null,Us=1,Gs=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){var n;if((0,g.Z)(this,r),ys.checkNew(this instanceof r?this.constructor:void 0,ar),(n=e.call(this))._events=[],n._emitted={block:-2},n.disableCcipRead=!1,n.formatter=(this instanceof r?this.constructor:void 0).getFormatter(),ct((0,f.Z)(n),"anyNetwork","any"===t),n.anyNetwork&&(t=n.detectNetwork()),t instanceof Promise)n._networkPromise=t,t.catch((function(t){})),n._ready().catch((function(t){}));else{var i=ft(this instanceof r?this.constructor:void 0,"getNetwork")(t);i?(ct((0,f.Z)(n),"_network",i),n.emit("network",i,null)):ys.throwArgumentError("invalid network","network",t)}return n._maxInternalBlockNumber=-1024,n._lastBlockNumber=-2,n._maxFilterBlockRange=10,n._pollingInterval=4e3,n._fastQueryDate=0,n}return(0,y.Z)(r,[{key:"_ready",value:function(){return gs(this,void 0,void 0,_().mark((function t(){var e;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this._network){t.next=17;break}if(e=null,!this._networkPromise){t.next=11;break}return t.prev=3,t.next=6,this._networkPromise;case 6:e=t.sent,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:if(null!=e){t.next=15;break}return t.next=14,this.detectNetwork();case 14:e=t.sent;case 15:e||ys.throwError("no network detected",P.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:ct(this,"_network",e),this.emit("network",e,null));case 17:return t.abrupt("return",this._network);case 18:case"end":return t.stop()}}),t,this,[[3,9]])})))}},{key:"ready",get:function(){var t=this;return ss((function(){return t._ready().then((function(t){return t}),(function(t){if(t.code!==P.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))}))}},{key:"ccipReadFetch",value:function(t,e,r){return gs(this,void 0,void 0,_().mark((function n(){var i,o,a,s,u,l,h,c,f;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.disableCcipRead&&0!==r.length){n.next=2;break}return n.abrupt("return",null);case 2:i=(t.from||"0x0000000000000000000000000000000000000000").toLowerCase(),o=e.toLowerCase(),a=[],s=0;case 6:if(!(s<r.length)){n.next=22;break}return u=r[s],l=u.replace("{sender}",i).replace("{data}",o),h=u.indexOf("{data}")>=0?null:JSON.stringify({data:o,sender:i}),n.next=12,as({url:l,errorPassThrough:!0},h,(function(t,e){return t.status=e.statusCode,t}));case 12:if(!(c=n.sent).data){n.next=15;break}return n.abrupt("return",c.data);case 15:if(f=c.message||"unknown error",!(c.status>=400&&c.status<500)){n.next=18;break}return n.abrupt("return",ys.throwError("response not found during CCIP fetch: ".concat(f),P.errors.SERVER_ERROR,{url:u,errorMessage:f}));case 18:a.push(f);case 19:s++,n.next=6;break;case 22:return n.abrupt("return",ys.throwError("error encountered during CCIP fetch: ".concat(a.map((function(t){return JSON.stringify(t)})).join(", ")),P.errors.SERVER_ERROR,{urls:r,errorMessages:a}));case 23:case"end":return n.stop()}}),n,this)})))}},{key:"_getInternalBlockNumber",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n,i,o,a=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready();case 2:if(!(t>0)){e.next=20;break}case 3:if(!this._internalBlockNumber){e.next=20;break}return r=this._internalBlockNumber,e.prev=5,e.next=8,r;case 8:if(n=e.sent,!(xs()-n.respTime<=t)){e.next=11;break}return e.abrupt("return",n.blockNumber);case 11:return e.abrupt("break",20);case 14:if(e.prev=14,e.t0=e.catch(5),this._internalBlockNumber!==r){e.next=18;break}return e.abrupt("break",20);case 18:e.next=3;break;case 20:return i=xs(),o=dt({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((function(t){return null}),(function(t){return t}))}).then((function(t){var e=t.blockNumber,r=t.networkError;if(r)throw a._internalBlockNumber===o&&(a._internalBlockNumber=null),r;var n=xs();return(e=it.from(e).toNumber())<a._maxInternalBlockNumber&&(e=a._maxInternalBlockNumber),a._maxInternalBlockNumber=e,a._setFastBlockNumber(e),{blockNumber:e,reqTime:i,respTime:n}})),this._internalBlockNumber=o,o.catch((function(t){a._internalBlockNumber===o&&(a._internalBlockNumber=null)})),e.next=26,o;case 26:return e.abrupt("return",e.sent.blockNumber);case 27:case"end":return e.stop()}}),e,this,[[5,14]])})))}},{key:"poll",value:function(){return gs(this,void 0,void 0,_().mark((function t(){var e,r,n,i,o=this;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Us++,r=[],n=null,t.prev=3,t.next=6,this._getInternalBlockNumber(100+this.pollingInterval/2);case 6:n=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(3),this.emit("error",t.t0),t.abrupt("return");case 13:if(this._setFastBlockNumber(n),this.emit("poll",e,n),n!==this._lastBlockNumber){t.next=18;break}return this.emit("didPoll",e),t.abrupt("return");case 18:if(-2===this._emitted.block&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)ys.warn("network block skew detected; skipping block events (emitted=".concat(this._emitted.block," blockNumber").concat(n,")")),this.emit("error",ys.makeError("network block skew detected",P.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(i=this._emitted.block+1;i<=n;i++)this.emit("block",i);return this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach((function(t){if("block"!==t){var e=o._emitted[t];"pending"!==e&&n-e>12&&delete o._emitted[t]}}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=n-1),this._events.forEach((function(t){switch(t.type){case"tx":var e=t.hash,i=o.getTransactionReceipt(e).then((function(t){return t&&null!=t.blockNumber?(o._emitted["t:"+e]=t.blockNumber,o.emit(e,t),null):null})).catch((function(t){o.emit("error",t)}));r.push(i);break;case"filter":if(!t._inflight){t._inflight=!0;var a=t.filter;a.fromBlock=t._lastBlockNumber+1,a.toBlock=n,a.toBlock-o._maxFilterBlockRange>a.fromBlock&&(a.fromBlock=a.toBlock-o._maxFilterBlockRange);var s=o.getLogs(a).then((function(e){t._inflight=!1,0!==e.length&&e.forEach((function(e){e.blockNumber>t._lastBlockNumber&&(t._lastBlockNumber=e.blockNumber),o._emitted["b:"+e.blockHash]=e.blockNumber,o._emitted["t:"+e.transactionHash]=e.blockNumber,o.emit(a,e)}))})).catch((function(e){o.emit("error",e),t._inflight=!1}));r.push(s)}}})),this._lastBlockNumber=n,Promise.all(r).then((function(){o.emit("didPoll",e)})).catch((function(t){o.emit("error",t)})),t.abrupt("return");case 26:case"end":return t.stop()}}),t,this,[[3,9]])})))}},{key:"resetEventsBlock",value:function(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}},{key:"network",get:function(){return this._network}},{key:"detectNetwork",value:function(){return gs(this,void 0,void 0,_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ys.throwError("provider does not support network detection",P.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"}));case 1:case"end":return t.stop()}}),t)})))}},{key:"getNetwork",value:function(){return gs(this,void 0,void 0,_().mark((function t(){var e,r,n;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready();case 2:return e=t.sent,t.next=5,this.detectNetwork();case 5:if(r=t.sent,e.chainId===r.chainId){t.next=23;break}if(!this.anyNetwork){t.next=20;break}return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),t.next=19,Es(0);case 19:return t.abrupt("return",this._network);case 20:throw n=ys.makeError("underlying network changed",P.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r}),this.emit("error",n),n;case 23:return t.abrupt("return",e);case 24:case"end":return t.stop()}}),t,this)})))}},{key:"blockNumber",get:function(){var t=this;return this._getInternalBlockNumber(100+this.pollingInterval/2).then((function(e){t._setFastBlockNumber(e)}),(function(t){})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}},{key:"polling",get:function(){return null!=this._poller},set:function(t){var e=this;t&&!this._poller?(this._poller=setInterval((function(){e.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((function(){e.poll(),e._bootstrapPoll=setTimeout((function(){e._poller||e.poll(),e._bootstrapPoll=null}),e.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}},{key:"pollingInterval",get:function(){return this._pollingInterval},set:function(t){var e=this;if("number"!==typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((function(){e.poll()}),this._pollingInterval))}},{key:"_getFastBlockNumber",value:function(){var t=this,e=xs();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then((function(e){return(null==t._fastBlockNumber||e>t._fastBlockNumber)&&(t._fastBlockNumber=e),t._fastBlockNumber}))),this._fastBlockNumberPromise}},{key:"_setFastBlockNumber",value:function(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=xs(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}},{key:"waitForTransaction",value:function(t,e,r){return gs(this,void 0,void 0,_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this._waitForTransaction(t,null==e?1:e,r||0,null));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"_waitForTransaction",value:function(t,e,r,n){return gs(this,void 0,void 0,_().mark((function i(){var o,a=this;return _().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.getTransactionReceipt(t);case 2:if(!(((o=i.sent)?o.confirmations:0)>=e)){i.next=5;break}return i.abrupt("return",o);case 5:return i.abrupt("return",new Promise((function(i,o){var s=[],u=!1,l=function(){return!!u||(u=!0,s.forEach((function(t){t()})),!1)},h=function(t){t.confirmations<e||l()||i(t)};if(a.on(t,h),s.push((function(){a.removeListener(t,h)})),n){var c=n.startBlock,f=null,d=function r(i){return gs(a,void 0,void 0,_().mark((function a(){var s=this;return _().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!u){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,Es(1e3);case 4:this.getTransactionCount(n.from).then((function(a){return gs(s,void 0,void 0,_().mark((function s(){var h,d,p,v,m,g;return _().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!u){s.next=2;break}return s.abrupt("return");case 2:if(!(a<=n.nonce)){s.next=6;break}c=i,s.next=41;break;case 6:return s.next=8,this.getTransaction(t);case 8:if(!(h=s.sent)||null==h.blockNumber){s.next=11;break}return s.abrupt("return");case 11:null==f&&(f=c-3)<n.startBlock&&(f=n.startBlock);case 12:if(!(f<=i)){s.next=41;break}if(!u){s.next=15;break}return s.abrupt("return");case 15:return s.next=17,this.getBlockWithTransactions(f);case 17:d=s.sent,p=0;case 19:if(!(p<d.transactions.length)){s.next=38;break}if((v=d.transactions[p]).hash!==t){s.next=23;break}return s.abrupt("return");case 23:if(v.from!==n.from||v.nonce!==n.nonce){s.next=35;break}if(!u){s.next=26;break}return s.abrupt("return");case 26:return s.next=28,this.waitForTransaction(v.hash,e);case 28:if(m=s.sent,!l()){s.next=31;break}return s.abrupt("return");case 31:return g="replaced",v.data===n.data&&v.to===n.to&&v.value.eq(n.value)?g="repriced":"0x"===v.data&&v.from===v.to&&v.value.isZero()&&(g="cancelled"),o(ys.makeError("transaction was replaced",P.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===g||"cancelled"===g,reason:g,replacement:this._wrapTransaction(v),hash:t,receipt:m})),s.abrupt("return");case 35:p++,s.next=19;break;case 38:f++,s.next=12;break;case 41:if(!u){s.next=43;break}return s.abrupt("return");case 43:this.once("block",r);case 44:case"end":return s.stop()}}),s,this)})))}),(function(t){u||s.once("block",r)}));case 5:case"end":return a.stop()}}),a,this)})))};if(u)return;a.once("block",d),s.push((function(){a.removeListener("block",d)}))}if("number"===typeof r&&r>0){var p=setTimeout((function(){l()||o(ys.makeError("timeout exceeded",P.errors.TIMEOUT,{timeout:r}))}),r);p.unref&&p.unref(),s.push((function(){clearTimeout(p)}))}})));case 6:case"end":return i.stop()}}),i,this)})))}},{key:"getBlockNumber",value:function(){return gs(this,void 0,void 0,_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this._getInternalBlockNumber(0));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getGasPrice",value:function(){return gs(this,void 0,void 0,_().mark((function t(){var e;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.next=4,this.perform("getGasPrice",{});case 4:return e=t.sent,t.prev=5,t.abrupt("return",it.from(e));case 9:return t.prev=9,t.t0=t.catch(5),t.abrupt("return",ys.throwError("bad result from backend",P.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t.t0}));case 12:case"end":return t.stop()}}),t,this,[[5,9]])})))}},{key:"getBalance",value:function(t,e){return gs(this,void 0,void 0,_().mark((function r(){var n,i;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,dt({address:this._getAddress(t),blockTag:this._getBlockTag(e)});case 4:return n=r.sent,r.next=7,this.perform("getBalance",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",it.from(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",ys.throwError("bad result from backend",P.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getTransactionCount",value:function(t,e){return gs(this,void 0,void 0,_().mark((function r(){var n,i;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,dt({address:this._getAddress(t),blockTag:this._getBlockTag(e)});case 4:return n=r.sent,r.next=7,this.perform("getTransactionCount",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",it.from(i).toNumber());case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",ys.throwError("bad result from backend",P.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getCode",value:function(t,e){return gs(this,void 0,void 0,_().mark((function r(){var n,i;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,dt({address:this._getAddress(t),blockTag:this._getBlockTag(e)});case 4:return n=r.sent,r.next=7,this.perform("getCode",n);case 7:return i=r.sent,r.prev=8,r.abrupt("return",H(i));case 12:return r.prev=12,r.t0=r.catch(8),r.abrupt("return",ys.throwError("bad result from backend",P.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:r.t0}));case 15:case"end":return r.stop()}}),r,this,[[8,12]])})))}},{key:"getStorageAt",value:function(t,e,r){return gs(this,void 0,void 0,_().mark((function n(){var i,o;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getNetwork();case 2:return n.next=4,dt({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((function(t){return X(t)}))});case 4:return i=n.sent,n.next=7,this.perform("getStorageAt",i);case 7:return o=n.sent,n.prev=8,n.abrupt("return",H(o));case 12:return n.prev=12,n.t0=n.catch(8),n.abrupt("return",ys.throwError("bad result from backend",P.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:o,error:n.t0}));case 15:case"end":return n.stop()}}),n,this,[[8,12]])})))}},{key:"_wrapTransaction",value:function(t,e,r){var n=this;if(null!=e&&32!==V(e))throw new Error("invalid response - sendTransaction");var i=t;return null!=e&&t.hash!==e&&ys.throwError("Transaction hash mismatch from Provider.sendTransaction.",P.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),i.wait=function(e,i){return gs(n,void 0,void 0,_().mark((function n(){var o,a;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==e&&(e=1),null==i&&(i=0),o=void 0,0!==e&&null!=r&&(o={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r}),n.next=6,this._waitForTransaction(t.hash,e,i,o);case 6:if(null!=(a=n.sent)||0!==e){n.next=9;break}return n.abrupt("return",null);case 9:return this._emitted["t:"+t.hash]=a.blockNumber,0===a.status&&ys.throwError("transaction failed",P.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:a}),n.abrupt("return",a);case 12:case"end":return n.stop()}}),n,this)})))},i}},{key:"sendTransaction",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n,i,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,Promise.resolve(t).then((function(t){return H(t)}));case 4:return r=e.sent,null==(n=this.formatter.transaction(t)).confirmations&&(n.confirmations=0),e.next=9,this._getInternalBlockNumber(100+2*this.pollingInterval);case 9:return i=e.sent,e.prev=10,e.next=13,this.perform("sendTransaction",{signedTransaction:r});case 13:return o=e.sent,e.abrupt("return",this._wrapTransaction(n,o,i));case 17:throw e.prev=17,e.t0=e.catch(10),e.t0.transaction=n,e.t0.transactionHash=n.hash,e.t0;case 22:case"end":return e.stop()}}),e,this,[[10,17]])})))}},{key:"_getTransactionRequest",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n,i=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return r=e.sent,n={},["from","to"].forEach((function(t){null!=r[t]&&(n[t]=Promise.resolve(r[t]).then((function(t){return t?i._getAddress(t):null})))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((function(t){null!=r[t]&&(n[t]=Promise.resolve(r[t]).then((function(t){return t?it.from(t):null})))})),["type"].forEach((function(t){null!=r[t]&&(n[t]=Promise.resolve(r[t]).then((function(t){return null!=t?t:null})))})),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach((function(t){null!=r[t]&&(n[t]=Promise.resolve(r[t]).then((function(t){return t?H(t):null})))})),e.t0=this.formatter,e.next=12,dt(n);case 12:return e.t1=e.sent,e.abrupt("return",e.t0.transactionRequest.call(e.t0,e.t1));case 14:case"end":return e.stop()}}),e,this)})))}},{key:"_getFilter",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return t=e.sent,r={},null!=t.address&&(r.address=this._getAddress(t.address)),["blockHash","topics"].forEach((function(e){null!=t[e]&&(r[e]=t[e])})),["fromBlock","toBlock"].forEach((function(e){null!=t[e]&&(r[e]=n._getBlockTag(t[e]))})),e.t0=this.formatter,e.next=10,dt(r);case 10:return e.t1=e.sent,e.abrupt("return",e.t0.filter.call(e.t0,e.t1));case 12:case"end":return e.stop()}}),e,this)})))}},{key:"_call",value:function(t,e,r){return gs(this,void 0,void 0,_().mark((function n(){var i,o,a,s,u,l,h,c,f,d,p,v,m,g,y;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r>=10&&ys.throwError("CCIP read exceeded maximum redirections",P.errors.SERVER_ERROR,{redirects:r,transaction:t}),i=t.to,n.next=4,this.perform("call",{transaction:t,blockTag:e});case 4:if(o=n.sent,!(r>=0&&"latest"===e&&null!=i&&"0x556f1830"===o.substring(0,10)&&V(o)%32===4)){n.next=31;break}for(n.prev=6,a=W(o,4),s=W(a,0,32),it.from(s).eq(i)||ys.throwError("CCIP Read sender did not match",P.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o}),u=[],l=it.from(W(a,32,64)).toNumber(),h=it.from(W(a,l,l+32)).toNumber(),c=W(a,l+32),f=0;f<h;f++)null==(d=Is(c,32*f))&&ys.throwError("CCIP Read contained corrupt URL string",P.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o}),u.push(d);return p=Ns(a,64),it.from(W(a,100,128)).isZero()||ys.throwError("CCIP Read callback selector included junk",P.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o}),v=W(a,96,100),m=Ns(a,128),n.next=21,this.ccipReadFetch(t,p,u);case 21:return null==(g=n.sent)&&ys.throwError("CCIP Read disabled or provided no URLs",P.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:o}),y={to:i,data:q([v,Ls([g,m])])},n.abrupt("return",this._call(y,e,r+1));case 27:if(n.prev=27,n.t0=n.catch(6),n.t0.code!==P.errors.SERVER_ERROR){n.next=31;break}throw n.t0;case 31:return n.prev=31,n.abrupt("return",H(o));case 35:return n.prev=35,n.t1=n.catch(31),n.abrupt("return",ys.throwError("bad result from backend",P.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:o,error:n.t1}));case 38:case"end":return n.stop()}}),n,this,[[6,27],[31,35]])})))}},{key:"call",value:function(t,e){return gs(this,void 0,void 0,_().mark((function r(){var n;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,dt({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});case 4:return n=r.sent,r.abrupt("return",this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1));case 6:case"end":return r.stop()}}),r,this)})))}},{key:"estimateGas",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,dt({transaction:this._getTransactionRequest(t)});case 4:return r=e.sent,e.next=7,this.perform("estimateGas",r);case 7:return n=e.sent,e.prev=8,e.abrupt("return",it.from(n));case 12:return e.prev=12,e.t0=e.catch(8),e.abrupt("return",ys.throwError("bad result from backend",P.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:e.t0}));case 15:case"end":return e.stop()}}),e,this,[[8,12]])})))}},{key:"_getAddress",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return"string"!==typeof(t=e.sent)&&ys.throwArgumentError("invalid address or ENS name","name",t),e.next=6,this.resolveName(t);case 6:return null==(r=e.sent)&&ys.throwError("ENS name not configured",P.errors.UNSUPPORTED_OPERATION,{operation:"resolveName(".concat(JSON.stringify(t),")")}),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"_getBlock",value:function(t,e){return gs(this,void 0,void 0,_().mark((function r(){var n,i,o=this;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getNetwork();case 2:return r.next=4,t;case 4:if(t=r.sent,n=-128,i={includeTransactions:!!e},!j(t,32)){r.next=11;break}i.blockHash=t,r.next=21;break;case 11:return r.prev=11,r.next=14,this._getBlockTag(t);case 14:i.blockTag=r.sent,j(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16)),r.next=21;break;case 18:r.prev=18,r.t0=r.catch(11),ys.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t);case 21:return r.abrupt("return",ss((function(){return gs(o,void 0,void 0,_().mark((function t(){var r,o,a,s,u,l,h=this;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.perform("getBlock",i);case 2:if(null!=(r=t.sent)){t.next=11;break}if(null==i.blockHash){t.next=7;break}if(null!=this._emitted["b:"+i.blockHash]){t.next=7;break}return t.abrupt("return",null);case 7:if(null==i.blockTag){t.next=10;break}if(!(n>this._emitted.block)){t.next=10;break}return t.abrupt("return",null);case 10:return t.abrupt("return",void 0);case 11:if(!e){t.next=34;break}o=null,a=0;case 14:if(!(a<r.transactions.length)){t.next=31;break}if(null!=(s=r.transactions[a]).blockNumber){t.next=20;break}s.confirmations=0,t.next=28;break;case 20:if(null!=s.confirmations){t.next=28;break}if(null!=o){t.next=25;break}return t.next=24,this._getInternalBlockNumber(100+2*this.pollingInterval);case 24:o=t.sent;case 25:(u=o-s.blockNumber+1)<=0&&(u=1),s.confirmations=u;case 28:a++,t.next=14;break;case 31:return(l=this.formatter.blockWithTransactions(r)).transactions=l.transactions.map((function(t){return h._wrapTransaction(t)})),t.abrupt("return",l);case 34:return t.abrupt("return",this.formatter.block(r));case 35:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this}));case 22:case"end":return r.stop()}}),r,this,[[11,18]])})))}},{key:"getBlock",value:function(t){return this._getBlock(t,!1)}},{key:"getBlockWithTransactions",value:function(t){return this._getBlock(t,!0)}},{key:"getTransaction",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,t;case 4:return t=e.sent,r={transactionHash:this.formatter.hash(t,!0)},e.abrupt("return",ss((function(){return gs(n,void 0,void 0,_().mark((function e(){var n,i,o,a;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.perform("getTransaction",r);case 2:if(null!=(n=e.sent)){e.next=7;break}if(null!=this._emitted["t:"+t]){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",void 0);case 7:if(null!=(i=this.formatter.transactionResponse(n)).blockNumber){e.next=12;break}i.confirmations=0,e.next=19;break;case 12:if(null!=i.confirmations){e.next=19;break}return e.next=15,this._getInternalBlockNumber(100+2*this.pollingInterval);case 15:o=e.sent,(a=o-i.blockNumber+1)<=0&&(a=1),i.confirmations=a;case 19:return e.abrupt("return",this._wrapTransaction(i));case 20:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getTransactionReceipt",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,t;case 4:return t=e.sent,r={transactionHash:this.formatter.hash(t,!0)},e.abrupt("return",ss((function(){return gs(n,void 0,void 0,_().mark((function e(){var n,i,o,a;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.perform("getTransactionReceipt",r);case 2:if(null!=(n=e.sent)){e.next=7;break}if(null!=this._emitted["t:"+t]){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",void 0);case 7:if(null!=n.blockHash){e.next=9;break}return e.abrupt("return",void 0);case 9:if(null!=(i=this.formatter.receipt(n)).blockNumber){e.next=14;break}i.confirmations=0,e.next=21;break;case 14:if(null!=i.confirmations){e.next=21;break}return e.next=17,this._getInternalBlockNumber(100+2*this.pollingInterval);case 17:o=e.sent,(a=o-i.blockNumber+1)<=0&&(a=1),i.confirmations=a;case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,this)})))}),{oncePoll:this}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getLogs",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getNetwork();case 2:return e.next=4,dt({filter:this._getFilter(t)});case 4:return r=e.sent,e.next=7,this.perform("getLogs",r);case 7:return(n=e.sent).forEach((function(t){null==t.removed&&(t.removed=!1)})),e.abrupt("return",fs.arrayOf(this.formatter.filterLog.bind(this.formatter))(n));case 10:case"end":return e.stop()}}),e,this)})))}},{key:"getEtherPrice",value:function(){return gs(this,void 0,void 0,_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:return t.abrupt("return",this.perform("getEtherPrice",{}));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"_getBlockTag",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(!("number"===typeof(t=e.sent)&&t<0)){e.next=11;break}return t%1&&ys.throwArgumentError("invalid BlockTag","blockTag",t),e.next=7,this._getInternalBlockNumber(100+2*this.pollingInterval);case 7:return r=e.sent,(r+=t)<0&&(r=0),e.abrupt("return",this.formatter.blockTag(r));case 11:return e.abrupt("return",this.formatter.blockTag(t));case 12:case"end":return e.stop()}}),e,this)})))}},{key:"getResolver",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t;case 1:if(""!==r&&"."!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("eth"===t||"eth"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,this._getResolver(r,"getResolver");case 8:if(null==(n=e.sent)){e.next=19;break}if(i=new Fs(this,n,t),e.t0=r!==t,!e.t0){e.next=16;break}return e.next=15,i.supportsWildcard();case 15:e.t0=!e.sent;case 16:if(!e.t0){e.next=18;break}return e.abrupt("return",null);case 18:return e.abrupt("return",i);case 19:r=r.split(".").slice(1).join("."),e.next=1;break;case 22:case"end":return e.stop()}}),e,this)})))}},{key:"_getResolver",value:function(t,e){return gs(this,void 0,void 0,_().mark((function r(){var n,i;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==e&&(e="ENS"),r.next=3,this.getNetwork();case 3:return(n=r.sent).ensAddress||ys.throwError("network does not support ENS",P.errors.UNSUPPORTED_OPERATION,{operation:e,network:n.name}),r.prev=5,r.next=8,this.call({to:n.ensAddress,data:"0x0178b8bf"+Ya(t).substring(2)});case 8:return i=r.sent,r.abrupt("return",this.formatter.callAddress(i));case 12:r.prev=12,r.t0=r.catch(5);case 14:return r.abrupt("return",null);case 15:case"end":return r.stop()}}),r,this,[[5,12]])})))}},{key:"resolveName",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return t=e.sent,e.prev=3,e.abrupt("return",Promise.resolve(this.formatter.address(t)));case 7:if(e.prev=7,e.t0=e.catch(3),!j(t)){e.next=11;break}throw e.t0;case 11:return"string"!==typeof t&&ys.throwArgumentError("invalid ENS name","name",t),e.next=14,this.getResolver(t);case 14:if(r=e.sent){e.next=17;break}return e.abrupt("return",null);case 17:return e.next=19,r.getAddress();case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,this,[[3,7]])})))}},{key:"lookupAddress",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return t=e.sent,t=this.formatter.address(t),r=t.substring(2).toLowerCase()+".addr.reverse",e.next=7,this._getResolver(r,"lookupAddress");case 7:if(null!=(n=e.sent)){e.next=10;break}return e.abrupt("return",null);case 10:return e.t0=Is,e.next=13,this.call({to:n,data:"0x691f3431"+Ya(r).substring(2)});case 13:return e.t1=e.sent,i=(0,e.t0)(e.t1,0),e.next=17,this.resolveName(i);case 17:if(e.sent==t){e.next=20;break}return e.abrupt("return",null);case 20:return e.abrupt("return",i);case 21:case"end":return e.stop()}}),e,this)})))}},{key:"getAvatar",value:function(t){return gs(this,void 0,void 0,_().mark((function e(){var r,n,i,o,a,s,u;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,!j(t)){e.next=40;break}return n=this.formatter.address(t),i=n.substring(2).toLowerCase()+".addr.reverse",e.next=6,this._getResolver(i,"getAvatar");case 6:if(o=e.sent){e.next=9;break}return e.abrupt("return",null);case 9:return r=new Fs(this,o,i),e.prev=10,e.next=13,r.getAvatar();case 13:if(!(a=e.sent)){e.next=16;break}return e.abrupt("return",a.url);case 16:e.next=22;break;case 18:if(e.prev=18,e.t0=e.catch(10),e.t0.code===P.errors.CALL_EXCEPTION){e.next=22;break}throw e.t0;case 22:return e.prev=22,e.t1=Is,e.next=26,this.call({to:o,data:"0x691f3431"+Ya(i).substring(2)});case 26:return e.t2=e.sent,s=(0,e.t1)(e.t2,0),e.next=30,this.getResolver(s);case 30:r=e.sent,e.next=38;break;case 33:if(e.prev=33,e.t3=e.catch(22),e.t3.code===P.errors.CALL_EXCEPTION){e.next=37;break}throw e.t3;case 37:return e.abrupt("return",null);case 38:e.next=45;break;case 40:return e.next=42,this.getResolver(t);case 42:if(r=e.sent){e.next=45;break}return e.abrupt("return",null);case 45:return e.next=47,r.getAvatar();case 47:if(null!=(u=e.sent)){e.next=50;break}return e.abrupt("return",null);case 50:return e.abrupt("return",u.url);case 51:case"end":return e.stop()}}),e,this,[[10,18],[22,33]])})))}},{key:"perform",value:function(t,e){return ys.throwError(t+" not implemented",P.errors.NOT_IMPLEMENTED,{operation:t})}},{key:"_startEvent",value:function(t){this.polling=this._events.filter((function(t){return t.pollable()})).length>0}},{key:"_stopEvent",value:function(t){this.polling=this._events.filter((function(t){return t.pollable()})).length>0}},{key:"_addEventListener",value:function(t,e,r){var n=new Ss(ws(t),e,r);return this._events.push(n),this._startEvent(n),this}},{key:"on",value:function(t,e){return this._addEventListener(t,e,!1)}},{key:"once",value:function(t,e){return this._addEventListener(t,e,!0)}},{key:"emit",value:function(t){for(var e=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=!1,a=[],s=ws(t);return this._events=this._events.filter((function(t){return t.tag!==s||(setTimeout((function(){t.listener.apply(e,n)}),0),o=!0,!t.once||(a.push(t),!1))})),a.forEach((function(t){e._stopEvent(t)})),o}},{key:"listenerCount",value:function(t){if(!t)return this._events.length;var e=ws(t);return this._events.filter((function(t){return t.tag===e})).length}},{key:"listeners",value:function(t){if(null==t)return this._events.map((function(t){return t.listener}));var e=ws(t);return this._events.filter((function(t){return t.tag===e})).map((function(t){return t.listener}))}},{key:"off",value:function(t,e){var r=this;if(null==e)return this.removeAllListeners(t);var n=[],i=!1,o=ws(t);return this._events=this._events.filter((function(t){return t.tag!==o||t.listener!=e||(!!i||(i=!0,n.push(t),!1))})),n.forEach((function(t){r._stopEvent(t)})),this}},{key:"removeAllListeners",value:function(t){var e=this,r=[];if(null==t)r=this._events,this._events=[];else{var n=ws(t);this._events=this._events.filter((function(t){return t.tag!==n||(r.push(t),!1)}))}return r.forEach((function(t){e._stopEvent(t)})),this}}],[{key:"getFormatter",value:function(){return null==Bs&&(Bs=new fs),Bs}},{key:"getNetwork",value:function(t){return Da(null==t?"homestead":t)}}]),r}(ar),js=r(6215),zs=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Hs=new P(hs),Vs=["call","estimateGas"];function Ws(t,e,r){if("call"===t&&e.code===P.errors.SERVER_ERROR){var n=e.error;if(n&&n.message.match("reverted")&&j(n.data))return n.data;Hs.throwError("missing revert data in call exception",P.errors.CALL_EXCEPTION,{error:e,data:"0x"})}var i=e.message;e.code===P.errors.SERVER_ERROR&&e.error&&"string"===typeof e.error.message?i=e.error.message:"string"===typeof e.body?i=e.body:"string"===typeof e.responseText&&(i=e.responseText),i=(i||"").toLowerCase();var o=r.transaction||r.signedTransaction;throw i.match(/insufficient funds|base fee exceeds gas limit/)&&Hs.throwError("insufficient funds for intrinsic transaction cost",P.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:o}),i.match(/nonce too low/)&&Hs.throwError("nonce has already been used",P.errors.NONCE_EXPIRED,{error:e,method:t,transaction:o}),i.match(/replacement transaction underpriced/)&&Hs.throwError("replacement fee too low",P.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:o}),i.match(/only replay-protected/)&&Hs.throwError("legacy pre-eip-155 transactions not supported",P.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:o}),Vs.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Hs.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",P.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:o}),e}function qs(t){return new Promise((function(e){setTimeout(e,t)}))}function Xs(t){if(t.error){var e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Zs(t){return t?t.toLowerCase():t}var Ks={},Ys=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n,i){var o;if((0,g.Z)(this,r),Hs.checkNew(this instanceof r?this.constructor:void 0,r),o=e.call(this),t!==Ks)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return ct((0,f.Z)(o),"provider",n),null==i&&(i=0),"string"===typeof i?(ct((0,f.Z)(o),"_address",o.provider.formatter.address(i)),ct((0,f.Z)(o),"_index",null)):"number"===typeof i?(ct((0,f.Z)(o),"_index",i),ct((0,f.Z)(o),"_address",null)):Hs.throwArgumentError("invalid address or index","addressOrIndex",i),o}return(0,y.Z)(r,[{key:"connect",value:function(t){return Hs.throwError("cannot alter JSON-RPC Signer connection",P.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}},{key:"connectUnchecked",value:function(){return new Js(Ks,this.provider,this._address||this._index)}},{key:"getAddress",value:function(){var t=this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((function(e){return e.length<=t._index&&Hs.throwError("unknown account #"+t._index,P.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),t.provider.formatter.address(e[t._index])}))}},{key:"sendUncheckedTransaction",value:function(t){var e=this;t=vt(t);var r=this.getAddress().then((function(t){return t&&(t=t.toLowerCase()),t}));if(null==t.gasLimit){var n=vt(t);n.from=r,t.gasLimit=this.provider.estimateGas(n)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((function(t){return zs(e,void 0,void 0,_().mark((function e(){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.provider.resolveName(t);case 4:return null==(r=e.sent)&&Hs.throwArgumentError("provided ENS name resolves to null","tx.to",t),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})))}))),dt({tx:dt(t),sender:r}).then((function(r){var n=r.tx,i=r.sender;null!=n.from?n.from.toLowerCase()!==i&&Hs.throwArgumentError("from address mismatch","transaction",t):n.from=i;var o=e.provider.constructor.hexlifyTransaction(n,{from:!0});return e.provider.send("eth_sendTransaction",[o]).then((function(t){return t}),(function(t){return Ws("sendTransaction",t,o)}))}))}},{key:"signTransaction",value:function(t){return Hs.throwError("signing transactions is unsupported",P.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}},{key:"sendTransaction",value:function(t){return zs(this,void 0,void 0,_().mark((function e(){var r,n,i=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval);case 2:return r=e.sent,e.next=5,this.sendUncheckedTransaction(t);case 5:return n=e.sent,e.prev=6,e.next=9,ss((function(){return zs(i,void 0,void 0,_().mark((function t(){var e;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.getTransaction(n);case 2:if(null!==(e=t.sent)){t.next=5;break}return t.abrupt("return",void 0);case 5:return t.abrupt("return",this.provider._wrapTransaction(e,n,r));case 6:case"end":return t.stop()}}),t,this)})))}),{oncePoll:this.provider});case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(6),e.t0.transactionHash=n,e.t0;case 16:case"end":return e.stop()}}),e,this,[[6,12]])})))}},{key:"signMessage",value:function(t){return zs(this,void 0,void 0,_().mark((function e(){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?Qt(t):t,e.next=3,this.getAddress();case 3:return n=e.sent,e.next=6,this.provider.send("personal_sign",[H(r),n.toLowerCase()]);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"_legacySignMessage",value:function(t){return zs(this,void 0,void 0,_().mark((function e(){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?Qt(t):t,e.next=3,this.getAddress();case 3:return n=e.sent,e.next=6,this.provider.send("eth_sign",[n.toLowerCase(),H(r)]);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"_signTypedData",value:function(t,e,r){return zs(this,void 0,void 0,_().mark((function n(){var i,o,a=this;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Wi.resolveNames(t,e,r,(function(t){return a.provider.resolveName(t)}));case 2:return i=n.sent,n.next=5,this.getAddress();case 5:return o=n.sent,n.next=8,this.provider.send("eth_signTypedData_v4",[o.toLowerCase(),JSON.stringify(Wi.getPayload(i.domain,e,i.value))]);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),n,this)})))}},{key:"unlock",value:function(t){return zs(this,void 0,void 0,_().mark((function e(){var r,n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.provider,e.next=3,this.getAddress();case 3:return n=e.sent,e.abrupt("return",r.send("personal_unlockAccount",[n.toLowerCase(),t,null]));case 5:case"end":return e.stop()}}),e,this)})))}}]),r}(cr),Js=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"sendTransaction",value:function(t){var e=this;return this.sendUncheckedTransaction(t).then((function(t){return{hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(r){return e.provider.waitForTransaction(t,r)}}}))}}]),r}(Ys),$s={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},Qs=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;(0,g.Z)(this,r),Hs.checkNew(this instanceof r?this.constructor:void 0,r);var o=n;return null==o&&(o=new Promise((function(t,e){setTimeout((function(){i.detectNetwork().then((function(e){t(e)}),(function(t){e(t)}))}),0)}))),i=e.call(this,o),t||(t=ft(i.constructor,"defaultUrl")()),ct((0,f.Z)(i),"connection","string"===typeof t?Object.freeze({url:t}):Object.freeze(vt(t))),i._nextId=42,i}return(0,y.Z)(r,[{key:"_cache",get:function(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}},{key:"detectNetwork",value:function(){var t=this;return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((function(){t._cache.detectNetwork=null}),0)),this._cache.detectNetwork}},{key:"_uncachedDetectNetwork",value:function(){return zs(this,void 0,void 0,_().mark((function t(){var e,r;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qs(0);case 2:return e=null,t.prev=3,t.next=6,this.send("eth_chainId",[]);case 6:e=t.sent,t.next=19;break;case 9:return t.prev=9,t.t0=t.catch(3),t.prev=11,t.next=14,this.send("net_version",[]);case 14:e=t.sent,t.next=19;break;case 17:t.prev=17,t.t1=t.catch(11);case 19:if(null==e){t.next=28;break}return r=ft(this.constructor,"getNetwork"),t.prev=21,t.abrupt("return",r(it.from(e).toNumber()));case 25:return t.prev=25,t.t2=t.catch(21),t.abrupt("return",Hs.throwError("could not detect network",P.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t.t2}));case 28:return t.abrupt("return",Hs.throwError("could not detect network",P.errors.NETWORK_ERROR,{event:"noNetwork"}));case 29:case"end":return t.stop()}}),t,this,[[3,9],[11,17],[21,25]])})))}},{key:"getSigner",value:function(t){return new Ys(Ks,this,t)}},{key:"getUncheckedSigner",value:function(t){return this.getSigner(t).connectUnchecked()}},{key:"listAccounts",value:function(){var t=this;return this.send("eth_accounts",[]).then((function(e){return e.map((function(e){return t.formatter.address(e)}))}))}},{key:"send",value:function(t,e){var r=this,n={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:bt(n),provider:this});var i=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(i&&this._cache[t])return this._cache[t];var o=as(this.connection,JSON.stringify(n),Xs).then((function(t){return r.emit("debug",{action:"response",request:n,response:t,provider:r}),t}),(function(t){throw r.emit("debug",{action:"response",error:t,request:n,provider:r}),t}));return i&&(this._cache[t]=o,setTimeout((function(){r._cache[t]=null}),0)),o}},{key:"prepareRequest",value:function(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Zs(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Zs(e.address),e.blockTag]];case"getCode":return["eth_getCode",[Zs(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Zs(e.address),e.position,e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[ft(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[ft(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=Zs(e.filter.address)),["eth_getLogs",[e.filter]]}return null}},{key:"perform",value:function(t,e){return zs(this,void 0,void 0,_().mark((function r(){var n,i,o;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("call"!==t&&"estimateGas"!==t){r.next=8;break}if(!(n=e.transaction)||null==n.type||!it.from(n.type).isZero()){r.next=8;break}if(null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas){r.next=8;break}return r.next=6,this.getFeeData();case 6:null==(i=r.sent).maxFeePerGas&&null==i.maxPriorityFeePerGas&&((e=vt(e)).transaction=vt(n),delete e.transaction.type);case 8:return null==(o=this.prepareRequest(t,e))&&Hs.throwError(t+" not implemented",P.errors.NOT_IMPLEMENTED,{operation:t}),r.prev=10,r.next=13,this.send(o[0],o[1]);case 13:return r.abrupt("return",r.sent);case 16:return r.prev=16,r.t0=r.catch(10),r.abrupt("return",Ws(t,r.t0,e));case 19:case"end":return r.stop()}}),r,this,[[10,16]])})))}},{key:"_startEvent",value:function(t){"pending"===t.tag&&this._startPending(),(0,d.Z)((0,p.Z)(r.prototype),"_startEvent",this).call(this,t)}},{key:"_startPending",value:function(){if(null==this._pendingFilter){var t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;var n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),n.then((function(){return qs(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n()}),0),null;t.send("eth_uninstallFilter",[r])})).catch((function(t){}))}(),r})).catch((function(t){}))}}},{key:"_stopEvent",value:function(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),(0,d.Z)((0,p.Z)(r.prototype),"_stopEvent",this).call(this,t)}}],[{key:"defaultUrl",value:function(){return"http://localhost:8545"}},{key:"hexlifyTransaction",value:function(t,e){var r=vt($s);if(e)for(var n in e)e[n]&&(r[n]=!0);pt(t,r);var i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null!=t[e]){var r=X(t[e]);"gasLimit"===e&&(e="gas"),i[e]=r}})),["from","to","data"].forEach((function(e){null!=t[e]&&(i[e]=H(t[e]))})),t.accessList&&(i.accessList=vn(t.accessList)),i}}]),r}(Gs),tu=null;try{if(null==(tu=WebSocket))throw new Error("inject please")}catch(aw){var eu=new P(hs);tu=function(){eu.throwError("WebSockets not supported in this environment",P.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var ru=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},nu=new P(hs),iu=1,ou=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i,o;(0,g.Z)(this,r),"any"===n&&nu.throwError("WebSocketProvider does not support 'any' network yet",P.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(o="string"===typeof t?e.call(this,t,n):e.call(this,"_websocket",n))._pollingInterval=-1,o._wsReady=!1,ct((0,f.Z)(o),"_websocket","string"===typeof t?new tu(o.connection.url):t),ct((0,f.Z)(o),"_requests",{}),ct((0,f.Z)(o),"_subs",{}),ct((0,f.Z)(o),"_subIds",{}),ct((0,f.Z)(o),"_detectNetwork",(0,d.Z)((i=(0,f.Z)(o),(0,p.Z)(r.prototype)),"detectNetwork",i).call(i)),o.websocket.onopen=function(){o._wsReady=!0,Object.keys(o._requests).forEach((function(t){o.websocket.send(o._requests[t].payload)}))},o.websocket.onmessage=function(t){var e=t.data,r=JSON.parse(e);if(null!=r.id){var n=String(r.id),i=o._requests[n];if(delete o._requests[n],void 0!==r.result)i.callback(null,r.result),o.emit("debug",{action:"response",request:JSON.parse(i.payload),response:r.result,provider:(0,f.Z)(o)});else{var a=null;r.error?(ct(a=new Error(r.error.message||"unknown error"),"code",r.error.code||null),ct(a,"response",e)):a=new Error("unknown error"),i.callback(a,void 0),o.emit("debug",{action:"response",error:a,request:JSON.parse(i.payload),provider:(0,f.Z)(o)})}}else if("eth_subscription"===r.method){var s=o._subs[r.params.subscription];s&&s.processFunc(r.params.result)}else console.warn("this should not happen")};var a=setInterval((function(){o.emit("poll")}),1e3);return a.unref&&a.unref(),(0,js.Z)(o)}return(0,y.Z)(r,[{key:"websocket",get:function(){return this._websocket}},{key:"detectNetwork",value:function(){return this._detectNetwork}},{key:"pollingInterval",get:function(){return 0},set:function(t){nu.throwError("cannot set polling interval on WebSocketProvider",P.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}},{key:"resetEventsBlock",value:function(t){nu.throwError("cannot reset events block on WebSocketProvider",P.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}},{key:"poll",value:function(){return ru(this,void 0,void 0,_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)})))}},{key:"polling",set:function(t){t&&nu.throwError("cannot set polling on WebSocketProvider",P.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}},{key:"send",value:function(t,e){var r=this,n=iu++;return new Promise((function(i,o){var a=JSON.stringify({method:t,params:e,id:n,jsonrpc:"2.0"});r.emit("debug",{action:"request",request:JSON.parse(a),provider:r}),r._requests[String(n)]={callback:function(t,e){return t?o(t):i(e)},payload:a},r._wsReady&&r.websocket.send(a)}))}},{key:"_subscribe",value:function(t,e,r){return ru(this,void 0,void 0,_().mark((function n(){var i,o,a=this;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==(i=this._subIds[t])&&(i=Promise.all(e).then((function(t){return a.send("eth_subscribe",t)})),this._subIds[t]=i),n.next=4,i;case 4:o=n.sent,this._subs[o]={tag:t,processFunc:r};case 6:case"end":return n.stop()}}),n,this)})))}},{key:"_startEvent",value:function(t){var e=this;switch(t.type){case"block":this._subscribe("block",["newHeads"],(function(t){var r=it.from(t.number).toNumber();e._emitted.block=r,e.emit("block",r)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(function(t){e.emit("pending",t)}));break;case"filter":this._subscribe(t.tag,["logs",this._getFilter(t.filter)],(function(r){null==r.removed&&(r.removed=!1),e.emit(t.filter,e.formatter.filterLog(r))}));break;case"tx":var r=function(t){var r=t.hash;e.getTransactionReceipt(r).then((function(t){t&&e.emit(r,t)}))};r(t),this._subscribe("tx",["newHeads"],(function(t){e._events.filter((function(t){return"tx"===t.type})).forEach(r)}));break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",t)}}},{key:"_stopEvent",value:function(t){var e=this,r=t.tag;if("tx"===t.type){if(this._events.filter((function(t){return"tx"===t.type})).length)return;r="tx"}else if(this.listenerCount(t.event))return;var n=this._subIds[r];n&&(delete this._subIds[r],n.then((function(t){e._subs[t]&&(delete e._subs[t],e.send("eth_unsubscribe",[t]))})))}},{key:"destroy",value:function(){return ru(this,void 0,void 0,_().mark((function t(){var e=this;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.websocket.readyState!==tu.CONNECTING){t.next=3;break}return t.next=3,new Promise((function(t){e.websocket.onopen=function(){t(!0)},e.websocket.onerror=function(){t(!1)}}));case 3:this.websocket.close(1e3);case 4:case"end":return t.stop()}}),t,this)})))}}],[{key:"defaultUrl",value:function(){return"ws://localhost:8546"}}]),r}(Qs),au=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},su=new P(hs),uu=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"detectNetwork",value:function(){var t=this,e=Object.create(null,{detectNetwork:{get:function(){return(0,d.Z)((0,p.Z)(r.prototype),"detectNetwork",t)}}});return au(this,void 0,void 0,_().mark((function t(){var r;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(r=this.network)){t.next=7;break}return t.next=4,e.detectNetwork.call(this);case 4:(r=t.sent)||su.throwError("no network detected",P.errors.UNKNOWN_ERROR,{}),null==this._network&&(ct(this,"_network",r),this.emit("network",r,null));case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}}),t,this)})))}}]),r}(Qs),lu=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;(0,g.Z)(this,r),su.checkAbstract(this instanceof r?this.constructor:void 0,r),t=ft(this instanceof r?this.constructor:void 0,"getNetwork")(t),n=ft(this instanceof r?this.constructor:void 0,"getApiKey")(n);var o=ft(this instanceof r?this.constructor:void 0,"getUrl")(t,n);return i=e.call(this,o,t),"string"===typeof n?ct((0,f.Z)(i),"apiKey",n):null!=n&&Object.keys(n).forEach((function(t){ct((0,f.Z)(i),t,n[t])})),i}return(0,y.Z)(r,[{key:"_startPending",value:function(){su.warn("WARNING: API provider does not support pending filters")}},{key:"isCommunityResource",value:function(){return!1}},{key:"getSigner",value:function(t){return su.throwError("API provider does not support signing",P.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}},{key:"listAccounts",value:function(){return Promise.resolve([])}}],[{key:"getApiKey",value:function(t){return t}},{key:"getUrl",value:function(t,e){return su.throwError("not implemented; sub-classes must override getUrl",P.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}]),r}(uu),hu=new P(hs),cu="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",fu=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;(0,g.Z)(this,r);var o=new du(t,n),a=o.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");return i=e.call(this,a,o.network),ct((0,f.Z)(i),"apiKey",o.apiKey),i}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.apiKey===cu}}]),r}(ou),du=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.apiKey===cu}}],[{key:"getWebSocketProvider",value:function(t,e){return new fu(t,e)}},{key:"getApiKey",value:function(t){return null==t?cu:(t&&"string"!==typeof t&&hu.throwArgumentError("invalid apiKey","apiKey",t),t)}},{key:"getUrl",value:function(t,e){var r=null;switch(t.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;default:hu.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+e,throttleCallback:function(t,r){return e===cu&&ms(),Promise.resolve(!0)}}}}]),r}(lu),pu=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},vu=new P(hs),mu=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"perform",value:function(t,e){var n=this,i=Object.create(null,{perform:{get:function(){return(0,d.Z)((0,p.Z)(r.prototype),"perform",n)}}});return pu(this,void 0,void 0,_().mark((function r(){var n;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("getBlockNumber"!==t){r.next=5;break}return r.next=3,i.perform.call(this,"getBlock",{blockTag:"latest"});case 3:return n=r.sent,r.abrupt("return",n.number);case 5:return r.abrupt("return",i.perform.call(this,t,e));case 6:case"end":return r.stop()}}),r,this)})))}}],[{key:"getApiKey",value:function(t){return null!=t&&vu.throwArgumentError("apiKey not supported for cloudflare","apiKey",t),null}},{key:"getUrl",value:function(t,e){var r=null;if("homestead"===t.name)r="https://cloudflare-eth.com/";else vu.throwArgumentError("unsupported network","network",arguments[0]);return r}}]),r}(lu),gu=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},yu=new P(hs);function bu(t){var e={};for(var r in t)if(null!=t[r]){var n=t[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?X(H(n)):"accessList"===r?"["+vn(n).map((function(t){return'{address:"'.concat(t.address,'",storageKeys:["').concat(t.storageKeys.join('","'),'"]}')})).join(",")+"]":H(n),e[r]=n)}return e}function _u(t){if(0==t.status&&("No records found"===t.message||"No transactions found"===t.message))return t.result;if(1!=t.status||"OK"!=t.message){var e=new Error("invalid response");throw e.result=JSON.stringify(t),(t.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return t.result}function wu(t){if(t&&0==t.status&&"NOTOK"==t.message&&(t.result||"").toLowerCase().indexOf("rate limit")>=0){var e=new Error("throttled response");throw e.result=JSON.stringify(t),e.throttleRetry=!0,e}if("2.0"!=t.jsonrpc){var r=new Error("invalid response");throw r.result=JSON.stringify(t),r}if(t.error){var n=new Error(t.error.message||"unknown error");throw t.error.code&&(n.code=t.error.code),t.error.data&&(n.data=t.error.data),n}return t.result}function xu(t){if("pending"===t)throw new Error("pending not supported");return"latest"===t?t:parseInt(t.substring(2),16)}var Eu="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function Mu(t,e,r){if("call"===t&&e.code===P.errors.SERVER_ERROR){var n=e.error;if(n&&(n.message.match(/reverted/i)||n.message.match(/VM execution error/i))){var i=n.data;if(i&&(i="0x"+i.replace(/^.*0x/i,"")),j(i))return i;yu.throwError("missing revert data in call exception",P.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}var o=e.message;throw e.code===P.errors.SERVER_ERROR&&(e.error&&"string"===typeof e.error.message?o=e.error.message:"string"===typeof e.body?o=e.body:"string"===typeof e.responseText&&(o=e.responseText)),(o=(o||"").toLowerCase()).match(/insufficient funds/)&&yu.throwError("insufficient funds for intrinsic transaction cost",P.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:r}),o.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&yu.throwError("nonce has already been used",P.errors.NONCE_EXPIRED,{error:e,method:t,transaction:r}),o.match(/another transaction with same nonce/)&&yu.throwError("replacement fee too low",P.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:r}),o.match(/execution failed due to an exception|execution reverted/)&&yu.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",P.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:r}),e}var Su=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;return(0,g.Z)(this,r),yu.checkNew(this instanceof r?this.constructor:void 0,r),i=e.call(this,t),ct((0,f.Z)(i),"baseUrl",i.getBaseUrl()),ct((0,f.Z)(i),"apiKey",n||Eu),i}return(0,y.Z)(r,[{key:"getBaseUrl",value:function(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io"}return yu.throwArgumentError("unsupported network","network",name)}},{key:"getUrl",value:function(t,e){var r=Object.keys(e).reduce((function(t,r){var n=e[r];return null!=n&&(t+="&".concat(r,"=").concat(n)),t}),""),n=this.apiKey?"&apikey=".concat(this.apiKey):"";return"".concat(this.baseUrl,"/api?module=").concat(t).concat(r).concat(n)}},{key:"getPostUrl",value:function(){return"".concat(this.baseUrl,"/api")}},{key:"getPostData",value:function(t,e){return e.module=t,e.apikey=this.apiKey,e}},{key:"fetch",value:function(t,e,r){return gu(this,void 0,void 0,_().mark((function n(){var i,o,a,s,u,l,h=this;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r?this.getPostUrl():this.getUrl(t,e),o=r?this.getPostData(t,e):null,a="proxy"===t?wu:_u,this.emit("debug",{action:"request",request:i,provider:this}),s={url:i,throttleSlotInterval:1e3,throttleCallback:function(t,e){return h.isCommunityResource()&&ms(),Promise.resolve(!0)}},u=null,o&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},u=Object.keys(o).map((function(t){return"".concat(t,"=").concat(o[t])})).join("&")),n.next=9,as(s,u,a||wu);case 9:return l=n.sent,this.emit("debug",{action:"response",request:i,response:bt(l),provider:this}),n.abrupt("return",l);case 12:case"end":return n.stop()}}),n,this)})))}},{key:"detectNetwork",value:function(){return gu(this,void 0,void 0,_().mark((function t(){return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.network);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"perform",value:function(t,e){var n=this,i=Object.create(null,{perform:{get:function(){return(0,d.Z)((0,p.Z)(r.prototype),"perform",n)}}});return gu(this,void 0,void 0,_().mark((function r(){var n,o,a,s,u,l,h,c,f;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=t,r.next="getBlockNumber"===r.t0?3:"getGasPrice"===r.t0?4:"getBalance"===r.t0?5:"getTransactionCount"===r.t0?6:"getCode"===r.t0?7:"getStorageAt"===r.t0?8:"sendTransaction"===r.t0?9:"getBlock"===r.t0?10:"getTransaction"===r.t0?13:"getTransactionReceipt"===r.t0?14:"call"===r.t0?15:"estimateGas"===r.t0?29:"getLogs"===r.t0?41:"getEtherPrice"===r.t0?65:72;break;case 3:return r.abrupt("return",this.fetch("proxy",{action:"eth_blockNumber"}));case 4:return r.abrupt("return",this.fetch("proxy",{action:"eth_gasPrice"}));case 5:return r.abrupt("return",this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag}));case 6:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag}));case 7:return r.abrupt("return",this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag}));case 8:return r.abrupt("return",this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag}));case 9:return r.abrupt("return",this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch((function(t){return Mu("sendTransaction",t,e.signedTransaction)})));case 10:if(!e.blockTag){r.next=12;break}return r.abrupt("return",this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"}));case 12:throw new Error("getBlock by blockHash not implemented");case 13:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.transactionHash}));case 14:return r.abrupt("return",this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.transactionHash}));case 15:if("latest"===e.blockTag){r.next=17;break}throw new Error("EtherscanProvider does not support blockTag for call");case 17:return(n=bu(e.transaction)).module="proxy",n.action="eth_call",r.prev=20,r.next=23,this.fetch("proxy",n,!0);case 23:return r.abrupt("return",r.sent);case 26:return r.prev=26,r.t1=r.catch(20),r.abrupt("return",Mu("call",r.t1,e.transaction));case 29:return(o=bu(e.transaction)).module="proxy",o.action="eth_estimateGas",r.prev=32,r.next=35,this.fetch("proxy",o,!0);case 35:return r.abrupt("return",r.sent);case 38:return r.prev=38,r.t2=r.catch(32),r.abrupt("return",Mu("estimateGas",r.t2,e.transaction));case 41:return a={action:"getLogs"},e.filter.fromBlock&&(a.fromBlock=xu(e.filter.fromBlock)),e.filter.toBlock&&(a.toBlock=xu(e.filter.toBlock)),e.filter.address&&(a.address=e.filter.address),e.filter.topics&&e.filter.topics.length>0&&(e.filter.topics.length>1&&yu.throwError("unsupported topic count",P.errors.UNSUPPORTED_OPERATION,{topics:e.filter.topics}),1===e.filter.topics.length&&("string"===typeof(s=e.filter.topics[0])&&66===s.length||yu.throwError("unsupported topic format",P.errors.UNSUPPORTED_OPERATION,{topic0:s}),a.topic0=s)),r.next=48,this.fetch("logs",a);case 48:u=r.sent,l={},h=0;case 51:if(!(h<u.length)){r.next=64;break}if(null==(c=u[h]).blockHash){r.next=55;break}return r.abrupt("continue",61);case 55:if(null!=l[c.blockNumber]){r.next=60;break}return r.next=58,this.getBlock(c.blockNumber);case 58:(f=r.sent)&&(l[c.blockNumber]=f.hash);case 60:c.blockHash=l[c.blockNumber];case 61:h++,r.next=51;break;case 64:return r.abrupt("return",u);case 65:if("homestead"===this.network.name){r.next=67;break}return r.abrupt("return",0);case 67:return r.t3=parseFloat,r.next=70,this.fetch("stats",{action:"ethprice"});case 70:return r.t4=r.sent.ethusd,r.abrupt("return",(0,r.t3)(r.t4));case 72:return r.abrupt("break",73);case 73:return r.abrupt("return",i.perform.call(this,t,e));case 74:case"end":return r.stop()}}),r,this,[[20,26],[32,38]])})))}},{key:"getHistory",value:function(t,e,r){return gu(this,void 0,void 0,_().mark((function n(){var i,o,a=this;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.resolveName(t);case 2:return n.t0=n.sent,n.t1=null==e?0:e,n.t2=null==r?99999999:r,i={action:"txlist",address:n.t0,startblock:n.t1,endblock:n.t2,sort:"asc"},n.next=8,this.fetch("account",i);case 8:return o=n.sent,n.abrupt("return",o.map((function(t){["contractAddress","to"].forEach((function(e){""==t[e]&&delete t[e]})),null==t.creates&&null!=t.contractAddress&&(t.creates=t.contractAddress);var e=a.formatter.transactionResponse(t);return t.timeStamp&&(e.timestamp=parseInt(t.timeStamp)),e})));case 10:case"end":return n.stop()}}),n,this)})))}},{key:"isCommunityResource",value:function(){return this.apiKey===Eu}}]),r}(Gs);function Au(t){for(var e=(t=t.slice()).length-1;e>0;e--){var r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}var ku=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},Tu=new P(hs);function Ru(){return(new Date).getTime()}function Pu(t){for(var e=null,r=0;r<t.length;r++){var n=t[r];if(null==n)return null;e?e.name===n.name&&e.chainId===n.chainId&&(e.ensAddress===n.ensAddress||null==e.ensAddress&&null==n.ensAddress)||Tu.throwArgumentError("provider mismatch","networks",t):e=n}return e}function Iu(t,e){t=t.slice().sort();var r=Math.floor(t.length/2);if(t.length%2)return t[r];var n=t[r-1],i=t[r];return null!=e&&Math.abs(n-i)>e?null:(n+i)/2}function Nu(t){if(null===t)return"null";if("number"===typeof t||"boolean"===typeof t)return JSON.stringify(t);if("string"===typeof t)return t;if(it.isBigNumber(t))return t.toString();if(Array.isArray(t))return JSON.stringify(t.map((function(t){return Nu(t)})));if("object"===typeof t){var e=Object.keys(t);return e.sort(),"{"+e.map((function(e){var r=t[e];return r="function"===typeof r?"[function]":Nu(r),JSON.stringify(e)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof t)}var Ou=1;function Cu(t){var e=null,r=null,n=new Promise((function(n){e=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(e,t)}));return{cancel:e,getPromise:function(){return n},wait:function(t){return n=n.then(t)}}}var Du=[P.errors.CALL_EXCEPTION,P.errors.INSUFFICIENT_FUNDS,P.errors.NONCE_EXPIRED,P.errors.REPLACEMENT_UNDERPRICED,P.errors.UNPREDICTABLE_GAS_LIMIT],Lu=["address","args","errorArgs","errorSignature","method","transaction"];function Fu(t,e){var r={weight:t.weight};return Object.defineProperty(r,"provider",{get:function(){return t.provider}}),t.start&&(r.start=t.start),e&&(r.duration=e-t.start),t.done&&(t.error?r.error=t.error:r.result=t.result||null),r}function Bu(t,e,r){var n=Nu;switch(e){case"getBlockNumber":return function(e){var r=e.map((function(t){return t.result})),n=Iu(e.map((function(t){return t.result})),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=t._highestBlockNumber&&(t._highestBlockNumber=n),t._highestBlockNumber};case"getGasPrice":return function(t){var e=t.map((function(t){return t.result}));return e.sort(),e[Math.floor(e.length/2)]};case"getEtherPrice":return function(t){return Iu(t.map((function(t){return t.result})))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(t){return null==t?null:((t=vt(t)).confirmations=-1,Nu(t))};break;case"getBlock":n=r.includeTransactions?function(t){return null==t?null:((t=vt(t)).transactions=t.transactions.map((function(t){return(t=vt(t)).confirmations=-1,t})),Nu(t))}:function(t){return null==t?null:Nu(t)};break;default:throw new Error("unknown method: "+e)}return function(t,e){return function(r){var n={};r.forEach((function(e){var r=t(e.result);n[r]||(n[r]={count:0,result:e.result}),n[r].count++}));for(var i=Object.keys(n),o=0;o<i.length;o++){var a=n[i[o]];if(a.count>=e)return a.result}}}(n,t.quorum)}function Uu(t,e){return ku(this,void 0,void 0,_().mark((function r(){var n;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(null!=(n=t.provider).blockNumber&&n.blockNumber>=e||-1===e)){r.next=3;break}return r.abrupt("return",n);case 3:return r.abrupt("return",ss((function(){return new Promise((function(r,i){setTimeout((function(){return n.blockNumber>=e?r(n):t.cancelled?r(null):r(void 0)}),0)}))}),{oncePoll:n}));case 4:case"end":return r.stop()}}),r)})))}function Gu(t,e,r,n){return ku(this,void 0,void 0,_().mark((function i(){var o,a;return _().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=t.provider,i.t0=r,i.next="getBlockNumber"===i.t0||"getGasPrice"===i.t0?4:"getEtherPrice"===i.t0?5:"getBalance"===i.t0||"getTransactionCount"===i.t0||"getCode"===i.t0?8:"getStorageAt"===i.t0?13:"getBlock"===i.t0?18:"call"===i.t0||"estimateGas"===i.t0?23:"getTransaction"===i.t0||"getTransactionReceipt"===i.t0?28:"getLogs"===i.t0?29:35;break;case 4:return i.abrupt("return",o[r]());case 5:if(!o.getEtherPrice){i.next=7;break}return i.abrupt("return",o.getEtherPrice());case 7:return i.abrupt("break",35);case 8:if(!n.blockTag||!j(n.blockTag)){i.next=12;break}return i.next=11,Uu(t,e);case 11:o=i.sent;case 12:return i.abrupt("return",o[r](n.address,n.blockTag||"latest"));case 13:if(!n.blockTag||!j(n.blockTag)){i.next=17;break}return i.next=16,Uu(t,e);case 16:o=i.sent;case 17:return i.abrupt("return",o.getStorageAt(n.address,n.position,n.blockTag||"latest"));case 18:if(!n.blockTag||!j(n.blockTag)){i.next=22;break}return i.next=21,Uu(t,e);case 21:o=i.sent;case 22:return i.abrupt("return",o[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash));case 23:if(!n.blockTag||!j(n.blockTag)){i.next=27;break}return i.next=26,Uu(t,e);case 26:o=i.sent;case 27:return i.abrupt("return",o[r](n.transaction));case 28:return i.abrupt("return",o[r](n.transactionHash));case 29:if(!((a=n.filter).fromBlock&&j(a.fromBlock)||a.toBlock&&j(a.toBlock))){i.next=34;break}return i.next=33,Uu(t,e);case 33:o=i.sent;case 34:return i.abrupt("return",o.getLogs(a));case 35:return i.abrupt("return",Tu.throwError("unknown method error",P.errors.UNKNOWN_ERROR,{method:r,params:n}));case 36:case"end":return i.stop()}}),i)})))}var ju=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;(0,g.Z)(this,r),Tu.checkNew(this instanceof r?this.constructor:void 0,r),0===t.length&&Tu.throwArgumentError("missing providers","providers",t);var o=t.map((function(t,e){if(ar.isProvider(t)){var r=ps(t)?2e3:750;return Object.freeze({provider:t,weight:1,stallTimeout:r,priority:1})}var n=vt(t);null==n.priority&&(n.priority=1),null==n.stallTimeout&&(n.stallTimeout=ps(t)?2e3:750),null==n.weight&&(n.weight=1);var i=n.weight;return(i%1||i>512||i<1)&&Tu.throwArgumentError("invalid weight; must be integer in [1, 512]","providers[".concat(e,"].weight"),i),Object.freeze(n)})),a=o.reduce((function(t,e){return t+e.weight}),0);null==n?n=a/2:n>a&&Tu.throwArgumentError("quorum will always fail; larger than total weight","quorum",n);var s=Pu(o.map((function(t){return t.provider.network})));return null==s&&(s=new Promise((function(t,e){setTimeout((function(){i.detectNetwork().then(t,e)}),0)}))),i=e.call(this,s),ct((0,f.Z)(i),"providerConfigs",Object.freeze(o)),ct((0,f.Z)(i),"quorum",n),i._highestBlockNumber=-1,i}return(0,y.Z)(r,[{key:"detectNetwork",value:function(){return ku(this,void 0,void 0,_().mark((function t(){var e;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.providerConfigs.map((function(t){return t.provider.getNetwork()})));case 2:return e=t.sent,t.abrupt("return",Pu(e));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"perform",value:function(t,e){return ku(this,void 0,void 0,_().mark((function r(){var n,i,o,a,s,u,l,h,c,f,d=this;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("sendTransaction"!==t){r.next=13;break}return r.next=3,Promise.all(this.providerConfigs.map((function(t){return t.provider.sendTransaction(e.signedTransaction).then((function(t){return t.hash}),(function(t){return t}))})));case 3:n=r.sent,i=0;case 5:if(!(i<n.length)){r.next=12;break}if("string"!==typeof(o=n[i])){r.next=9;break}return r.abrupt("return",o);case 9:i++,r.next=5;break;case 12:throw n[0];case 13:if(-1!==this._highestBlockNumber||"getBlockNumber"===t){r.next=16;break}return r.next=16,this.getBlockNumber();case 16:a=Bu(this,t,e),(s=Au(this.providerConfigs.map(vt))).sort((function(t,e){return t.priority-e.priority})),u=this._highestBlockNumber,l=0,h=!0,c=_().mark((function r(){var n,i,o,c,f,p,v;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(n=Ru(),i=s.filter((function(t){return t.runner&&n-t.start<t.stallTimeout})).reduce((function(t,e){return t+e.weight}),0),o=function(){var r=s[l++],n=Ou++;r.start=Ru(),r.staller=Cu(r.stallTimeout),r.staller.wait((function(){r.staller=null})),r.runner=Gu(r,u,t,e).then((function(i){r.done=!0,r.result=i,d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:n,backend:Fu(r,Ru()),request:{method:t,params:bt(e)},provider:d})}),(function(i){r.done=!0,r.error=i,d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:n,backend:Fu(r,Ru()),request:{method:t,params:bt(e)},provider:d})})),d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:n,backend:Fu(r,null),request:{method:t,params:bt(e)},provider:d}),i+=r.weight};i<d.quorum&&l<s.length;)o();if(c=[],s.forEach((function(t){!t.done&&t.runner&&(c.push(t.runner),t.staller&&c.push(t.staller.getPromise()))})),!c.length){r.next=9;break}return r.next=9,Promise.race(c);case 9:if(!((f=s.filter((function(t){return t.done&&null==t.error}))).length>=d.quorum)){r.next=19;break}if(void 0===(p=a(f))){r.next=15;break}return s.forEach((function(t){t.staller&&t.staller.cancel(),t.cancelled=!0})),r.abrupt("return",{v:p});case 15:if(h){r.next=18;break}return r.next=18,Cu(100).getPromise();case 18:h=!1;case 19:if(v=s.reduce((function(t,e){if(!e.done||null==e.error)return t;var r=e.error.code;return Du.indexOf(r)>=0&&(t[r]||(t[r]={error:e.error,weight:0}),t[r].weight+=e.weight),t}),{}),Object.keys(v).forEach((function(t){var e=v[t];if(!(e.weight<d.quorum)){s.forEach((function(t){t.staller&&t.staller.cancel(),t.cancelled=!0}));var r=e.error,n={};Lu.forEach((function(t){null!=r[t]&&(n[t]=r[t])})),Tu.throwError(r.reason||r.message,t,n)}})),0!==s.filter((function(t){return!t.done})).length){r.next=23;break}return r.abrupt("return","break");case 23:case"end":return r.stop()}}),r)}));case 23:return r.delegateYield(c(),"t0",25);case 25:if("break"!==(f=r.t0)){r.next=28;break}return r.abrupt("break",32);case 28:if("object"!==typeof f){r.next=30;break}return r.abrupt("return",f.v);case 30:r.next=23;break;case 32:return s.forEach((function(t){t.staller&&t.staller.cancel(),t.cancelled=!0})),r.abrupt("return",Tu.throwError("failed to meet quorum",P.errors.SERVER_ERROR,{method:t,params:e,results:s.map((function(t){return Fu(t)})),provider:this}));case 34:case"end":return r.stop()}}),r,this)})))}}]),r}(Gs),zu=null,Hu=new P(hs),Vu="84842078b09946638c03157f83405213",Wu=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;(0,g.Z)(this,r);var o=new qu(t,n),a=o.connection;a.password&&Hu.throwError("INFURA WebSocket project secrets unsupported",P.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});var s=a.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");return i=e.call(this,s,t),ct((0,f.Z)(i),"apiKey",o.projectId),ct((0,f.Z)(i),"projectId",o.projectId),ct((0,f.Z)(i),"projectSecret",o.projectSecret),i}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.projectId===Vu}}]),r}(ou),qu=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.projectId===Vu}}],[{key:"getWebSocketProvider",value:function(t,e){return new Wu(t,e)}},{key:"getApiKey",value:function(t){var e={apiKey:Vu,projectId:Vu,projectSecret:null};return null==t||("string"===typeof t?e.projectId=t:null!=t.projectSecret?(Hu.assertArgument("string"===typeof t.projectId,"projectSecret requires a projectId","projectId",t.projectId),Hu.assertArgument("string"===typeof t.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),e.projectId=t.projectId,e.projectSecret=t.projectSecret):t.projectId&&(e.projectId=t.projectId),e.apiKey=e.projectId),e}},{key:"getUrl",value:function(t,e){var r=null;switch(t?t.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:Hu.throwError("unsupported network",P.errors.INVALID_ARGUMENT,{argument:"network",value:t})}var n={allowGzip:!0,url:"https://"+r+"/v3/"+e.projectId,throttleCallback:function(t,r){return e.projectId===Vu&&ms(),Promise.resolve(!0)}};return null!=e.projectSecret&&(n.user="",n.password=e.projectSecret),n}}]),r}(lu),Xu=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"send",value:function(t,e){var r=this,n={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);var i={request:n,resolve:null,reject:null},o=new Promise((function(t,e){i.resolve=t,i.reject=e}));return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((function(){var t=r._pendingBatch;r._pendingBatch=null,r._pendingBatchAggregator=null;var e=t.map((function(t){return t.request}));return r.emit("debug",{action:"requestBatch",request:bt(e),provider:r}),as(r.connection,JSON.stringify(e)).then((function(n){r.emit("debug",{action:"response",request:e,response:n,provider:r}),t.forEach((function(t,e){var r=n[e];if(r.error){var i=new Error(r.error.message);i.code=r.error.code,i.data=r.error.data,t.reject(i)}else t.resolve(r.result)}))}),(function(n){r.emit("debug",{action:"response",error:n,request:e,provider:r}),t.forEach((function(t){t.reject(n)}))}))}),10)),o}}]),r}(Qs),Zu=new P(hs),Ku=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,null,[{key:"getApiKey",value:function(t){return t&&"string"!==typeof t&&Zu.throwArgumentError("invalid apiKey","apiKey",t),t||"ETHERS_JS_SHARED"}},{key:"getUrl",value:function(t,e){Zu.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");var r=null;switch(t.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Zu.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+e}}]),r}(lu),Yu=new P(hs),Ju={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"},$u=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){if((0,g.Z)(this,r),null==n){var i=ft(this instanceof r?this.constructor:void 0,"getNetwork")(t);if(i){var o=Ju[i.name];o&&(n={applicationId:o,loadBalancer:!0})}null==n&&Yu.throwError("unsupported network",P.errors.INVALID_ARGUMENT,{argument:"network",value:t})}return e.call(this,t,n)}return(0,y.Z)(r,[{key:"isCommunityResource",value:function(){return this.applicationId===Ju[this.network.name]}}],[{key:"getApiKey",value:function(t){null==t&&Yu.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",t);var e={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"===typeof t?e.applicationId=t:null!=t.applicationSecretKey?(Yu.assertArgument("string"===typeof t.applicationId,"applicationSecretKey requires an applicationId","applicationId",t.applicationId),Yu.assertArgument("string"===typeof t.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),e.applicationId=t.applicationId,e.applicationSecretKey=t.applicationSecretKey,e.loadBalancer=!!t.loadBalancer):t.applicationId?(Yu.assertArgument("string"===typeof t.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",t.applicationId),e.applicationId=t.applicationId,e.loadBalancer=!!t.loadBalancer):Yu.throwArgumentError("unsupported PocketProvider apiKey","apiKey",t),e}},{key:"getUrl",value:function(t,e){var r=null;switch(t?t.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:Yu.throwError("unsupported network",P.errors.INVALID_ARGUMENT,{argument:"network",value:t})}var n={url:e.loadBalancer?"https://".concat(r,"/v1/lb/").concat(e.applicationId):"https://".concat(r,"/v1/").concat(e.applicationId),headers:{}};return null!=e.applicationSecretKey&&(n.user="",n.password=e.applicationSecretKey),n}}]),r}(lu),Qu=new P(hs),tl=1;function el(t,e){var r="Web3LegacyFetcher";return function(t,n){var i=this,o={method:t,params:n,id:tl++,jsonrpc:"2.0"};return new Promise((function(t,n){i.emit("debug",{action:"request",fetcher:r,request:bt(o),provider:i}),e(o,(function(e,a){if(e)return i.emit("debug",{action:"response",fetcher:r,error:e,request:o,provider:i}),n(e);if(i.emit("debug",{action:"response",fetcher:r,request:o,response:a,provider:i}),a.error){var s=new Error(a.error.message);return s.code=a.error.code,s.data=a.error.data,n(s)}t(a.result)}))}))}}var rl=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;(0,g.Z)(this,r),Qu.checkNew(this instanceof r?this.constructor:void 0,r),null==t&&Qu.throwArgumentError("missing provider","provider",t);var o=null,a=null,s=null;return"function"===typeof t?(o="unknown:",a=t):(!(o=t.host||t.path||"")&&t.isMetaMask&&(o="metamask"),s=t,t.request?(""===o&&(o="eip-1193:"),a=function(t){return function(e,r){var n=this;null==r&&(r=[]);var i={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:bt(i),provider:this}),t.request(i).then((function(t){return n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:t,provider:n}),t}),(function(t){throw n.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:t,provider:n}),t}))}}(t)):t.sendAsync?a=el(0,t.sendAsync.bind(t)):t.send?a=el(0,t.send.bind(t)):Qu.throwArgumentError("unsupported provider","provider",t),o||(o="unknown:")),i=e.call(this,o,n),ct((0,f.Z)(i),"jsonRpcFetchFunc",a),ct((0,f.Z)(i),"provider",s),i}return(0,y.Z)(r,[{key:"send",value:function(t,e){return this.jsonRpcFetchFunc(t,e)}}]),r}(Qs),nl=new P(hs);function il(t,e){if(null==t&&(t="homestead"),"string"===typeof t){var r=t.match(/^(ws|http)s?:/i);if(r)switch(r[1]){case"http":return new Qs(t);case"ws":return new ou(t);default:nl.throwArgumentError("unsupported URL scheme","network",t)}}var n=Da(t);return n&&n._defaultProvider||nl.throwError("unsupported getDefaultProvider network",P.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:t}),n._defaultProvider({FallbackProvider:ju,AlchemyProvider:du,CloudflareProvider:mu,EtherscanProvider:Su,InfuraProvider:qu,JsonRpcProvider:Qs,NodesmithProvider:Ku,PocketProvider:$u,Web3Provider:rl,IpcProvider:zu},e)}var ol=new P("bytes/5.6.1");function al(t){return!!t.toHexString}function sl(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return sl(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function ul(t){return"number"===typeof t&&t==t&&t%1===0}function ll(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!ul(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!ul(r)||r<0||r>=256)return!1}return!0}function hl(t,e){if(e||(e={}),"number"===typeof t){ol.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),sl(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),al(t)&&(t=t.toHexString()),cl(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":ol.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return sl(new Uint8Array(i))}return ll(t)?sl(new Uint8Array(t)):ol.throwArgumentError("invalid arrayify value","value",t)}function cl(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var fl,dl,pl=new P("strings/5.6.1");function vl(t,e,r,n,i){if(t===dl.BAD_PREFIX||t===dl.UNEXPECTED_CONTINUE){for(var o=0,a=e+1;a<r.length&&r[a]>>6===2;a++)o++;return o}return t===dl.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(fl||(fl={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(dl||(dl={}));Object.freeze({error:function(t,e,r,n,i){return pl.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:vl,replace:function(t,e,r,n,i){return t===dl.OVERLONG?(n.push(i),0):(n.push(65533),vl(t,e,r))}});function ml(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fl.current;e!=fl.current&&(pl.checkNormalize(),t=t.normalize(e));for(var r=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var o=t.charCodeAt(n);if(n>=t.length||56320!==(64512&o))throw new Error("invalid utf-8 string");var a=65536+((1023&i)<<10)+(1023&o);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return hl(r)}function gl(t){return e=ml(t),"0x"+kt().keccak_256(hl(e));var e}var yl=new P("wordlists/5.6.0"),bl=function(){function t(e){(0,g.Z)(this,t),yl.checkAbstract(this instanceof t?this.constructor:void 0,t),ct(this,"locale",e)}return(0,y.Z)(t,[{key:"split",value:function(t){return t.toLowerCase().split(/ +/g)}},{key:"join",value:function(t){return t.join(" ")}}],[{key:"check",value:function(t){for(var e=[],r=0;r<2048;r++){var n=t.getWord(r);if(r!==t.getWordIndex(n))return"0x";e.push(n)}return gl(e.join("\n")+"\n")}},{key:"register",value:function(t,e){e||(e=t.locale)}}]),t}(),_l=null;function wl(t){if(null==_l&&(_l="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==bl.check(t)))throw _l=null,new Error("BIP39 Wordlist for en (English) FAILED")}var xl=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.call(this,"en")}return(0,y.Z)(r,[{key:"getWord",value:function(t){return wl(this),_l[t]}},{key:"getWordIndex",value:function(t){return wl(this),_l.indexOf(t)}}]),r}(bl),El=new xl;bl.register(El);var Ml={en:El},Sl="abi/5.6.0",Al=new P(Sl);function kl(t){var e=[];return function t(r,n){if(Array.isArray(n))for(var i in n){var o=r.slice();o.push(i);try{t(o,n[i])}catch(aw){e.push({path:o,error:aw})}}}([],t),e}var Tl=function(){function t(e,r,n,i){(0,g.Z)(this,t),this.name=e,this.type=r,this.localName=n,this.dynamic=i}return(0,y.Z)(t,[{key:"_throwError",value:function(t,e){Al.throwArgumentError(t,this.localName,e)}}]),t}(),Rl=function(){function t(e){(0,g.Z)(this,t),ct(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}return(0,y.Z)(t,[{key:"data",get:function(){return q(this._data)}},{key:"length",get:function(){return this._dataLength}},{key:"_writeData",value:function(t){return this._data.push(t),this._dataLength+=t.length,t.length}},{key:"appendWriter",value:function(t){return this._writeData(B(t._data))}},{key:"writeBytes",value:function(t){var e=F(t),r=e.length%this.wordSize;return r&&(e=B([e,this._padding.slice(r)])),this._writeData(e)}},{key:"_getValue",value:function(t){var e=F(it.from(t));return e.length>this.wordSize&&Al.throwError("value out-of-bounds",P.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=B([this._padding.slice(e.length%this.wordSize),e])),e}},{key:"writeValue",value:function(t){return this._writeData(this._getValue(t))}},{key:"writeUpdatableValue",value:function(){var t=this,e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(r){t._data[e]=t._getValue(r)}}}]),t}(),Pl=function(){function t(e,r,n,i){(0,g.Z)(this,t),ct(this,"_data",F(e)),ct(this,"wordSize",r||32),ct(this,"_coerceFunc",n),ct(this,"allowLoose",i),this._offset=0}return(0,y.Z)(t,[{key:"data",get:function(){return H(this._data)}},{key:"consumed",get:function(){return this._offset}},{key:"coerce",value:function(e,r){return this._coerceFunc?this._coerceFunc(e,r):t.coerce(e,r)}},{key:"_peekBytes",value:function(t,e,r){var n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:Al.throwError("data out-of-bounds",P.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}},{key:"subReader",value:function(e){return new t(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}},{key:"readBytes",value:function(t,e){var r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}},{key:"readValue",value:function(){return it.from(this.readBytes(this.wordSize))}}],[{key:"coerce",value:function(t,e){var r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}}]),t}(),Il=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){return(0,g.Z)(this,r),e.call(this,"address","address",t,!1)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(t,e){try{e=Wt(e)}catch(aw){this._throwError(aw.message,e)}return t.writeValue(e)}},{key:"decode",value:function(t){return Wt(Z(t.readValue().toHexString(),20))}}]),r}(Tl),Nl=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){var n;return(0,g.Z)(this,r),(n=e.call(this,t.name,t.type,void 0,t.dynamic)).coder=t,n}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(t,e){return this.coder.encode(t,e)}},{key:"decode",value:function(t){return this.coder.decode(t)}}]),r}(Tl),Ol=new P(Sl);function Cl(t,e,r){var n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){var i={};n=e.map((function(t){var e=t.localName;return e||Ol.throwError("cannot encode object for signature with missing names",P.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),i[e]&&Ol.throwError("cannot encode object for signature with duplicate names",P.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),i[e]=!0,r[e]}))}else Ol.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Ol.throwArgumentError("types/value length mismatch","tuple",r);var o=new Rl(t.wordSize),a=new Rl(t.wordSize),s=[];e.forEach((function(t,e){var r=n[e];if(t.dynamic){var i=a.length;t.encode(a,r);var u=o.writeUpdatableValue();s.push((function(t){u(t+i)}))}else t.encode(o,r)})),s.forEach((function(t){t(o.length)}));var u=t.appendWriter(o);return u+=t.appendWriter(a)}function Dl(t,e){var r=[],n=t.subReader(0);e.forEach((function(e){var i=null;if(e.dynamic){var o=t.readValue(),a=n.subReader(o.toNumber());try{i=e.decode(a)}catch(aw){if(aw.code===P.errors.BUFFER_OVERRUN)throw aw;(i=aw).baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(aw){if(aw.code===P.errors.BUFFER_OVERRUN)throw aw;(i=aw).baseType=e.name,i.name=e.localName,i.type=e.type}void 0!=i&&r.push(i)}));var i=e.reduce((function(t,e){var r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach((function(t,e){var n=t.localName;if(n&&1===i[n]&&("length"===n&&(n="_length"),null==r[n])){var o=r[e];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:function(){throw o}}):r[n]=o}}));for(var o=function(t){var e=r[t];e instanceof Error&&Object.defineProperty(r,t,{enumerable:!0,get:function(){throw e}})},a=0;a<r.length;a++)o(a);return Object.freeze(r)}var Ll=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n,i){var o;(0,g.Z)(this,r);var a=t.type+"["+(n>=0?n:"")+"]",s=-1===n||t.dynamic;return(o=e.call(this,"array",a,i,s)).coder=t,o.length=n,o}return(0,y.Z)(r,[{key:"defaultValue",value:function(){for(var t=this.coder.defaultValue(),e=[],r=0;r<this.length;r++)e.push(t);return e}},{key:"encode",value:function(t,e){Array.isArray(e)||this._throwError("expected array value",e);var r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),Ol.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var n=[],i=0;i<e.length;i++)n.push(this.coder);return Cl(t,n,e)}},{key:"decode",value:function(t){var e=this.length;-1===e&&32*(e=t.readValue().toNumber())>t._data.length&&Ol.throwError("insufficient data length",P.errors.BUFFER_OVERRUN,{length:t._data.length,count:e});for(var r=[],n=0;n<e;n++)r.push(new Nl(this.coder));return t.coerce(this.name,Dl(t,r))}}]),r}(Tl),Fl=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){return(0,g.Z)(this,r),e.call(this,"bool","bool",t,!1)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(t,e){return t.writeValue(e?1:0)}},{key:"decode",value:function(t){return t.coerce(this.type,!t.readValue().isZero())}}]),r}(Tl),Bl=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){return(0,g.Z)(this,r),e.call(this,t,t,n,!0)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(t,e){e=F(e);var r=t.writeValue(e.length);return r+=t.writeBytes(e)}},{key:"decode",value:function(t){return t.readBytes(t.readValue().toNumber(),!0)}}]),r}(Tl),Ul=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){return(0,g.Z)(this,r),e.call(this,"bytes",t)}return(0,y.Z)(r,[{key:"decode",value:function(t){return t.coerce(this.name,H((0,d.Z)((0,p.Z)(r.prototype),"decode",this).call(this,t)))}}]),r}(Bl),Gl=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;(0,g.Z)(this,r);var o="bytes"+String(t);return(i=e.call(this,o,o,n,!1)).size=t,i}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(t,e){var r=F(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}},{key:"decode",value:function(t){return t.coerce(this.name,H(t.readBytes(this.size)))}}]),r}(Tl),jl=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){return(0,g.Z)(this,r),e.call(this,"null","",t,!1)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}},{key:"decode",value:function(t){return t.readBytes(0),t.coerce(this.name,null)}}]),r}(Tl),zl=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n,i){var o;(0,g.Z)(this,r);var a=(n?"int":"uint")+8*t;return(o=e.call(this,a,a,i,!1)).size=t,o.signed=n,o}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(t,e){var r=it.from(e),n=ye.mask(8*t.wordSize);if(this.signed){var i=n.mask(8*this.size-1);(r.gt(i)||r.lt(i.add(ge).mul(ve)))&&this._throwError("value out-of-bounds",e)}else(r.lt(me)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}},{key:"decode",value:function(t){var e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}]),r}(Tl),Hl=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t){return(0,g.Z)(this,r),e.call(this,"string",t)}return(0,y.Z)(r,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(t,e){return(0,d.Z)((0,p.Z)(r.prototype),"encode",this).call(this,t,Qt(e))}},{key:"decode",value:function(t){return ee((0,d.Z)((0,p.Z)(r.prototype),"decode",this).call(this,t))}}]),r}(Bl),Vl=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(t,n){var i;(0,g.Z)(this,r);var o=!1,a=[];t.forEach((function(t){t.dynamic&&(o=!0),a.push(t.type)}));var s="tuple("+a.join(",")+")";return(i=e.call(this,"tuple",s,n,o)).coders=t,i}return(0,y.Z)(r,[{key:"defaultValue",value:function(){var t=[];this.coders.forEach((function(e){t.push(e.defaultValue())}));var e=this.coders.reduce((function(t,e){var r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach((function(r,n){var i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}},{key:"encode",value:function(t,e){return Cl(t,this.coders,e)}},{key:"decode",value:function(t){return t.coerce(this.name,Dl(t,this.coders))}}]),r}(Tl),Wl=new P(Sl),ql={},Xl={calldata:!0,memory:!0,storage:!0},Zl={calldata:!0,memory:!0};function Kl(t,e){if("bytes"===t||"string"===t){if(Xl[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&Zl[e])return!0;return(Xl[e]||"payable"===e)&&Wl.throwArgumentError("invalid modifier","name",e),!1}function Yl(t,e){for(var r in e)ct(t,r,e[r])}var Jl=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),$l=new RegExp(/^(.*)\[([0-9]*)\]$/),Ql=function(){function t(e,r){(0,g.Z)(this,t),e!==ql&&Wl.throwError("use fromString",P.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Yl(this,r);var n=this.type.match($l);Yl(this,n?{arrayLength:parseInt(n[2]||"-1"),arrayChildren:t.fromObject({type:n[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"format",value:function(t){if(t||(t=Jl.sighash),Jl[t]||Wl.throwArgumentError("invalid format type","format",t),t===Jl.json){var e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((function(e){return JSON.parse(e.format(t))}))),JSON.stringify(e)}var r="";return"array"===this.baseType?(r+=this.arrayChildren.format(t),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==Jl.sighash&&(r+=this.type),r+="("+this.components.map((function(e){return e.format(t)})).join(t===Jl.full?", ":",")+")"):r+=this.type,t!==Jl.sighash&&(!0===this.indexed&&(r+=" indexed"),t===Jl.full&&this.name&&(r+=" "+this.name)),r}}],[{key:"from",value:function(e,r){return"string"===typeof e?t.fromString(e,r):t.fromObject(e)}},{key:"fromObject",value:function(e){return t.isParamType(e)?e:new t(ql,{name:e.name||null,type:hh(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(t.fromObject):null})}},{key:"fromString",value:function(e,r){return n=function(t,e){var r=t;function n(e){Wl.throwArgumentError("unexpected character at position ".concat(e),"param",t)}function i(t){var r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");for(var o={type:"",name:"",state:{allowType:!0}},a=o,s=0;s<t.length;s++){var u=t[s];switch(u){case"(":a.state.allowType&&""===a.type?a.type="tuple":a.state.allowParams||n(s),a.state.allowType=!1,a.type=hh(a.type),a.components=[i(a)],a=a.components[0];break;case")":delete a.state,"indexed"===a.name&&(e||n(s),a.indexed=!0,a.name=""),Kl(a.type,a.name)&&(a.name=""),a.type=hh(a.type);var l=a;(a=a.parent)||n(s),delete l.parent,a.state.allowParams=!1,a.state.allowName=!0,a.state.allowArray=!0;break;case",":delete a.state,"indexed"===a.name&&(e||n(s),a.indexed=!0,a.name=""),Kl(a.type,a.name)&&(a.name=""),a.type=hh(a.type);var h=i(a.parent);a.parent.components.push(h),delete a.parent,a=h;break;case" ":a.state.allowType&&""!==a.type&&(a.type=hh(a.type),delete a.state.allowType,a.state.allowName=!0,a.state.allowParams=!0),a.state.allowName&&""!==a.name&&("indexed"===a.name?(e||n(s),a.indexed&&n(s),a.indexed=!0,a.name=""):Kl(a.type,a.name)?a.name="":a.state.allowName=!1);break;case"[":a.state.allowArray||n(s),a.type+=u,a.state.allowArray=!1,a.state.allowName=!1,a.state.readArray=!0;break;case"]":a.state.readArray||n(s),a.type+=u,a.state.readArray=!1,a.state.allowArray=!0,a.state.allowName=!0;break;default:a.state.allowType?(a.type+=u,a.state.allowParams=!0,a.state.allowArray=!0):a.state.allowName?(a.name+=u,delete a.state.allowArray):a.state.readArray?a.type+=u:n(s)}}return a.parent&&Wl.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===a.name?(e||n(r.length-7),a.indexed&&n(r.length-7),a.indexed=!0,a.name=""):Kl(a.type,a.name)&&(a.name=""),o.type=hh(o.type),o}(e,!!r),t.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components});var n}},{key:"isParamType",value:function(t){return!(null==t||!t._isParamType)}}]),t}();function th(t,e){return function(t){t=t.trim();for(var e=[],r="",n=0,i=0;i<t.length;i++){var o=t[i];","===o&&0===n?(e.push(r),r=""):(r+=o,"("===o?n++:")"===o&&-1===--n&&Wl.throwArgumentError("unbalanced parenthesis","value",t))}r&&e.push(r);return e}(t).map((function(t){return Ql.fromString(t,e)}))}var eh=function(){function t(e,r){(0,g.Z)(this,t),e!==ql&&Wl.throwError("use a static from method",P.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Yl(this,r),this._isFragment=!0,Object.freeze(this)}return(0,y.Z)(t,null,[{key:"from",value:function(e){return t.isFragment(e)?e:"string"===typeof e?t.fromString(e):t.fromObject(e)}},{key:"fromObject",value:function(e){if(t.isFragment(e))return e;switch(e.type){case"function":return sh.fromObject(e);case"event":return rh.fromObject(e);case"constructor":return ah.fromObject(e);case"error":return lh.fromObject(e);case"fallback":case"receive":return null}return Wl.throwArgumentError("invalid fragment object","value",e)}},{key:"fromString",value:function(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?rh.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?sh.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?ah.fromString(t.trim()):"error"===t.split(" ")[0]?lh.fromString(t.substring(5).trim()):Wl.throwArgumentError("unsupported fragment","value",t)}},{key:"isFragment",value:function(t){return!(!t||!t._isFragment)}}]),t}(),rh=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(t){if(t||(t=Jl.sighash),Jl[t]||Wl.throwArgumentError("invalid format type","format",t),t===Jl.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});var e="";return t!==Jl.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((function(e){return e.format(t)})).join(t===Jl.full?", ":",")+") ",t!==Jl.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isEventFragment(t))return t;"event"!==t.type&&Wl.throwArgumentError("invalid event object","value",t);var e={name:fh(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Ql.fromObject):[],type:"event"};return new r(ql,e)}},{key:"fromString",value:function(t){var e=t.match(dh);e||Wl.throwArgumentError("invalid event string","value",t);var n=!1;return e[3].split(" ").forEach((function(t){switch(t.trim()){case"anonymous":n=!0;break;case"":break;default:Wl.warn("unknown modifier: "+t)}})),r.fromObject({name:e[1].trim(),anonymous:n,inputs:th(e[2],!0),type:"event"})}},{key:"isEventFragment",value:function(t){return t&&t._isFragment&&"event"===t.type}}]),r}(eh);function nh(t,e){e.gas=null;var r=t.split("@");return 1!==r.length?(r.length>2&&Wl.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Wl.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=it.from(r[1]),r[0]):t}function ih(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((function(t){switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function oh(t){var e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&Wl.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&Wl.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||Wl.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Wl.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&Wl.throwArgumentError("unable to determine stateMutability","value",t),e}var ah=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(t){if(t||(t=Jl.sighash),Jl[t]||Wl.throwArgumentError("invalid format type","format",t),t===Jl.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});t===Jl.sighash&&Wl.throwError("cannot format a constructor for sighash",P.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var e="constructor("+this.inputs.map((function(e){return e.format(t)})).join(t===Jl.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isConstructorFragment(t))return t;"constructor"!==t.type&&Wl.throwArgumentError("invalid constructor object","value",t);var e=oh(t);e.constant&&Wl.throwArgumentError("constructor cannot be constant","value",t);var n={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Ql.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?it.from(t.gas):null};return new r(ql,n)}},{key:"fromString",value:function(t){var e={type:"constructor"},n=(t=nh(t,e)).match(dh);return n&&"constructor"===n[1].trim()||Wl.throwArgumentError("invalid constructor string","value",t),e.inputs=th(n[2].trim(),!1),ih(n[3].trim(),e),r.fromObject(e)}},{key:"isConstructorFragment",value:function(t){return t&&t._isFragment&&"constructor"===t.type}}]),r}(eh),sh=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(t){if(t||(t=Jl.sighash),Jl[t]||Wl.throwArgumentError("invalid format type","format",t),t===Jl.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))})),outputs:this.outputs.map((function(e){return JSON.parse(e.format(t))}))});var e="";return t!==Jl.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((function(e){return e.format(t)})).join(t===Jl.full?", ":",")+") ",t!==Jl.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((function(e){return e.format(t)})).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isFunctionFragment(t))return t;"function"!==t.type&&Wl.throwArgumentError("invalid function object","value",t);var e=oh(t),n={type:t.type,name:fh(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(Ql.fromObject):[],outputs:t.outputs?t.outputs.map(Ql.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?it.from(t.gas):null};return new r(ql,n)}},{key:"fromString",value:function(t){var e={type:"function"},n=(t=nh(t,e)).split(" returns ");n.length>2&&Wl.throwArgumentError("invalid function string","value",t);var i=n[0].match(dh);if(i||Wl.throwArgumentError("invalid function signature","value",t),e.name=i[1].trim(),e.name&&fh(e.name),e.inputs=th(i[2],!1),ih(i[3].trim(),e),n.length>1){var o=n[1].match(dh);""==o[1].trim()&&""==o[3].trim()||Wl.throwArgumentError("unexpected tokens","value",t),e.outputs=th(o[2],!1)}else e.outputs=[];return r.fromObject(e)}},{key:"isFunctionFragment",value:function(t){return t&&t._isFragment&&"function"===t.type}}]),r}(ah);function uh(t){var e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||Wl.throwArgumentError("cannot specify user defined ".concat(e," error"),"fragment",t),t}var lh=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,[{key:"format",value:function(t){if(t||(t=Jl.sighash),Jl[t]||Wl.throwArgumentError("invalid format type","format",t),t===Jl.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});var e="";return t!==Jl.sighash&&(e+="error "),(e+=this.name+"("+this.inputs.map((function(e){return e.format(t)})).join(t===Jl.full?", ":",")+") ").trim()}}],[{key:"from",value:function(t){return"string"===typeof t?r.fromString(t):r.fromObject(t)}},{key:"fromObject",value:function(t){if(r.isErrorFragment(t))return t;"error"!==t.type&&Wl.throwArgumentError("invalid error object","value",t);var e={type:t.type,name:fh(t.name),inputs:t.inputs?t.inputs.map(Ql.fromObject):[]};return uh(new r(ql,e))}},{key:"fromString",value:function(t){var e={type:"error"},n=t.match(dh);return n||Wl.throwArgumentError("invalid error signature","value",t),e.name=n[1].trim(),e.name&&fh(e.name),e.inputs=th(n[2],!1),uh(r.fromObject(e))}},{key:"isErrorFragment",value:function(t){return t&&t._isFragment&&"error"===t.type}}]),r}(eh);function hh(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}var ch=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function fh(t){return t&&t.match(ch)||Wl.throwArgumentError('invalid identifier "'.concat(t,'"'),"value",t),t}var dh=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");var ph=new P(Sl),vh=new RegExp(/^bytes([0-9]*)$/),mh=new RegExp(/^(u?int)([0-9]*)$/),gh=function(){function t(e){(0,g.Z)(this,t),ph.checkNew(this instanceof t?this.constructor:void 0,t),ct(this,"coerceFunc",e||null)}return(0,y.Z)(t,[{key:"_getCoder",value:function(t){var e=this;switch(t.baseType){case"address":return new Il(t.name);case"bool":return new Fl(t.name);case"string":return new Hl(t.name);case"bytes":return new Ul(t.name);case"array":return new Ll(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Vl((t.components||[]).map((function(t){return e._getCoder(t)})),t.name);case"":return new jl(t.name)}var r=t.type.match(mh);if(r){var n=parseInt(r[2]||"256");return(0===n||n>256||n%8!==0)&&ph.throwArgumentError("invalid "+r[1]+" bit length","param",t),new zl(n/8,"int"===r[1],t.name)}if(r=t.type.match(vh)){var i=parseInt(r[1]);return(0===i||i>32)&&ph.throwArgumentError("invalid bytes length","param",t),new Gl(i,t.name)}return ph.throwArgumentError("invalid type","type",t.type)}},{key:"_getWordSize",value:function(){return 32}},{key:"_getReader",value:function(t,e){return new Pl(t,this._getWordSize(),this.coerceFunc,e)}},{key:"_getWriter",value:function(){return new Rl(this._getWordSize())}},{key:"getDefaultValue",value:function(t){var e=this,r=t.map((function(t){return e._getCoder(Ql.from(t))}));return new Vl(r,"_").defaultValue()}},{key:"encode",value:function(t,e){var r=this;t.length!==e.length&&ph.throwError("types/values length mismatch",P.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});var n=t.map((function(t){return r._getCoder(Ql.from(t))})),i=new Vl(n,"_"),o=this._getWriter();return i.encode(o,e),o.data}},{key:"decode",value:function(t,e,r){var n=this,i=t.map((function(t){return n._getCoder(Ql.from(t))}));return new Vl(i,"_").decode(this._getReader(F(e),r))}}]),t}(),yh=new gh,bh=new P(Sl),_h=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r)}(_t),wh=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r)}(_t),xh=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r)}(_t),Eh=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.apply(this,arguments)}return(0,y.Z)(r,null,[{key:"isIndexed",value:function(t){return!(!t||!t._isIndexed)}}]),r}(_t),Mh={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Sh(t,e){var r=new Error("deferred error during ABI decoding triggered accessing ".concat(t));return r.error=e,r}var Ah=function(){function t(e){var r=this;(0,g.Z)(this,t),bh.checkNew(this instanceof t?this.constructor:void 0,t);ct(this,"fragments",("string"===typeof e?JSON.parse(e):e).map((function(t){return eh.from(t)})).filter((function(t){return null!=t}))),ct(this,"_abiCoder",ft(this instanceof t?this.constructor:void 0,"getAbiCoder")()),ct(this,"functions",{}),ct(this,"errors",{}),ct(this,"events",{}),ct(this,"structs",{}),this.fragments.forEach((function(t){var e=null;switch(t.type){case"constructor":return r.deploy?void bh.warn("duplicate definition - constructor"):void ct(r,"deploy",t);case"function":e=r.functions;break;case"event":e=r.events;break;case"error":e=r.errors;break;default:return}var n=t.format();e[n]?bh.warn("duplicate definition - "+n):e[n]=t})),this.deploy||ct(this,"deploy",ah.from({payable:!1,type:"constructor"})),ct(this,"_isInterface",!0)}return(0,y.Z)(t,[{key:"format",value:function(t){t||(t=Jl.full),t===Jl.sighash&&bh.throwArgumentError("interface does not support formatting sighash","format",t);var e=this.fragments.map((function(e){return e.format(t)}));return t===Jl.json?JSON.stringify(e.map((function(t){return JSON.parse(t)}))):e}},{key:"getFunction",value:function(t){if(j(t)){for(var e in this.functions)if(t===this.getSighash(e))return this.functions[e];bh.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){var r=t.trim(),n=Object.keys(this.functions).filter((function(t){return t.split("(")[0]===r}));return 0===n.length?bh.throwArgumentError("no matching function","name",r):n.length>1&&bh.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]}var i=this.functions[sh.fromString(t).format()];return i||bh.throwArgumentError("no matching function","signature",t),i}},{key:"getEvent",value:function(t){if(j(t)){var e=t.toLowerCase();for(var r in this.events)if(e===this.getEventTopic(r))return this.events[r];bh.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){var n=t.trim(),i=Object.keys(this.events).filter((function(t){return t.split("(")[0]===n}));return 0===i.length?bh.throwArgumentError("no matching event","name",n):i.length>1&&bh.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}var o=this.events[rh.fromString(t).format()];return o||bh.throwArgumentError("no matching event","signature",t),o}},{key:"getError",value:function(t){if(j(t)){var e=ft(this.constructor,"getSighash");for(var r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}bh.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){var n=t.trim(),i=Object.keys(this.errors).filter((function(t){return t.split("(")[0]===n}));return 0===i.length?bh.throwArgumentError("no matching error","name",n):i.length>1&&bh.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}var o=this.errors[sh.fromString(t).format()];return o||bh.throwArgumentError("no matching error","signature",t),o}},{key:"getSighash",value:function(t){if("string"===typeof t)try{t=this.getFunction(t)}catch(aw){try{t=this.getError(t)}catch(e){throw aw}}return ft(this.constructor,"getSighash")(t)}},{key:"getEventTopic",value:function(t){return"string"===typeof t&&(t=this.getEvent(t)),ft(this.constructor,"getEventTopic")(t)}},{key:"_decodeParams",value:function(t,e){return this._abiCoder.decode(t,e)}},{key:"_encodeParams",value:function(t,e){return this._abiCoder.encode(t,e)}},{key:"encodeDeploy",value:function(t){return this._encodeParams(this.deploy.inputs,t||[])}},{key:"decodeErrorResult",value:function(t,e){"string"===typeof t&&(t=this.getError(t));var r=F(e);return H(r.slice(0,4))!==this.getSighash(t)&&bh.throwArgumentError("data signature does not match error ".concat(t.name,"."),"data",H(r)),this._decodeParams(t.inputs,r.slice(4))}},{key:"encodeErrorResult",value:function(t,e){return"string"===typeof t&&(t=this.getError(t)),H(B([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}},{key:"decodeFunctionData",value:function(t,e){"string"===typeof t&&(t=this.getFunction(t));var r=F(e);return H(r.slice(0,4))!==this.getSighash(t)&&bh.throwArgumentError("data signature does not match function ".concat(t.name,"."),"data",H(r)),this._decodeParams(t.inputs,r.slice(4))}},{key:"encodeFunctionData",value:function(t,e){return"string"===typeof t&&(t=this.getFunction(t)),H(B([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}},{key:"decodeFunctionResult",value:function(t,e){"string"===typeof t&&(t=this.getFunction(t));var r=F(e),n=null,i=null,o=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(l){}break;case 4:var s=H(r.slice(0,4)),u=Mh[s];if(u)i=this._abiCoder.decode(u.inputs,r.slice(4)),o=u.name,a=u.signature,u.reason&&(n=i[0]);else try{var l=this.getError(s);i=this._abiCoder.decode(l.inputs,r.slice(4)),o=l.name,a=l.format()}catch(l){}}return bh.throwError("call revert exception",P.errors.CALL_EXCEPTION,{method:t.format(),errorArgs:i,errorName:o,errorSignature:a,reason:n})}},{key:"encodeFunctionResult",value:function(t,e){return"string"===typeof t&&(t=this.getFunction(t)),H(this._abiCoder.encode(t.outputs,e||[]))}},{key:"encodeFilterTopics",value:function(t,e){var r=this;"string"===typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&bh.throwError("too many arguments for "+t.format(),P.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});var n=[];t.anonymous||n.push(this.getEventTopic(t));var i=function(t,e){return"string"===t.type?ne(e):"bytes"===t.type?Tt(H(e)):("address"===t.type&&r._abiCoder.encode(["address"],[e]),Z(H(e),32))};for(e.forEach((function(e,r){var o=t.inputs[r];o.indexed?null==e?n.push(null):"array"===o.baseType||"tuple"===o.baseType?bh.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,e):Array.isArray(e)?n.push(e.map((function(t){return i(o,t)}))):n.push(i(o,e)):null!=e&&bh.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,e)}));n.length&&null===n[n.length-1];)n.pop();return n}},{key:"encodeEventLog",value:function(t,e){var r=this;"string"===typeof t&&(t=this.getEvent(t));var n=[],i=[],o=[];return t.anonymous||n.push(this.getEventTopic(t)),e.length!==t.inputs.length&&bh.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach((function(t,a){var s=e[a];if(t.indexed)if("string"===t.type)n.push(ne(s));else if("bytes"===t.type)n.push(Tt(s));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");n.push(r._abiCoder.encode([t.type],[s]))}else i.push(t),o.push(s)})),{data:this._abiCoder.encode(i,o),topics:n}}},{key:"decodeEventLog",value:function(t,e,r){if("string"===typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){var n=this.getEventTopic(t);j(r[0],32)&&r[0].toLowerCase()===n||bh.throwError("fragment/topic mismatch",P.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1)}var i=[],o=[],a=[];t.inputs.forEach((function(t,e){t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(i.push(Ql.fromObject({type:"bytes32",name:t.name})),a.push(!0)):(i.push(t),a.push(!1)):(o.push(t),a.push(!1))}));var s=null!=r?this._abiCoder.decode(i,B(r)):null,u=this._abiCoder.decode(o,e,!0),l=[],h=0,c=0;t.inputs.forEach((function(t,e){if(t.indexed)if(null==s)l[e]=new Eh({_isIndexed:!0,hash:null});else if(a[e])l[e]=new Eh({_isIndexed:!0,hash:s[c++]});else try{l[e]=s[c++]}catch(aw){l[e]=aw}else try{l[e]=u[h++]}catch(aw){l[e]=aw}if(t.name&&null==l[t.name]){var r=l[e];r instanceof Error?Object.defineProperty(l,t.name,{enumerable:!0,get:function(){throw Sh("property ".concat(JSON.stringify(t.name)),r)}}):l[t.name]=r}}));for(var f=function(t){var e=l[t];e instanceof Error&&Object.defineProperty(l,t,{enumerable:!0,get:function(){throw Sh("index ".concat(t),e)}})},d=0;d<l.length;d++)f(d);return Object.freeze(l)}},{key:"parseTransaction",value:function(t){var e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new wh({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:it.from(t.value||"0")}):null}},{key:"parseLog",value:function(t){var e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new _h({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}},{key:"parseError",value:function(t){var e=H(t),r=this.getError(e.substring(0,10).toLowerCase());return r?new xh({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}}],[{key:"getAbiCoder",value:function(){return yh}},{key:"getAddress",value:function(t){return Wt(t)}},{key:"getSighash",value:function(t){return W(ne(t.format()),0,4)}},{key:"getEventTopic",value:function(t){return ne(t.format())}},{key:"isInterface",value:function(t){return!(!t||!t._isInterface)}}]),t}(),kh=new P("bytes/5.6.1");function Th(t){return!!t.toHexString}function Rh(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return Rh(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ph(t){return Dh(t)&&!(t.length%2)||Nh(t)}function Ih(t){return"number"===typeof t&&t==t&&t%1===0}function Nh(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Ih(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!Ih(r)||r<0||r>=256)return!1}return!0}function Oh(t,e){if(e||(e={}),"number"===typeof t){kh.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),Rh(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Th(t)&&(t=t.toHexString()),Dh(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":kh.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Rh(new Uint8Array(i))}return Nh(t)?Rh(new Uint8Array(t)):kh.throwArgumentError("invalid arrayify value","value",t)}function Ch(t){var e=t.map((function(t){return Oh(t)})),r=e.reduce((function(t,e){return t+e.length}),0),n=new Uint8Array(r);return e.reduce((function(t,e){return n.set(e,t),t+e.length}),0),Rh(n)}function Dh(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var Lh="0123456789abcdef";function Fh(t,e){if(e||(e={}),"number"===typeof t){kh.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=Lh[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Th(t))return t.toHexString();if(Dh(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":kh.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Nh(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=Lh[(240&o)>>4]+Lh[15&o]}return n}return kh.throwArgumentError("invalid hexlify value","value",t)}function Bh(t){if("string"!==typeof t)t=Fh(t);else if(!Dh(t)||t.length%2)return null;return(t.length-2)/2}function Uh(t,e,r){return"string"!==typeof t?t=Fh(t):(!Dh(t)||t.length%2)&&kh.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}var Gh=r(11525),jh=r.n(Gh)().BN,zh=new P("bignumber/5.6.2"),Hh={},Vh=9007199254740991;var Wh=!1,qh=function(){function t(e,r){(0,g.Z)(this,t),e!==Hh&&zh.throwError("cannot call constructor directly; use BigNumber.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"fromTwos",value:function(t){return Zh(Kh(this).fromTwos(t))}},{key:"toTwos",value:function(t){return Zh(Kh(this).toTwos(t))}},{key:"abs",value:function(){return"-"===this._hex[0]?t.from(this._hex.substring(1)):this}},{key:"add",value:function(t){return Zh(Kh(this).add(Kh(t)))}},{key:"sub",value:function(t){return Zh(Kh(this).sub(Kh(t)))}},{key:"div",value:function(e){return t.from(e).isZero()&&Yh("division-by-zero","div"),Zh(Kh(this).div(Kh(e)))}},{key:"mul",value:function(t){return Zh(Kh(this).mul(Kh(t)))}},{key:"mod",value:function(t){var e=Kh(t);return e.isNeg()&&Yh("division-by-zero","mod"),Zh(Kh(this).umod(e))}},{key:"pow",value:function(t){var e=Kh(t);return e.isNeg()&&Yh("negative-power","pow"),Zh(Kh(this).pow(e))}},{key:"and",value:function(t){var e=Kh(t);return(this.isNegative()||e.isNeg())&&Yh("unbound-bitwise-result","and"),Zh(Kh(this).and(e))}},{key:"or",value:function(t){var e=Kh(t);return(this.isNegative()||e.isNeg())&&Yh("unbound-bitwise-result","or"),Zh(Kh(this).or(e))}},{key:"xor",value:function(t){var e=Kh(t);return(this.isNegative()||e.isNeg())&&Yh("unbound-bitwise-result","xor"),Zh(Kh(this).xor(e))}},{key:"mask",value:function(t){return(this.isNegative()||t<0)&&Yh("negative-width","mask"),Zh(Kh(this).maskn(t))}},{key:"shl",value:function(t){return(this.isNegative()||t<0)&&Yh("negative-width","shl"),Zh(Kh(this).shln(t))}},{key:"shr",value:function(t){return(this.isNegative()||t<0)&&Yh("negative-width","shr"),Zh(Kh(this).shrn(t))}},{key:"eq",value:function(t){return Kh(this).eq(Kh(t))}},{key:"lt",value:function(t){return Kh(this).lt(Kh(t))}},{key:"lte",value:function(t){return Kh(this).lte(Kh(t))}},{key:"gt",value:function(t){return Kh(this).gt(Kh(t))}},{key:"gte",value:function(t){return Kh(this).gte(Kh(t))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return Kh(this).isZero()}},{key:"toNumber",value:function(){try{return Kh(this).toNumber()}catch(aw){Yh("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(t){}return zh.throwError("this platform does not support BigInt",P.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Wh||(Wh=!0,zh.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?zh.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",P.errors.UNEXPECTED_ARGUMENT,{}):zh.throwError("BigNumber.toString does not accept parameters",P.errors.UNEXPECTED_ARGUMENT,{})),Kh(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(t){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(e){if(e instanceof t)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new t(Hh,Xh(e)):e.match(/^-?[0-9]+$/)?new t(Hh,Xh(new jh(e))):zh.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&Yh("underflow","BigNumber.from",e),(e>=Vh||e<=-9007199254740991)&&Yh("overflow","BigNumber.from",e),t.from(String(e));var r=e;if("bigint"===typeof r)return t.from(r.toString());if(Nh(r))return t.from(Fh(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"===typeof n)return t.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"===typeof i&&(Dh(i)||"-"===i[0]&&Dh(i.substring(1))))return t.from(i)}return zh.throwArgumentError("invalid BigNumber value","value",e)}},{key:"isBigNumber",value:function(t){return!(!t||!t._isBigNumber)}}]),t}();function Xh(t){if("string"!==typeof t)return Xh(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&zh.throwArgumentError("invalid hex","value",t),"0x00"===(t=Xh(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Zh(t){return qh.from(Xh(t))}function Kh(t){var e=qh.from(t).toHexString();return"-"===e[0]?new jh("-"+e.substring(3),16):new jh(e.substring(2),16)}function Yh(t,e,r){var n={fault:t,operation:e};return null!=r&&(n.value=r),zh.throwError(t,P.errors.NUMERIC_FAULT,n)}function Jh(t){return"0x"+kt().keccak_256(Oh(t))}var $h=new P("rlp/5.6.1");function Qh(t){for(var e=[];t;)e.unshift(255&t),t>>=8;return e}function tc(t){if(Array.isArray(t)){var e=[];if(t.forEach((function(t){e=e.concat(tc(t))})),e.length<=55)return e.unshift(192+e.length),e;var r=Qh(e.length);return r.unshift(247+r.length),r.concat(e)}Ph(t)||$h.throwArgumentError("RLP object must be BytesLike","object",t);var n=Array.prototype.slice.call(Oh(t));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=Qh(n.length);return i.unshift(183+i.length),i.concat(n)}function ec(t){return Fh(tc(t))}var rc=new P("address/5.6.0");function nc(t){Dh(t,20)||rc.throwArgumentError("invalid address","address",t);for(var e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=e[n].charCodeAt(0);for(var i=Oh(Jh(r)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(15&i[o>>1])>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}for(var ic={},oc=0;oc<10;oc++)ic[String(oc)]=String(oc);for(var ac=0;ac<26;ac++)ic[String.fromCharCode(65+ac)]=String(10+ac);var sc=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function uc(t){for(var e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((function(t){return ic[t]})).join("");e.length>=sc;){var r=e.substring(0,sc);e=parseInt(r,10)%97+e.substring(r.length)}for(var n=String(98-parseInt(e,10)%97);n.length<2;)n="0"+n;return n}function lc(t){var e,r=null;if("string"!==typeof t&&rc.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),r=nc(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&r!==t&&rc.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==uc(t)&&rc.throwArgumentError("bad icap checksum","address",t),e=t.substring(4),r=new jh(e,36).toString(16);r.length<40;)r="0"+r;r=nc("0x"+r)}else rc.throwArgumentError("invalid address","address",t);return r}function hc(t){try{return lc(t),!0}catch(aw){}return!1}function cc(t){for(var e,r=(e=lc(t).substring(2),new jh(e,16).toString(36)).toUpperCase();r.length<30;)r="0"+r;return"XE"+uc("XE00"+r)+r}function fc(t){var e=null;try{e=lc(t.from)}catch(aw){rc.throwArgumentError("missing from address","transaction",t)}return lc(Uh(Jh(ec([e,function(t){var e=Oh(t);if(0===e.length)return e;for(var r=0;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}(Oh(qh.from(t.nonce).toHexString()))])),12))}function dc(t,e,r){return 32!==Bh(e)&&rc.throwArgumentError("salt must be 32 bytes","salt",e),32!==Bh(r)&&rc.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),lc(Uh(Jh(Ch(["0xff",lc(t),e,r])),12))}var pc=new P("bytes/5.6.1");function vc(t){return!!t.toHexString}function mc(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return mc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function gc(t){return"number"===typeof t&&t==t&&t%1===0}function yc(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!gc(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!gc(r)||r<0||r>=256)return!1}return!0}function bc(t,e){if(e||(e={}),"number"===typeof t){pc.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),mc(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),vc(t)&&(t=t.toHexString()),_c(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":pc.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return mc(new Uint8Array(i))}return yc(t)?mc(new Uint8Array(t)):pc.throwArgumentError("invalid arrayify value","value",t)}function _c(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function wc(t){t=atob(t);for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r));return bc(e)}function xc(t){t=bc(t);for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var Ec=new P("bytes/5.6.1");function Mc(t){return!!t.toHexString}function Sc(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return Sc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ac(t){return"number"===typeof t&&t==t&&t%1===0}function kc(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Ac(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!Ac(r)||r<0||r>=256)return!1}return!0}function Tc(t,e){if(e||(e={}),"number"===typeof t){Ec.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),Sc(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Mc(t)&&(t=t.toHexString()),Rc(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":Ec.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Sc(new Uint8Array(i))}return kc(t)?Sc(new Uint8Array(t)):Ec.throwArgumentError("invalid arrayify value","value",t)}function Rc(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var Pc=function(){function t(e){(0,g.Z)(this,t),ct(this,"alphabet",e),ct(this,"base",e.length),ct(this,"_alphabetMap",{}),ct(this,"_leader",e.charAt(0));for(var r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}return(0,y.Z)(t,[{key:"encode",value:function(t){var e=Tc(t);if(0===e.length)return"";for(var r=[0],n=0;n<e.length;++n){for(var i=e[n],o=0;o<r.length;++o)i+=r[o]<<8,r[o]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}for(var a="",s=0;0===e[s]&&s<e.length-1;++s)a+=this._leader;for(var u=r.length-1;u>=0;--u)a+=this.alphabet[r[u]];return a}},{key:"decode",value:function(t){if("string"!==typeof t)throw new TypeError("Expected String");var e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(var r=0;r<t.length;r++){var n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,o=0;o<e.length;++o)i+=e[o]*this.base,e[o]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(var a=0;t[a]===this._leader&&a<t.length-1;++a)e.push(0);return Tc(new Uint8Array(e.reverse()))}}]),t}(),Ic=(new Pc("abcdefghijklmnopqrstuvwxyz234567"),new Pc("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Nc=new P("bytes/5.6.0");function Oc(t){return!!t.toHexString}function Cc(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return Cc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Dc(t){return zc(t)&&!(t.length%2)||Fc(t)}function Lc(t){return"number"===typeof t&&t==t&&t%1===0}function Fc(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Lc(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!Lc(r)||r<0||r>=256)return!1}return!0}function Bc(t,e){if(e||(e={}),"number"===typeof t){Nc.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),Cc(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Oc(t)&&(t=t.toHexString()),zc(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0x0"+n.substring(2):"right"===e.hexPad?n+="0":Nc.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Cc(new Uint8Array(i))}return Fc(t)?Cc(new Uint8Array(t)):Nc.throwArgumentError("invalid arrayify value","value",t)}function Uc(t){var e=t.map((function(t){return Bc(t)})),r=e.reduce((function(t,e){return t+e.length}),0),n=new Uint8Array(r);return e.reduce((function(t,e){return n.set(e,t),t+e.length}),0),Cc(n)}function Gc(t){var e=Bc(t);if(0===e.length)return e;for(var r=0;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function jc(t,e){(t=Bc(t)).length>e&&Nc.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(e);return r.set(t,e-t.length),Cc(r)}function zc(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var Hc="0123456789abcdef";function Vc(t,e){if(e||(e={}),"number"===typeof t){Nc.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=Hc[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Oc(t))return t.toHexString();if(zc(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Nc.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Fc(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=Hc[(240&o)>>4]+Hc[15&o]}return n}return Nc.throwArgumentError("invalid hexlify value","value",t)}function Wc(t){if("string"!==typeof t)t=Vc(t);else if(!zc(t)||t.length%2)return null;return(t.length-2)/2}function qc(t,e,r){return"string"!==typeof t?t=Vc(t):(!zc(t)||t.length%2)&&Nc.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Xc(t){var e="0x";return t.forEach((function(t){e+=Vc(t).substring(2)})),e}function Zc(t){var e=Kc(Vc(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function Kc(t){"string"!==typeof t&&(t=Vc(t)),zc(t)||Nc.throwArgumentError("invalid hex string","value",t),t=t.substring(2);for(var e=0;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}function Yc(t,e){for("string"!==typeof t?t=Vc(t):zc(t)||Nc.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Nc.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Jc(t){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Dc(t)){var r=Bc(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Vc(r.slice(0,32)),e.s=Vc(r.slice(32,64))):65===r.length?(e.r=Vc(r.slice(0,32)),e.s=Vc(r.slice(32,64)),e.v=r[64]):Nc.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Nc.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Vc(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){var n=jc(Bc(e._vs),32);e._vs=Vc(n);var i=n[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=i:e.recoveryParam!==i&&Nc.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),n[0]&=127;var o=Vc(n);null==e.s?e.s=o:e.s!==o&&Nc.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Nc.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{var a=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==a&&Nc.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&zc(e.r)?e.r=Yc(e.r,32):Nc.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&zc(e.s)?e.s=Yc(e.s,32):Nc.throwArgumentError("signature missing or invalid s","signature",t);var s=Bc(e.s);s[0]>=128&&Nc.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(s[0]|=128);var u=Vc(s);e._vs&&(zc(e._vs)||Nc.throwArgumentError("signature invalid _vs","signature",t),e._vs=Yc(e._vs,32)),null==e._vs?e._vs=u:e._vs!==u&&Nc.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function $c(t){return Vc(Uc([(t=Jc(t)).r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}var Qc=new P("bytes/5.6.1");function tf(t){return!!t.toHexString}function ef(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return ef(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function rf(t){return"number"===typeof t&&t==t&&t%1===0}function nf(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!rf(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!rf(r)||r<0||r>=256)return!1}return!0}function of(t,e){if(e||(e={}),"number"===typeof t){Qc.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),ef(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),tf(t)&&(t=t.toHexString()),sf(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":Qc.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return ef(new Uint8Array(i))}return nf(t)?ef(new Uint8Array(t)):Qc.throwArgumentError("invalid arrayify value","value",t)}function af(t){var e=t.map((function(t){return of(t)})),r=e.reduce((function(t,e){return t+e.length}),0),n=new Uint8Array(r);return e.reduce((function(t,e){return n.set(e,t),t+e.length}),0),ef(n)}function sf(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var uf="0123456789abcdef";function lf(t,e){if(e||(e={}),"number"===typeof t){Qc.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=uf[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),tf(t))return t.toHexString();if(sf(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Qc.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(nf(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=uf[(240&o)>>4]+uf[15&o]}return n}return Qc.throwArgumentError("invalid hexlify value","value",t)}function hf(t){var e="0x";return t.forEach((function(t){e+=lf(t).substring(2)})),e}function cf(t,e){for("string"!==typeof t?t=lf(t):sf(t)||Qc.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Qc.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var ff,df,pf=new P("strings/5.6.1");function vf(t,e,r,n,i){if(t===df.BAD_PREFIX||t===df.UNEXPECTED_CONTINUE){for(var o=0,a=e+1;a<r.length&&r[a]>>6===2;a++)o++;return o}return t===df.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(ff||(ff={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(df||(df={}));var mf=Object.freeze({error:function(t,e,r,n,i){return pf.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:vf,replace:function(t,e,r,n,i){return t===df.OVERLONG?(n.push(i),0):(n.push(65533),vf(t,e,r))}});function gf(t,e){null==e&&(e=mf.error),t=of(t);for(var r=[],n=0;n<t.length;){var i=t[n++];if(i>>7!==0){var o=null,a=null;if(192===(224&i))o=1,a=127;else if(224===(240&i))o=2,a=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?df.UNEXPECTED_CONTINUE:df.BAD_PREFIX,n-1,t,r);continue}o=3,a=65535}if(n-1+o>=t.length)n+=e(df.OVERRUN,n-1,t,r);else{for(var s=i&(1<<8-o-1)-1,u=0;u<o;u++){var l=t[n];if(128!=(192&l)){n+=e(df.MISSING_CONTINUE,n,t,r),s=null;break}s=s<<6|63&l,n++}null!==s&&(s>1114111?n+=e(df.OUT_OF_RANGE,n-1-o,t,r,s):s>=55296&&s<=57343?n+=e(df.UTF16_SURROGATE,n-1-o,t,r,s):s<=a?n+=e(df.OVERLONG,n-1-o,t,r,s):r.push(s))}}else r.push(i)}return r}function yf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ff.current;e!=ff.current&&(pf.checkNormalize(),t=t.normalize(e));for(var r=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var o=t.charCodeAt(n);if(n>=t.length||56320!==(64512&o))throw new Error("invalid utf-8 string");var a=65536+((1023&i)<<10)+(1023&o);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return of(r)}function bf(t){return t.map((function(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t)))})).join("")}function _f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ff.current;return gf(yf(t,e))}function wf(t,e){e||(e=function(t){return[parseInt(t,16)]});var r=0,n={};return t.split(",").forEach((function(t){var i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function xf(t){var e=0;return t.split(",").map((function(t){var r=t.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:e+parseInt(r[0],16),h:e=parseInt(r[1],16)}}))}function Ef(t,e){for(var r=0,n=0;n<e.length;n++){var i=e[n];if(t>=(r+=i.l)&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}var Mf=xf("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Sf="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((function(t){return parseInt(t,16)})),Af=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],kf=wf("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Tf=wf("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Rf=wf("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!==0)throw new Error("bad data");for(var e=[],r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Pf=xf("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function If(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();var e,r=_f(t);e=r.map((function(t){if(Sf.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];var e=function(t){var e=Ef(t,Af);if(e)return[t+e.s];var r=kf[t];if(r)return r;var n=Tf[t];return n?[t+n[0]]:Rf[t]||null}(t);return e||[t]})),r=e.reduce((function(t,e){return e.forEach((function(e){t.push(e)})),t}),[]),(r=_f(bf(r),ff.NFKC)).forEach((function(t){if(Ef(t,Pf))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),r.forEach((function(t){if(Ef(t,Mf))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));var n=bf(r);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}function Nf(t){return"0x"+kt().keccak_256(of(t))}var Of="hash/5.6.0",Cf=new P(Of),Df=new Uint8Array(32);Df.fill(0);var Lf=new RegExp("^((.*)\\.)?([^.]+)$");function Ff(t){try{for(var e=t.split("."),r=0;r<e.length;r++)if(0===If(e[r]).length)throw new Error("empty");return!0}catch(aw){}return!1}function Bf(t){"string"!==typeof t&&Cf.throwArgumentError("invalid ENS name; not a string","name",t);for(var e=t,r=Df;e.length;){var n=e.match(Lf);null!=n&&""!==n[2]||Cf.throwArgumentError("invalid ENS address; missing component","name",t),r=Nf(af([r,Nf(yf(If(n[3])))])),e=n[2]||""}return lf(r)}function Uf(t){return lf(af(t.split(".").map((function(t){var e=yf("_"+If(t));return e[0]=e.length-1,e}))))+"00"}function Gf(t){return"string"===typeof t&&(t=yf(t)),Nf(af([yf("\x19Ethereum Signed Message:\n"),yf(String(t.length)),t]))}function jf(t){return Nf(yf(t))}var zf=r(37170),Hf=r.n(zf)().BN,Vf=new P("bignumber/5.6.2"),Wf={},qf=9007199254740991;var Xf=!1,Zf=function(){function t(e,r){(0,g.Z)(this,t),e!==Wf&&Vf.throwError("cannot call constructor directly; use BigNumber.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"fromTwos",value:function(t){return Yf(Jf(this).fromTwos(t))}},{key:"toTwos",value:function(t){return Yf(Jf(this).toTwos(t))}},{key:"abs",value:function(){return"-"===this._hex[0]?t.from(this._hex.substring(1)):this}},{key:"add",value:function(t){return Yf(Jf(this).add(Jf(t)))}},{key:"sub",value:function(t){return Yf(Jf(this).sub(Jf(t)))}},{key:"div",value:function(e){return t.from(e).isZero()&&$f("division-by-zero","div"),Yf(Jf(this).div(Jf(e)))}},{key:"mul",value:function(t){return Yf(Jf(this).mul(Jf(t)))}},{key:"mod",value:function(t){var e=Jf(t);return e.isNeg()&&$f("division-by-zero","mod"),Yf(Jf(this).umod(e))}},{key:"pow",value:function(t){var e=Jf(t);return e.isNeg()&&$f("negative-power","pow"),Yf(Jf(this).pow(e))}},{key:"and",value:function(t){var e=Jf(t);return(this.isNegative()||e.isNeg())&&$f("unbound-bitwise-result","and"),Yf(Jf(this).and(e))}},{key:"or",value:function(t){var e=Jf(t);return(this.isNegative()||e.isNeg())&&$f("unbound-bitwise-result","or"),Yf(Jf(this).or(e))}},{key:"xor",value:function(t){var e=Jf(t);return(this.isNegative()||e.isNeg())&&$f("unbound-bitwise-result","xor"),Yf(Jf(this).xor(e))}},{key:"mask",value:function(t){return(this.isNegative()||t<0)&&$f("negative-width","mask"),Yf(Jf(this).maskn(t))}},{key:"shl",value:function(t){return(this.isNegative()||t<0)&&$f("negative-width","shl"),Yf(Jf(this).shln(t))}},{key:"shr",value:function(t){return(this.isNegative()||t<0)&&$f("negative-width","shr"),Yf(Jf(this).shrn(t))}},{key:"eq",value:function(t){return Jf(this).eq(Jf(t))}},{key:"lt",value:function(t){return Jf(this).lt(Jf(t))}},{key:"lte",value:function(t){return Jf(this).lte(Jf(t))}},{key:"gt",value:function(t){return Jf(this).gt(Jf(t))}},{key:"gte",value:function(t){return Jf(this).gte(Jf(t))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return Jf(this).isZero()}},{key:"toNumber",value:function(){try{return Jf(this).toNumber()}catch(aw){$f("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(t){}return Vf.throwError("this platform does not support BigInt",P.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Xf||(Xf=!0,Vf.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Vf.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",P.errors.UNEXPECTED_ARGUMENT,{}):Vf.throwError("BigNumber.toString does not accept parameters",P.errors.UNEXPECTED_ARGUMENT,{})),Jf(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(t){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(e){if(e instanceof t)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new t(Wf,Kf(e)):e.match(/^-?[0-9]+$/)?new t(Wf,Kf(new Hf(e))):Vf.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&$f("underflow","BigNumber.from",e),(e>=qf||e<=-9007199254740991)&&$f("overflow","BigNumber.from",e),t.from(String(e));var r=e;if("bigint"===typeof r)return t.from(r.toString());if(nf(r))return t.from(lf(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"===typeof n)return t.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"===typeof i&&(sf(i)||"-"===i[0]&&sf(i.substring(1))))return t.from(i)}return Vf.throwArgumentError("invalid BigNumber value","value",e)}},{key:"isBigNumber",value:function(t){return!(!t||!t._isBigNumber)}}]),t}();function Kf(t){if("string"!==typeof t)return Kf(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Vf.throwArgumentError("invalid hex","value",t),"0x00"===(t=Kf(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Yf(t){return Zf.from(Kf(t))}function Jf(t){var e=Zf.from(t).toHexString();return"-"===e[0]?new Hf("-"+e.substring(3),16):new Hf(e.substring(2),16)}function $f(t,e,r){var n={fault:t,operation:e};return null!=r&&(n.value=r),Vf.throwError(t,P.errors.NUMERIC_FAULT,n)}var Qf=new P("address/5.6.1");function td(t){sf(t,20)||Qf.throwArgumentError("invalid address","address",t);for(var e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=e[n].charCodeAt(0);for(var i=of(Nf(r)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(15&i[o>>1])>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}for(var ed={},rd=0;rd<10;rd++)ed[String(rd)]=String(rd);for(var nd=0;nd<26;nd++)ed[String.fromCharCode(65+nd)]=String(10+nd);var id=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function od(t){for(var e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((function(t){return ed[t]})).join("");e.length>=id;){var r=e.substring(0,id);e=parseInt(r,10)%97+e.substring(r.length)}for(var n=String(98-parseInt(e,10)%97);n.length<2;)n="0"+n;return n}function ad(t){var e,r=null;if("string"!==typeof t&&Qf.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),r=td(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&r!==t&&Qf.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==od(t)&&Qf.throwArgumentError("bad icap checksum","address",t),e=t.substring(4),r=new Hf(e,36).toString(16);r.length<40;)r="0"+r;r=td("0x"+r)}else Qf.throwArgumentError("invalid address","address",t);return r}var sd=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},ud=new P(Of),ld=new Uint8Array(32);ld.fill(0);var hd=Zf.from(-1),cd=Zf.from(0),fd=Zf.from(1),dd=Zf.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var pd=cf(fd.toHexString(),32),vd=cf(cd.toHexString(),32),md={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},gd=["name","version","chainId","verifyingContract","salt"];function yd(t){return function(e){return"string"!==typeof e&&ud.throwArgumentError("invalid domain value for ".concat(JSON.stringify(t)),"domain.".concat(t),e),e}}var bd={name:yd("name"),version:yd("version"),chainId:function(t){try{return Zf.from(t).toString()}catch(aw){}return ud.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return ad(t).toLowerCase()}catch(aw){}return ud.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{var e=of(t);if(32!==e.length)throw new Error("bad length");return lf(e)}catch(aw){}return ud.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function _d(t){var e=t.match(/^(u?)int(\d*)$/);if(e){var r=""===e[1],n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&ud.throwArgumentError("invalid numeric width","type",t);var i=dd.mask(r?n-1:n),o=r?i.add(fd).mul(hd):cd;return function(e){var r=Zf.from(e);return(r.lt(o)||r.gt(i))&&ud.throwArgumentError("value out-of-bounds for ".concat(t),"value",e),cf(r.toTwos(256).toHexString(),32)}}var a=t.match(/^bytes(\d+)$/);if(a){var s=parseInt(a[1]);return(0===s||s>32||a[1]!==String(s))&&ud.throwArgumentError("invalid bytes width","type",t),function(e){return of(e).length!==s&&ud.throwArgumentError("invalid length for ".concat(t),"value",e),function(t){var e=of(t),r=e.length%32;return r?hf([e,ld.slice(r)]):lf(e)}(e)}}switch(t){case"address":return function(t){return cf(ad(t),32)};case"bool":return function(t){return t?pd:vd};case"bytes":return function(t){return Nf(t)};case"string":return function(t){return jf(t)}}return null}function wd(t,e){return"".concat(t,"(").concat(e.map((function(t){var e=t.name;return t.type+" "+e})).join(","),")")}var xd=function(){function t(e){(0,g.Z)(this,t),ct(this,"types",Object.freeze(bt(e))),ct(this,"_encoderCache",{}),ct(this,"_types",{});var r={},n={},i={};Object.keys(e).forEach((function(t){r[t]={},n[t]=[],i[t]={}}));var o=function(t){var i={};e[t].forEach((function(o){i[o.name]&&ud.throwArgumentError("duplicate variable name ".concat(JSON.stringify(o.name)," in ").concat(JSON.stringify(t)),"types",e),i[o.name]=!0;var a=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];a===t&&ud.throwArgumentError("circular type reference to ".concat(JSON.stringify(a)),"types",e),_d(a)||(n[a]||ud.throwArgumentError("unknown type ".concat(JSON.stringify(a)),"types",e),n[a].push(t),r[t][a]=!0)}))};for(var a in e)o(a);var s=Object.keys(n).filter((function(t){return 0===n[t].length}));for(var u in 0===s.length?ud.throwArgumentError("missing primary type","types",e):s.length>1&&ud.throwArgumentError("ambiguous primary types or unused types: ".concat(s.map((function(t){return JSON.stringify(t)})).join(", ")),"types",e),ct(this,"primaryType",s[0]),function t(o,a){a[o]&&ud.throwArgumentError("circular type reference to ".concat(JSON.stringify(o)),"types",e),a[o]=!0,Object.keys(r[o]).forEach((function(e){n[e]&&(t(e,a),Object.keys(a).forEach((function(t){i[t][e]=!0})))})),delete a[o]}(this.primaryType,{}),i){var l=Object.keys(i[u]);l.sort(),this._types[u]=wd(u,e[u])+l.map((function(t){return wd(t,e[t])})).join("")}}return(0,y.Z)(t,[{key:"getEncoder",value:function(t){var e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}},{key:"_getEncoder",value:function(t){var e=this,r=_d(t);if(r)return r;var n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){var i=n[1],o=this.getEncoder(i),a=parseInt(n[3]);return function(t){a>=0&&t.length!==a&&ud.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);var r=t.map(o);return e._types[i]&&(r=r.map(Nf)),Nf(hf(r))}}var s=this.types[t];if(s){var u=jf(this._types[t]);return function(t){var r=s.map((function(r){var n=r.name,i=r.type,o=e.getEncoder(i)(t[n]);return e._types[i]?Nf(o):o}));return r.unshift(u),hf(r)}}return ud.throwArgumentError("unknown type: ".concat(t),"type",t)}},{key:"encodeType",value:function(t){var e=this._types[t];return e||ud.throwArgumentError("unknown type: ".concat(JSON.stringify(t)),"name",t),e}},{key:"encodeData",value:function(t,e){return this.getEncoder(t)(e)}},{key:"hashStruct",value:function(t,e){return Nf(this.encodeData(t,e))}},{key:"encode",value:function(t){return this.encodeData(this.primaryType,t)}},{key:"hash",value:function(t){return this.hashStruct(this.primaryType,t)}},{key:"_visit",value:function(t,e,r){var n=this;if(_d(t))return r(t,e);var i=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){var o=i[1],a=parseInt(i[3]);return a>=0&&e.length!==a&&ud.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((function(t){return n._visit(o,t,r)}))}var s=this.types[t];return s?s.reduce((function(t,i){var o=i.name,a=i.type;return t[o]=n._visit(a,e[o],r),t}),{}):ud.throwArgumentError("unknown type: ".concat(t),"type",t)}},{key:"visit",value:function(t,e){return this._visit(this.primaryType,t,e)}}],[{key:"from",value:function(e){return new t(e)}},{key:"getPrimaryType",value:function(e){return t.from(e).primaryType}},{key:"hashStruct",value:function(e,r,n){return t.from(r).hashStruct(e,n)}},{key:"hashDomain",value:function(e){var r=[];for(var n in e){var i=md[n];i||ud.throwArgumentError("invalid typed-data domain key: ".concat(JSON.stringify(n)),"domain",e),r.push({name:n,type:i})}return r.sort((function(t,e){return gd.indexOf(t.name)-gd.indexOf(e.name)})),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)}},{key:"encode",value:function(e,r,n){return hf(["0x1901",t.hashDomain(e),t.from(r).hash(n)])}},{key:"hash",value:function(e,r,n){return Nf(t.encode(e,r,n))}},{key:"resolveNames",value:function(e,r,n,i){return sd(this,void 0,void 0,_().mark((function o(){var a,s,u;return _().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e=vt(e),a={},e.verifyingContract&&!sf(e.verifyingContract,20)&&(a[e.verifyingContract]="0x"),(s=t.from(r)).visit(n,(function(t,e){return"address"!==t||sf(e,20)||(a[e]="0x"),e})),o.t0=_().keys(a);case 6:if((o.t1=o.t0()).done){o.next=13;break}return u=o.t1.value,o.next=10,i(u);case 10:a[u]=o.sent,o.next=6;break;case 13:return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),n=s.visit(n,(function(t,e){return"address"===t&&a[e]?a[e]:e})),o.abrupt("return",{domain:e,value:n});case 16:case"end":return o.stop()}}),o)})))}},{key:"getPayload",value:function(e,r,n){t.hashDomain(e);var i={},o=[];gd.forEach((function(t){var r=e[t];null!=r&&(i[t]=bd[t](r),o.push({name:t,type:md[t]}))}));var a=t.from(r),s=vt(r);return s.EIP712Domain?ud.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):s.EIP712Domain=o,a.encode(n),{types:s,domain:i,primaryType:a.primaryType,message:a.visit(n,(function(t,e){if(t.match(/^bytes(\d*)/))return lf(of(e));if(t.match(/^u?int/))return Zf.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!==typeof e&&ud.throwArgumentError("invalid string","value",e),e}return ud.throwArgumentError("unsupported type","type",t)}))}}}]),t}(),Ed=new P("bytes/5.6.1");function Md(t){return!!t.toHexString}function Sd(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return Sd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ad(t){return"number"===typeof t&&t==t&&t%1===0}function kd(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Ad(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!Ad(r)||r<0||r>=256)return!1}return!0}function Td(t,e){if(e||(e={}),"number"===typeof t){Ed.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),Sd(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Md(t)&&(t=t.toHexString()),Pd(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":Ed.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Sd(new Uint8Array(i))}return kd(t)?Sd(new Uint8Array(t)):Ed.throwArgumentError("invalid arrayify value","value",t)}function Rd(t){var e=t.map((function(t){return Td(t)})),r=e.reduce((function(t,e){return t+e.length}),0),n=new Uint8Array(r);return e.reduce((function(t,e){return n.set(e,t),t+e.length}),0),Sd(n)}function Pd(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var Id="0123456789abcdef";function Nd(t,e){if(e||(e={}),"number"===typeof t){Ed.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=Id[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Md(t))return t.toHexString();if(Pd(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Ed.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(kd(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=Id[(240&o)>>4]+Id[15&o]}return n}return Ed.throwArgumentError("invalid hexlify value","value",t)}function Od(t,e,r){return"string"!==typeof t?t=Nd(t):(!Pd(t)||t.length%2)&&Ed.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Cd(t,e){for("string"!==typeof t?t=Nd(t):Pd(t)||Ed.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Ed.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Dd(t){var e,r={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Pd(e=t)&&!(e.length%2)||kd(e)){var n=Td(t);64===n.length?(r.v=27+(n[32]>>7),n[32]&=127,r.r=Nd(n.slice(0,32)),r.s=Nd(n.slice(32,64))):65===n.length?(r.r=Nd(n.slice(0,32)),r.s=Nd(n.slice(32,64)),r.v=n[64]):Ed.throwArgumentError("invalid signature string","signature",t),r.v<27&&(0===r.v||1===r.v?r.v+=27:Ed.throwArgumentError("signature invalid v byte","signature",t)),r.recoveryParam=1-r.v%2,r.recoveryParam&&(n[32]|=128),r._vs=Nd(n.slice(32,64))}else{if(r.r=t.r,r.s=t.s,r.v=t.v,r.recoveryParam=t.recoveryParam,r._vs=t._vs,null!=r._vs){var i=function(t,e){(t=Td(t)).length>e&&Ed.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(e);return r.set(t,e-t.length),Sd(r)}(Td(r._vs),32);r._vs=Nd(i);var o=i[0]>=128?1:0;null==r.recoveryParam?r.recoveryParam=o:r.recoveryParam!==o&&Ed.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;var a=Nd(i);null==r.s?r.s=a:r.s!==a&&Ed.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==r.recoveryParam)null==r.v?Ed.throwArgumentError("signature missing v and recoveryParam","signature",t):0===r.v||1===r.v?r.recoveryParam=r.v:r.recoveryParam=1-r.v%2;else if(null==r.v)r.v=27+r.recoveryParam;else{var s=0===r.v||1===r.v?r.v:1-r.v%2;r.recoveryParam!==s&&Ed.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=r.r&&Pd(r.r)?r.r=Cd(r.r,32):Ed.throwArgumentError("signature missing or invalid r","signature",t),null!=r.s&&Pd(r.s)?r.s=Cd(r.s,32):Ed.throwArgumentError("signature missing or invalid s","signature",t);var u=Td(r.s);u[0]>=128&&Ed.throwArgumentError("signature s out of range","signature",t),r.recoveryParam&&(u[0]|=128);var l=Nd(u);r._vs&&(Pd(r._vs)||Ed.throwArgumentError("signature invalid _vs","signature",t),r._vs=Cd(r._vs,32)),null==r._vs?r._vs=l:r._vs!==l&&Ed.throwArgumentError("signature _vs mismatch v and s","signature",t)}return r.yParityAndS=r._vs,r.compact=r.r+r.yParityAndS.substring(2),r}var Ld=function(){function t(e){(0,g.Z)(this,t),ct(this,"alphabet",e),ct(this,"base",e.length),ct(this,"_alphabetMap",{}),ct(this,"_leader",e.charAt(0));for(var r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}return(0,y.Z)(t,[{key:"encode",value:function(t){var e=Td(t);if(0===e.length)return"";for(var r=[0],n=0;n<e.length;++n){for(var i=e[n],o=0;o<r.length;++o)i+=r[o]<<8,r[o]=i%this.base,i=i/this.base|0;for(;i>0;)r.push(i%this.base),i=i/this.base|0}for(var a="",s=0;0===e[s]&&s<e.length-1;++s)a+=this._leader;for(var u=r.length-1;u>=0;--u)a+=this.alphabet[r[u]];return a}},{key:"decode",value:function(t){if("string"!==typeof t)throw new TypeError("Expected String");var e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(var r=0;r<t.length;r++){var n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,o=0;o<e.length;++o)i+=e[o]*this.base,e[o]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(var a=0;t[a]===this._leader&&a<t.length-1;++a)e.push(0);return Td(new Uint8Array(e.reverse()))}}]),t}(),Fd=(new Ld("abcdefghijklmnopqrstuvwxyz234567"),new Ld("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Bd=r(57492),Ud=r.n(Bd),Gd=Ud().BN,jd=new P("bignumber/5.6.2"),zd={},Hd=9007199254740991;var Vd=!1,Wd=function(){function t(e,r){(0,g.Z)(this,t),e!==zd&&jd.throwError("cannot call constructor directly; use BigNumber.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"fromTwos",value:function(t){return Xd(Zd(this).fromTwos(t))}},{key:"toTwos",value:function(t){return Xd(Zd(this).toTwos(t))}},{key:"abs",value:function(){return"-"===this._hex[0]?t.from(this._hex.substring(1)):this}},{key:"add",value:function(t){return Xd(Zd(this).add(Zd(t)))}},{key:"sub",value:function(t){return Xd(Zd(this).sub(Zd(t)))}},{key:"div",value:function(e){return t.from(e).isZero()&&Kd("division-by-zero","div"),Xd(Zd(this).div(Zd(e)))}},{key:"mul",value:function(t){return Xd(Zd(this).mul(Zd(t)))}},{key:"mod",value:function(t){var e=Zd(t);return e.isNeg()&&Kd("division-by-zero","mod"),Xd(Zd(this).umod(e))}},{key:"pow",value:function(t){var e=Zd(t);return e.isNeg()&&Kd("negative-power","pow"),Xd(Zd(this).pow(e))}},{key:"and",value:function(t){var e=Zd(t);return(this.isNegative()||e.isNeg())&&Kd("unbound-bitwise-result","and"),Xd(Zd(this).and(e))}},{key:"or",value:function(t){var e=Zd(t);return(this.isNegative()||e.isNeg())&&Kd("unbound-bitwise-result","or"),Xd(Zd(this).or(e))}},{key:"xor",value:function(t){var e=Zd(t);return(this.isNegative()||e.isNeg())&&Kd("unbound-bitwise-result","xor"),Xd(Zd(this).xor(e))}},{key:"mask",value:function(t){return(this.isNegative()||t<0)&&Kd("negative-width","mask"),Xd(Zd(this).maskn(t))}},{key:"shl",value:function(t){return(this.isNegative()||t<0)&&Kd("negative-width","shl"),Xd(Zd(this).shln(t))}},{key:"shr",value:function(t){return(this.isNegative()||t<0)&&Kd("negative-width","shr"),Xd(Zd(this).shrn(t))}},{key:"eq",value:function(t){return Zd(this).eq(Zd(t))}},{key:"lt",value:function(t){return Zd(this).lt(Zd(t))}},{key:"lte",value:function(t){return Zd(this).lte(Zd(t))}},{key:"gt",value:function(t){return Zd(this).gt(Zd(t))}},{key:"gte",value:function(t){return Zd(this).gte(Zd(t))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return Zd(this).isZero()}},{key:"toNumber",value:function(){try{return Zd(this).toNumber()}catch(aw){Kd("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(t){}return jd.throwError("this platform does not support BigInt",P.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Vd||(Vd=!0,jd.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?jd.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",P.errors.UNEXPECTED_ARGUMENT,{}):jd.throwError("BigNumber.toString does not accept parameters",P.errors.UNEXPECTED_ARGUMENT,{})),Zd(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(t){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(e){if(e instanceof t)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new t(zd,qd(e)):e.match(/^-?[0-9]+$/)?new t(zd,qd(new Gd(e))):jd.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&Kd("underflow","BigNumber.from",e),(e>=Hd||e<=-9007199254740991)&&Kd("overflow","BigNumber.from",e),t.from(String(e));var r=e;if("bigint"===typeof r)return t.from(r.toString());if(kd(r))return t.from(Nd(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"===typeof n)return t.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"===typeof i&&(Pd(i)||"-"===i[0]&&Pd(i.substring(1))))return t.from(i)}return jd.throwArgumentError("invalid BigNumber value","value",e)}},{key:"isBigNumber",value:function(t){return!(!t||!t._isBigNumber)}}]),t}();function qd(t){if("string"!==typeof t)return qd(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&jd.throwArgumentError("invalid hex","value",t),"0x00"===(t=qd(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Xd(t){return Wd.from(qd(t))}function Zd(t){var e=Wd.from(t).toHexString();return"-"===e[0]?new Gd("-"+e.substring(3),16):new Gd(e.substring(2),16)}function Kd(t,e,r){var n={fault:t,operation:e};return null!=r&&(n.value=r),jd.throwError(t,P.errors.NUMERIC_FAULT,n)}var Yd,Jd,$d=new P("strings/5.6.1");function Qd(t,e,r,n,i){if(t===Jd.BAD_PREFIX||t===Jd.UNEXPECTED_CONTINUE){for(var o=0,a=e+1;a<r.length&&r[a]>>6===2;a++)o++;return o}return t===Jd.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Yd||(Yd={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Jd||(Jd={}));var tp;Object.freeze({error:function(t,e,r,n,i){return $d.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:Qd,replace:function(t,e,r,n,i){return t===Jd.OVERLONG?(n.push(i),0):(n.push(65533),Qd(t,e,r))}});function ep(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yd.current;e!=Yd.current&&($d.checkNormalize(),t=t.normalize(e));for(var r=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var o=t.charCodeAt(n);if(n>=t.length||56320!==(64512&o))throw new Error("invalid utf-8 string");var a=65536+((1023&i)<<10)+(1023&o);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return Td(r)}!function(t){t.sha256="sha256",t.sha512="sha512"}(tp||(tp={}));var rp=new P("sha2/5.6.1");function np(t){return"0x"+mr().sha256().update(Td(t)).digest("hex")}function ip(t,e,r){return tp[t]||rp.throwError("unsupported algorithm "+t,P.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+mr().hmac(mr()[t],Td(e)).update(Td(r)).digest("hex")}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function op(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},t(r,r.exports),r.exports}var ap=sp;function sp(t,e){if(!t)throw new Error(e||"Assertion failed")}sp.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var up=op((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!==typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),lp=op((function(t,e){var r=e;r.assert=ap,r.toArray=up.toArray,r.zero2=up.zero2,r.toHex=up.toHex,r.encode=up.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),a=0;a<n.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var a,s,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),a=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(a),s=0===(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(Ud())(t,"hex","le")}})),hp=lp.getNAF,cp=lp.getJSF,fp=lp.assert;function dp(t,e){this.type=t,this.p=new(Ud())(e.p,16),this.red=e.prime?Ud().red(e.prime):Ud().mont(this.p),this.zero=new(Ud())(0).toRed(this.red),this.one=new(Ud())(1).toRed(this.red),this.two=new(Ud())(2).toRed(this.red),this.n=e.n&&new(Ud())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var pp=dp;function vp(t,e){this.curve=t,this.type=e,this.precomputed=null}dp.prototype.point=function(){throw new Error("Not implemented")},dp.prototype.validate=function(){throw new Error("Not implemented")},dp.prototype._fixedNafMul=function(t,e){fp(t.precomputed);var r=t._getDoubles(),n=hp(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=r.step){a=0;for(var u=o+r.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<s.length;o++)(a=s[o])===c?h=h.mixedAdd(r.points[o]):a===-c&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},dp.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=hp(e,r,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var u=0;s>=0&&0===o[s];s--)u++;if(s>=0&&u++,a=a.dblp(u),s<0)break;var l=o[s];fp(0!==l),a="affine"===t.type?l>0?a.mixedAdd(i[l-1>>1]):a.mixedAdd(i[-l-1>>1].neg()):l>0?a.add(i[l-1>>1]):a.add(i[-l-1>>1].neg())}return"affine"===t.type?a.toP():a},dp.prototype._wnafMulAdd=function(t,e,r,n,i){var o,a,s,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,c=0;for(o=0;o<n;o++){var f=(s=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var v=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(v[1]=e[d].add(e[p]),v[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(v[1]=e[d].toJ().mixedAdd(e[p]),v[2]=e[d].add(e[p].neg())):(v[1]=e[d].toJ().mixedAdd(e[p]),v[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=cp(r[d],r[p]);for(c=Math.max(g[0].length,c),h[d]=new Array(c),h[p]=new Array(c),a=0;a<c;a++){var y=0|g[0][a],b=0|g[1][a];h[d][a]=m[3*(y+1)+(b+1)],h[p][a]=0,l[d]=v}}else h[d]=hp(r[d],u[d],this._bitLength),h[p]=hp(r[p],u[p],this._bitLength),c=Math.max(h[d].length,c),c=Math.max(h[p].length,c)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(o=c;o>=0;o--){for(var x=0;o>=0;){var E=!0;for(a=0;a<n;a++)w[a]=0|h[a][o],0!==w[a]&&(E=!1);if(!E)break;x++,o--}if(o>=0&&x++,_=_.dblp(x),o<0)break;for(a=0;a<n;a++){var M=w[a];0!==M&&(M>0?s=l[a][M-1>>1]:M<0&&(s=l[a][-M-1>>1].neg()),_="affine"===s.type?_.mixedAdd(s):_.add(s))}}for(o=0;o<n;o++)l[o]=null;return i?_:_.toP()},dp.BasePoint=vp,vp.prototype.eq=function(){throw new Error("Not implemented")},vp.prototype.validate=function(){return this.curve.validate(this)},dp.prototype.decodePoint=function(t,e){t=lp.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?fp(t[t.length-1]%2===0):7===t[0]&&fp(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},vp.prototype.encodeCompressed=function(t){return this.encode(t,!0)},vp.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},vp.prototype.encode=function(t,e){return lp.encode(this._encode(e),t)},vp.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},vp.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},vp.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},vp.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},vp.prototype._getBeta=function(){return null},vp.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var mp=op((function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),gp=lp.assert;function yp(t){pp.call(this,"short",t),this.a=new(Ud())(t.a,16).toRed(this.red),this.b=new(Ud())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}mp(yp,pp);var bp=yp;function _p(t,e,r,n){pp.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Ud())(e,16),this.y=new(Ud())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function wp(t,e,r,n){pp.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Ud())(0)):(this.x=new(Ud())(e,16),this.y=new(Ud())(r,16),this.z=new(Ud())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}yp.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(Ud())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(Ud())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],gp(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(Ud())(t.a,16),b:new(Ud())(t.b,16)}})):this._getEndoBasis(r)}}},yp.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Ud().mont(t),r=new(Ud())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(Ud())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},yp.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,a,s,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),d=new(Ud())(1),p=new(Ud())(0),v=new(Ud())(0),m=new(Ud())(1),g=0;0!==c.cmpn(0);){var y=f.div(c);u=f.sub(y.mul(c)),l=v.sub(y.mul(d));var b=m.sub(y.mul(p));if(!n&&u.cmp(h)<0)e=s.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++g)break;s=u,f=c,c=u,v=d,d=l,m=p,p=b}o=u.neg(),a=l;var _=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=e,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},yp.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(a).sub(s),k2:u.add(l).neg()}},yp.prototype.pointFromX=function(t,e){(t=new(Ud())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},yp.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},yp.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},mp(_p,pp.BasePoint),yp.prototype.point=function(t,e,r){return new _p(this,t,e,r)},yp.prototype.pointFromJSON=function(t,e){return _p.fromJSON(this,t,e)},_p.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},_p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},_p.fromJSON=function(t,e,r){"string"===typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},_p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},_p.prototype.isInfinity=function(){return this.inf},_p.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},_p.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},_p.prototype.getX=function(){return this.x.fromRed()},_p.prototype.getY=function(){return this.y.fromRed()},_p.prototype.mul=function(t){return t=new(Ud())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},_p.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},_p.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},_p.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},_p.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},_p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},mp(wp,pp.BasePoint),yp.prototype.jpoint=function(t,e,r){return new wp(this,t,e,r)},wp.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},wp.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},wp.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),h=l.redMul(s),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),d=u.redMul(c.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(f,d,p)},wp.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),h=r.redMul(u),c=s.redSqr().redIAdd(l).redISub(h).redISub(h),f=s.redMul(h.redISub(c)).redISub(i.redMul(l)),d=this.z.redMul(a);return this.curve.jpoint(c,f,d)},wp.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(e=0;e<t;e++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=o.redMul(c),v=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(v),g=d.redMul(m);g=g.redIAdd(g).redISub(f);var y=l.redMul(s);e+1<t&&(u=u.redMul(f)),o=v,s=y,l=g}return this.curve.jpoint(o,l.redMul(i),s)},wp.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},wp.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=s.redMul(a.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),v=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),t=v.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},wp.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=s.redMul(a.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),v=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(v),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},wp.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(a),h=s.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=s.redMul(c).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},wp.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(s).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(c,f,d)},wp.prototype.mul=function(t,e){return t=new(Ud())(t,e),this.curve._wnafMul(this,t)},wp.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},wp.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},wp.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},wp.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var xp=op((function(t,e){var r=e;r.base=pp,r.short=bp,r.mont=null,r.edwards=null})),Ep=op((function(t,e){var r,n=e,i=lp.assert;function o(t){"short"===t.type?this.curve=new xp.short(t):"edwards"===t.type?this.curve=new xp.edwards(t):this.curve=new xp.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:mr().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:mr().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:mr().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:mr().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:mr().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mr().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mr().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(s){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:mr().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Mp(t){if(!(this instanceof Mp))return new Mp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=up.toArray(t.entropy,t.entropyEnc||"hex"),r=up.toArray(t.nonce,t.nonceEnc||"hex"),n=up.toArray(t.pers,t.persEnc||"hex");ap(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Sp=Mp;Mp.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Mp.prototype._hmac=function(){return new(mr().hmac)(this.hash,this.K)},Mp.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Mp.prototype.reseed=function(t,e,r,n){"string"!==typeof e&&(n=r,r=e,e=null),t=up.toArray(t,e),r=up.toArray(r,n),ap(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Mp.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(n=r,r=e,e=null),r&&(r=up.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,up.encode(o,e)};var Ap=lp.assert;function kp(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Tp=kp;kp.fromPublic=function(t,e,r){return e instanceof kp?e:new kp(t,{pub:e,pubEnc:r})},kp.fromPrivate=function(t,e,r){return e instanceof kp?e:new kp(t,{priv:e,privEnc:r})},kp.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},kp.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},kp.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},kp.prototype._importPrivate=function(t,e){this.priv=new(Ud())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},kp.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Ap(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Ap(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},kp.prototype.derive=function(t){return t.validate()||Ap(t.validate(),"public point not validated"),t.mul(this.priv).getX()},kp.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},kp.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},kp.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Rp=lp.assert;function Pp(t,e){if(t instanceof Pp)return t;this._importDER(t,e)||(Rp(t.r&&t.s,"Signature without r or s"),this.r=new(Ud())(t.r,16),this.s=new(Ud())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Ip=Pp;function Np(){this.place=0}function Op(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=e.place;o<n;o++,a++)i<<=8,i|=t[a],i>>>=0;return!(i<=127)&&(e.place=a,i)}function Cp(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Dp(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Pp.prototype._importDER=function(t,e){t=lp.toArray(t,e);var r=new Np;if(48!==t[r.place++])return!1;var n=Op(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Op(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var a=Op(t,r);if(!1===a)return!1;if(t.length!==a+r.place)return!1;var s=t.slice(r.place,a+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(Ud())(o),this.s=new(Ud())(s),this.recoveryParam=null,!0},Pp.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Cp(e),r=Cp(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];Dp(n,e.length),(n=n.concat(e)).push(2),Dp(n,r.length);var i=n.concat(r),o=[48];return Dp(o,i.length),o=o.concat(i),lp.encode(o,t)};var Lp=function(){throw new Error("unsupported")},Fp=lp.assert;function Bp(t){if(!(this instanceof Bp))return new Bp(t);"string"===typeof t&&(Fp(Object.prototype.hasOwnProperty.call(Ep,t),"Unknown curve "+t),t=Ep[t]),t instanceof Ep.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Up=Bp;Bp.prototype.keyPair=function(t){return new Tp(this,t)},Bp.prototype.keyFromPrivate=function(t,e){return Tp.fromPrivate(this,t,e)},Bp.prototype.keyFromPublic=function(t,e){return Tp.fromPublic(this,t,e)},Bp.prototype.genKeyPair=function(t){t||(t={});for(var e=new Sp({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Lp(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(Ud())(2));;){var i=new(Ud())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Bp.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Bp.prototype.sign=function(t,e,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(Ud())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),a=t.toArray("be",i),s=new Sp({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(Ud())(1)),l=0;;l++){var h=n.k?n.k(l):new(Ud())(s.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var f=c.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(c.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new Ip({r:d,s:p,recoveryParam:v})}}}}}},Bp.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(Ud())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new Ip(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),u=s.mul(t).umod(this.n),l=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},Bp.prototype.recoverPubKey=function(t,e,r,n){Fp((3&r)===r,"The recovery param is more than two bits"),e=new Ip(e,n);var i=this.n,o=new(Ud())(t),a=e.r,s=e.s,u=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var h=e.r.invm(i),c=i.sub(o).mul(h).umod(i),f=s.mul(h).umod(i);return this.g.mulAdd(c,a,f)},Bp.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Ip(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Gp=op((function(t,e){var r=e;r.version="6.5.4",r.utils=lp,r.rand=function(){throw new Error("unsupported")},r.curve=xp,r.curves=Ep,r.ec=Up,r.eddsa=null})).ec,jp=new P("signing-key/5.6.2"),zp=null;function Hp(){return zp||(zp=new Gp("secp256k1")),zp}var Vp=function(){function t(e){(0,g.Z)(this,t),ct(this,"curve","secp256k1"),ct(this,"privateKey",Nd(e)),32!==function(t){if("string"!==typeof t)t=Nd(t);else if(!Pd(t)||t.length%2)return null;return(t.length-2)/2}(this.privateKey)&&jp.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var r=Hp().keyFromPrivate(Td(this.privateKey));ct(this,"publicKey","0x"+r.getPublic(!1,"hex")),ct(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ct(this,"_isSigningKey",!0)}return(0,y.Z)(t,[{key:"_addPoint",value:function(t){var e=Hp().keyFromPublic(Td(this.publicKey)),r=Hp().keyFromPublic(Td(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(t){var e=Hp().keyFromPrivate(Td(this.privateKey)),r=Td(t);32!==r.length&&jp.throwArgumentError("bad digest length","digest",t);var n=e.sign(r,{canonical:!0});return Dd({recoveryParam:n.recoveryParam,r:Cd("0x"+n.r.toString(16),32),s:Cd("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(t){var e=Hp().keyFromPrivate(Td(this.privateKey)),r=Hp().keyFromPublic(Td(Wp(t)));return Cd("0x"+e.derive(r.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(t){return!(!t||!t._isSigningKey)}}]),t}();function Wp(t,e){var r=Td(t);if(32===r.length){var n=new Vp(r);return e?"0x"+Hp().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?e?Nd(r):"0x"+Hp().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Hp().keyFromPublic(r).getPublic(!0,"hex"):Nd(r):jp.throwArgumentError("invalid public or private key","key","[REDACTED]")}function qp(t){return"0x"+kt().keccak_256(Td(t))}var Xp=new P("address/5.6.1");function Zp(t){Pd(t,20)||Xp.throwArgumentError("invalid address","address",t);for(var e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=e[n].charCodeAt(0);for(var i=Td(qp(r)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(15&i[o>>1])>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}for(var Kp={},Yp=0;Yp<10;Yp++)Kp[String(Yp)]=String(Yp);for(var Jp=0;Jp<26;Jp++)Kp[String.fromCharCode(65+Jp)]=String(10+Jp);var $p=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Qp(t){for(var e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((function(t){return Kp[t]})).join("");e.length>=$p;){var r=e.substring(0,$p);e=parseInt(r,10)%97+e.substring(r.length)}for(var n=String(98-parseInt(e,10)%97);n.length<2;)n="0"+n;return n}function tv(t){var e,r=null;if("string"!==typeof t&&Xp.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),r=Zp(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&r!==t&&Xp.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Qp(t)&&Xp.throwArgumentError("bad icap checksum","address",t),e=t.substring(4),r=new Gd(e,36).toString(16);r.length<40;)r="0"+r;r=Zp("0x"+r)}else Xp.throwArgumentError("invalid address","address",t);return r}var ev;new P("transactions/5.6.2");!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(ev||(ev={}));function rv(t){return tv(Od(qp(Od(Wp(t),1)),12))}var nv=new P("wordlists/5.6.1"),iv=function(){function t(e){(0,g.Z)(this,t),nv.checkAbstract(this instanceof t?this.constructor:void 0,t),ct(this,"locale",e)}return(0,y.Z)(t,[{key:"split",value:function(t){return t.toLowerCase().split(/ +/g)}},{key:"join",value:function(t){return t.join(" ")}}],[{key:"check",value:function(t){for(var e=[],r=0;r<2048;r++){var n=t.getWord(r);if(r!==t.getWordIndex(n))return"0x";e.push(n)}return qp(ep(e.join("\n")+"\n"))}},{key:"register",value:function(t,e){e||(e=t.locale)}}]),t}(),ov=null;function av(t){if(null==ov&&(ov="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==iv.check(t)))throw ov=null,new Error("BIP39 Wordlist for en (English) FAILED")}var sv=function(t){(0,v.Z)(r,t);var e=(0,m.Z)(r);function r(){return(0,g.Z)(this,r),e.call(this,"en")}return(0,y.Z)(r,[{key:"getWord",value:function(t){return av(this),ov[t]}},{key:"getWordIndex",value:function(t){return av(this),ov.indexOf(t)}}]),r}(iv),uv=new sv;iv.register(uv);var lv={en:uv},hv=new P("hdnode/5.6.0"),cv=Wd.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),fv=ep("Bitcoin seed"),dv=2147483648;function pv(t){return(1<<t)-1<<8-t}function vv(t){return Cd(Nd(t),32)}function mv(t){return Fd.encode(Rd([t,Od(np(np(t)),0,4)]))}function gv(t){if(null==t)return lv.en;if("string"===typeof t){var e=lv[t];return null==e&&hv.throwArgumentError("unknown locale","wordlist",t),e}return t}var yv={},bv="m/44'/60'/0'/0/0",_v=function(){function t(e,r,n,i,o,a,s,u){if((0,g.Z)(this,t),hv.checkNew(this instanceof t?this.constructor:void 0,t),e!==yv)throw new Error("HDNode constructor cannot be called directly");if(r){var l=new Vp(r);ct(this,"privateKey",l.privateKey),ct(this,"publicKey",l.compressedPublicKey)}else ct(this,"privateKey",null),ct(this,"publicKey",Nd(n));var h;ct(this,"parentFingerprint",i),ct(this,"fingerprint",Od((h=np(this.publicKey),"0x"+mr().ripemd160().update(Td(h)).digest("hex")),0,4)),ct(this,"address",rv(this.publicKey)),ct(this,"chainCode",o),ct(this,"index",a),ct(this,"depth",s),null==u?(ct(this,"mnemonic",null),ct(this,"path",null)):"string"===typeof u?(ct(this,"mnemonic",null),ct(this,"path",u)):(ct(this,"mnemonic",u),ct(this,"path",u.path))}return(0,y.Z)(t,[{key:"extendedKey",get:function(){if(this.depth>=256)throw new Error("Depth too large!");return mv(Rd([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",Nd(this.depth),this.parentFingerprint,Cd(Nd(this.index),4),this.chainCode,null!=this.privateKey?Rd(["0x00",this.privateKey]):this.publicKey]))}},{key:"neuter",value:function(){return new t(yv,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}},{key:"_derive",value:function(e){if(e>4294967295)throw new Error("invalid index - "+String(e));var r=this.path;r&&(r+="/"+(2147483647&e));var n=new Uint8Array(37);if(e&dv){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Td(this.privateKey),1),r&&(r+="'")}else n.set(Td(this.publicKey));for(var i=24;i>=0;i-=8)n[33+(i>>3)]=e>>24-i&255;var o=Td(ip(tp.sha512,this.chainCode,n)),a=o.slice(0,32),s=o.slice(32),u=null,l=null;this.privateKey?u=vv(Wd.from(a).add(this.privateKey).mod(cv)):l=new Vp(Nd(a))._addPoint(this.publicKey);var h=r,c=this.mnemonic;return c&&(h=Object.freeze({phrase:c.phrase,path:r,locale:c.locale||"en"})),new t(yv,u,l,this.fingerprint,vv(s),e,this.depth+1,h)}},{key:"derivePath",value:function(t){var e=t.split("/");if(0===e.length||"m"===e[0]&&0!==this.depth)throw new Error("invalid path - "+t);"m"===e[0]&&e.shift();for(var r=this,n=0;n<e.length;n++){var i=e[n];if(i.match(/^[0-9]+'$/)){var o=parseInt(i.substring(0,i.length-1));if(o>=dv)throw new Error("invalid path index - "+i);r=r._derive(dv+o)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);var a=parseInt(i);if(a>=dv)throw new Error("invalid path index - "+i);r=r._derive(a)}}return r}}],[{key:"_fromSeed",value:function(e,r){var n=Td(e);if(n.length<16||n.length>64)throw new Error("invalid seed");var i=Td(ip(tp.sha512,fv,n));return new t(yv,vv(i.slice(0,32)),null,"0x00000000",vv(i.slice(32)),0,0,r)}},{key:"fromMnemonic",value:function(e,r,n){return e=Ev(xv(e,n=gv(n)),n),t._fromSeed(wv(e,r),{phrase:e,path:"m",locale:n.locale})}},{key:"fromSeed",value:function(e){return t._fromSeed(e,null)}},{key:"fromExtendedKey",value:function(e){var r=Fd.decode(e);82===r.length&&mv(r.slice(0,78))===e||hv.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");var n=r[4],i=Nd(r.slice(5,9)),o=parseInt(Nd(r.slice(9,13)).substring(2),16),a=Nd(r.slice(13,45)),s=r.slice(45,78);switch(Nd(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(yv,null,Nd(s),i,a,o,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new t(yv,Nd(s.slice(1)),null,i,a,o,n,null)}return hv.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}]),t}();function wv(t,e){e||(e="");var r=ep("mnemonic"+e,Yd.NFKD);return function(t,e,r,n,i){var o;t=Td(t),e=Td(e);var a,s,u=1,l=new Uint8Array(n),h=new Uint8Array(e.length+4);h.set(e);for(var c=1;c<=u;c++){h[e.length]=c>>24&255,h[e.length+1]=c>>16&255,h[e.length+2]=c>>8&255,h[e.length+3]=255&c;var f=Td(ip(i,t,h));o||(o=f.length,s=new Uint8Array(o),a=n-((u=Math.ceil(n/o))-1)*o),s.set(f);for(var d=1;d<r;d++){f=Td(ip(i,t,f));for(var p=0;p<o;p++)s[p]^=f[p]}var v=(c-1)*o,m=c===u?a:o;l.set(Td(s).slice(0,m),v)}return Nd(l)}(ep(t,Yd.NFKD),r,2048,64,"sha512")}function xv(t,e){e=gv(e),hv.checkNormalize();var r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");for(var n=Td(new Uint8Array(Math.ceil(11*r.length/8))),i=0,o=0;o<r.length;o++){var a=e.getWordIndex(r[o].normalize("NFKD"));if(-1===a)throw new Error("invalid mnemonic");for(var s=0;s<11;s++)a&1<<10-s&&(n[i>>3]|=1<<7-i%8),i++}var u=32*r.length/3,l=pv(r.length/3);if((Td(np(n.slice(0,u/8)))[0]&l)!==(n[n.length-1]&l))throw new Error("invalid checksum");return Nd(n.slice(0,u/8))}function Ev(t,e){if(e=gv(e),(t=Td(t)).length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");for(var r=[0],n=11,i=0;i<t.length;i++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[i],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[i]>>8-n,r.push(t[i]&(1<<8-n)-1),n+=3);var o=t.length/4,a=Td(np(t))[0]&pv(o);return r[r.length-1]<<=o,r[r.length-1]|=a>>8-o,e.join(r.map((function(t){return e.getWord(t)})))}function Mv(t,e){try{return xv(t,e),!0}catch(aw){}return!1}function Sv(t){return("number"!==typeof t||t<0||t>=dv||t%1)&&hv.throwArgumentError("invalid account index","index",t),"m/44'/60'/".concat(t,"'/0/0")}function Av(t){if(function(t){var e=null;try{e=JSON.parse(t)}catch(aw){return!1}return e.encseed&&e.ethaddr}(t))try{return Wt(JSON.parse(t).ethaddr)}catch(aw){return null}if(function(t){var e=null;try{e=JSON.parse(t)}catch(aw){return!1}return!(!e.version||parseInt(e.version)!==e.version||3!==parseInt(e.version))}(t))try{return Wt(JSON.parse(t).address)}catch(aw){return null}return null}var kv=new P("bytes/5.6.1");function Tv(t){return!!t.toHexString}function Rv(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return Rv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Pv(t){return"number"===typeof t&&t==t&&t%1===0}function Iv(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Pv(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!Pv(r)||r<0||r>=256)return!1}return!0}function Nv(t,e){if(e||(e={}),"number"===typeof t){kv.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),Rv(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Tv(t)&&(t=t.toHexString()),Ov(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":kv.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Rv(new Uint8Array(i))}return Iv(t)?Rv(new Uint8Array(t)):kv.throwArgumentError("invalid arrayify value","value",t)}function Ov(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}function Cv(t){return"0x"+kt().keccak_256(Nv(t))}var Dv=new P("bytes/5.6.1");function Lv(t){return!!t.toHexString}function Fv(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return Fv(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Bv(t){return"number"===typeof t&&t==t&&t%1===0}function Uv(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Bv(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!Bv(r)||r<0||r>=256)return!1}return!0}function Gv(t,e){if(e||(e={}),"number"===typeof t){Dv.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),Fv(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Lv(t)&&(t=t.toHexString()),jv(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":Dv.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Fv(new Uint8Array(i))}return Uv(t)?Fv(new Uint8Array(t)):Dv.throwArgumentError("invalid arrayify value","value",t)}function jv(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var zv;!function(t){t.sha256="sha256",t.sha512="sha512"}(zv||(zv={}));var Hv=new P("sha2/5.6.0");function Vv(t){return"0x"+mr().ripemd160().update(Gv(t)).digest("hex")}function Wv(t){return"0x"+mr().sha256().update(Gv(t)).digest("hex")}function qv(t){return"0x"+mr().sha512().update(Gv(t)).digest("hex")}function Xv(t,e,r){return zv[t]||Hv.throwError("unsupported algorithm "+t,P.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+mr().hmac(mr()[t],Gv(e)).update(Gv(r)).digest("hex")}var Zv=new RegExp("^bytes([0-9]+)$"),Kv=new RegExp("^(u?int)([0-9]*)$"),Yv=new RegExp("^(.*)\\[([0-9]*)\\]$"),Jv=new P("solidity/5.6.0");function $v(t,e,r){switch(t){case"address":return r?G(e,32):F(e);case"string":return Qt(e);case"bytes":return F(e);case"bool":return e=e?"0x01":"0x00",r?G(e,32):F(e)}var n=t.match(Kv);if(n){var i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||0===i||i>256)&&Jv.throwArgumentError("invalid number type","type",t),r&&(i=256),G(e=it.from(e).toTwos(i),i/8)}if(n=t.match(Zv)){var o=parseInt(n[1]);return(String(o)!==n[1]||0===o||o>32)&&Jv.throwArgumentError("invalid bytes type","type",t),F(e).byteLength!==o&&Jv.throwArgumentError("invalid value for ".concat(t),"value",e),r?F((e+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):e}if((n=t.match(Yv))&&Array.isArray(e)){var a=n[1];parseInt(n[2]||String(e.length))!=e.length&&Jv.throwArgumentError("invalid array length for ".concat(t),"value",e);var s=[];return e.forEach((function(t){s.push($v(a,t,!0))})),B(s)}return Jv.throwArgumentError("invalid type","type",t)}function Qv(t,e){t.length!=e.length&&Jv.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);var r=[];return t.forEach((function(t,n){r.push($v(t,e[n]))})),H(B(r))}function tm(t,e){return Tt(Qv(t,e))}function em(t,e){return Ki(Qv(t,e))}var rm=new P("bytes/5.6.1");function nm(t){return!!t.toHexString}function im(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return im(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function om(t){return"number"===typeof t&&t==t&&t%1===0}function am(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!om(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!om(r)||r<0||r>=256)return!1}return!0}function sm(t,e){if(e||(e={}),"number"===typeof t){rm.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),im(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),nm(t)&&(t=t.toHexString()),um(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":rm.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return im(new Uint8Array(i))}return am(t)?im(new Uint8Array(t)):rm.throwArgumentError("invalid arrayify value","value",t)}function um(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var lm=new P("random/5.6.0");var hm=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}(),cm=hm.crypto||hm.msCrypto;function fm(t){(t<=0||t>1024||t%1||t!=t)&&lm.throwArgumentError("invalid length","length",t);var e=new Uint8Array(t);return cm.getRandomValues(e),sm(e)}function dm(t){for(var e=(t=t.slice()).length-1;e>0;e--){var r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}cm&&cm.getRandomValues||(lm.warn("WARNING: Missing strong random number source"),cm={getRandomValues:function(t){return lm.throwError("no secure random source avaialble",P.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});var pm=new P("bytes/5.6.1");function vm(t){return!!t.toHexString}function mm(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return mm(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function gm(t){return wm(t)&&!(t.length%2)||bm(t)}function ym(t){return"number"===typeof t&&t==t&&t%1===0}function bm(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!ym(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!ym(r)||r<0||r>=256)return!1}return!0}function _m(t,e){if(e||(e={}),"number"===typeof t){pm.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),mm(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),vm(t)&&(t=t.toHexString()),wm(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":pm.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return mm(new Uint8Array(i))}return bm(t)?mm(new Uint8Array(t)):pm.throwArgumentError("invalid arrayify value","value",t)}function wm(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var xm="0123456789abcdef";function Em(t,e){if(e||(e={}),"number"===typeof t){pm.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=xm[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),vm(t))return t.toHexString();if(wm(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":pm.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(bm(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=xm[(240&o)>>4]+xm[15&o]}return n}return pm.throwArgumentError("invalid hexlify value","value",t)}var Mm=new P("rlp/5.6.0");function Sm(t){for(var e=[];t;)e.unshift(255&t),t>>=8;return e}function Am(t,e,r){for(var n=0,i=0;i<r;i++)n=256*n+t[e+i];return n}function km(t){if(Array.isArray(t)){var e=[];if(t.forEach((function(t){e=e.concat(km(t))})),e.length<=55)return e.unshift(192+e.length),e;var r=Sm(e.length);return r.unshift(247+r.length),r.concat(e)}gm(t)||Mm.throwArgumentError("RLP object must be BytesLike","object",t);var n=Array.prototype.slice.call(_m(t));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=Sm(n.length);return i.unshift(183+i.length),i.concat(n)}function Tm(t){return Em(km(t))}function Rm(t,e,r,n){for(var i=[];r<e+1+n;){var o=Pm(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&Mm.throwError("child data too short",P.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Pm(t,e){if(0===t.length&&Mm.throwError("data too short",P.errors.BUFFER_OVERRUN,{}),t[e]>=248){var r=t[e]-247;e+1+r>t.length&&Mm.throwError("data short segment too short",P.errors.BUFFER_OVERRUN,{});var n=Am(t,e+1,r);return e+1+r+n>t.length&&Mm.throwError("data long segment too short",P.errors.BUFFER_OVERRUN,{}),Rm(t,e,e+1+r,r+n)}if(t[e]>=192){var i=t[e]-192;return e+1+i>t.length&&Mm.throwError("data array too short",P.errors.BUFFER_OVERRUN,{}),Rm(t,e,e+1,i)}if(t[e]>=184){var o=t[e]-183;e+1+o>t.length&&Mm.throwError("data array too short",P.errors.BUFFER_OVERRUN,{});var a=Am(t,e+1,o);return e+1+o+a>t.length&&Mm.throwError("data array too short",P.errors.BUFFER_OVERRUN,{}),{consumed:1+o+a,result:Em(t.slice(e+1+o,e+1+o+a))}}if(t[e]>=128){var s=t[e]-128;return e+1+s>t.length&&Mm.throwError("data too short",P.errors.BUFFER_OVERRUN,{}),{consumed:1+s,result:Em(t.slice(e+1,e+1+s))}}return{consumed:1,result:Em(t[e])}}function Im(t){var e=_m(t),r=Pm(e,0);return r.consumed!==e.length&&Mm.throwArgumentError("invalid rlp data","data",t),r.result}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function Nm(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},t(r,r.exports),r.exports}var Om=Cm;function Cm(t,e){if(!t)throw new Error(e||"Assertion failed")}Cm.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Dm=Nm((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!==typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),Lm=Nm((function(t,e){var r=e;r.assert=Om,r.toArray=Dm.toArray,r.zero2=Dm.zero2,r.toHex=Dm.toHex,r.encode=Dm.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),a=0;a<n.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var a,s,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),a=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(a),s=0===(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(Gn())(t,"hex","le")}})),Fm=Lm.getNAF,Bm=Lm.getJSF,Um=Lm.assert;function Gm(t,e){this.type=t,this.p=new(Gn())(e.p,16),this.red=e.prime?Gn().red(e.prime):Gn().mont(this.p),this.zero=new(Gn())(0).toRed(this.red),this.one=new(Gn())(1).toRed(this.red),this.two=new(Gn())(2).toRed(this.red),this.n=e.n&&new(Gn())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var jm=Gm;function zm(t,e){this.curve=t,this.type=e,this.precomputed=null}Gm.prototype.point=function(){throw new Error("Not implemented")},Gm.prototype.validate=function(){throw new Error("Not implemented")},Gm.prototype._fixedNafMul=function(t,e){Um(t.precomputed);var r=t._getDoubles(),n=Fm(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=r.step){a=0;for(var u=o+r.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<s.length;o++)(a=s[o])===c?h=h.mixedAdd(r.points[o]):a===-c&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},Gm.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=Fm(e,r,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var u=0;s>=0&&0===o[s];s--)u++;if(s>=0&&u++,a=a.dblp(u),s<0)break;var l=o[s];Um(0!==l),a="affine"===t.type?l>0?a.mixedAdd(i[l-1>>1]):a.mixedAdd(i[-l-1>>1].neg()):l>0?a.add(i[l-1>>1]):a.add(i[-l-1>>1].neg())}return"affine"===t.type?a.toP():a},Gm.prototype._wnafMulAdd=function(t,e,r,n,i){var o,a,s,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,c=0;for(o=0;o<n;o++){var f=(s=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var v=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(v[1]=e[d].add(e[p]),v[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(v[1]=e[d].toJ().mixedAdd(e[p]),v[2]=e[d].add(e[p].neg())):(v[1]=e[d].toJ().mixedAdd(e[p]),v[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=Bm(r[d],r[p]);for(c=Math.max(g[0].length,c),h[d]=new Array(c),h[p]=new Array(c),a=0;a<c;a++){var y=0|g[0][a],b=0|g[1][a];h[d][a]=m[3*(y+1)+(b+1)],h[p][a]=0,l[d]=v}}else h[d]=Fm(r[d],u[d],this._bitLength),h[p]=Fm(r[p],u[p],this._bitLength),c=Math.max(h[d].length,c),c=Math.max(h[p].length,c)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(o=c;o>=0;o--){for(var x=0;o>=0;){var E=!0;for(a=0;a<n;a++)w[a]=0|h[a][o],0!==w[a]&&(E=!1);if(!E)break;x++,o--}if(o>=0&&x++,_=_.dblp(x),o<0)break;for(a=0;a<n;a++){var M=w[a];0!==M&&(M>0?s=l[a][M-1>>1]:M<0&&(s=l[a][-M-1>>1].neg()),_="affine"===s.type?_.mixedAdd(s):_.add(s))}}for(o=0;o<n;o++)l[o]=null;return i?_:_.toP()},Gm.BasePoint=zm,zm.prototype.eq=function(){throw new Error("Not implemented")},zm.prototype.validate=function(){return this.curve.validate(this)},Gm.prototype.decodePoint=function(t,e){t=Lm.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?Um(t[t.length-1]%2===0):7===t[0]&&Um(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},zm.prototype.encodeCompressed=function(t){return this.encode(t,!0)},zm.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},zm.prototype.encode=function(t,e){return Lm.encode(this._encode(e),t)},zm.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},zm.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},zm.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},zm.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},zm.prototype._getBeta=function(){return null},zm.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Hm=Nm((function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Vm=Lm.assert;function Wm(t){jm.call(this,"short",t),this.a=new(Gn())(t.a,16).toRed(this.red),this.b=new(Gn())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Hm(Wm,jm);var qm=Wm;function Xm(t,e,r,n){jm.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Gn())(e,16),this.y=new(Gn())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Zm(t,e,r,n){jm.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Gn())(0)):(this.x=new(Gn())(e,16),this.y=new(Gn())(r,16),this.z=new(Gn())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Wm.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(Gn())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(Gn())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],Vm(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(Gn())(t.a,16),b:new(Gn())(t.b,16)}})):this._getEndoBasis(r)}}},Wm.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Gn().mont(t),r=new(Gn())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(Gn())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Wm.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,a,s,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),d=new(Gn())(1),p=new(Gn())(0),v=new(Gn())(0),m=new(Gn())(1),g=0;0!==c.cmpn(0);){var y=f.div(c);u=f.sub(y.mul(c)),l=v.sub(y.mul(d));var b=m.sub(y.mul(p));if(!n&&u.cmp(h)<0)e=s.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++g)break;s=u,f=c,c=u,v=d,d=l,m=p,p=b}o=u.neg(),a=l;var _=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=e,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},Wm.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(a).sub(s),k2:u.add(l).neg()}},Wm.prototype.pointFromX=function(t,e){(t=new(Gn())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Wm.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Wm.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},Hm(Xm,jm.BasePoint),Wm.prototype.point=function(t,e,r){return new Xm(this,t,e,r)},Wm.prototype.pointFromJSON=function(t,e){return Xm.fromJSON(this,t,e)},Xm.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Xm.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Xm.fromJSON=function(t,e,r){"string"===typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Xm.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Xm.prototype.isInfinity=function(){return this.inf},Xm.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Xm.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},Xm.prototype.getX=function(){return this.x.fromRed()},Xm.prototype.getY=function(){return this.y.fromRed()},Xm.prototype.mul=function(t){return t=new(Gn())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Xm.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Xm.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Xm.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Xm.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Xm.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Hm(Zm,jm.BasePoint),Wm.prototype.jpoint=function(t,e,r){return new Zm(this,t,e,r)},Zm.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Zm.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Zm.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),h=l.redMul(s),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),d=u.redMul(c.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(f,d,p)},Zm.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),h=r.redMul(u),c=s.redSqr().redIAdd(l).redISub(h).redISub(h),f=s.redMul(h.redISub(c)).redISub(i.redMul(l)),d=this.z.redMul(a);return this.curve.jpoint(c,f,d)},Zm.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(e=0;e<t;e++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=o.redMul(c),v=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(v),g=d.redMul(m);g=g.redIAdd(g).redISub(f);var y=l.redMul(s);e+1<t&&(u=u.redMul(f)),o=v,s=y,l=g}return this.curve.jpoint(o,l.redMul(i),s)},Zm.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Zm.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=s.redMul(a.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),v=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),t=v.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Zm.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=s.redMul(a.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),v=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(v),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},Zm.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(a),h=s.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=s.redMul(c).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},Zm.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(s).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(c,f,d)},Zm.prototype.mul=function(t,e){return t=new(Gn())(t,e),this.curve._wnafMul(this,t)},Zm.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Zm.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Zm.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Zm.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Km=Nm((function(t,e){var r=e;r.base=jm,r.short=qm,r.mont=null,r.edwards=null})),Ym=Nm((function(t,e){var r,n=e,i=Lm.assert;function o(t){"short"===t.type?this.curve=new Km.short(t):"edwards"===t.type?this.curve=new Km.edwards(t):this.curve=new Km.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:mr().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:mr().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:mr().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:mr().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:mr().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mr().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mr().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(s){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:mr().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Jm(t){if(!(this instanceof Jm))return new Jm(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Dm.toArray(t.entropy,t.entropyEnc||"hex"),r=Dm.toArray(t.nonce,t.nonceEnc||"hex"),n=Dm.toArray(t.pers,t.persEnc||"hex");Om(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var $m=Jm;Jm.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Jm.prototype._hmac=function(){return new(mr().hmac)(this.hash,this.K)},Jm.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Jm.prototype.reseed=function(t,e,r,n){"string"!==typeof e&&(n=r,r=e,e=null),t=Dm.toArray(t,e),r=Dm.toArray(r,n),Om(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Jm.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(n=r,r=e,e=null),r&&(r=Dm.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,Dm.encode(o,e)};var Qm=Lm.assert;function tg(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var eg=tg;tg.fromPublic=function(t,e,r){return e instanceof tg?e:new tg(t,{pub:e,pubEnc:r})},tg.fromPrivate=function(t,e,r){return e instanceof tg?e:new tg(t,{priv:e,privEnc:r})},tg.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},tg.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},tg.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},tg.prototype._importPrivate=function(t,e){this.priv=new(Gn())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},tg.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Qm(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Qm(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},tg.prototype.derive=function(t){return t.validate()||Qm(t.validate(),"public point not validated"),t.mul(this.priv).getX()},tg.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},tg.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},tg.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var rg=Lm.assert;function ng(t,e){if(t instanceof ng)return t;this._importDER(t,e)||(rg(t.r&&t.s,"Signature without r or s"),this.r=new(Gn())(t.r,16),this.s=new(Gn())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var ig=ng;function og(){this.place=0}function ag(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=e.place;o<n;o++,a++)i<<=8,i|=t[a],i>>>=0;return!(i<=127)&&(e.place=a,i)}function sg(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function ug(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}ng.prototype._importDER=function(t,e){t=Lm.toArray(t,e);var r=new og;if(48!==t[r.place++])return!1;var n=ag(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=ag(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var a=ag(t,r);if(!1===a)return!1;if(t.length!==a+r.place)return!1;var s=t.slice(r.place,a+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(Gn())(o),this.s=new(Gn())(s),this.recoveryParam=null,!0},ng.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=sg(e),r=sg(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];ug(n,e.length),(n=n.concat(e)).push(2),ug(n,r.length);var i=n.concat(r),o=[48];return ug(o,i.length),o=o.concat(i),Lm.encode(o,t)};var lg=function(){throw new Error("unsupported")},hg=Lm.assert;function cg(t){if(!(this instanceof cg))return new cg(t);"string"===typeof t&&(hg(Object.prototype.hasOwnProperty.call(Ym,t),"Unknown curve "+t),t=Ym[t]),t instanceof Ym.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var fg=cg;cg.prototype.keyPair=function(t){return new eg(this,t)},cg.prototype.keyFromPrivate=function(t,e){return eg.fromPrivate(this,t,e)},cg.prototype.keyFromPublic=function(t,e){return eg.fromPublic(this,t,e)},cg.prototype.genKeyPair=function(t){t||(t={});for(var e=new $m({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||lg(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(Gn())(2));;){var i=new(Gn())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},cg.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},cg.prototype.sign=function(t,e,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(Gn())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),a=t.toArray("be",i),s=new $m({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(Gn())(1)),l=0;;l++){var h=n.k?n.k(l):new(Gn())(s.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var f=c.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(c.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new ig({r:d,s:p,recoveryParam:v})}}}}}},cg.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(Gn())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new ig(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),u=s.mul(t).umod(this.n),l=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},cg.prototype.recoverPubKey=function(t,e,r,n){hg((3&r)===r,"The recovery param is more than two bits"),e=new ig(e,n);var i=this.n,o=new(Gn())(t),a=e.r,s=e.s,u=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var h=e.r.invm(i),c=i.sub(o).mul(h).umod(i),f=s.mul(h).umod(i);return this.g.mulAdd(c,a,f)},cg.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new ig(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var dg=Nm((function(t,e){var r=e;r.version="6.5.4",r.utils=Lm,r.rand=function(){throw new Error("unsupported")},r.curve=Km,r.curves=Ym,r.ec=fg,r.eddsa=null})).ec,pg=new P("bytes/5.6.1");function vg(t){return!!t.toHexString}function mg(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return mg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function gg(t){return"number"===typeof t&&t==t&&t%1===0}function yg(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!gg(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!gg(r)||r<0||r>=256)return!1}return!0}function bg(t,e){if(e||(e={}),"number"===typeof t){pg.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),mg(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),vg(t)&&(t=t.toHexString()),_g(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":pg.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return mg(new Uint8Array(i))}return yg(t)?mg(new Uint8Array(t)):pg.throwArgumentError("invalid arrayify value","value",t)}function _g(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var wg="0123456789abcdef";function xg(t,e){if(e||(e={}),"number"===typeof t){pg.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=wg[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),vg(t))return t.toHexString();if(_g(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":pg.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(yg(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=wg[(240&o)>>4]+wg[15&o]}return n}return pg.throwArgumentError("invalid hexlify value","value",t)}function Eg(t,e){for("string"!==typeof t?t=xg(t):_g(t)||pg.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&pg.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Mg(t){var e,r={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(_g(e=t)&&!(e.length%2)||yg(e)){var n=bg(t);64===n.length?(r.v=27+(n[32]>>7),n[32]&=127,r.r=xg(n.slice(0,32)),r.s=xg(n.slice(32,64))):65===n.length?(r.r=xg(n.slice(0,32)),r.s=xg(n.slice(32,64)),r.v=n[64]):pg.throwArgumentError("invalid signature string","signature",t),r.v<27&&(0===r.v||1===r.v?r.v+=27:pg.throwArgumentError("signature invalid v byte","signature",t)),r.recoveryParam=1-r.v%2,r.recoveryParam&&(n[32]|=128),r._vs=xg(n.slice(32,64))}else{if(r.r=t.r,r.s=t.s,r.v=t.v,r.recoveryParam=t.recoveryParam,r._vs=t._vs,null!=r._vs){var i=function(t,e){(t=bg(t)).length>e&&pg.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(e);return r.set(t,e-t.length),mg(r)}(bg(r._vs),32);r._vs=xg(i);var o=i[0]>=128?1:0;null==r.recoveryParam?r.recoveryParam=o:r.recoveryParam!==o&&pg.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;var a=xg(i);null==r.s?r.s=a:r.s!==a&&pg.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==r.recoveryParam)null==r.v?pg.throwArgumentError("signature missing v and recoveryParam","signature",t):0===r.v||1===r.v?r.recoveryParam=r.v:r.recoveryParam=1-r.v%2;else if(null==r.v)r.v=27+r.recoveryParam;else{var s=0===r.v||1===r.v?r.v:1-r.v%2;r.recoveryParam!==s&&pg.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=r.r&&_g(r.r)?r.r=Eg(r.r,32):pg.throwArgumentError("signature missing or invalid r","signature",t),null!=r.s&&_g(r.s)?r.s=Eg(r.s,32):pg.throwArgumentError("signature missing or invalid s","signature",t);var u=bg(r.s);u[0]>=128&&pg.throwArgumentError("signature s out of range","signature",t),r.recoveryParam&&(u[0]|=128);var l=xg(u);r._vs&&(_g(r._vs)||pg.throwArgumentError("signature invalid _vs","signature",t),r._vs=Eg(r._vs,32)),null==r._vs?r._vs=l:r._vs!==l&&pg.throwArgumentError("signature _vs mismatch v and s","signature",t)}return r.yParityAndS=r._vs,r.compact=r.r+r.yParityAndS.substring(2),r}var Sg=new P("signing-key/5.6.0"),Ag=null;function kg(){return Ag||(Ag=new dg("secp256k1")),Ag}var Tg=function(){function t(e){(0,g.Z)(this,t),ct(this,"curve","secp256k1"),ct(this,"privateKey",xg(e));var r=kg().keyFromPrivate(bg(this.privateKey));ct(this,"publicKey","0x"+r.getPublic(!1,"hex")),ct(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ct(this,"_isSigningKey",!0)}return(0,y.Z)(t,[{key:"_addPoint",value:function(t){var e=kg().keyFromPublic(bg(this.publicKey)),r=kg().keyFromPublic(bg(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(t){var e=kg().keyFromPrivate(bg(this.privateKey)),r=bg(t);32!==r.length&&Sg.throwArgumentError("bad digest length","digest",t);var n=e.sign(r,{canonical:!0});return Mg({recoveryParam:n.recoveryParam,r:Eg("0x"+n.r.toString(16),32),s:Eg("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(t){var e=kg().keyFromPrivate(bg(this.privateKey)),r=kg().keyFromPublic(bg(Pg(t)));return Eg("0x"+e.derive(r.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(t){return!(!t||!t._isSigningKey)}}]),t}();function Rg(t,e){var r=Mg(e),n={r:bg(r.r),s:bg(r.s)};return"0x"+kg().recoverPubKey(bg(t),n,r.recoveryParam).encode("hex",!1)}function Pg(t,e){var r=bg(t);if(32===r.length){var n=new Tg(r);return e?"0x"+kg().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?e?xg(r):"0x"+kg().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+kg().keyFromPublic(r).getPublic(!0,"hex"):xg(r):Sg.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Ig=new P("bytes/5.6.1");function Ng(t){return!!t.toHexString}function Og(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return Og(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Cg(t){return"number"===typeof t&&t==t&&t%1===0}function Dg(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Cg(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!Cg(r)||r<0||r>=256)return!1}return!0}function Lg(t,e){if(e||(e={}),"number"===typeof t){Ig.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),Og(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ng(t)&&(t=t.toHexString()),Bg(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":Ig.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return Og(new Uint8Array(i))}return Dg(t)?Og(new Uint8Array(t)):Ig.throwArgumentError("invalid arrayify value","value",t)}function Fg(t){var e=t.map((function(t){return Lg(t)})),r=e.reduce((function(t,e){return t+e.length}),0),n=new Uint8Array(r);return e.reduce((function(t,e){return n.set(e,t),t+e.length}),0),Og(n)}function Bg(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var Ug="0123456789abcdef";function Gg(t,e){if(e||(e={}),"number"===typeof t){Ig.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=Ug[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Ng(t))return t.toHexString();if(Bg(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Ig.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Dg(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=Ug[(240&o)>>4]+Ug[15&o]}return n}return Ig.throwArgumentError("invalid hexlify value","value",t)}var jg,zg,Hg=new P("strings/5.6.0");function Vg(t,e,r,n,i){if(t===zg.BAD_PREFIX||t===zg.UNEXPECTED_CONTINUE){for(var o=0,a=e+1;a<r.length&&r[a]>>6===2;a++)o++;return o}return t===zg.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(jg||(jg={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(zg||(zg={}));var Wg=Object.freeze({error:function(t,e,r,n,i){return Hg.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:Vg,replace:function(t,e,r,n,i){return t===zg.OVERLONG?(n.push(i),0):(n.push(65533),Vg(t,e,r))}});function qg(t,e){null==e&&(e=Wg.error),t=Lg(t);for(var r=[],n=0;n<t.length;){var i=t[n++];if(i>>7!==0){var o=null,a=null;if(192===(224&i))o=1,a=127;else if(224===(240&i))o=2,a=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?zg.UNEXPECTED_CONTINUE:zg.BAD_PREFIX,n-1,t,r);continue}o=3,a=65535}if(n-1+o>=t.length)n+=e(zg.OVERRUN,n-1,t,r);else{for(var s=i&(1<<8-o-1)-1,u=0;u<o;u++){var l=t[n];if(128!=(192&l)){n+=e(zg.MISSING_CONTINUE,n,t,r),s=null;break}s=s<<6|63&l,n++}null!==s&&(s>1114111?n+=e(zg.OUT_OF_RANGE,n-1-o,t,r,s):s>=55296&&s<=57343?n+=e(zg.UTF16_SURROGATE,n-1-o,t,r,s):s<=a?n+=e(zg.OVERLONG,n-1-o,t,r,s):r.push(s))}}else r.push(i)}return r}function Xg(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jg.current;e!=jg.current&&(Hg.checkNormalize(),t=t.normalize(e));for(var r=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var o=t.charCodeAt(n);if(n>=t.length||56320!==(64512&o))throw new Error("invalid utf-8 string");var a=65536+((1023&i)<<10)+(1023&o);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return Lg(r)}function Zg(t){var e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function Kg(t,e){return'"'+qg(t,e).map((function(t){if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?Zg(t):Zg(55296+((t-=65536)>>10&1023))+Zg(56320+(1023&t))})).join("")+'"'}function Yg(t){return t.map((function(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t)))})).join("")}function Jg(t,e){return Yg(qg(t,e))}function $g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jg.current;return qg(Xg(t,e))}function Qg(t,e){e||(e=function(t){return[parseInt(t,16)]});var r=0,n={};return t.split(",").forEach((function(t){var i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function ty(t){var e=0;return t.split(",").map((function(t){var r=t.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:e+parseInt(r[0],16),h:e=parseInt(r[1],16)}}))}function ey(t,e){for(var r=0,n=0;n<e.length;n++){var i=e[n];if(t>=(r+=i.l)&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}var ry=ty("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),ny="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((function(t){return parseInt(t,16)})),iy=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],oy=Qg("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),ay=Qg("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),sy=Qg("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!==0)throw new Error("bad data");for(var e=[],r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),uy=ty("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function ly(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();var e,r=$g(t);e=r.map((function(t){if(ny.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];var e=function(t){var e=ey(t,iy);if(e)return[t+e.s];var r=oy[t];if(r)return r;var n=ay[t];return n?[t+n[0]]:sy[t]||null}(t);return e||[t]})),r=e.reduce((function(t,e){return e.forEach((function(e){t.push(e)})),t}),[]),(r=$g(Yg(r),jg.NFKC)).forEach((function(t){if(ey(t,uy))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),r.forEach((function(t){if(ey(t,ry))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));var n=Yg(r);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}function hy(t){var e=Xg(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Gg(Fg([e,"0x0000000000000000000000000000000000000000000000000000000000000000"]).slice(0,32))}function cy(t){var e=Lg(t);if(32!==e.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==e[31])throw new Error("invalid bytes32 string - no null terminator");for(var r=31;0===e[r-1];)r--;return Jg(e.slice(0,r))}var fy=new P("bytes/5.6.1");function dy(t){return!!t.toHexString}function py(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return py(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function vy(t){return _y(t)&&!(t.length%2)||gy(t)}function my(t){return"number"===typeof t&&t==t&&t%1===0}function gy(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!my(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!my(r)||r<0||r>=256)return!1}return!0}function yy(t,e){if(e||(e={}),"number"===typeof t){fy.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),py(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),dy(t)&&(t=t.toHexString()),_y(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":fy.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return py(new Uint8Array(i))}return gy(t)?py(new Uint8Array(t)):fy.throwArgumentError("invalid arrayify value","value",t)}function by(t){var e=yy(t);if(0===e.length)return e;for(var r=0;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function _y(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var wy="0123456789abcdef";function xy(t,e){if(e||(e={}),"number"===typeof t){fy.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=wy[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),dy(t))return t.toHexString();if(_y(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":fy.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(gy(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=wy[(240&o)>>4]+wy[15&o]}return n}return fy.throwArgumentError("invalid hexlify value","value",t)}function Ey(t){if("string"!==typeof t)t=xy(t);else if(!_y(t)||t.length%2)return null;return(t.length-2)/2}function My(t,e,r){return"string"!==typeof t?t=xy(t):(!_y(t)||t.length%2)&&fy.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Sy(t){var e="0x";return t.forEach((function(t){e+=xy(t).substring(2)})),e}function Ay(t,e){for("string"!==typeof t?t=xy(t):_y(t)||fy.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&fy.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function ky(t){var e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(vy(t)){var r=yy(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=xy(r.slice(0,32)),e.s=xy(r.slice(32,64))):65===r.length?(e.r=xy(r.slice(0,32)),e.s=xy(r.slice(32,64)),e.v=r[64]):fy.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:fy.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=xy(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){var n=function(t,e){(t=yy(t)).length>e&&fy.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(e);return r.set(t,e-t.length),py(r)}(yy(e._vs),32);e._vs=xy(n);var i=n[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=i:e.recoveryParam!==i&&fy.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),n[0]&=127;var o=xy(n);null==e.s?e.s=o:e.s!==o&&fy.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?fy.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{var a=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==a&&fy.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&_y(e.r)?e.r=Ay(e.r,32):fy.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&_y(e.s)?e.s=Ay(e.s,32):fy.throwArgumentError("signature missing or invalid s","signature",t);var s=yy(e.s);s[0]>=128&&fy.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(s[0]|=128);var u=xy(s);e._vs&&(_y(e._vs)||fy.throwArgumentError("signature invalid _vs","signature",t),e._vs=Ay(e._vs,32)),null==e._vs?e._vs=u:e._vs!==u&&fy.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var Ty=r(55456),Ry=r.n(Ty),Py=Ry().BN,Iy=new P("bignumber/5.6.2"),Ny={},Oy=9007199254740991;var Cy=!1,Dy=function(){function t(e,r){(0,g.Z)(this,t),e!==Ny&&Iy.throwError("cannot call constructor directly; use BigNumber.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"fromTwos",value:function(t){return Fy(By(this).fromTwos(t))}},{key:"toTwos",value:function(t){return Fy(By(this).toTwos(t))}},{key:"abs",value:function(){return"-"===this._hex[0]?t.from(this._hex.substring(1)):this}},{key:"add",value:function(t){return Fy(By(this).add(By(t)))}},{key:"sub",value:function(t){return Fy(By(this).sub(By(t)))}},{key:"div",value:function(e){return t.from(e).isZero()&&Uy("division-by-zero","div"),Fy(By(this).div(By(e)))}},{key:"mul",value:function(t){return Fy(By(this).mul(By(t)))}},{key:"mod",value:function(t){var e=By(t);return e.isNeg()&&Uy("division-by-zero","mod"),Fy(By(this).umod(e))}},{key:"pow",value:function(t){var e=By(t);return e.isNeg()&&Uy("negative-power","pow"),Fy(By(this).pow(e))}},{key:"and",value:function(t){var e=By(t);return(this.isNegative()||e.isNeg())&&Uy("unbound-bitwise-result","and"),Fy(By(this).and(e))}},{key:"or",value:function(t){var e=By(t);return(this.isNegative()||e.isNeg())&&Uy("unbound-bitwise-result","or"),Fy(By(this).or(e))}},{key:"xor",value:function(t){var e=By(t);return(this.isNegative()||e.isNeg())&&Uy("unbound-bitwise-result","xor"),Fy(By(this).xor(e))}},{key:"mask",value:function(t){return(this.isNegative()||t<0)&&Uy("negative-width","mask"),Fy(By(this).maskn(t))}},{key:"shl",value:function(t){return(this.isNegative()||t<0)&&Uy("negative-width","shl"),Fy(By(this).shln(t))}},{key:"shr",value:function(t){return(this.isNegative()||t<0)&&Uy("negative-width","shr"),Fy(By(this).shrn(t))}},{key:"eq",value:function(t){return By(this).eq(By(t))}},{key:"lt",value:function(t){return By(this).lt(By(t))}},{key:"lte",value:function(t){return By(this).lte(By(t))}},{key:"gt",value:function(t){return By(this).gt(By(t))}},{key:"gte",value:function(t){return By(this).gte(By(t))}},{key:"isNegative",value:function(){return"-"===this._hex[0]}},{key:"isZero",value:function(){return By(this).isZero()}},{key:"toNumber",value:function(){try{return By(this).toNumber()}catch(aw){Uy("overflow","toNumber",this.toString())}return null}},{key:"toBigInt",value:function(){try{return BigInt(this.toString())}catch(t){}return Iy.throwError("this platform does not support BigInt",P.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}},{key:"toString",value:function(){return arguments.length>0&&(10===arguments[0]?Cy||(Cy=!0,Iy.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Iy.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",P.errors.UNEXPECTED_ARGUMENT,{}):Iy.throwError("BigNumber.toString does not accept parameters",P.errors.UNEXPECTED_ARGUMENT,{})),By(this).toString(10)}},{key:"toHexString",value:function(){return this._hex}},{key:"toJSON",value:function(t){return{type:"BigNumber",hex:this.toHexString()}}}],[{key:"from",value:function(e){if(e instanceof t)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new t(Ny,Ly(e)):e.match(/^-?[0-9]+$/)?new t(Ny,Ly(new Py(e))):Iy.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&Uy("underflow","BigNumber.from",e),(e>=Oy||e<=-9007199254740991)&&Uy("overflow","BigNumber.from",e),t.from(String(e));var r=e;if("bigint"===typeof r)return t.from(r.toString());if(gy(r))return t.from(xy(r));if(r)if(r.toHexString){var n=r.toHexString();if("string"===typeof n)return t.from(n)}else{var i=r._hex;if(null==i&&"BigNumber"===r.type&&(i=r.hex),"string"===typeof i&&(_y(i)||"-"===i[0]&&_y(i.substring(1))))return t.from(i)}return Iy.throwArgumentError("invalid BigNumber value","value",e)}},{key:"isBigNumber",value:function(t){return!(!t||!t._isBigNumber)}}]),t}();function Ly(t){if("string"!==typeof t)return Ly(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Iy.throwArgumentError("invalid hex","value",t),"0x00"===(t=Ly(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Fy(t){return Dy.from(Ly(t))}function By(t){var e=Dy.from(t).toHexString();return"-"===e[0]?new Py("-"+e.substring(3),16):new Py(e.substring(2),16)}function Uy(t,e,r){var n={fault:t,operation:e};return null!=r&&(n.value=r),Iy.throwError(t,P.errors.NUMERIC_FAULT,n)}function Gy(t){return"0x"+kt().keccak_256(yy(t))}var jy=new P("address/5.6.1");function zy(t){_y(t,20)||jy.throwArgumentError("invalid address","address",t);for(var e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=e[n].charCodeAt(0);for(var i=yy(Gy(r)),o=0;o<40;o+=2)i[o>>1]>>4>=8&&(e[o]=e[o].toUpperCase()),(15&i[o>>1])>=8&&(e[o+1]=e[o+1].toUpperCase());return"0x"+e.join("")}for(var Hy={},Vy=0;Vy<10;Vy++)Hy[String(Vy)]=String(Vy);for(var Wy=0;Wy<26;Wy++)Hy[String.fromCharCode(65+Wy)]=String(10+Wy);var qy=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Xy(t){for(var e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((function(t){return Hy[t]})).join("");e.length>=qy;){var r=e.substring(0,qy);e=parseInt(r,10)%97+e.substring(r.length)}for(var n=String(98-parseInt(e,10)%97);n.length<2;)n="0"+n;return n}function Zy(t){var e,r=null;if("string"!==typeof t&&jy.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),r=zy(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&r!==t&&jy.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==Xy(t)&&jy.throwArgumentError("bad icap checksum","address",t),e=t.substring(4),r=new Py(e,36).toString(16);r.length<40;)r="0"+r;r=zy("0x"+r)}else jy.throwArgumentError("invalid address","address",t);return r}var Ky=Dy.from(0),Yy=new P("rlp/5.6.1");function Jy(t){for(var e=[];t;)e.unshift(255&t),t>>=8;return e}function $y(t,e,r){for(var n=0,i=0;i<r;i++)n=256*n+t[e+i];return n}function Qy(t){if(Array.isArray(t)){var e=[];if(t.forEach((function(t){e=e.concat(Qy(t))})),e.length<=55)return e.unshift(192+e.length),e;var r=Jy(e.length);return r.unshift(247+r.length),r.concat(e)}vy(t)||Yy.throwArgumentError("RLP object must be BytesLike","object",t);var n=Array.prototype.slice.call(yy(t));if(1===n.length&&n[0]<=127)return n;if(n.length<=55)return n.unshift(128+n.length),n;var i=Jy(n.length);return i.unshift(183+i.length),i.concat(n)}function tb(t){return xy(Qy(t))}function eb(t,e,r,n){for(var i=[];r<e+1+n;){var o=rb(t,r);i.push(o.result),(r+=o.consumed)>e+1+n&&Yy.throwError("child data too short",P.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function rb(t,e){if(0===t.length&&Yy.throwError("data too short",P.errors.BUFFER_OVERRUN,{}),t[e]>=248){var r=t[e]-247;e+1+r>t.length&&Yy.throwError("data short segment too short",P.errors.BUFFER_OVERRUN,{});var n=$y(t,e+1,r);return e+1+r+n>t.length&&Yy.throwError("data long segment too short",P.errors.BUFFER_OVERRUN,{}),eb(t,e,e+1+r,r+n)}if(t[e]>=192){var i=t[e]-192;return e+1+i>t.length&&Yy.throwError("data array too short",P.errors.BUFFER_OVERRUN,{}),eb(t,e,e+1,i)}if(t[e]>=184){var o=t[e]-183;e+1+o>t.length&&Yy.throwError("data array too short",P.errors.BUFFER_OVERRUN,{});var a=$y(t,e+1,o);return e+1+o+a>t.length&&Yy.throwError("data array too short",P.errors.BUFFER_OVERRUN,{}),{consumed:1+o+a,result:xy(t.slice(e+1+o,e+1+o+a))}}if(t[e]>=128){var s=t[e]-128;return e+1+s>t.length&&Yy.throwError("data too short",P.errors.BUFFER_OVERRUN,{}),{consumed:1+s,result:xy(t.slice(e+1,e+1+s))}}return{consumed:1,result:xy(t[e])}}function nb(t){var e=yy(t),r=rb(e,0);return r.consumed!==e.length&&Yy.throwArgumentError("invalid rlp data","data",t),r.result}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function ib(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&r.path)}},t(r,r.exports),r.exports}var ob=ab;function ab(t,e){if(!t)throw new Error(e||"Assertion failed")}ab.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var sb=ib((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!==typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),ub=ib((function(t,e){var r=e;r.assert=ob,r.toArray=sb.toArray,r.zero2=sb.zero2,r.toHex=sb.toHex,r.encode=sb.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,o=t.clone(),a=0;a<n.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,n[a]=s,o.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,o=0;t.cmpn(-i)>0||e.cmpn(-o)>0;){var a,s,u=t.andln(3)+i&3,l=e.andln(3)+o&3;3===u&&(u=-1),3===l&&(l=-1),a=0===(1&u)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==l?u:-u,r[0].push(a),s=0===(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==u?l:-l,r[1].push(s),2*i===a+1&&(i=1-i),2*o===s+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"===typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new(Ry())(t,"hex","le")}})),lb=ub.getNAF,hb=ub.getJSF,cb=ub.assert;function fb(t,e){this.type=t,this.p=new(Ry())(e.p,16),this.red=e.prime?Ry().red(e.prime):Ry().mont(this.p),this.zero=new(Ry())(0).toRed(this.red),this.one=new(Ry())(1).toRed(this.red),this.two=new(Ry())(2).toRed(this.red),this.n=e.n&&new(Ry())(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var db=fb;function pb(t,e){this.curve=t,this.type=e,this.precomputed=null}fb.prototype.point=function(){throw new Error("Not implemented")},fb.prototype.validate=function(){throw new Error("Not implemented")},fb.prototype._fixedNafMul=function(t,e){cb(t.precomputed);var r=t._getDoubles(),n=lb(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,a,s=[];for(o=0;o<n.length;o+=r.step){a=0;for(var u=o+r.step-1;u>=o;u--)a=(a<<1)+n[u];s.push(a)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),c=i;c>0;c--){for(o=0;o<s.length;o++)(a=s[o])===c?h=h.mixedAdd(r.points[o]):a===-c&&(h=h.mixedAdd(r.points[o].neg()));l=l.add(h)}return l.toP()},fb.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=lb(e,r,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var u=0;s>=0&&0===o[s];s--)u++;if(s>=0&&u++,a=a.dblp(u),s<0)break;var l=o[s];cb(0!==l),a="affine"===t.type?l>0?a.mixedAdd(i[l-1>>1]):a.mixedAdd(i[-l-1>>1].neg()):l>0?a.add(i[l-1>>1]):a.add(i[-l-1>>1].neg())}return"affine"===t.type?a.toP():a},fb.prototype._wnafMulAdd=function(t,e,r,n,i){var o,a,s,u=this._wnafT1,l=this._wnafT2,h=this._wnafT3,c=0;for(o=0;o<n;o++){var f=(s=e[o])._getNAFPoints(t);u[o]=f.wnd,l[o]=f.points}for(o=n-1;o>=1;o-=2){var d=o-1,p=o;if(1===u[d]&&1===u[p]){var v=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(v[1]=e[d].add(e[p]),v[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(v[1]=e[d].toJ().mixedAdd(e[p]),v[2]=e[d].add(e[p].neg())):(v[1]=e[d].toJ().mixedAdd(e[p]),v[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=hb(r[d],r[p]);for(c=Math.max(g[0].length,c),h[d]=new Array(c),h[p]=new Array(c),a=0;a<c;a++){var y=0|g[0][a],b=0|g[1][a];h[d][a]=m[3*(y+1)+(b+1)],h[p][a]=0,l[d]=v}}else h[d]=lb(r[d],u[d],this._bitLength),h[p]=lb(r[p],u[p],this._bitLength),c=Math.max(h[d].length,c),c=Math.max(h[p].length,c)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(o=c;o>=0;o--){for(var x=0;o>=0;){var E=!0;for(a=0;a<n;a++)w[a]=0|h[a][o],0!==w[a]&&(E=!1);if(!E)break;x++,o--}if(o>=0&&x++,_=_.dblp(x),o<0)break;for(a=0;a<n;a++){var M=w[a];0!==M&&(M>0?s=l[a][M-1>>1]:M<0&&(s=l[a][-M-1>>1].neg()),_="affine"===s.type?_.mixedAdd(s):_.add(s))}}for(o=0;o<n;o++)l[o]=null;return i?_:_.toP()},fb.BasePoint=pb,pb.prototype.eq=function(){throw new Error("Not implemented")},pb.prototype.validate=function(){return this.curve.validate(this)},fb.prototype.decodePoint=function(t,e){t=ub.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*r)return 6===t[0]?cb(t[t.length-1]%2===0):7===t[0]&&cb(t[t.length-1]%2===1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},pb.prototype.encodeCompressed=function(t){return this.encode(t,!0)},pb.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},pb.prototype.encode=function(t,e){return ub.encode(this._encode(e),t)},pb.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},pb.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},pb.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},pb.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},pb.prototype._getBeta=function(){return null},pb.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var vb=ib((function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),mb=ub.assert;function gb(t){db.call(this,"short",t),this.a=new(Ry())(t.a,16).toRed(this.red),this.b=new(Ry())(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}vb(gb,db);var yb=gb;function bb(t,e,r,n){db.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Ry())(e,16),this.y=new(Ry())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function _b(t,e,r,n){db.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Ry())(0)):(this.x=new(Ry())(e,16),this.y=new(Ry())(r,16),this.z=new(Ry())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}gb.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new(Ry())(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new(Ry())(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],mb(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new(Ry())(t.a,16),b:new(Ry())(t.b,16)}})):this._getEndoBasis(r)}}},gb.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Ry().mont(t),r=new(Ry())(2).toRed(e).redInvm(),n=r.redNeg(),i=new(Ry())(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},gb.prototype._getEndoBasis=function(t){for(var e,r,n,i,o,a,s,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),c=t,f=this.n.clone(),d=new(Ry())(1),p=new(Ry())(0),v=new(Ry())(0),m=new(Ry())(1),g=0;0!==c.cmpn(0);){var y=f.div(c);u=f.sub(y.mul(c)),l=v.sub(y.mul(d));var b=m.sub(y.mul(p));if(!n&&u.cmp(h)<0)e=s.neg(),r=d,n=u.neg(),i=l;else if(n&&2===++g)break;s=u,f=c,c=u,v=d,d=l,m=p,p=b}o=u.neg(),a=l;var _=n.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=e,a=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},gb.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),o=r.b.neg().mul(t).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),u=i.mul(r.b),l=o.mul(n.b);return{k1:t.sub(a).sub(s),k2:u.add(l).neg()}},gb.prototype.pointFromX=function(t,e){(t=new(Ry())(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},gb.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},gb.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[2*o]=s,n[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var l=this._wnafMulAdd(1,n,i,2*o,r),h=0;h<2*o;h++)n[h]=null,i[h]=null;return l},vb(bb,db.BasePoint),gb.prototype.point=function(t,e,r){return new bb(this,t,e,r)},gb.prototype.pointFromJSON=function(t,e){return bb.fromJSON(this,t,e)},bb.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},bb.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},bb.fromJSON=function(t,e,r){"string"===typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var o=e[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},bb.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},bb.prototype.isInfinity=function(){return this.inf},bb.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},bb.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},bb.prototype.getX=function(){return this.x.fromRed()},bb.prototype.getY=function(){return this.y.fromRed()},bb.prototype.mul=function(t){return t=new(Ry())(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},bb.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},bb.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},bb.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},bb.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},bb.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},vb(_b,db.BasePoint),gb.prototype.jpoint=function(t,e,r){return new _b(this,t,e,r)},_b.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},_b.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},_b.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),h=l.redMul(s),c=n.redMul(l),f=u.redSqr().redIAdd(h).redISub(c).redISub(c),d=u.redMul(c.redISub(f)).redISub(o.redMul(h)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(f,d,p)},_b.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),l=u.redMul(a),h=r.redMul(u),c=s.redSqr().redIAdd(l).redISub(h).redISub(h),f=s.redMul(h.redISub(c)).redISub(i.redMul(l)),d=this.z.redMul(a);return this.curve.jpoint(c,f,d)},_b.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),l=a.redAdd(a);for(e=0;e<t;e++){var h=o.redSqr(),c=l.redSqr(),f=c.redSqr(),d=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(u)),p=o.redMul(c),v=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(v),g=d.redMul(m);g=g.redIAdd(g).redISub(f);var y=l.redMul(s);e+1<t&&(u=u.redMul(f)),o=v,s=y,l=g}return this.curve.jpoint(o,l.redMul(i),s)},_b.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},_b.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n),u=s.redSqr().redISub(a).redISub(a),l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),t=u,e=s.redMul(a.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),c=this.y.redSqr(),f=c.redSqr(),d=this.x.redAdd(c).redSqr().redISub(h).redISub(f);d=d.redIAdd(d);var p=h.redAdd(h).redIAdd(h),v=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),t=v.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},_b.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);t=u;var l=o.redIAdd(o);l=(l=l.redIAdd(l)).redIAdd(l),e=s.redMul(a.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),c=this.y.redSqr(),f=this.x.redMul(c),d=this.x.redSub(h).redMul(this.x.redAdd(h));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),v=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(v),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(h);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},_b.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=e.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e),l=(u=u.redIAdd(u)).redMul(a),h=s.redSqr().redISub(l.redAdd(l)),c=l.redISub(h),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=s.redMul(c).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,d,p)},_b.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(n),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),h=e.redMul(l);h=(h=h.redIAdd(h)).redIAdd(h);var c=this.x.redMul(s).redISub(h);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(a.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(c,f,d)},_b.prototype.mul=function(t,e){return t=new(Ry())(t,e),this.curve._wnafMul(this,t)},_b.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},_b.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},_b.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},_b.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var wb=ib((function(t,e){var r=e;r.base=db,r.short=yb,r.mont=null,r.edwards=null})),xb=ib((function(t,e){var r,n=e,i=ub.assert;function o(t){"short"===t.type?this.curve=new wb.short(t):"edwards"===t.type?this.curve=new wb.edwards(t):this.curve=new wb.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new o(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:mr().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:mr().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:mr().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:mr().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:mr().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mr().sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:mr().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(s){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:mr().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Eb(t){if(!(this instanceof Eb))return new Eb(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=sb.toArray(t.entropy,t.entropyEnc||"hex"),r=sb.toArray(t.nonce,t.nonceEnc||"hex"),n=sb.toArray(t.pers,t.persEnc||"hex");ob(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Mb=Eb;Eb.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Eb.prototype._hmac=function(){return new(mr().hmac)(this.hash,this.K)},Eb.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Eb.prototype.reseed=function(t,e,r,n){"string"!==typeof e&&(n=r,r=e,e=null),t=sb.toArray(t,e),r=sb.toArray(r,n),ob(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Eb.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(n=r,r=e,e=null),r&&(r=sb.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(r),this._reseed++,sb.encode(o,e)};var Sb=ub.assert;function Ab(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var kb=Ab;Ab.fromPublic=function(t,e,r){return e instanceof Ab?e:new Ab(t,{pub:e,pubEnc:r})},Ab.fromPrivate=function(t,e,r){return e instanceof Ab?e:new Ab(t,{priv:e,privEnc:r})},Ab.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ab.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Ab.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Ab.prototype._importPrivate=function(t,e){this.priv=new(Ry())(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Ab.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Sb(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Sb(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Ab.prototype.derive=function(t){return t.validate()||Sb(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Ab.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Ab.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Ab.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Tb=ub.assert;function Rb(t,e){if(t instanceof Rb)return t;this._importDER(t,e)||(Tb(t.r&&t.s,"Signature without r or s"),this.r=new(Ry())(t.r,16),this.s=new(Ry())(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Pb=Rb;function Ib(){this.place=0}function Nb(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,a=e.place;o<n;o++,a++)i<<=8,i|=t[a],i>>>=0;return!(i<=127)&&(e.place=a,i)}function Ob(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Cb(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Rb.prototype._importDER=function(t,e){t=ub.toArray(t,e);var r=new Ib;if(48!==t[r.place++])return!1;var n=Nb(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=Nb(t,r);if(!1===i)return!1;var o=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var a=Nb(t,r);if(!1===a)return!1;if(t.length!==a+r.place)return!1;var s=t.slice(r.place,a+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}return this.r=new(Ry())(o),this.s=new(Ry())(s),this.recoveryParam=null,!0},Rb.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Ob(e),r=Ob(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];Cb(n,e.length),(n=n.concat(e)).push(2),Cb(n,r.length);var i=n.concat(r),o=[48];return Cb(o,i.length),o=o.concat(i),ub.encode(o,t)};var Db=function(){throw new Error("unsupported")},Lb=ub.assert;function Fb(t){if(!(this instanceof Fb))return new Fb(t);"string"===typeof t&&(Lb(Object.prototype.hasOwnProperty.call(xb,t),"Unknown curve "+t),t=xb[t]),t instanceof xb.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Bb=Fb;Fb.prototype.keyPair=function(t){return new kb(this,t)},Fb.prototype.keyFromPrivate=function(t,e){return kb.fromPrivate(this,t,e)},Fb.prototype.keyFromPublic=function(t,e){return kb.fromPublic(this,t,e)},Fb.prototype.genKeyPair=function(t){t||(t={});for(var e=new Mb({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Db(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(Ry())(2));;){var i=new(Ry())(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Fb.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Fb.prototype.sign=function(t,e,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new(Ry())(t,16));for(var i=this.n.byteLength(),o=e.getPrivate().toArray("be",i),a=t.toArray("be",i),s=new Mb({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new(Ry())(1)),l=0;;l++){var h=n.k?n.k(l):new(Ry())(s.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(u)>=0)){var c=this.g.mul(h);if(!c.isInfinity()){var f=c.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=h.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var v=(c.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),v^=1),new Pb({r:d,s:p,recoveryParam:v})}}}}}},Fb.prototype.verify=function(t,e,r,n){t=this._truncateToN(new(Ry())(t,16)),r=this.keyFromPublic(r,n);var i=(e=new Pb(e,"hex")).r,o=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,s=o.invm(this.n),u=s.mul(t).umod(this.n),l=s.mul(i).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),l)).isInfinity()&&a.eqXToP(i):!(a=this.g.mulAdd(u,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(i)},Fb.prototype.recoverPubKey=function(t,e,r,n){Lb((3&r)===r,"The recovery param is more than two bits"),e=new Pb(e,n);var i=this.n,o=new(Ry())(t),a=e.r,s=e.s,u=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),u):this.curve.pointFromX(a,u);var h=e.r.invm(i),c=i.sub(o).mul(h).umod(i),f=s.mul(h).umod(i);return this.g.mulAdd(c,a,f)},Fb.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Pb(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Ub=ib((function(t,e){var r=e;r.version="6.5.4",r.utils=ub,r.rand=function(){throw new Error("unsupported")},r.curve=wb,r.curves=xb,r.ec=Bb,r.eddsa=null})).ec,Gb=new P("signing-key/5.6.2"),jb=null;function zb(){return jb||(jb=new Ub("secp256k1")),jb}var Hb=function(){function t(e){(0,g.Z)(this,t),ct(this,"curve","secp256k1"),ct(this,"privateKey",xy(e)),32!==Ey(this.privateKey)&&Gb.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");var r=zb().keyFromPrivate(yy(this.privateKey));ct(this,"publicKey","0x"+r.getPublic(!1,"hex")),ct(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ct(this,"_isSigningKey",!0)}return(0,y.Z)(t,[{key:"_addPoint",value:function(t){var e=zb().keyFromPublic(yy(this.publicKey)),r=zb().keyFromPublic(yy(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}},{key:"signDigest",value:function(t){var e=zb().keyFromPrivate(yy(this.privateKey)),r=yy(t);32!==r.length&&Gb.throwArgumentError("bad digest length","digest",t);var n=e.sign(r,{canonical:!0});return ky({recoveryParam:n.recoveryParam,r:Ay("0x"+n.r.toString(16),32),s:Ay("0x"+n.s.toString(16),32)})}},{key:"computeSharedSecret",value:function(t){var e=zb().keyFromPrivate(yy(this.privateKey)),r=zb().keyFromPublic(yy(Vb(t)));return Ay("0x"+e.derive(r.getPublic()).toString(16),32)}}],[{key:"isSigningKey",value:function(t){return!(!t||!t._isSigningKey)}}]),t}();function Vb(t,e){var r=yy(t);if(32===r.length){var n=new Hb(r);return e?"0x"+zb().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}return 33===r.length?e?xy(r):"0x"+zb().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+zb().keyFromPublic(r).getPublic(!0,"hex"):xy(r):Gb.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Wb,qb=new P("transactions/5.6.0");function Xb(t){return"0x"===t?null:Zy(t)}function Zb(t){return"0x"===t?Ky:Dy.from(t)}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Wb||(Wb={}));var Kb=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Yb={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Jb(t){return Zy(My(Gy(My(Vb(t),1)),12))}function $b(t,e){return Jb(function(t,e){var r=ky(e),n={r:yy(r.r),s:yy(r.s)};return"0x"+zb().recoverPubKey(yy(t),n,r.recoveryParam).encode("hex",!1)}(yy(t),e))}function Qb(t,e){var r=by(Dy.from(t).toHexString());return r.length>32&&qb.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function t_(t,e){return{address:Zy(t),storageKeys:(e||[]).map((function(e,r){return 32!==Ey(e)&&qb.throwArgumentError("invalid access list storageKey","accessList[".concat(t,":").concat(r,"]"),e),e.toLowerCase()}))}}function e_(t){if(Array.isArray(t))return t.map((function(t,e){return Array.isArray(t)?(t.length>2&&qb.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value[".concat(e,"]"),t),t_(t[0],t[1])):t_(t.address,t.storageKeys)}));var e=Object.keys(t).map((function(e){var r=t[e].reduce((function(t,e){return t[e]=!0,t}),{});return t_(e,Object.keys(r).sort())}));return e.sort((function(t,e){return t.address.localeCompare(e.address)})),e}function r_(t){return e_(t).map((function(t){return[t.address,t.storageKeys]}))}function n_(t,e){if(null!=t.gasPrice){var r=Dy.from(t.gasPrice),n=Dy.from(t.maxFeePerGas||0);r.eq(n)||qb.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:r,maxFeePerGas:n})}var i=[Qb(t.chainId||0,"chainId"),Qb(t.nonce||0,"nonce"),Qb(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Qb(t.maxFeePerGas||0,"maxFeePerGas"),Qb(t.gasLimit||0,"gasLimit"),null!=t.to?Zy(t.to):"0x",Qb(t.value||0,"value"),t.data||"0x",r_(t.accessList||[])];if(e){var o=ky(e);i.push(Qb(o.recoveryParam,"recoveryParam")),i.push(by(o.r)),i.push(by(o.s))}return Sy(["0x02",tb(i)])}function i_(t,e){var r=[Qb(t.chainId||0,"chainId"),Qb(t.nonce||0,"nonce"),Qb(t.gasPrice||0,"gasPrice"),Qb(t.gasLimit||0,"gasLimit"),null!=t.to?Zy(t.to):"0x",Qb(t.value||0,"value"),t.data||"0x",r_(t.accessList||[])];if(e){var n=ky(e);r.push(Qb(n.recoveryParam,"recoveryParam")),r.push(by(n.r)),r.push(by(n.s))}return Sy(["0x01",tb(r)])}function o_(t,e){if(null==t.type||0===t.type)return null!=t.accessList&&qb.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),function(t,e){pt(t,Yb);var r=[];Kb.forEach((function(e){var n=t[e.name]||[],i={};e.numeric&&(i.hexPad="left"),n=yy(xy(n,i)),e.length&&n.length!==e.length&&n.length>0&&qb.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,n),e.maxLength&&(n=by(n)).length>e.maxLength&&qb.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,n),r.push(xy(n))}));var n=0;if(null!=t.chainId?"number"!==typeof(n=t.chainId)&&qb.throwArgumentError("invalid transaction.chainId","transaction",t):e&&!vy(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),0!==n&&(r.push(xy(n)),r.push("0x"),r.push("0x")),!e)return tb(r);var i=ky(e),o=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),o+=2*n+8,i.v>28&&i.v!==o&&qb.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==o&&qb.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(xy(o)),r.push(by(yy(i.r))),r.push(by(yy(i.s))),tb(r)}(t,e);switch(t.type){case 1:return i_(t,e);case 2:return n_(t,e)}return qb.throwError("unsupported transaction type: ".concat(t.type),P.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function a_(t,e,r){try{var n=Zb(e[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");t.v=n}catch(aw){qb.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Ay(e[1],32),t.s=Ay(e[2],32);try{var i=Gy(r(t));t.from=$b(i,{r:t.r,s:t.s,recoveryParam:t.v})}catch(aw){console.log(aw)}}function s_(t){var e=yy(t);if(e[0]>127)return function(t){var e=nb(t);9!==e.length&&6!==e.length&&qb.throwArgumentError("invalid raw transaction","rawTransaction",t);var r={nonce:Zb(e[0]).toNumber(),gasPrice:Zb(e[1]),gasLimit:Zb(e[2]),to:Xb(e[3]),value:Zb(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=Dy.from(e[6]).toNumber()}catch(aw){return console.log(aw),r}if(r.r=Ay(e[7],32),r.s=Ay(e[8],32),Dy.from(r.r).isZero()&&Dy.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);var n=r.v-27,i=e.slice(0,6);0!==r.chainId&&(i.push(xy(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);var o=Gy(tb(i));try{r.from=$b(o,{r:xy(r.r),s:xy(r.s),recoveryParam:n})}catch(aw){console.log(aw)}r.hash=Gy(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){var e=nb(t.slice(1));8!==e.length&&11!==e.length&&qb.throwArgumentError("invalid component count for transaction type: 1","payload",xy(t));var r={type:1,chainId:Zb(e[0]).toNumber(),nonce:Zb(e[1]).toNumber(),gasPrice:Zb(e[2]),gasLimit:Zb(e[3]),to:Xb(e[4]),value:Zb(e[5]),data:e[6],accessList:e_(e[7])};return 8===e.length||(r.hash=Gy(t),a_(r,e.slice(8),i_)),r}(e);case 2:return function(t){var e=nb(t.slice(1));9!==e.length&&12!==e.length&&qb.throwArgumentError("invalid component count for transaction type: 2","payload",xy(t));var r=Zb(e[2]),n=Zb(e[3]),i={type:2,chainId:Zb(e[0]).toNumber(),nonce:Zb(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Zb(e[4]),to:Xb(e[5]),value:Zb(e[6]),data:e[7],accessList:e_(e[8])};return 9===e.length||(i.hash=Gy(t),a_(i,e.slice(9),n_)),i}(e)}return qb.throwError("unsupported transaction type: ".concat(e[0]),P.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}var u_=new P($),l_={},h_=it.from(0),c_=it.from(-1);function f_(t,e,r,n){var i={fault:e,operation:r};return void 0!==n&&(i.value=n),u_.throwError(t,P.errors.NUMERIC_FAULT,i)}for(var d_="0";d_.length<256;)d_+=d_;function p_(t){if("number"!==typeof t)try{t=it.from(t).toNumber()}catch(e){}return"number"===typeof t&&t>=0&&t<=256&&!(t%1)?"1"+d_.substring(0,t):u_.throwArgumentError("invalid decimal size","decimals",t)}function v_(t,e){null==e&&(e=0);var r=p_(e),n=(t=it.from(t)).lt(h_);n&&(t=t.mul(c_));for(var i=t.mod(r).toString();i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];var o=t.div(r).toString();return t=1===r.length?o:o+"."+i,n&&(t="-"+t),t}function m_(t,e){null==e&&(e=0);var r=p_(e);"string"===typeof t&&t.match(/^-?[0-9.]+$/)||u_.throwArgumentError("invalid decimal value","value",t);var n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&u_.throwArgumentError("missing value","value",t);var i=t.split(".");i.length>2&&u_.throwArgumentError("too many decimal points","value",t);var o=i[0],a=i[1];for(o||(o="0"),a||(a="0");"0"===a[a.length-1];)a=a.substring(0,a.length-1);for(a.length>r.length-1&&f_("fractional component exceeds decimals","underflow","parseFixed"),""===a&&(a="0");a.length<r.length-1;)a+="0";var s=it.from(o),u=it.from(a),l=s.mul(r).add(u);return n&&(l=l.mul(c_)),l}var g_=function(){function t(e,r,n,i){(0,g.Z)(this,t),e!==l_&&u_.throwError("cannot use FixedFormat constructor; use FixedFormat.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=p_(i),Object.freeze(this)}return(0,y.Z)(t,null,[{key:"from",value:function(e){if(e instanceof t)return e;"number"===typeof e&&(e="fixed128x".concat(e));var r=!0,n=128,i=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)r=!1;else{var o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||u_.throwArgumentError("invalid fixed format","format",e),r="u"!==o[1],n=parseInt(o[2]),i=parseInt(o[3])}else if(e){var a=function(t,r,n){return null==e[t]?n:(typeof e[t]!==r&&u_.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t])};r=a("signed","boolean",r),n=a("width","number",n),i=a("decimals","number",i)}return n%8&&u_.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&u_.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new t(l_,r,n,i)}}]),t}(),y_=function(){function t(e,r,n,i){(0,g.Z)(this,t),e!==l_&&u_.throwError("cannot use FixedNumber constructor; use FixedNumber.from",P.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}return(0,y.Z)(t,[{key:"_checkFormat",value:function(t){this.format.name!==t.format.name&&u_.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}},{key:"addUnsafe",value:function(e){this._checkFormat(e);var r=m_(this._value,this.format.decimals),n=m_(e._value,e.format.decimals);return t.fromValue(r.add(n),this.format.decimals,this.format)}},{key:"subUnsafe",value:function(e){this._checkFormat(e);var r=m_(this._value,this.format.decimals),n=m_(e._value,e.format.decimals);return t.fromValue(r.sub(n),this.format.decimals,this.format)}},{key:"mulUnsafe",value:function(e){this._checkFormat(e);var r=m_(this._value,this.format.decimals),n=m_(e._value,e.format.decimals);return t.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}},{key:"divUnsafe",value:function(e){this._checkFormat(e);var r=m_(this._value,this.format.decimals),n=m_(e._value,e.format.decimals);return t.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}},{key:"floor",value:function(){var e=this.toString().split(".");1===e.length&&e.push("0");var r=t.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(b_.toFormat(r.format))),r}},{key:"ceiling",value:function(){var e=this.toString().split(".");1===e.length&&e.push("0");var r=t.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(b_.toFormat(r.format))),r}},{key:"round",value:function(e){null==e&&(e=0);var r=this.toString().split(".");if(1===r.length&&r.push("0"),(e<0||e>80||e%1)&&u_.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;var n=t.from("1"+d_.substring(0,e),this.format),i=__.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}},{key:"isZero",value:function(){return"0.0"===this._value||"0"===this._value}},{key:"isNegative",value:function(){return"-"===this._value[0]}},{key:"toString",value:function(){return this._value}},{key:"toHexString",value:function(t){return null==t?this._hex:(t%8&&u_.throwArgumentError("invalid byte width","width",t),Z(it.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8))}},{key:"toUnsafeFloat",value:function(){return parseFloat(this.toString())}},{key:"toFormat",value:function(e){return t.fromString(this._value,e)}}],[{key:"fromValue",value:function(e,r,n){return null!=n||null==r||function(t){return null!=t&&(it.isBigNumber(t)||"number"===typeof t&&t%1===0||"string"===typeof t&&!!t.match(/^-?[0-9]+$/)||j(t)||"bigint"===typeof t||L(t))}(r)||(n=r,r=null),null==r&&(r=0),null==n&&(n="fixed"),t.fromString(v_(e,r),g_.from(n))}},{key:"fromString",value:function(e,r){null==r&&(r="fixed");var n=g_.from(r),i=m_(e,n.decimals);!n.signed&&i.lt(h_)&&f_("unsigned value cannot be negative","overflow","value",e);var o=null;o=n.signed?i.toTwos(n.width).toHexString():Z(o=i.toHexString(),n.width/8);var a=v_(i,n.decimals);return new t(l_,o,a,n)}},{key:"fromBytes",value:function(e,r){null==r&&(r="fixed");var n=g_.from(r);if(F(e).length>n.width/8)throw new Error("overflow");var i=it.from(e);n.signed&&(i=i.fromTwos(n.width));var o=i.toTwos((n.signed?0:1)+n.width).toHexString(),a=v_(i,n.decimals);return new t(l_,o,a,n)}},{key:"from",value:function(e,r){if("string"===typeof e)return t.fromString(e,r);if(L(e))return t.fromBytes(e,r);try{return t.fromValue(e,0,r)}catch(aw){if(aw.code!==P.errors.INVALID_ARGUMENT)throw aw}return u_.throwArgumentError("invalid FixedNumber value","value",e)}},{key:"isFixedNumber",value:function(t){return!(!t||!t._isFixedNumber)}}]),t}(),b_=y_.from(1),__=y_.from("0.5"),w_=new P("units/5.6.0"),x_=["wei","kwei","mwei","gwei","szabo","finney","ether"];function E_(t){var e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||"."===t||"-."===t)&&w_.throwArgumentError("invalid value","value",t);var r=e[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");var i="";for(2===e.length&&(i="."+(e[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);for(var o=[];r.length;){if(r.length<=3){o.unshift(r);break}var a=r.length-3;o.unshift(r.substring(a)),r=r.substring(0,a)}return n+o.join(",")+i}function M_(t,e){if("string"===typeof e){var r=x_.indexOf(e);-1!==r&&(e=3*r)}return v_(t,null!=e?e:18)}function S_(t,e){if("string"!==typeof t&&w_.throwArgumentError("value must be a string","value",t),"string"===typeof e){var r=x_.indexOf(e);-1!==r&&(e=3*r)}return m_(t,null!=e?e:18)}function A_(t){return M_(t,18)}function k_(t){return S_(t,18)}var T_=new P("bytes/5.6.1");function R_(t){return!!t.toHexString}function P_(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return P_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function I_(t){return D_(t)&&!(t.length%2)||O_(t)}function N_(t){return"number"===typeof t&&t==t&&t%1===0}function O_(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!N_(t.length)||t.length<0)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(!N_(r)||r<0||r>=256)return!1}return!0}function C_(t,e){if(e||(e={}),"number"===typeof t){T_.checkSafeUint53(t,"invalid arrayify value");for(var r=[];t;)r.unshift(255&t),t=parseInt(String(t/256));return 0===r.length&&r.push(0),P_(new Uint8Array(r))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),R_(t)&&(t=t.toHexString()),D_(t)){var n=t.substring(2);n.length%2&&("left"===e.hexPad?n="0"+n:"right"===e.hexPad?n+="0":T_.throwArgumentError("hex data is odd-length","value",t));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return P_(new Uint8Array(i))}return O_(t)?P_(new Uint8Array(t)):T_.throwArgumentError("invalid arrayify value","value",t)}function D_(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}var L_="0123456789abcdef";function F_(t,e){if(e||(e={}),"number"===typeof t){T_.checkSafeUint53(t,"invalid hexlify value");for(var r="";t;)r=L_[15&t]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"===typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),R_(t))return t.toHexString();if(D_(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":T_.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(O_(t)){for(var n="0x",i=0;i<t.length;i++){var o=t[i];n+=L_[(240&o)>>4]+L_[15&o]}return n}return T_.throwArgumentError("invalid hexlify value","value",t)}function B_(t){t=atob(t);for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r));return C_(e)}function U_(t){t=C_(t);for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var G_,j_,z_=new P("strings/5.6.1");function H_(t,e,r,n,i){if(t===j_.BAD_PREFIX||t===j_.UNEXPECTED_CONTINUE){for(var o=0,a=e+1;a<r.length&&r[a]>>6===2;a++)o++;return o}return t===j_.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(G_||(G_={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(j_||(j_={}));var V_=Object.freeze({error:function(t,e,r,n,i){return z_.throwArgumentError("invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",r)},ignore:H_,replace:function(t,e,r,n,i){return t===j_.OVERLONG?(n.push(i),0):(n.push(65533),H_(t,e,r))}});function W_(t,e){null==e&&(e=V_.error),t=C_(t);for(var r=[],n=0;n<t.length;){var i=t[n++];if(i>>7!==0){var o=null,a=null;if(192===(224&i))o=1,a=127;else if(224===(240&i))o=2,a=2047;else{if(240!==(248&i)){n+=e(128===(192&i)?j_.UNEXPECTED_CONTINUE:j_.BAD_PREFIX,n-1,t,r);continue}o=3,a=65535}if(n-1+o>=t.length)n+=e(j_.OVERRUN,n-1,t,r);else{for(var s=i&(1<<8-o-1)-1,u=0;u<o;u++){var l=t[n];if(128!=(192&l)){n+=e(j_.MISSING_CONTINUE,n,t,r),s=null;break}s=s<<6|63&l,n++}null!==s&&(s>1114111?n+=e(j_.OUT_OF_RANGE,n-1-o,t,r,s):s>=55296&&s<=57343?n+=e(j_.UTF16_SURROGATE,n-1-o,t,r,s):s<=a?n+=e(j_.OVERLONG,n-1-o,t,r,s):r.push(s))}}else r.push(i)}return r}function q_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G_.current;e!=G_.current&&(z_.checkNormalize(),t=t.normalize(e));for(var r=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var o=t.charCodeAt(n);if(n>=t.length||56320!==(64512&o))throw new Error("invalid utf-8 string");var a=65536+((1023&i)<<10)+(1023&o);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return C_(r)}function X_(t,e){return W_(t,e).map((function(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t)))})).join("")}var Z_=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))};function K_(t,e){return Z_(this,void 0,void 0,_().mark((function r(){var n,i,o,a;return _().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return null==e&&(e={}),n={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0},!0!==e.skipFetchSetup&&(n.mode="cors",n.cache="no-cache",n.credentials="same-origin",n.redirect="follow",n.referrer="client"),r.next=6,fetch(t,n);case 6:return i=r.sent,r.next=9,i.arrayBuffer();case 9:return o=r.sent,a={},i.headers.forEach?i.headers.forEach((function(t,e){a[e.toLowerCase()]=t})):i.headers.keys().forEach((function(t){a[t.toLowerCase()]=i.headers.get(t)})),r.abrupt("return",{headers:a,statusCode:i.status,statusMessage:i.statusText,body:C_(new Uint8Array(o))});case 13:case"end":return r.stop()}}),r)})))}var Y_=function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},J_=new P("web/5.6.0");function $_(t){return new Promise((function(e){setTimeout(e,t)}))}function Q_(t,e){if(null==t)return null;if("string"===typeof t)return t;if(I_(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return X_(t)}catch(aw){}return F_(t)}return t}function tw(t,e,r){var n="object"===typeof t&&null!=t.throttleLimit?t.throttleLimit:12;J_.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);var i="object"===typeof t?t.throttleCallback:null,o="object"===typeof t&&"number"===typeof t.throttleSlotInterval?t.throttleSlotInterval:100;J_.assertArgument(o>0&&o%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);var a="object"===typeof t&&!!t.errorPassThrough,s={},u=null,l={method:"GET"},h=!1,c=12e4;if("string"===typeof t)u=t;else if("object"===typeof t){if(null!=t&&null!=t.url||J_.throwArgumentError("missing URL","connection.url",t),u=t.url,"number"===typeof t.timeout&&t.timeout>0&&(c=t.timeout),t.headers)for(var f in t.headers)s[f.toLowerCase()]={key:f,value:String(t.headers[f])},["if-none-match","if-modified-since"].indexOf(f.toLowerCase())>=0&&(h=!0);if(l.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==u.substring(0,6)&&!0!==t.allowInsecureAuthentication&&J_.throwError("basic authentication requires a secure https url",P.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:t.user,password:"[REDACTED]"});var d=t.user+":"+t.password;s.authorization={key:"Authorization",value:"Basic "+U_(q_(d))}}null!=t.skipFetchSetup&&(l.skipFetchSetup=!!t.skipFetchSetup)}var p=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),v=u?u.match(p):null;if(v)try{var m={statusCode:200,statusMessage:"OK",headers:{"content-type":v[1]},body:B_(v[2])},g=m.body;return r&&(g=r(m.body,m)),Promise.resolve(g)}catch(aw){J_.throwError("processing response error",P.errors.SERVER_ERROR,{body:Q_(v[1],v[2]),error:aw,requestBody:null,requestMethod:"GET",url:u})}e&&(l.method="POST",l.body=e,null==s["content-type"]&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==s["content-length"]&&(s["content-length"]={key:"Content-Length",value:String(e.length)}));var y={};Object.keys(s).forEach((function(t){var e=s[t];y[e.key]=e.value})),l.headers=y;var b=function(){var t=null;return{promise:new Promise((function(e,r){c&&(t=setTimeout((function(){null!=t&&(t=null,r(J_.makeError("timeout",P.errors.TIMEOUT,{requestBody:Q_(l.body,y["content-type"]),requestMethod:l.method,timeout:c,url:u})))}),c))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),w=function(){return Y_(this,void 0,void 0,_().mark((function t(){var e,s,c,f,d,p,v,m,g,w;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n)){t.next=65;break}return s=null,t.prev=3,t.next=6,K_(u,l);case 6:if(s=t.sent,!(e<n)){t.next=28;break}if(301!==s.statusCode&&302!==s.statusCode){t.next=15;break}if(c=s.headers.location||"","GET"!==l.method||!c.match(/^https:/)){t.next=13;break}return u=s.headers.location,t.abrupt("continue",62);case 13:t.next=28;break;case 15:if(429!==s.statusCode){t.next=28;break}if(f=!0,!i){t.next=21;break}return t.next=20,i(e,u);case 20:f=t.sent;case 21:if(!f){t.next=28;break}return d=0,p=s.headers["retry-after"],d="string"===typeof p&&p.match(/^[1-9][0-9]*$/)?1e3*parseInt(p):o*parseInt(String(Math.random()*Math.pow(2,e))),t.next=27,$_(d);case 27:return t.abrupt("continue",62);case 28:t.next=34;break;case 30:t.prev=30,t.t0=t.catch(3),null==(s=t.t0.response)&&(b.cancel(),J_.throwError("missing response",P.errors.SERVER_ERROR,{requestBody:Q_(l.body,y["content-type"]),requestMethod:l.method,serverError:t.t0,url:u}));case 34:if(v=s.body,h&&304===s.statusCode?v=null:!a&&(s.statusCode<200||s.statusCode>=300)&&(b.cancel(),J_.throwError("bad response",P.errors.SERVER_ERROR,{status:s.statusCode,headers:s.headers,body:Q_(v,s.headers?s.headers["content-type"]:null),requestBody:Q_(l.body,y["content-type"]),requestMethod:l.method,url:u})),!r){t.next=60;break}return t.prev=37,t.next=40,r(v,s);case 40:return m=t.sent,b.cancel(),t.abrupt("return",m);case 45:if(t.prev=45,t.t1=t.catch(37),!(t.t1.throttleRetry&&e<n)){t.next=58;break}if(g=!0,!i){t.next=53;break}return t.next=52,i(e,u);case 52:g=t.sent;case 53:if(!g){t.next=58;break}return w=o*parseInt(String(Math.random()*Math.pow(2,e))),t.next=57,$_(w);case 57:return t.abrupt("continue",62);case 58:b.cancel(),J_.throwError("processing response error",P.errors.SERVER_ERROR,{body:Q_(v,s.headers?s.headers["content-type"]:null),error:t.t1,requestBody:Q_(l.body,y["content-type"]),requestMethod:l.method,url:u});case 60:return b.cancel(),t.abrupt("return",v);case 62:e++,t.next=1;break;case 65:return t.abrupt("return",J_.throwError("failed response",P.errors.SERVER_ERROR,{requestBody:Q_(l.body,y["content-type"]),requestMethod:l.method,url:u}));case 66:case"end":return t.stop()}}),t,null,[[3,30],[37,45]])})))}();return Promise.race([b.promise,w])}function ew(t,e,r){var n=null;if(null!=e){n=q_(e);var i="string"===typeof t?{url:t}:vt(t);if(i.headers)0!==Object.keys(i.headers).filter((function(t){return"content-type"===t.toLowerCase()})).length||(i.headers=vt(i.headers),i.headers["content-type"]="application/json");else i.headers={"content-type":"application/json"};t=i}return tw(t,n,(function(t,e){var n=null;if(null!=t)try{n=JSON.parse(X_(t))}catch(aw){J_.throwError("invalid JSON",P.errors.SERVER_ERROR,{body:t,error:aw})}return r&&(n=r(n,e)),n}))}function rw(t,e){return e||(e={}),null==(e=vt(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){var i=null,o=!1,a=function(){return!o&&(o=!0,i&&clearTimeout(i),!0)};e.timeout&&(i=setTimeout((function(){a()&&n(new Error("timeout"))}),e.timeout));var s=e.retryLimit,u=0;!function i(){return t().then((function(t){if(void 0!==t)a()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!o){if(++u>s)return void(a()&&n(new Error("retry limit reached")));var l=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));l<e.floor&&(l=e.floor),l>e.ceiling&&(l=e.ceiling),setTimeout(i,l)}return null}),(function(t){a()&&n(t)}))}()}))}var nw="ethers/5.6.0",iw=new P(nw);try{var ow=window;null==ow._ethers&&(ow._ethers=u)}catch(aw){}},11525:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(7801).Buffer}catch(T){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var l=t.charCodeAt(u)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&a<i,"Invalid character"),o+=a}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,h=r;h<s;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var c=1;for(u=l(t,h,t.length,e),h=0;h<a;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var v=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?v+r:f[l-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function v(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&a}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,l=0,h=0|a[0],c=8191&h,f=h>>>13,d=0|a[1],p=8191&d,v=d>>>13,m=0|a[2],g=8191&m,y=m>>>13,b=0|a[3],_=8191&b,w=b>>>13,x=0|a[4],E=8191&x,M=x>>>13,S=0|a[5],A=8191&S,k=S>>>13,T=0|a[6],R=8191&T,P=T>>>13,I=0|a[7],N=8191&I,O=I>>>13,C=0|a[8],D=8191&C,L=C>>>13,F=0|a[9],B=8191&F,U=F>>>13,G=0|s[0],j=8191&G,z=G>>>13,H=0|s[1],V=8191&H,W=H>>>13,q=0|s[2],X=8191&q,Z=q>>>13,K=0|s[3],Y=8191&K,J=K>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ht=0|s[8],ct=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,vt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(l+(n=Math.imul(c,j))|0)+((8191&(i=(i=Math.imul(c,z))+Math.imul(f,j)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(v,j)|0,o=Math.imul(v,z);var gt=(l+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,W)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,j),i=(i=Math.imul(g,z))+Math.imul(y,j)|0,o=Math.imul(y,z),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0;var yt=(l+(n=n+Math.imul(c,X)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(w,j)|0,o=Math.imul(w,z),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0;var bt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,z))+Math.imul(M,j)|0,o=Math.imul(M,z),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,J)|0;var _t=(l+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(k,j)|0,o=Math.imul(k,z),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0;var wt=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,z))+Math.imul(P,j)|0,o=Math.imul(P,z),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,W)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0;var xt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),i=(i=Math.imul(N,z))+Math.imul(O,j)|0,o=Math.imul(O,z),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0;var Et=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,lt)|0;var Mt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(U,j)|0,o=Math.imul(U,z),n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var St=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,vt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,vt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,W))+Math.imul(U,V)|0,o=Math.imul(U,W),n=n+Math.imul(D,X)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var At=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,vt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((o=o+Math.imul(v,vt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(U,X)|0,o=Math.imul(U,Z),n=n+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var kt=(l+(n=n+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,vt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,vt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,Y),i=(i=Math.imul(B,J))+Math.imul(U,Y)|0,o=Math.imul(U,J),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var Tt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,vt)|0)+Math.imul(w,pt)|0))<<13)|0;l=((o=o+Math.imul(w,vt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,lt)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Rt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,vt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,vt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ft)|0;var Pt=(l+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,vt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,vt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,vt)|0)+Math.imul(P,pt)|0))<<13)|0;l=((o=o+Math.imul(P,vt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(U,ut)|0,o=Math.imul(U,lt),n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Nt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,vt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((o=o+Math.imul(O,vt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,ct),i=(i=Math.imul(B,ft))+Math.imul(U,ct)|0,o=Math.imul(U,ft);var Ot=(l+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,vt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,vt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(l+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,vt))+Math.imul(U,pt)|0))<<13)|0;return l=((o=Math.imul(U,vt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=mt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=xt,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=At,u[11]=kt,u[12]=Tt,u[13]=Rt,u[14]=Pt,u[15]=It,u[16]=Nt,u[17]=Ot,u[18]=Ct,0!==l&&(u[19]=l,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;s=67108863&(f=f+s|0),i+=(a=(a=a+(c/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(m=v),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?v(this,t,e):r<1024?g(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var c=u,f=l,d=0;d<a;d++){var p=r[h+d],v=n[h+d],m=r[h+d+a],g=n[h+d+a],y=c*m-f*g;g=c*g+f*m,m=y,r[h+d]=p+m,n[h+d]=v+g,r[h+d+a]=p-m,n[h+d+a]=v-g,d!==s&&(y=u*c-l*f,f=u*f+l*c,c=y)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0===(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=s[d]*h[d]-u[d]*c[d];u[d]=s[d]*c[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,s&&(s.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);s&&(s.words[c]=f)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(c)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(c)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(x,w),x.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,w),i(M,w),i(S,w),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new E;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return _[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();n(m<p);var g=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==a?(a<<=1,a|=c,(4===++s||0===n&&0===h)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},52590:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(96658).Buffer}catch(T){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var l=t.charCodeAt(u)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&a<i,"Invalid character"),o+=a}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,h=r;h<s;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var c=1;for(u=l(t,h,t.length,e),h=0;h<a;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var v=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?v+r:f[l-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function v(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&a}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,l=0,h=0|a[0],c=8191&h,f=h>>>13,d=0|a[1],p=8191&d,v=d>>>13,m=0|a[2],g=8191&m,y=m>>>13,b=0|a[3],_=8191&b,w=b>>>13,x=0|a[4],E=8191&x,M=x>>>13,S=0|a[5],A=8191&S,k=S>>>13,T=0|a[6],R=8191&T,P=T>>>13,I=0|a[7],N=8191&I,O=I>>>13,C=0|a[8],D=8191&C,L=C>>>13,F=0|a[9],B=8191&F,U=F>>>13,G=0|s[0],j=8191&G,z=G>>>13,H=0|s[1],V=8191&H,W=H>>>13,q=0|s[2],X=8191&q,Z=q>>>13,K=0|s[3],Y=8191&K,J=K>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ht=0|s[8],ct=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,vt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(l+(n=Math.imul(c,j))|0)+((8191&(i=(i=Math.imul(c,z))+Math.imul(f,j)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(v,j)|0,o=Math.imul(v,z);var gt=(l+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,W)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,j),i=(i=Math.imul(g,z))+Math.imul(y,j)|0,o=Math.imul(y,z),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0;var yt=(l+(n=n+Math.imul(c,X)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(w,j)|0,o=Math.imul(w,z),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0;var bt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,z))+Math.imul(M,j)|0,o=Math.imul(M,z),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,J)|0;var _t=(l+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(k,j)|0,o=Math.imul(k,z),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0;var wt=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,z))+Math.imul(P,j)|0,o=Math.imul(P,z),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,W)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0;var xt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),i=(i=Math.imul(N,z))+Math.imul(O,j)|0,o=Math.imul(O,z),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0;var Et=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,lt)|0;var Mt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(U,j)|0,o=Math.imul(U,z),n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var St=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,vt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,vt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,W))+Math.imul(U,V)|0,o=Math.imul(U,W),n=n+Math.imul(D,X)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var At=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,vt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((o=o+Math.imul(v,vt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(U,X)|0,o=Math.imul(U,Z),n=n+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var kt=(l+(n=n+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,vt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,vt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,Y),i=(i=Math.imul(B,J))+Math.imul(U,Y)|0,o=Math.imul(U,J),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var Tt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,vt)|0)+Math.imul(w,pt)|0))<<13)|0;l=((o=o+Math.imul(w,vt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,lt)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Rt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,vt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,vt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ft)|0;var Pt=(l+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,vt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,vt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,vt)|0)+Math.imul(P,pt)|0))<<13)|0;l=((o=o+Math.imul(P,vt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(U,ut)|0,o=Math.imul(U,lt),n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Nt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,vt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((o=o+Math.imul(O,vt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,ct),i=(i=Math.imul(B,ft))+Math.imul(U,ct)|0,o=Math.imul(U,ft);var Ot=(l+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,vt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,vt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(l+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,vt))+Math.imul(U,pt)|0))<<13)|0;return l=((o=Math.imul(U,vt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=mt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=xt,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=At,u[11]=kt,u[12]=Tt,u[13]=Rt,u[14]=Pt,u[15]=It,u[16]=Nt,u[17]=Ot,u[18]=Ct,0!==l&&(u[19]=l,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;s=67108863&(f=f+s|0),i+=(a=(a=a+(c/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(m=v),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?v(this,t,e):r<1024?g(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var c=u,f=l,d=0;d<a;d++){var p=r[h+d],v=n[h+d],m=r[h+d+a],g=n[h+d+a],y=c*m-f*g;g=c*g+f*m,m=y,r[h+d]=p+m,n[h+d]=v+g,r[h+d+a]=p-m,n[h+d+a]=v-g,d!==s&&(y=u*c-l*f,f=u*f+l*c,c=y)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0===(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=s[d]*h[d]-u[d]*c[d];u[d]=s[d]*c[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,s&&(s.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);s&&(s.words[c]=f)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(c)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(c)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(x,w),x.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,w),i(M,w),i(S,w),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new E;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return _[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();n(m<p);var g=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==a?(a<<=1,a|=c,(4===++s||0===n&&0===h)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},37170:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(6042).Buffer}catch(T){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var l=t.charCodeAt(u)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&a<i,"Invalid character"),o+=a}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,h=r;h<s;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var c=1;for(u=l(t,h,t.length,e),h=0;h<a;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var v=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?v+r:f[l-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function v(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&a}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,l=0,h=0|a[0],c=8191&h,f=h>>>13,d=0|a[1],p=8191&d,v=d>>>13,m=0|a[2],g=8191&m,y=m>>>13,b=0|a[3],_=8191&b,w=b>>>13,x=0|a[4],E=8191&x,M=x>>>13,S=0|a[5],A=8191&S,k=S>>>13,T=0|a[6],R=8191&T,P=T>>>13,I=0|a[7],N=8191&I,O=I>>>13,C=0|a[8],D=8191&C,L=C>>>13,F=0|a[9],B=8191&F,U=F>>>13,G=0|s[0],j=8191&G,z=G>>>13,H=0|s[1],V=8191&H,W=H>>>13,q=0|s[2],X=8191&q,Z=q>>>13,K=0|s[3],Y=8191&K,J=K>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ht=0|s[8],ct=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,vt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(l+(n=Math.imul(c,j))|0)+((8191&(i=(i=Math.imul(c,z))+Math.imul(f,j)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(v,j)|0,o=Math.imul(v,z);var gt=(l+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,W)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,j),i=(i=Math.imul(g,z))+Math.imul(y,j)|0,o=Math.imul(y,z),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0;var yt=(l+(n=n+Math.imul(c,X)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(w,j)|0,o=Math.imul(w,z),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0;var bt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,z))+Math.imul(M,j)|0,o=Math.imul(M,z),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,J)|0;var _t=(l+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(k,j)|0,o=Math.imul(k,z),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0;var wt=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,z))+Math.imul(P,j)|0,o=Math.imul(P,z),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,W)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0;var xt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),i=(i=Math.imul(N,z))+Math.imul(O,j)|0,o=Math.imul(O,z),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0;var Et=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,lt)|0;var Mt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(U,j)|0,o=Math.imul(U,z),n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var St=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,vt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,vt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,W))+Math.imul(U,V)|0,o=Math.imul(U,W),n=n+Math.imul(D,X)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var At=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,vt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((o=o+Math.imul(v,vt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(U,X)|0,o=Math.imul(U,Z),n=n+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var kt=(l+(n=n+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,vt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,vt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,Y),i=(i=Math.imul(B,J))+Math.imul(U,Y)|0,o=Math.imul(U,J),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var Tt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,vt)|0)+Math.imul(w,pt)|0))<<13)|0;l=((o=o+Math.imul(w,vt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,lt)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Rt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,vt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,vt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ft)|0;var Pt=(l+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,vt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,vt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,vt)|0)+Math.imul(P,pt)|0))<<13)|0;l=((o=o+Math.imul(P,vt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(U,ut)|0,o=Math.imul(U,lt),n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Nt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,vt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((o=o+Math.imul(O,vt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,ct),i=(i=Math.imul(B,ft))+Math.imul(U,ct)|0,o=Math.imul(U,ft);var Ot=(l+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,vt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,vt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(l+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,vt))+Math.imul(U,pt)|0))<<13)|0;return l=((o=Math.imul(U,vt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=mt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=xt,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=At,u[11]=kt,u[12]=Tt,u[13]=Rt,u[14]=Pt,u[15]=It,u[16]=Nt,u[17]=Ot,u[18]=Ct,0!==l&&(u[19]=l,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;s=67108863&(f=f+s|0),i+=(a=(a=a+(c/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(m=v),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?v(this,t,e):r<1024?g(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var c=u,f=l,d=0;d<a;d++){var p=r[h+d],v=n[h+d],m=r[h+d+a],g=n[h+d+a],y=c*m-f*g;g=c*g+f*m,m=y,r[h+d]=p+m,n[h+d]=v+g,r[h+d+a]=p-m,n[h+d+a]=v-g,d!==s&&(y=u*c-l*f,f=u*f+l*c,c=y)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0===(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=s[d]*h[d]-u[d]*c[d];u[d]=s[d]*c[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,s&&(s.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);s&&(s.words[c]=f)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(c)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(c)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(x,w),x.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,w),i(M,w),i(S,w),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new E;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return _[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();n(m<p);var g=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==a?(a<<=1,a|=c,(4===++s||0===n&&0===h)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},57492:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(74801).Buffer}catch(T){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var l=t.charCodeAt(u)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&a<i,"Invalid character"),o+=a}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,h=r;h<s;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var c=1;for(u=l(t,h,t.length,e),h=0;h<a;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var v=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?v+r:f[l-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function v(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&a}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,l=0,h=0|a[0],c=8191&h,f=h>>>13,d=0|a[1],p=8191&d,v=d>>>13,m=0|a[2],g=8191&m,y=m>>>13,b=0|a[3],_=8191&b,w=b>>>13,x=0|a[4],E=8191&x,M=x>>>13,S=0|a[5],A=8191&S,k=S>>>13,T=0|a[6],R=8191&T,P=T>>>13,I=0|a[7],N=8191&I,O=I>>>13,C=0|a[8],D=8191&C,L=C>>>13,F=0|a[9],B=8191&F,U=F>>>13,G=0|s[0],j=8191&G,z=G>>>13,H=0|s[1],V=8191&H,W=H>>>13,q=0|s[2],X=8191&q,Z=q>>>13,K=0|s[3],Y=8191&K,J=K>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ht=0|s[8],ct=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,vt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(l+(n=Math.imul(c,j))|0)+((8191&(i=(i=Math.imul(c,z))+Math.imul(f,j)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(v,j)|0,o=Math.imul(v,z);var gt=(l+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,W)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,j),i=(i=Math.imul(g,z))+Math.imul(y,j)|0,o=Math.imul(y,z),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0;var yt=(l+(n=n+Math.imul(c,X)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(w,j)|0,o=Math.imul(w,z),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0;var bt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,z))+Math.imul(M,j)|0,o=Math.imul(M,z),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,J)|0;var _t=(l+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(k,j)|0,o=Math.imul(k,z),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0;var wt=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,z))+Math.imul(P,j)|0,o=Math.imul(P,z),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,W)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0;var xt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),i=(i=Math.imul(N,z))+Math.imul(O,j)|0,o=Math.imul(O,z),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0;var Et=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,lt)|0;var Mt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(U,j)|0,o=Math.imul(U,z),n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var St=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,vt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,vt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,W))+Math.imul(U,V)|0,o=Math.imul(U,W),n=n+Math.imul(D,X)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var At=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,vt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((o=o+Math.imul(v,vt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(U,X)|0,o=Math.imul(U,Z),n=n+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var kt=(l+(n=n+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,vt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,vt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,Y),i=(i=Math.imul(B,J))+Math.imul(U,Y)|0,o=Math.imul(U,J),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var Tt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,vt)|0)+Math.imul(w,pt)|0))<<13)|0;l=((o=o+Math.imul(w,vt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,lt)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Rt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,vt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,vt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ft)|0;var Pt=(l+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,vt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,vt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,vt)|0)+Math.imul(P,pt)|0))<<13)|0;l=((o=o+Math.imul(P,vt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(U,ut)|0,o=Math.imul(U,lt),n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Nt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,vt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((o=o+Math.imul(O,vt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,ct),i=(i=Math.imul(B,ft))+Math.imul(U,ct)|0,o=Math.imul(U,ft);var Ot=(l+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,vt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,vt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(l+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,vt))+Math.imul(U,pt)|0))<<13)|0;return l=((o=Math.imul(U,vt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=mt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=xt,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=At,u[11]=kt,u[12]=Tt,u[13]=Rt,u[14]=Pt,u[15]=It,u[16]=Nt,u[17]=Ot,u[18]=Ct,0!==l&&(u[19]=l,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;s=67108863&(f=f+s|0),i+=(a=(a=a+(c/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(m=v),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?v(this,t,e):r<1024?g(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var c=u,f=l,d=0;d<a;d++){var p=r[h+d],v=n[h+d],m=r[h+d+a],g=n[h+d+a],y=c*m-f*g;g=c*g+f*m,m=y,r[h+d]=p+m,n[h+d]=v+g,r[h+d+a]=p-m,n[h+d+a]=v-g,d!==s&&(y=u*c-l*f,f=u*f+l*c,c=y)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0===(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=s[d]*h[d]-u[d]*c[d];u[d]=s[d]*c[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,s&&(s.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);s&&(s.words[c]=f)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(c)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(c)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(x,w),x.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,w),i(M,w),i(S,w),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new E;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return _[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();n(m<p);var g=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==a?(a<<=1,a|=c,(4===++s||0===n&&0===h)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},55456:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(30991).Buffer}catch(T){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function l(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var l=t.charCodeAt(u)-48;o*=i,a=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&a<i,"Invalid character"),o+=a}return o}function h(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"===typeof t)return this._initNumber(t,e,r);if("object"===typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2===0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,h=r;h<s;h+=n)u=l(t,h,h+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var c=1;for(u=l(t,h,t.length,e),h=0;h<a;h++)c*=e;this.imuln(c),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){h(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(T){o.prototype.inspect=c}else o.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var l=d[t],h=p[t];r="";var c=this.clone();for(c.negative=0;!c.isZero();){var v=c.modrn(h).toString(t);r=(c=c.idivn(h)).isZero()?v+r:f[l-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%e!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function v(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var l=1;l<n;l++){for(var h=u>>>26,c=67108863&u,f=Math.min(l,e.length-1),d=Math.max(0,l-t.length+1);d<=f;d++){var p=l-d|0;h+=(a=(i=0|t.words[p])*(o=0|e.words[d])+c)/67108864|0,c=67108863&a}r.words[l]=0|c,u=0|h}return 0!==u?r.words[l]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0===(8191&e)&&(r+=13,e>>>=13),0===(127&e)&&(r+=7,e>>>=7),0===(15&e)&&(r+=4,e>>>=4),0===(3&e)&&(r+=2,e>>>=2),0===(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"===typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var m=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,l=0,h=0|a[0],c=8191&h,f=h>>>13,d=0|a[1],p=8191&d,v=d>>>13,m=0|a[2],g=8191&m,y=m>>>13,b=0|a[3],_=8191&b,w=b>>>13,x=0|a[4],E=8191&x,M=x>>>13,S=0|a[5],A=8191&S,k=S>>>13,T=0|a[6],R=8191&T,P=T>>>13,I=0|a[7],N=8191&I,O=I>>>13,C=0|a[8],D=8191&C,L=C>>>13,F=0|a[9],B=8191&F,U=F>>>13,G=0|s[0],j=8191&G,z=G>>>13,H=0|s[1],V=8191&H,W=H>>>13,q=0|s[2],X=8191&q,Z=q>>>13,K=0|s[3],Y=8191&K,J=K>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,lt=st>>>13,ht=0|s[8],ct=8191&ht,ft=ht>>>13,dt=0|s[9],pt=8191&dt,vt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(l+(n=Math.imul(c,j))|0)+((8191&(i=(i=Math.imul(c,z))+Math.imul(f,j)|0))<<13)|0;l=((o=Math.imul(f,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(v,j)|0,o=Math.imul(v,z);var gt=(l+(n=n+Math.imul(c,V)|0)|0)+((8191&(i=(i=i+Math.imul(c,W)|0)+Math.imul(f,V)|0))<<13)|0;l=((o=o+Math.imul(f,W)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,j),i=(i=Math.imul(g,z))+Math.imul(y,j)|0,o=Math.imul(y,z),n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,W)|0;var yt=(l+(n=n+Math.imul(c,X)|0)|0)+((8191&(i=(i=i+Math.imul(c,Z)|0)+Math.imul(f,X)|0))<<13)|0;l=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(w,j)|0,o=Math.imul(w,z),n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,W)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,W)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0;var bt=(l+(n=n+Math.imul(c,Y)|0)|0)+((8191&(i=(i=i+Math.imul(c,J)|0)+Math.imul(f,Y)|0))<<13)|0;l=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,j),i=(i=Math.imul(E,z))+Math.imul(M,j)|0,o=Math.imul(M,z),n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,W)|0)+Math.imul(w,V)|0,o=o+Math.imul(w,W)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,J)|0;var _t=(l+(n=n+Math.imul(c,Q)|0)|0)+((8191&(i=(i=i+Math.imul(c,tt)|0)+Math.imul(f,Q)|0))<<13)|0;l=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(k,j)|0,o=Math.imul(k,z),n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,W)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0;var wt=(l+(n=n+Math.imul(c,rt)|0)|0)+((8191&(i=(i=i+Math.imul(c,nt)|0)+Math.imul(f,rt)|0))<<13)|0;l=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,z))+Math.imul(P,j)|0,o=Math.imul(P,z),n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,W)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,W)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(w,Y)|0,o=o+Math.imul(w,J)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0;var xt=(l+(n=n+Math.imul(c,ot)|0)|0)+((8191&(i=(i=i+Math.imul(c,at)|0)+Math.imul(f,ot)|0))<<13)|0;l=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(N,j),i=(i=Math.imul(N,z))+Math.imul(O,j)|0,o=Math.imul(O,z),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(A,X)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,Z)|0,n=n+Math.imul(E,Y)|0,i=(i=i+Math.imul(E,J)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(y,rt)|0,o=o+Math.imul(y,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0;var Et=(l+(n=n+Math.imul(c,ut)|0)|0)+((8191&(i=(i=i+Math.imul(c,lt)|0)+Math.imul(f,ut)|0))<<13)|0;l=((o=o+Math.imul(f,lt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(L,j)|0,o=Math.imul(L,z),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,W)|0,n=n+Math.imul(R,X)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(P,X)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,J)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,lt)|0;var Mt=(l+(n=n+Math.imul(c,ct)|0)|0)+((8191&(i=(i=i+Math.imul(c,ft)|0)+Math.imul(f,ct)|0))<<13)|0;l=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(U,j)|0,o=Math.imul(U,z),n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,W)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,W)|0,n=n+Math.imul(N,X)|0,i=(i=i+Math.imul(N,Z)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,Z)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,lt)|0)+Math.imul(y,ut)|0,o=o+Math.imul(y,lt)|0,n=n+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(v,ct)|0,o=o+Math.imul(v,ft)|0;var St=(l+(n=n+Math.imul(c,pt)|0)|0)+((8191&(i=(i=i+Math.imul(c,vt)|0)+Math.imul(f,pt)|0))<<13)|0;l=((o=o+Math.imul(f,vt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,W))+Math.imul(U,V)|0,o=Math.imul(U,W),n=n+Math.imul(D,X)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(L,X)|0,o=o+Math.imul(L,Z)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,J)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,lt)|0,n=n+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ft)|0;var At=(l+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,vt)|0)+Math.imul(v,pt)|0))<<13)|0;l=((o=o+Math.imul(v,vt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(B,X),i=(i=Math.imul(B,Z))+Math.imul(U,X)|0,o=Math.imul(U,Z),n=n+Math.imul(D,Y)|0,i=(i=i+Math.imul(D,J)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,J)|0,n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(A,ot)|0,i=(i=i+Math.imul(A,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,lt)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,lt)|0,n=n+Math.imul(_,ct)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ct)|0,o=o+Math.imul(w,ft)|0;var kt=(l+(n=n+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,vt)|0)+Math.imul(y,pt)|0))<<13)|0;l=((o=o+Math.imul(y,vt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(B,Y),i=(i=Math.imul(B,J))+Math.imul(U,Y)|0,o=Math.imul(U,J),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,tt)|0,n=n+Math.imul(N,rt)|0,i=(i=i+Math.imul(N,nt)|0)+Math.imul(O,rt)|0,o=o+Math.imul(O,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(A,ut)|0,i=(i=i+Math.imul(A,lt)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,lt)|0,n=n+Math.imul(E,ct)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ft)|0;var Tt=(l+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,vt)|0)+Math.imul(w,pt)|0))<<13)|0;l=((o=o+Math.imul(w,vt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(L,rt)|0,o=o+Math.imul(L,nt)|0,n=n+Math.imul(N,ot)|0,i=(i=i+Math.imul(N,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,lt)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,lt)|0,n=n+Math.imul(A,ct)|0,i=(i=i+Math.imul(A,ft)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ft)|0;var Rt=(l+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,vt)|0)+Math.imul(M,pt)|0))<<13)|0;l=((o=o+Math.imul(M,vt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(D,ot)|0,i=(i=i+Math.imul(D,at)|0)+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,n=n+Math.imul(N,ut)|0,i=(i=i+Math.imul(N,lt)|0)+Math.imul(O,ut)|0,o=o+Math.imul(O,lt)|0,n=n+Math.imul(R,ct)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(P,ct)|0,o=o+Math.imul(P,ft)|0;var Pt=(l+(n=n+Math.imul(A,pt)|0)|0)+((8191&(i=(i=i+Math.imul(A,vt)|0)+Math.imul(k,pt)|0))<<13)|0;l=((o=o+Math.imul(k,vt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(B,ot),i=(i=Math.imul(B,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(D,ut)|0,i=(i=i+Math.imul(D,lt)|0)+Math.imul(L,ut)|0,o=o+Math.imul(L,lt)|0,n=n+Math.imul(N,ct)|0,i=(i=i+Math.imul(N,ft)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ft)|0;var It=(l+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,vt)|0)+Math.imul(P,pt)|0))<<13)|0;l=((o=o+Math.imul(P,vt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,ut),i=(i=Math.imul(B,lt))+Math.imul(U,ut)|0,o=Math.imul(U,lt),n=n+Math.imul(D,ct)|0,i=(i=i+Math.imul(D,ft)|0)+Math.imul(L,ct)|0,o=o+Math.imul(L,ft)|0;var Nt=(l+(n=n+Math.imul(N,pt)|0)|0)+((8191&(i=(i=i+Math.imul(N,vt)|0)+Math.imul(O,pt)|0))<<13)|0;l=((o=o+Math.imul(O,vt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(B,ct),i=(i=Math.imul(B,ft))+Math.imul(U,ct)|0,o=Math.imul(U,ft);var Ot=(l+(n=n+Math.imul(D,pt)|0)|0)+((8191&(i=(i=i+Math.imul(D,vt)|0)+Math.imul(L,pt)|0))<<13)|0;l=((o=o+Math.imul(L,vt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var Ct=(l+(n=Math.imul(B,pt))|0)+((8191&(i=(i=Math.imul(B,vt))+Math.imul(U,pt)|0))<<13)|0;return l=((o=Math.imul(U,vt))+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,u[0]=mt,u[1]=gt,u[2]=yt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=xt,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=At,u[11]=kt,u[12]=Tt,u[13]=Rt,u[14]=Pt,u[15]=It,u[16]=Nt,u[17]=Ot,u[18]=Ct,0!==l&&(u[19]=l,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),l=Math.max(0,o-t.length+1);l<=u;l++){var h=o-l,c=(0|t.words[h])*(0|e.words[l]),f=67108863&c;s=67108863&(f=f+s|0),i+=(a=(a=a+(c/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(t,e,r){return g(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(m=v),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?m(this,t,e):r<63?v(this,t,e):r<1024?g(this,t,e):y(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),h=0;h<i;h+=s)for(var c=u,f=l,d=0;d<a;d++){var p=r[h+d],v=n[h+d],m=r[h+d+a],g=n[h+d+a],y=c*m-f*g;g=c*g+f*m,m=y,r[h+d]=p+m,n[h+d]=v+g,r[h+d+a]=p-m,n[h+d+a]=v-g,d!==s&&(y=u*c-l*f,f=u*f+l*c,c=y)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0===(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),c=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,l,n),this.transform(a,o,s,u,n,i),this.transform(l,o,h,c,n,i);for(var d=0;d<n;d++){var p=s[d]*h[d]-u[d]*c[d];u[d]=s[d]*c[d]+u[d]*h[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),y(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"===typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"===typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"===typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var l=0;l<a;l++)u.words[l]=this.words[l];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,l=0;l<this.length;l++)this.words[l]=this.words[l+a];else this.words[0]=0,this.length=1;var h=0;for(l=this.length-1;l>=0&&(0!==h||l>=i);l--){var c=0|this.words[l];this.words[l]=h<<26-o|c>>>o,h=c&s}return u&&0!==h&&(u.words[u.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"===typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"===typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"===typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var l=0;l<s.length;l++)s.words[l]=0}var h=n.clone()._ishlnsubmul(i,1,u);0===h.negative&&(n=h,s&&(s.words[u]=1));for(var c=u-1;c>=0;c--){var f=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,c);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);s&&(s.words[c]=f)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),l=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++l;for(var h=r.clone(),c=e.clone();!e.isZero();){for(var f=0,d=1;0===(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(h),a.isub(c)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(h),u.isub(c)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(l)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var l=0,h=1;0===(e.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(e.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var c=0,f=1;0===(r.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(r.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"===typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new A(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function x(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){A.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(x,w),x.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var o=t.words[9];for(e.words[e.length++]=o&r,i=10;i<t.length;i++){var a=0|t.words[i];t.words[i-10]=(a&r)<<4|o>>>22,o=a}o>>>=22,t.words[i-10]=o,0===o&&t.length>10?t.length-=10:t.length-=9},x.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,w),i(M,w),i(S,w),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new x;else if("p224"===t)e=new E;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return _[t]=e,e},A.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},A.prototype._verify2=function(t,e){n(0===(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},A.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(h(t,t.umod(this.m)._forceRed(this)),t)},A.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},A.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},A.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},A.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},A.prototype.isqr=function(t){return this.imul(t,t.clone())},A.prototype.sqr=function(t){return this.mul(t,t)},A.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2===1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),l=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,l).cmp(u);)h.redIAdd(u);for(var c=this.pow(h,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var v=d,m=0;0!==v.cmp(s);m++)v=v.redSqr();n(m<p);var g=this.pow(c,new o(1).iushln(p-m-1));f=f.redMul(g),c=g.redSqr(),d=d.redMul(c),p=m}return f},A.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},A.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var l=e.words[n],h=u-1;h>=0;h--){var c=l>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==c||0!==a?(a<<=1,a|=c,(4===++s||0===n&&0===h)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},A.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},A.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new k(t)},i(k,A),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},97143:function(t){"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function i(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(t,e,n,o,a){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||t,a),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var t,n,i=[];if(0===this._eventsCount)return i;for(n in t=this._events)e.call(t,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,l,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,i),!0;case 5:return h.fn.call(h.context,e,n,i,o),!0;case 6:return h.fn.call(h.context,e,n,i,o,a),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,n);break;case 4:h[l].fn.call(h[l].context,e,n,i);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},s.prototype.on=function(t,e,r){return o(this,t,e,r,!1)},s.prototype.once=function(t,e,r){return o(this,t,e,r,!0)},s.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,l=[],h=s.length;u<h;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[o]=1===l.length?l[0]:l:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s},47465:function(t){"use strict";var e,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!==t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"===typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}v(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"===typeof t.on&&v(t,"error",e,r)}(t,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,r,n){var i,o,a,l;if(s(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),void 0===a)a=o[e]=r,++t._eventsCount;else if("function"===typeof a?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=u(t))>0&&a.length>i&&!a.warned){a.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=a.length,l=h,console&&console.warn&&console.warn(l)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function f(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function v(t,e,r,n){if("function"===typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!==typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"===typeof u)n(u,this,e);else{var l=u.length,h=p(u,l);for(r=0;r<l;++r)n(h[r],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,a;if(s(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},33125:function(t,e,r){var n=e;n.utils=r(79046),n.common=r(79684),n.sha=r(39194),n.ripemd=r(56645),n.hmac=r(93609),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},79684:function(t,e,r){"use strict";var n=r(79046),i=r(72325);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},93609:function(t,e,r){"use strict";var n=r(79046),i=r(72325);function o(t,e,r){if(!(this instanceof o))return new o(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},56645:function(t,e,r){"use strict";var n=r(79046),i=r(79684),o=n.rotl32,a=n.sum32,s=n.sum32_3,u=n.sum32_4,l=i.BlockHash;function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function c(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function f(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(h,l),e.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],l=this.h[3],h=this.h[4],y=r,b=n,_=i,w=l,x=h,E=0;E<80;E++){var M=a(o(u(r,c(E,n,i,l),t[p[E]+e],f(E)),m[E]),h);r=h,h=l,l=o(i,10),i=n,n=M,M=a(o(u(y,c(79-E,b,_,w),t[v[E]+e],d(E)),g[E]),x),y=x,x=w,w=o(_,10),_=b,b=M}M=s(this.h[1],i,w),this.h[1]=s(this.h[2],l,x),this.h[2]=s(this.h[3],h,y),this.h[3]=s(this.h[4],r,b),this.h[4]=s(this.h[0],n,_),this.h[0]=M},h.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},39194:function(t,e,r){"use strict";e.sha1=r(77361),e.sha224=r(77753),e.sha256=r(76966),e.sha384=r(51233),e.sha512=r(59063)},77361:function(t,e,r){"use strict";var n=r(79046),i=r(79684),o=r(34343),a=n.rotl32,s=n.sum32,u=n.sum32_5,l=o.ft_1,h=i.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,h),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],h=this.h[2],f=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),v=u(a(i,5),l(p,o,h,f),d,r[n],c[p]);d=f,f=h,h=a(o,30),o=i,i=v}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],h),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],d)},f.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},77753:function(t,e,r){"use strict";var n=r(79046),i=r(76966);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},76966:function(t,e,r){"use strict";var n=r(79046),i=r(79684),o=r(34343),a=r(72325),s=n.sum32,u=n.sum32_4,l=n.sum32_5,h=o.ch32,c=o.maj32,f=o.s0_256,d=o.s1_256,p=o.g0_256,v=o.g1_256,m=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(y,m),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(v(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],g=this.h[3],y=this.h[4],b=this.h[5],_=this.h[6],w=this.h[7];for(a(this.k.length===r.length),n=0;n<r.length;n++){var x=l(w,d(y),h(y,b,_),this.k[n],r[n]),E=s(f(i),c(i,o,m));w=_,_=b,b=y,y=s(g,x),g=m,m=o,o=i,i=s(x,E)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],_),this.h[7]=s(this.h[7],w)},y.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},51233:function(t,e,r){"use strict";var n=r(79046),i=r(59063);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},59063:function(t,e,r){"use strict";var n=r(79046),i=r(79684),o=r(72325),a=n.rotr64_hi,s=n.rotr64_lo,u=n.shr64_hi,l=n.shr64_lo,h=n.sum64,c=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,v=n.sum64_5_hi,m=n.sum64_5_lo,g=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function _(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function w(t,e,r,n,i,o){var a=e&n^~e&o;return a<0&&(a+=4294967296),a}function x(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function E(t,e,r,n,i,o){var a=e&n^e&o^n&o;return a<0&&(a+=4294967296),a}function M(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function S(t,e){var r=s(t,e,28)^s(e,t,2)^s(e,t,7);return r<0&&(r+=4294967296),r}function A(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function k(t,e){var r=s(t,e,14)^s(t,e,18)^s(e,t,9);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,1)^a(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function R(t,e){var r=s(t,e,1)^s(t,e,8)^l(t,e,7);return r<0&&(r+=4294967296),r}function P(t,e){var r=a(t,e,19)^a(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}function I(t,e){var r=s(t,e,19)^s(e,t,29)^l(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(b,g),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=P(r[n-4],r[n-3]),o=I(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],u=T(r[n-30],r[n-29]),l=R(r[n-30],r[n-29]),h=r[n-32],c=r[n-31];r[n]=d(i,o,a,s,u,l,h,c),r[n+1]=p(i,o,a,s,u,l,h,c)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],l=this.h[5],d=this.h[6],p=this.h[7],g=this.h[8],y=this.h[9],b=this.h[10],T=this.h[11],R=this.h[12],P=this.h[13],I=this.h[14],N=this.h[15];o(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var C=I,D=N,L=A(g,y),F=k(g,y),B=_(g,y,b,T,R),U=w(g,y,b,T,R,P),G=this.k[O],j=this.k[O+1],z=r[O],H=r[O+1],V=v(C,D,L,F,B,U,G,j,z,H),W=m(C,D,L,F,B,U,G,j,z,H);C=M(n,i),D=S(n,i),L=x(n,i,a,s,u),F=E(n,i,a,s,u,l);var q=c(C,D,L,F),X=f(C,D,L,F);I=R,N=P,R=b,P=T,b=g,T=y,g=c(d,p,V,W),y=f(p,p,V,W),d=u,p=l,u=a,l=s,a=n,s=i,n=c(V,W,q,X),i=f(V,W,q,X)}h(this.h,0,n,i),h(this.h,2,a,s),h(this.h,4,u,l),h(this.h,6,d,p),h(this.h,8,g,y),h(this.h,10,b,T),h(this.h,12,R,P),h(this.h,14,I,N)},b.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},34343:function(t,e,r){"use strict";var n=r(79046).rotr32;function i(t,e,r){return t&e^~t&r}function o(t,e,r){return t&e^t&r^e&r}function a(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?a(e,r,n):2===t?o(e,r,n):void 0},e.ch32=i,e.maj32=o,e.p32=a,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},79046:function(t,e,r){"use strict";var n=r(72325),i=r(12534);function o(t,e){return 55296===(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320===(64512&t.charCodeAt(e+1)))}function a(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"===typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):o(t,i)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=s(t[r].toString(16));return e},e.htonl=a,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=a(i)),r+=u(i.toString(16))}return r},e.zero2=s,e.zero8=u,e.join32=function(t,e,r,i){var o=r-e;n(o%4===0);for(var a=new Array(o/4),s=0,u=e;s<a.length;s++,u+=4){var l;l="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],a[s]=l>>>0}return a},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,o,a,s){var u=0,l=e;return u+=(l=l+n>>>0)<e?1:0,u+=(l=l+o>>>0)<o?1:0,t+r+i+a+(u+=(l=l+s>>>0)<s?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,o,a,s){return e+n+o+s>>>0},e.sum64_5_hi=function(t,e,r,n,i,o,a,s,u,l){var h=0,c=e;return h+=(c=c+n>>>0)<e?1:0,h+=(c=c+o>>>0)<o?1:0,h+=(c=c+s>>>0)<s?1:0,t+r+i+a+u+(h+=(c=c+l>>>0)<l?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,o,a,s,u,l){return e+n+o+s+l>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},12534:function(t){"function"===typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},27898:function(t,e,r){var n;!function(){"use strict";var i="input is invalid type",o="object"===typeof window,a=o?window:{};a.JS_SHA3_NO_WINDOW&&(o=!1);var s=!o&&"object"===typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node?a=r.g:s&&(a=self);var u=!a.JS_SHA3_NO_COMMON_JS&&t.exports,l=r.amdO,h=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,c="0123456789abcdef".split(""),f=[4,1024,262144,67108864],d=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],v=[224,256,384,512],m=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};!a.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!h||!a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var b=function(t,e,r){return function(n){return new C(t,e,t).update(n)[r]()}},_=function(t,e,r){return function(n,i){return new C(t,e,i).update(n)[r]()}},w=function(t,e,r){return function(e,n,i,o){return A["cshake"+t].update(e,n,i,o)[r]()}},x=function(t,e,r){return function(e,n,i,o){return A["kmac"+t].update(e,n,i,o)[r]()}},E=function(t,e,r,n){for(var i=0;i<g.length;++i){var o=g[i];t[o]=e(r,n,o)}return t},M=function(t,e){var r=b(t,e,"hex");return r.create=function(){return new C(t,e,t)},r.update=function(t){return r.create().update(t)},E(r,b,t,e)},S=[{name:"keccak",padding:[1,256,65536,16777216],bits:v,createMethod:M},{name:"sha3",padding:[6,1536,393216,100663296],bits:v,createMethod:M},{name:"shake",padding:[31,7936,2031616,520093696],bits:m,createMethod:function(t,e){var r=_(t,e,"hex");return r.create=function(r){return new C(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},E(r,_,t,e)}},{name:"cshake",padding:f,bits:m,createMethod:function(t,e){var r=y[t],n=w(t,0,"hex");return n.create=function(n,i,o){return i||o?new C(t,e,n).bytepad([i,o],r):A["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},E(n,w,t,e)}},{name:"kmac",padding:f,bits:m,createMethod:function(t,e){var r=y[t],n=x(t,0,"hex");return n.create=function(n,i,o){return new D(t,e,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},E(n,x,t,e)}}],A={},k=[],T=0;T<S.length;++T)for(var R=S[T],P=R.bits,I=0;I<P.length;++I){var N=R.name+"_"+P[I];if(k.push(N),A[N]=R.createMethod(P[I],R.padding),"sha3"!==R.name){var O=R.name+P[I];k.push(O),A[O]=A[N]}}function C(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function D(t,e,r){C.call(this,t,e,r)}C.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(i);if(null===t)throw new Error(i);if(h&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!h||!ArrayBuffer.isView(t)))throw new Error(i);e=!0}for(var n,o,a=this.blocks,s=this.byteCount,u=t.length,l=this.blockCount,c=0,f=this.s;c<u;){if(this.reset)for(this.reset=!1,a[0]=this.block,n=1;n<l+1;++n)a[n]=0;if(e)for(n=this.start;c<u&&n<s;++c)a[n>>2]|=t[c]<<d[3&n++];else for(n=this.start;c<u&&n<s;++c)(o=t.charCodeAt(c))<128?a[n>>2]|=o<<d[3&n++]:o<2048?(a[n>>2]|=(192|o>>6)<<d[3&n++],a[n>>2]|=(128|63&o)<<d[3&n++]):o<55296||o>=57344?(a[n>>2]|=(224|o>>12)<<d[3&n++],a[n>>2]|=(128|o>>6&63)<<d[3&n++],a[n>>2]|=(128|63&o)<<d[3&n++]):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++c)),a[n>>2]|=(240|o>>18)<<d[3&n++],a[n>>2]|=(128|o>>12&63)<<d[3&n++],a[n>>2]|=(128|o>>6&63)<<d[3&n++],a[n>>2]|=(128|63&o)<<d[3&n++]);if(this.lastByteIndex=n,n>=s){for(this.start=n-s,this.block=a[l],n=0;n<l;++n)f[n]^=a[n];L(f),this.reset=!0}else this.start=n}return this},C.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},C.prototype.encodeString=function(t){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(i);if(null===t)throw new Error(i);if(h&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!h||!ArrayBuffer.isView(t)))throw new Error(i);e=!0}var n=0,o=t.length;if(e)n=o;else for(var a=0;a<t.length;++a){var s=t.charCodeAt(a);s<128?n+=1:s<2048?n+=2:s<55296||s>=57344?n+=3:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++a)),n+=4)}return n+=this.encode(8*n),this.update(t),n},C.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,o=[];return o.length=i,this.update(o),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];L(n)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s="";a<n;){for(o=0;o<e&&a<n;++o,++a)t=r[o],s+=c[t>>4&15]+c[15&t]+c[t>>12&15]+c[t>>8&15]+c[t>>20&15]+c[t>>16&15]+c[t>>28&15]+c[t>>24&15];a%e===0&&(L(r),o=0)}return i&&(t=r[o],s+=c[t>>4&15]+c[15&t],i>1&&(s+=c[t>>12&15]+c[t>>8&15]),i>2&&(s+=c[t>>20&15]+c[t>>16&15])),s},C.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(t);a<n;){for(o=0;o<e&&a<n;++o,++a)u[a]=r[o];a%e===0&&L(r)}return i&&(u[o]=r[o],t=t.slice(0,s)),t},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.digest=C.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,u=[];s<i;){for(a=0;a<r&&s<i;++a,++s)t=s<<2,e=n[a],u[t]=255&e,u[t+1]=e>>8&255,u[t+2]=e>>16&255,u[t+3]=e>>24&255;s%r===0&&L(n)}return o&&(t=s<<2,e=n[a],u[t]=255&e,o>1&&(u[t+1]=e>>8&255),o>2&&(u[t+2]=e>>16&255)),u},D.prototype=new C,D.prototype.finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var L=function(t){var e,r,n,i,o,a,s,u,l,h,c,f,d,v,m,g,y,b,_,w,x,E,M,S,A,k,T,R,P,I,N,O,C,D,L,F,B,U,G,j,z,H,V,W,q,X,Z,K,Y,J,$,Q,tt,et,rt,nt,it,ot,at,st,ut,lt,ht;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],o=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],u=t[4]^t[14]^t[24]^t[34]^t[44],l=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],e=(f=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|s>>>31),r=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(s<<1|a>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(u<<1|l>>>31),r=o^(l<<1|u>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=a^(h<<1|c>>>31),r=s^(c<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=u^(f<<1|d>>>31),r=l^(d<<1|f>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|o>>>31),r=c^(o<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,v=t[0],m=t[1],X=t[11]<<4|t[10]>>>28,Z=t[10]<<4|t[11]>>>28,R=t[20]<<3|t[21]>>>29,P=t[21]<<3|t[20]>>>29,st=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,V=t[41]<<18|t[40]>>>14,D=t[2]<<1|t[3]>>>31,L=t[3]<<1|t[2]>>>31,g=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,K=t[22]<<10|t[23]>>>22,Y=t[23]<<10|t[22]>>>22,I=t[33]<<13|t[32]>>>19,N=t[32]<<13|t[33]>>>19,lt=t[42]<<2|t[43]>>>30,ht=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,F=t[14]<<6|t[15]>>>26,B=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,_=t[24]<<11|t[25]>>>21,J=t[34]<<15|t[35]>>>17,$=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,C=t[44]<<29|t[45]>>>3,S=t[6]<<28|t[7]>>>4,A=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,U=t[26]<<25|t[27]>>>7,G=t[27]<<25|t[26]>>>7,w=t[36]<<21|t[37]>>>11,x=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,W=t[8]<<27|t[9]>>>5,q=t[9]<<27|t[8]>>>5,k=t[18]<<20|t[19]>>>12,T=t[19]<<20|t[18]>>>12,ot=t[29]<<7|t[28]>>>25,at=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,E=t[48]<<14|t[49]>>>18,M=t[49]<<14|t[48]>>>18,t[0]=v^~g&b,t[1]=m^~y&_,t[10]=S^~k&R,t[11]=A^~T&P,t[20]=D^~F&U,t[21]=L^~B&G,t[30]=W^~X&K,t[31]=q^~Z&Y,t[40]=et^~nt&ot,t[41]=rt^~it&at,t[2]=g^~b&w,t[3]=y^~_&x,t[12]=k^~R&I,t[13]=T^~P&N,t[22]=F^~U&j,t[23]=B^~G&z,t[32]=X^~K&J,t[33]=Z^~Y&$,t[42]=nt^~ot&st,t[43]=it^~at&ut,t[4]=b^~w&E,t[5]=_^~x&M,t[14]=R^~I&O,t[15]=P^~N&C,t[24]=U^~j&H,t[25]=G^~z&V,t[34]=K^~J&Q,t[35]=Y^~$&tt,t[44]=ot^~st&lt,t[45]=at^~ut&ht,t[6]=w^~E&v,t[7]=x^~M&m,t[16]=I^~O&S,t[17]=N^~C&A,t[26]=j^~H&D,t[27]=z^~V&L,t[36]=J^~Q&W,t[37]=$^~tt&q,t[46]=st^~lt&et,t[47]=ut^~ht&rt,t[8]=E^~v&g,t[9]=M^~m&y,t[18]=O^~S&k,t[19]=C^~A&T,t[28]=H^~D&F,t[29]=V^~L&B,t[38]=Q^~W&X,t[39]=tt^~q&Z,t[48]=lt^~et&nt,t[49]=ht^~rt&it,t[0]^=p[n],t[1]^=p[n+1]};if(u)t.exports=A;else{for(T=0;T<k.length;++T)a[k[T]]=A[k[T]];l&&(void 0===(n=function(){return A}.call(e,r,e,t))||(t.exports=n))}}()},72325:function(t){function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},21200:function(t,e,r){t.exports=r(42641)},28021:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.track=function(t,e){if(0===(t=(t=(t=t||"").replace(/^\s*/,"")).replace(/\s*$/,"")).length)throw new TypeError("A name for the custom event must be provided");for(var r in e)if("string"!==typeof r||"string"!==typeof e[r])throw new TypeError('track() dimensions expects keys and values of type "string".');return o.default.getAnalyticsController().track(t,e)};var o=i(r(22336));var a={track:function(t,e){var r="events/".concat(t);return o.default.getRESTController().request("POST",r,{dimensions:e})}};o.default.setAnalyticsController(a)},15357:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(13675)),a=r(75658).v4,s=!1,u={isLinked:function(t){var e=this._getAuthProvider();return t._isLinked(e.getAuthType())},logIn:function(t){var e=this._getAuthProvider();return o.default.logInWith(e.getAuthType(),e.getAuthData(),t)},link:function(t,e){var r=this._getAuthProvider();return t.linkWith(r.getAuthType(),r.getAuthData(),e)},_getAuthProvider:function(){var t={restoreAuthentication:function(){return!0},getAuthType:function(){return"anonymous"},getAuthData:function(){return{authData:{id:a()}}}};return s||(o.default._registerAuthenticationProvider(t),s=!0),t}};e.default=u},92456:function(t,e,r){"use strict";r(63978)(e,"__esModule",{value:!0}),e.default=void 0;var n={ETH_MAINENT:"0x1",ETH_ROPSTEN:"0x3",ETH_GOERLI:"0x5",ETH_KOVAN:"0x2a",ETH_RINKBEY:"0x4",ETH_LOCALDEVCHAIN:"0x539",POLYGON_MAINNET:"0x89",POLYGON_MUMBAI:"0x13881",BSC_MAINNET:"0x38",BSC_TESTNET:"0x61",AVAX_MAINNET:"0xa86a",AVAX_TESTNET:"0xa869",FANTOM_MAINNET:"0xfa",CRONOS_MAINNET:"0x19"};e.default=n},89406:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.getJobStatus=function(t){return new f.default("_JobStatus").get(t,{useMasterKey:!0})},e.getJobsData=function(){return u.default.getCloudController().getJobsData({useMasterKey:!0})},e.run=function(t,e,r){if(r=r||{},"string"!==typeof t||0===t.length)throw new TypeError("Cloud function name must be a string.");var n={};r.useMasterKey&&(n.useMasterKey=r.useMasterKey);r.sessionToken&&(n.sessionToken=r.sessionToken);r.context&&"object"===(0,s.default)(r.context)&&(n.context=r.context);return u.default.getCloudController().run(t,e,n)},e.startJob=function(t,e){if("string"!==typeof t||0===t.length)throw new TypeError("Cloud job name must be a string.");return u.default.getCloudController().startJob(t,e,{useMasterKey:!0})};var o=i(r(86902)),a=i(r(93476)),s=i(r(23765)),u=i(r(22336)),l=i(r(50569)),h=i(r(16962)),c=i(r(18702)),f=i(r(52208));i(r(71149));var d={run:function(t,e,r){var n=u.default.getRESTController(),i=(0,h.default)(e,!0);return n.request("POST","functions/".concat(t),i,r).then((function(t){if("object"===(0,s.default)(t)&&(0,o.default)(t).length>0&&!t.hasOwnProperty("result"))throw new c.default(c.default.INVALID_JSON,"The server returned an invalid response.");var e=(0,l.default)(t);return e&&e.hasOwnProperty("result")?a.default.resolve(e.result):a.default.resolve(void 0)}))},getJobsData:function(t){return u.default.getRESTController().request("GET","cloud_code/jobs/data",null,t)},startJob:function(t,e,r){var n=u.default.getRESTController(),i=(0,h.default)(e,!0);return n.request("POST","jobs/".concat(t),i,r)}};u.default.setCloudController(d)},22336:function(t,e,r){"use strict";var n=r(60530),i=n(r(78914)),o=n(r(77766)),a={IS_NODE:"undefined"!==typeof process&&!!process.versions&&!!process.versions.node&&!process.versions.electron,REQUEST_ATTEMPT_LIMIT:5,REQUEST_BATCH_SIZE:20,REQUEST_HEADERS:{},SERVER_URL:"https://api.parse.com/1",SERVER_AUTH_TYPE:null,SERVER_AUTH_TOKEN:null,LIVEQUERY_SERVER_URL:null,ENCRYPTED_KEY:null,VERSION:"js".concat("1.9.0"),APPLICATION_ID:null,JAVASCRIPT_KEY:null,MASTER_KEY:null,USE_MASTER_KEY:!1,PERFORM_USER_REWRITE:!0,FORCE_REVOCABLE_SESSION:!1,ENCRYPTED_USER:!1,IDEMPOTENCY:!1};function s(t,e,r){(0,i.default)(e).call(e,(function(e){var n;if("function"!==typeof r[e])throw new Error((0,o.default)(n="".concat(t," must implement ")).call(n,e,"()"))}))}t.exports={get:function(t){if(a.hasOwnProperty(t))return a[t];throw new Error("Configuration key not found: ".concat(t))},set:function(t,e){a[t]=e},setAnalyticsController:function(t){s("AnalyticsController",["track"],t),a.AnalyticsController=t},getAnalyticsController:function(){return a.AnalyticsController},setCloudController:function(t){s("CloudController",["run","getJobsData","startJob"],t),a.CloudController=t},getCloudController:function(){return a.CloudController},setConfigController:function(t){s("ConfigController",["current","get","save"],t),a.ConfigController=t},getConfigController:function(){return a.ConfigController},setCryptoController:function(t){s("CryptoController",["encrypt","decrypt"],t),a.CryptoController=t},getCryptoController:function(){return a.CryptoController},setFileController:function(t){s("FileController",["saveFile","saveBase64"],t),a.FileController=t},getFileController:function(){return a.FileController},setInstallationController:function(t){s("InstallationController",["currentInstallationId"],t),a.InstallationController=t},getInstallationController:function(){return a.InstallationController},setObjectController:function(t){s("ObjectController",["save","fetch","destroy"],t),a.ObjectController=t},getObjectController:function(){return a.ObjectController},setObjectStateController:function(t){s("ObjectStateController",["getState","initializeState","removeState","getServerData","setServerData","getPendingOps","setPendingOp","pushPendingState","popPendingState","mergeFirstPendingState","getObjectCache","estimateAttribute","estimateAttributes","commitServerChanges","enqueueTask","clearAllState"],t),a.ObjectStateController=t},getObjectStateController:function(){return a.ObjectStateController},setPushController:function(t){s("PushController",["send"],t),a.PushController=t},getPushController:function(){return a.PushController},setQueryController:function(t){s("QueryController",["find","aggregate"],t),a.QueryController=t},getQueryController:function(){return a.QueryController},setRESTController:function(t){s("RESTController",["request","ajax"],t),a.RESTController=t},getRESTController:function(){return a.RESTController},setSchemaController:function(t){s("SchemaController",["get","create","update","delete","send","purge"],t),a.SchemaController=t},getSchemaController:function(){return a.SchemaController},setSessionController:function(t){s("SessionController",["getSession"],t),a.SessionController=t},getSessionController:function(){return a.SessionController},setStorageController:function(t){t.async?s("An async StorageController",["getItemAsync","setItemAsync","removeItemAsync","getAllKeysAsync"],t):s("A synchronous StorageController",["getItem","setItem","removeItem","getAllKeys"],t),a.StorageController=t},setLocalDatastoreController:function(t){s("LocalDatastoreController",["pinWithName","fromPinWithName","unPinWithName","getAllContents","clear"],t),a.LocalDatastoreController=t},getLocalDatastoreController:function(){return a.LocalDatastoreController},setLocalDatastore:function(t){a.LocalDatastore=t},getLocalDatastore:function(){return a.LocalDatastore},getStorageController:function(){return a.StorageController},setAsyncStorage:function(t){a.AsyncStorage=t},getAsyncStorage:function(){return a.AsyncStorage},setWebSocketController:function(t){a.WebSocketController=t},getWebSocketController:function(){return a.WebSocketController},setUserController:function(t){s("UserController",["setCurrentUser","currentUser","currentUserAsync","signUp","logIn","become","logOut","me","requestPasswordReset","upgradeToRevocableSession","requestEmailVerification","verifyPassword","linkWith"],t),a.UserController=t},getUserController:function(){return a.UserController},setLiveQueryController:function(t){s("LiveQueryController",["setDefaultLiveQueryClient","getDefaultLiveQueryClient","_clearCachedDefaultClient"],t),a.LiveQueryController=t},getLiveQueryController:function(){return a.LiveQueryController},setHooksController:function(t){s("HooksController",["create","get","update","remove"],t),a.HooksController=t},getHooksController:function(){return a.HooksController}}},92395:function(t,e,r){"use strict";var n,i,o=r(60530)(r(59340));n=r(78177),i=r(10886);var a={encrypt:function(t,e){return n.encrypt((0,o.default)(t),e).toString()},decrypt:function(t,e){return n.decrypt(t,e).toString(i)}};t.exports=a},77165:function(t,e,r){"use strict";t.exports=r(47465).EventEmitter},52451:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o,a,s=i(r(13675)),u=!1,l={authenticate:function(t){var e=this;"undefined"===typeof FB&&t.error(this,"Facebook SDK not found."),FB.login((function(r){r.authResponse?t.success&&t.success(e,{id:r.authResponse.userID,access_token:r.authResponse.accessToken,expiration_date:new Date(1e3*r.authResponse.expiresIn+(new Date).getTime()).toJSON()}):t.error&&t.error(e,r)}),{scope:o})},restoreAuthentication:function(t){if(t){var e={};if(a)for(var r in a)e[r]=a[r];e.status=!1;var n=FB.getAuthResponse();n&&n.userID!==t.id&&FB.logout(),FB.init(e)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}},h={init:function(t){if("undefined"===typeof FB)throw new Error("The Facebook JavaScript SDK must be loaded before calling init.");if(a={},t)for(var e in t)a[e]=t[e];a.status&&"undefined"!==typeof console&&(console.warn||console.log||function(){}).call(console,'The "status" flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.');a.status=!1,FB.init(a),s.default._registerAuthenticationProvider(l),u=!0},isLinked:function(t){return t._isLinked("facebook")},logIn:function(t,e){if(!t||"string"===typeof t){if(!u)throw new Error("You must initialize FacebookUtils before calling logIn.");return o=t,s.default.logInWith("facebook",e)}return s.default.logInWith("facebook",{authData:t},e)},link:function(t,e,r){if(!e||"string"===typeof e){if(!u)throw new Error("You must initialize FacebookUtils before calling link.");return o=e,t.linkWith("facebook",r)}return t.linkWith("facebook",{authData:e},r)},unlink:function(t,e){if(!u)throw new Error("You must initialize FacebookUtils before calling unlink.");return t._unlinkFrom("facebook",e)},_getAuthProvider:function(){return l}};e.default=h},83442:function(t,e,r){"use strict";var n=r(60530),i=n(r(93476)),o=n(r(95436)),a=r(75658).v4,s=null,u={currentInstallationId:function(){if("string"===typeof s)return i.default.resolve(s);var t=o.default.generatePath("installationId");return o.default.getItemAsync(t).then((function(e){return e?(s=e,e):(e=a(),o.default.setItemAsync(t,e).then((function(){return s=e,e})))}))},_clearCache:function(){s=null},_setInstallationIdCache:function(t){s=t}};t.exports=u},91914:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=e.InternalWeb3Events=void 0;var a=o(r(63109)),s=o(r(51161)),u=o(r(26394)),l=o(r(69198)),h=o(r(5824)),c=o(r(51379)),f=o(r(214)),d=o(r(66380)),p=o(r(56474)),v=o(r(54103)),m=o(r(47465)),g=r(1061),y=r(60186),b=r(45301);function _(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,d.default)(t);if(e){var o=(0,d.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,f.default)(this,r)}}var w=(0,p.default)({ACCOUNT_CHANGED:"accountChanged",CHAIN_CHANGED:"chainChanged",PROVIDER_CONNECT:"provider-connect",PROVIDER_DISCONNECT:"provider-disconnect",WEB3_ENABLED:"web3Enabled",WEB3_DEACTIVATED:"web3Deactivated"});e.InternalWeb3Events=w;var x=function(t){(0,c.default)(r,t);var e=_(r);function r(t){var n,i,o,a,s,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if((0,u.default)(this,r),s=e.call(this),!t)throw new Error("Cannot initialize InternalWeb3Provider without a connector");return s.connector=t,s.anyNetwork=l,s.privateKey=c,s.handleAccountChanged=(0,v.default)(n=s.handleAccountChanged).call(n,(0,h.default)(s)),s.handleChainChanged=(0,v.default)(i=s.handleChainChanged).call(i,(0,h.default)(s)),s.handleConnect=(0,v.default)(o=s.handleConnect).call(o,(0,h.default)(s)),s.handleDisconnect=(0,v.default)(a=s.handleDisconnect).call(a,(0,h.default)(s)),s}return(0,l.default)(r,[{key:"activate",value:function(){var t=(0,s.default)(a.default.mark((function t(e){var r,n,i,o,s;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.connector){t.next=2;break}throw new Error("Cannot activate InternalWeb3Provider without a connector");case 2:return this.connector.on&&(this.connector.on(g.ConnectorEvents.ACCOUNT_CHANGED,this.handleAccountChanged),this.connector.on(g.ConnectorEvents.CHAIN_CHANGED,this.handleChainChanged),this.connector.on(g.ConnectorEvents.CONNECT,this.handleConnect),this.connector.on(g.ConnectorEvents.DISCONNECT,this.handleDisconnect)),t.next=5,this.connector.activate(e);case 5:return r=t.sent,n=r.provider,i=r.chainId,o=r.account,this.provider=n,this.chainId=i,this.account=o,s=this.anyNetwork?"any":(0,b.fromHexToDecimal)(i),this.web3=new y.ethers.providers.Web3Provider(n,s),t.abrupt("return",{provider:n,chainId:i,account:o,web3:this.web3});case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"signer",get:function(){return null!=this.privateKey?new y.ethers.Wallet(this.privateKey,this.web3):this.web3.getSigner(this.account)}},{key:"signerOrProvider",get:function(){try{return this.account?null!=this.privateKey?new y.ethers.Wallet(this.privateKey,this.web3):this.web3.getSigner(this.account):this.web3}catch(t){return this.web3}}},{key:"handleChainChanged",value:function(t){this.chainId=t,this.web3=new y.ethers.providers.Web3Provider(this.provider,(0,b.fromHexToDecimal)(t)),this.emit(w.CHAIN_CHANGED,t)}},{key:"handleAccountChanged",value:function(t){this.account=t,this.emit(w.ACCOUNT_CHANGED,t)}},{key:"handleConnect",value:function(t){this.emit(w.PROVIDER_CONNECT,t)}},{key:"handleDisconnect",value:function(t){this.emit(w.PROVIDER_DISCONNECT,t)}},{key:"deactivate",value:function(){var t=(0,s.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.account=null,this.chianId=null,this.web3=null,this.provider=null,this.privateKey=null,!this.connector){t.next=10;break}if(this.connector.removeListener&&(this.connector.removeListener(w.CHAIN_CHANGED,this.handleChainChanged),this.connector.removeListener(w.ACCOUNT_CHANGED,this.handleAccountChanged),this.connector.removeListener(w.PROVIDER_CONNECT,this.handleConnect),this.connector.removeListener(w.PROVIDER_DISCONNECT,this.handleDisconnect)),!this.connector.deactivate){t.next=10;break}return t.next=10,this.connector.deactivate();case 10:this.connector=null;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(m.default),E=x;e.default=E},35407:function(t,e,r){"use strict";var n=r(1068),i=r(3649),o=r(66419),a=r(65420),s=r(19996),u=r(41511),l=r(63978),h=r(60530);l(e,"__esModule",{value:!0}),e.default=void 0;var c=h(r(81643)),f=h(r(39392)),d=h(r(69301)),p=h(r(59340)),v=h(r(78914)),m=h(r(89400)),g=h(r(33032)),y=h(r(54103)),b=h(r(23765)),_=h(r(26394)),w=h(r(69198)),x=h(r(5824)),E=h(r(51379)),M=h(r(214)),S=h(r(66380)),A=h(r(87672)),k=h(r(22336)),T=h(r(77165)),R=h(r(71149)),P=h(r(27514)),I=r(79689);function N(t,e){var r="undefined"!==typeof a&&s(t)||t["@@iterator"];if(!r){if(u(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return O(t,e);var n=i(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return o(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,l=function(){};return{s:l,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,S.default)(t);if(e){var o=(0,S.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,M.default)(this,r)}}var D="initialized",L="connecting",F="connected",B="closed",U="reconnecting",G="disconnected",j="connect",z="subscribe",H="unsubscribe",V="connected",W="subscribed",q="unsubscribed",X="error",Z="close",K="error",Y="open",J="open",$="close",Q="error",tt=function(t){(0,E.default)(r,t);var e=C(r);function r(t){var n,i=t.applicationId,o=t.serverURL,a=t.javascriptKey,s=t.masterKey,u=t.sessionToken,l=t.installationId;if((0,_.default)(this,r),n=e.call(this),(0,A.default)((0,x.default)(n),"attempts",void 0),(0,A.default)((0,x.default)(n),"id",void 0),(0,A.default)((0,x.default)(n),"requestId",void 0),(0,A.default)((0,x.default)(n),"applicationId",void 0),(0,A.default)((0,x.default)(n),"serverURL",void 0),(0,A.default)((0,x.default)(n),"javascriptKey",void 0),(0,A.default)((0,x.default)(n),"masterKey",void 0),(0,A.default)((0,x.default)(n),"sessionToken",void 0),(0,A.default)((0,x.default)(n),"installationId",void 0),(0,A.default)((0,x.default)(n),"additionalProperties",void 0),(0,A.default)((0,x.default)(n),"connectPromise",void 0),(0,A.default)((0,x.default)(n),"subscriptions",void 0),(0,A.default)((0,x.default)(n),"socket",void 0),(0,A.default)((0,x.default)(n),"state",void 0),!o||0!==(0,c.default)(o).call(o,"ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");return n.reconnectHandle=null,n.attempts=1,n.id=0,n.requestId=1,n.serverURL=o,n.applicationId=i,n.javascriptKey=a||void 0,n.masterKey=s||void 0,n.sessionToken=u||void 0,n.installationId=l||void 0,n.additionalProperties=!0,n.connectPromise=(0,I.resolvingPromise)(),n.subscriptions=new f.default,n.state=D,n.on("error",(function(){})),n}return(0,w.default)(r,[{key:"shouldOpen",value:function(){return this.state===D||this.state===G}},{key:"subscribe",value:function(t,e){var r=this;if(t){var n=t.className,i=t.toJSON(),o=i.where,a=(0,d.default)(i)?(0,d.default)(i).split(","):void 0,s={op:z,requestId:this.requestId,query:{className:n,where:o,fields:a}};e&&(s.sessionToken=e);var u=new P.default(this.requestId,t,e);return this.subscriptions.set(this.requestId,u),this.requestId+=1,this.connectPromise.then((function(){r.socket.send((0,p.default)(s))})),u}}},{key:"unsubscribe",value:function(t){var e=this;if(t){this.subscriptions.delete(t.id);var r={op:H,requestId:t.id};this.connectPromise.then((function(){e.socket.send((0,p.default)(r))}))}}},{key:"open",value:function(){var t=this,e=k.default.getWebSocketController();e?(this.state!==U&&(this.state=L),this.socket=new e(this.serverURL),this.socket.onopen=function(){t._handleWebSocketOpen()},this.socket.onmessage=function(e){t._handleWebSocketMessage(e)},this.socket.onclose=function(){t._handleWebSocketClose()},this.socket.onerror=function(e){t._handleWebSocketError(e)}):this.emit(K,"Can not find WebSocket implementation")}},{key:"resubscribe",value:function(){var t,e=this;(0,v.default)(t=this.subscriptions).call(t,(function(t,r){var n=t.query,i=n.toJSON(),o=i.where,a=(0,d.default)(i)?(0,d.default)(i).split(","):void 0,s=n.className,u=t.sessionToken,l={op:z,requestId:r,query:{className:s,where:o,fields:a}};u&&(l.sessionToken=u),e.connectPromise.then((function(){e.socket.send((0,p.default)(l))}))}))}},{key:"close",value:function(){var t;if(this.state!==D&&this.state!==G){this.state=G,this.socket.close();var e,r=N((0,m.default)(t=this.subscriptions).call(t));try{for(r.s();!(e=r.n()).done;){var n=e.value;n.subscribed=!1,n.emit($)}}catch(i){r.e(i)}finally{r.f()}this._handleReset(),this.emit(Z)}}},{key:"_handleReset",value:function(){this.attempts=1,this.id=0,this.requestId=1,this.connectPromise=(0,I.resolvingPromise)(),this.subscriptions=new f.default}},{key:"_handleWebSocketOpen",value:function(){this.attempts=1;var t={op:j,applicationId:this.applicationId,javascriptKey:this.javascriptKey,masterKey:this.masterKey,sessionToken:this.sessionToken};this.additionalProperties&&(t.installationId=this.installationId),this.socket.send((0,p.default)(t))}},{key:"_handleWebSocketMessage",value:function(t){var e=t.data;"string"===typeof e&&(e=JSON.parse(e));var r=null;e.requestId&&(r=this.subscriptions.get(e.requestId));var n={clientId:e.clientId,installationId:e.installationId};switch(e.op){case V:this.state===U&&this.resubscribe(),this.emit(Y),this.id=e.clientId,this.connectPromise.resolve(),this.state=F;break;case W:r&&(r.subscribed=!0,r.subscribePromise.resolve(),(0,g.default)((function(){return r.emit(J,n)}),200));break;case X:e.requestId?r&&(r.subscribePromise.resolve(),(0,g.default)((function(){return r.emit(Q,e.error)}),200)):this.emit(K,e.error),"Additional properties not allowed"===e.error&&(this.additionalProperties=!1),e.reconnect&&this._handleReconnect();break;case q:break;default:if(!r)break;var i=!1;if(e.original){for(var o in i=!0,delete e.original.__type,e.original)o in e.object||(e.object[o]=void 0);e.original=R.default.fromJSON(e.original,!1)}delete e.object.__type;var a=R.default.fromJSON(e.object,i);e.original?r.emit(e.op,a,e.original,n):r.emit(e.op,a,n);var s=k.default.getLocalDatastore();i&&s.isEnabled&&s._updateObjectIfPinned(a).then((function(){}))}}},{key:"_handleWebSocketClose",value:function(){var t;if(this.state!==G){this.state=B,this.emit(Z);var e,r=N((0,m.default)(t=this.subscriptions).call(t));try{for(r.s();!(e=r.n()).done;){e.value.emit($)}}catch(n){r.e(n)}finally{r.f()}this._handleReconnect()}}},{key:"_handleWebSocketError",value:function(t){var e;this.emit(K,t);var r,n=N((0,m.default)(e=this.subscriptions).call(e));try{for(n.s();!(r=n.n()).done;){r.value.emit(Q,t)}}catch(i){n.e(i)}finally{n.f()}this._handleReconnect()}},{key:"_handleReconnect",value:function(){var t,e=this;if(this.state!==G){this.state=U;var r,n=(r=this.attempts,Math.random()*Math.min(30,Math.pow(2,r)-1)*1e3);this.reconnectHandle&&clearTimeout(this.reconnectHandle),this.reconnectHandle=(0,g.default)((0,y.default)(t=function(){e.attempts++,e.connectPromise=(0,I.resolvingPromise)(),e.open()}).call(t,this),n)}}}]),r}(T.default);k.default.setWebSocketController("function"===typeof WebSocket||"object"===("undefined"===typeof WebSocket?"undefined":(0,b.default)(WebSocket))?WebSocket:null);var et=tt;e.default=et},27514:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(26394)),s=o(r(69198)),u=o(r(51379)),l=o(r(214)),h=o(r(66380)),c=o(r(77165)),f=o(r(22336)),d=r(79689);function p(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,h.default)(t);if(e){var o=(0,h.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,l.default)(this,r)}}var v=function(t){(0,u.default)(r,t);var e=p(r);function r(t,n,i){var o;return(0,a.default)(this,r),(o=e.call(this)).id=t,o.query=n,o.sessionToken=i,o.subscribePromise=(0,d.resolvingPromise)(),o.subscribed=!1,o.on("error",(function(){})),o}return(0,s.default)(r,[{key:"unsubscribe",value:function(){var t=this;return f.default.getLiveQueryController().getDefaultLiveQueryClient().then((function(e){e.unsubscribe(t),t.emit("close")}))}}]),r}(c.default);e.default=v},89295:function(t,e,r){"use strict";var n=r(3649),i=r(66419),o=r(65420),a=r(19996),s=r(41511),u=r(60530),l=u(r(63109)),h=u(r(93476)),c=u(r(36384)),f=u(r(77766)),d=u(r(20116)),p=u(r(78580)),v=u(r(86902)),m=u(r(29828)),g=u(r(69301)),y=u(r(41511)),b=u(r(2991)),_=u(r(66419)),w=u(r(94473)),x=u(r(59036)),E=u(r(18777)),M=u(r(51161)),S=u(r(22336)),A=u(r(52208)),k=r(72631);function T(t,e){var r="undefined"!==typeof o&&a(t)||t["@@iterator"];if(!r){if(s(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return R(t,e);var o=n(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return i(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return R(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var u=0,l=function(){};return{s:l,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var P={isEnabled:!1,isSyncing:!1,fromPinWithName:function(t){return S.default.getLocalDatastoreController().fromPinWithName(t)},pinWithName:function(t,e){return S.default.getLocalDatastoreController().pinWithName(t,e)},unPinWithName:function(t){return S.default.getLocalDatastoreController().unPinWithName(t)},_getAllContents:function(){return S.default.getLocalDatastoreController().getAllContents()},_getRawStorage:function(){return S.default.getLocalDatastoreController().getRawStorage()},_clear:function(){return S.default.getLocalDatastoreController().clear()},_handlePinAllWithName:function(t,e){var r=this;return(0,M.default)(l.default.mark((function n(){var i,o,a,s,u,d,p,v,m,g,y,b,_,w,M,S;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=r.getPinName(t),a=[],s=[],u=T(e);try{for(u.s();!(d=u.n()).done;)for(y in p=d.value,v=r._getChildren(p),m=r.getKeyForObject(p),g=p._toFullJSON(void 0,!0),p._localId&&(g._localId=p._localId),v[m]=g,v)s.push(y),a.push(r.pinWithName(y,[v[y]]))}catch(l){u.e(l)}finally{u.f()}return b=r.fromPinWithName(o),n.next=8,h.default.all([b,a]);case 8:return _=n.sent,w=(0,E.default)(_,1),M=w[0],S=(0,x.default)(new c.default((0,f.default)(i=[]).call(i,(0,x.default)(M||[]),s))),n.abrupt("return",r.pinWithName(o,S));case 13:case"end":return n.stop()}}),n)})))()},_handleUnPinAllWithName:function(t,e){var r=this;return(0,M.default)(l.default.mark((function n(){var i,o,a,s,u,y,b,_,w,E,M,S,A,R,P,I,N,O;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r._getAllContents();case 2:i=n.sent,o=r.getPinName(t),a=[],s=[],u=T(e);try{for(u.s();!(y=u.n()).done;)w=y.value,E=r._getChildren(w),M=r.getKeyForObject(w),(b=s).push.apply(b,(0,f.default)(_=[M]).call(_,(0,x.default)((0,v.default)(E))))}catch(C){u.e(C)}finally{u.f()}s=(0,x.default)(new c.default(s)),S=i[o]||[],0===(S=(0,d.default)(S).call(S,(function(t){return!(0,p.default)(s).call(s,t)}))).length?(a.push(r.unPinWithName(o)),delete i[o]):(a.push(r.pinWithName(o,S)),i[o]=S),A=T(s),n.prev=13,A.s();case 15:if((R=A.n()).done){n.next=31;break}P=R.value,I=!1,n.t0=(0,g.default)(l.default).call(l.default,i);case 19:if((n.t1=n.t0()).done){n.next=28;break}if((N=n.t1.value)!==k.DEFAULT_PIN&&!(0,m.default)(N).call(N,k.PIN_PREFIX)){n.next=26;break}if(O=i[N]||[],!(0,p.default)(O).call(O,P)){n.next=26;break}return I=!0,n.abrupt("break",28);case 26:n.next=19;break;case 28:I||a.push(r.unPinWithName(P));case 29:n.next=15;break;case 31:n.next=36;break;case 33:n.prev=33,n.t2=n.catch(13),A.e(n.t2);case 36:return n.prev=36,A.f(),n.finish(36);case 39:return n.abrupt("return",h.default.all(a));case 40:case"end":return n.stop()}}),n,null,[[13,33,36,39]])})))()},_getChildren:function(t){var e={},r=t._toFullJSON(void 0,!0);for(var n in r)r[n]&&r[n].__type&&"Object"===r[n].__type&&this._traverse(r[n],e);return e},_traverse:function(t,e){if(t.objectId){var r=this.getKeyForObject(t);if(!e[r])for(var n in e[r]=t,t){var i=t[n];t[n]||(i=t),i.__type&&"Object"===i.__type&&this._traverse(i,e)}}},_serializeObjectsFromPinName:function(t){var e=this;return(0,M.default)(l.default.mark((function r(){var n,i,o,a,s,u,c,p;return l.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e._getAllContents();case 2:for(a in i=r.sent,o=[],i)(0,m.default)(a).call(a,k.OBJECT_PREFIX)&&o.push(i[a][0]);if(t){r.next=7;break}return r.abrupt("return",o);case 7:if(s=e.getPinName(t),u=i[s],(0,y.default)(u)){r.next=11;break}return r.abrupt("return",[]);case 11:return c=(0,b.default)(u).call(u,(function(t){return e.fromPinWithName(t)})),r.next=14,h.default.all(c);case 14:return p=r.sent,p=(0,f.default)(n=[]).apply(n,(0,x.default)(p)),r.abrupt("return",(0,d.default)(p).call(p,(function(t){return null!=t})));case 17:case"end":return r.stop()}}),r)})))()},_serializeObject:function(t,e){var r=this;return(0,M.default)(l.default.mark((function n(){var i,o,a,s,u,h,c,f,d,p,v;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e){n.next=5;break}return n.next=4,r._getAllContents();case 4:i=n.sent;case 5:if(i[t]&&0!==i[t].length){n.next=7;break}return n.abrupt("return",null);case 7:for(o=i[t][0],a=[],(s={})[u=0]=o,a.push(u);0!==a.length;)for(f in h=a.shift(),c=s[h])(d=c[f]).__type&&"Object"===d.__type&&(p=r.getKeyForObject(d),i[p]&&i[p].length>0&&(v=i[p][0],u++,s[u]=v,c[f]=v,a.push(u)));return n.abrupt("return",o);case 15:case"end":return n.stop()}}),n)})))()},_updateObjectIfPinned:function(t){var e=this;return(0,M.default)(l.default.mark((function r(){var n,i;return l.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.isEnabled){r.next=2;break}return r.abrupt("return");case 2:return n=e.getKeyForObject(t),r.next=5,e.fromPinWithName(n);case 5:if((i=r.sent)&&0!==i.length){r.next=8;break}return r.abrupt("return");case 8:return r.abrupt("return",e.pinWithName(n,[t._toFullJSON()]));case 9:case"end":return r.stop()}}),r)})))()},_destroyObjectIfPinned:function(t){var e=this;return(0,M.default)(l.default.mark((function r(){var n,i,o,a,s;return l.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.isEnabled){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,e._getAllContents();case 4:if(n=r.sent,i=e.getKeyForObject(t),n[i]){r.next=9;break}return r.abrupt("return");case 9:for(a in o=[e.unPinWithName(i)],delete n[i],n)(a===k.DEFAULT_PIN||(0,m.default)(a).call(a,k.PIN_PREFIX))&&(s=n[a]||[],(0,p.default)(s).call(s,i)&&(0===(s=(0,d.default)(s).call(s,(function(t){return t!==i}))).length?(o.push(e.unPinWithName(a)),delete n[a]):(o.push(e.pinWithName(a,s)),n[a]=s)));return r.abrupt("return",h.default.all(o));case 13:case"end":return r.stop()}}),r)})))()},_updateLocalIdForObject:function(t,e){var r=this;return(0,M.default)(l.default.mark((function n(){var i,o,a,s,u,c,v,g,y;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.isEnabled){n.next=2;break}return n.abrupt("return");case 2:return a=(0,f.default)(i=(0,f.default)(o="".concat(k.OBJECT_PREFIX)).call(o,e.className,"_")).call(i,t),s=r.getKeyForObject(e),n.next=6,r.fromPinWithName(a);case 6:if((u=n.sent)&&0!==u.length){n.next=9;break}return n.abrupt("return");case 9:return c=[r.unPinWithName(a),r.pinWithName(s,u)],n.next=12,r._getAllContents();case 12:for(g in v=n.sent)(g===k.DEFAULT_PIN||(0,m.default)(g).call(g,k.PIN_PREFIX))&&(y=v[g]||[],(0,p.default)(y).call(y,a)&&((y=(0,d.default)(y).call(y,(function(t){return t!==a}))).push(s),c.push(r.pinWithName(g,y)),v[g]=y));return n.abrupt("return",h.default.all(c));case 15:case"end":return n.stop()}}),n)})))()},updateFromServer:function(){var t=this;return(0,M.default)(l.default.mark((function e(){var r,n,i,o,a,s,u,d,p,g,y,x,M,S,T,R;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.checkIfEnabled()&&!t.isSyncing){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t._getAllContents();case 4:for(o in n=e.sent,i=[],n)(0,m.default)(o).call(o,k.OBJECT_PREFIX)&&i.push(o);if(0!==i.length){e.next=9;break}return e.abrupt("return");case 9:t.isSyncing=!0,a={},s=0,u=i;case 12:if(!(s<u.length)){e.next=23;break}if(d=u[s],p=d.split("_"),g=(0,E.default)(p,4),y=g[2],x=g[3],5===d.split("_").length&&"User"===d.split("_")[3]&&(y="_User",x=d.split("_")[4]),!(0,m.default)(x).call(x,"local")){e.next=18;break}return e.abrupt("continue",20);case 18:y in a||(a[y]=new c.default),a[y].add(x);case 20:s++,e.next=12;break;case 23:return M=(0,b.default)(r=(0,v.default)(a)).call(r,(function(t){var e=(0,_.default)(a[t]),r=new A.default(t);return r.limit(e.length),1===e.length?r.equalTo("objectId",e[0]):r.containedIn("objectId",e),(0,w.default)(r).call(r)})),e.prev=24,e.next=27,h.default.all(M);case 27:return S=e.sent,T=(0,f.default)([]).apply([],S),R=(0,b.default)(T).call(T,(function(e){var r=t.getKeyForObject(e);return t.pinWithName(r,e._toFullJSON())})),e.next=32,h.default.all(R);case 32:t.isSyncing=!1,e.next=39;break;case 35:e.prev=35,e.t0=e.catch(24),console.error("Error syncing LocalDatastore: ",e.t0),t.isSyncing=!1;case 39:case"end":return e.stop()}}),e,null,[[24,35]])})))()},getKeyForObject:function(t){var e,r,n=t.objectId||t._getId();return(0,f.default)(e=(0,f.default)(r="".concat(k.OBJECT_PREFIX)).call(r,t.className,"_")).call(e,n)},getPinName:function(t){return t&&t!==k.DEFAULT_PIN?k.PIN_PREFIX+t:k.DEFAULT_PIN},checkIfEnabled:function(){return this.isEnabled||console.error("Parse.enableLocalDatastore() must be called first"),this.isEnabled}};t.exports=P,S.default.setLocalDatastoreController(r(52786)),S.default.setLocalDatastore(P)},52786:function(t,e,r){"use strict";var n=r(3649),i=r(66419),o=r(65420),a=r(19996),s=r(41511),u=r(60530),l=u(r(59340)),h=u(r(32366)),c=u(r(93476)),f=u(r(2991)),d=u(r(63109)),p=u(r(51161)),v=r(72631),m=u(r(95436));function g(t,e){var r="undefined"!==typeof o&&a(t)||t["@@iterator"];if(!r){if(s(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return y(t,e);var o=n(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return i(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return y(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var u=0,l=function(){};return{s:l,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var b={fromPinWithName:function(t){return(0,p.default)(d.default.mark((function e(){var r,n;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.default.getItemAsync(t);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:return n=JSON.parse(r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))()},pinWithName:function(t,e){var r=(0,l.default)(e);return m.default.setItemAsync(t,r)},unPinWithName:function(t){return m.default.removeItemAsync(t)},getAllContents:function(){return(0,p.default)(d.default.mark((function t(){var e;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.default.getAllKeysAsync();case 2:return e=t.sent,t.abrupt("return",(0,h.default)(e).call(e,function(){var t=(0,p.default)(d.default.mark((function t(e,r){var n,i;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:if(n=t.sent,!(0,v.isLocalDatastoreKey)(r)){t.next=8;break}return t.next=6,m.default.getItemAsync(r);case 6:i=t.sent;try{n[r]=JSON.parse(i)}catch(o){console.error("Error getAllContents: ",o)}case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.default.resolve({})));case 4:case"end":return t.stop()}}),t)})))()},getRawStorage:function(){return(0,p.default)(d.default.mark((function t(){var e;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.default.getAllKeysAsync();case 2:return e=t.sent,t.abrupt("return",(0,h.default)(e).call(e,function(){var t=(0,p.default)(d.default.mark((function t(e,r){var n,i;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e;case 2:return n=t.sent,t.next=5,m.default.getItemAsync(r);case 5:return i=t.sent,n[r]=i,t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.default.resolve({})));case 4:case"end":return t.stop()}}),t)})))()},clear:function(){var t=this;return(0,p.default)(d.default.mark((function e(){var r,n,i,o,a,s;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.default.getAllKeysAsync();case 2:r=e.sent,n=[],i=g(r);try{for(i.s();!(o=i.n()).done;)a=o.value,(0,v.isLocalDatastoreKey)(a)&&n.push(a)}catch(u){i.e(u)}finally{i.f()}return s=(0,f.default)(n).call(n,t.unPinWithName),e.abrupt("return",c.default.all(s));case 8:case"end":return e.stop()}}),e)})))()}};t.exports=b},72631:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.PIN_PREFIX=e.OBJECT_PREFIX=e.DEFAULT_PIN=void 0,e.isLocalDatastoreKey=function(t){return!(!t||t!==a&&!(0,o.default)(t).call(t,s)&&!(0,o.default)(t).call(t,u))};var o=i(r(29828)),a="_default";e.DEFAULT_PIN=a;var s="parsePin_";e.PIN_PREFIX=s;var u="Parse_LDS_";e.OBJECT_PREFIX=u},21413:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(63109)),a=i(r(86902)),s=i(r(20116)),u=i(r(66419)),l=i(r(3649)),h=i(r(51161)),c=i(r(26394)),f=i(r(69198)),d=i(r(13675)),p=i(r(52208)),v=i(r(71149)),m=i(r(77950)),g=i(r(73987)),y=null,b=function(){function t(){(0,c.default)(this,t)}return(0,f.default)(t,null,[{key:"web3IsInjected",value:function(){return 0!==(0,a.default)(window.injectedWeb3).length}},{key:"enable",value:function(){var t=(0,h.default)(o.default.mark((function t(e){var r,n,i,a=arguments;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a.length>1&&void 0!==a[1]?a[1]:"polkadot-js",!y){t.next=3;break}return t.abrupt("return",y);case 3:return y=null===(r=window.injectedWeb3)||void 0===r||null===(n=r[i])||void 0===n?void 0:n.enable(e),t.abrupt("return",y);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=(0,h.default)(o.default.mark((function e(r){var n,i,a,s,u,l,h,c,f,p,v;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enable(null!==(n=null===r||void 0===r?void 0:r.name)&&void 0!==n?n:"Moralis");case 2:return t.web3=e.sent,e.next=5,t.web3.accounts.get();case 5:if(i=e.sent,a=i[0],s=null===a||void 0===a?void 0:a.address){e.next=10;break}throw new Error("Address not found");case 10:return l=[u=s],h=t.getSigningData(),e.next=15,(0,g.default)(h);case 15:return c=e.sent,e.next=18,t.sign(s,c);case 18:return f=e.sent,p={id:u,signature:f,data:c},e.next=22,d.default.logInWith("moralisDot",{authData:p});case 22:if(v=e.sent){e.next=25;break}throw new Error("Could not get user");case 25:return e.next=27,v.setACL(new m.default(v));case 27:return v.addAllUnique("dotAccounts",l),v.set("dotAddress",u),e.next=31,v.save();case 31:return e.abrupt("return",v);case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"link",value:function(){var e=(0,h.default)(o.default.mark((function e(r,n){var i,a,s,u,l,h,c,f;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(null===n||void 0===n?void 0:n.signingMessage)||t.getSigningData(),e.next=3,d.default.current();case 3:return a=e.sent,s=r,u=v.default.extend("_DotAddress"),l=new p.default(u),e.next=9,l.get(s).catch((function(){return null}));case 9:if(e.sent){e.next=20;break}return e.next=13,(0,g.default)(i);case 13:return h=e.sent,e.next=16,t.sign(s,h);case 16:return c=e.sent,f={id:s,signature:c,data:h},e.next=20,a.linkWith("moralisDot",{authData:f});case 20:return a.addAllUnique("dotAccounts",[s]),a.set("dotAddress",s),e.next=24,a.save();case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"unlink",value:function(){var t=(0,h.default)(o.default.mark((function t(e){var r,n,i,a,u,l,h,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,i=v.default.extend("_DotAddress"),a=new p.default(i),t.next=5,a.get(n);case 5:return u=t.sent,t.next=8,u.destroy();case 8:return t.next=10,d.default.current();case 10:return l=t.sent,h=null!==(r=l.get("dotAccounts"))&&void 0!==r?r:[],c=(0,s.default)(h).call(h,(function(t){return t!==n})),l.set("dotAccounts",c),l.set("dotAddress",c[0]),t.next=17,l._unlinkFrom("moralisDot");case 17:return t.next=19,l.save();case 19:return t.abrupt("return",l);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"sign",value:function(){var t=(0,h.default)(o.default.mark((function t(e,r){var n,i,a;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y){t.next=2;break}throw new Error("Must enable MoralisDot");case 2:return t.next=4,y;case 4:if((n=t.sent).signer){t.next=7;break}throw new Error("No signer found");case 7:return t.next=9,n.signer.signRaw({address:e,data:(s=r,o=w(s),"0x".concat((0,u.default)(o,(function(t){var e;return(0,l.default)(e="0".concat((255&t).toString(16))).call(e,-2)})).join(""))),type:"bytes"});case 9:return i=t.sent,a=i.signature,t.abrupt("return",a);case 12:case"end":return t.stop()}var o,s}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getSigningData",value:function(){return"Moralis Authentication"}}]),t}(),_=b;function w(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}e.default=_},37282:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(20116)),a=i(r(63109)),s=i(r(51161)),u=i(r(26394)),l=i(r(69198)),h=i(r(13675)),c=i(r(52208)),f=i(r(71149)),d=i(r(77950)),p=i(r(73987));function v(){return m.getErdJs()}var m=function(){function t(){(0,u.default)(this,t)}return(0,l.default)(t,null,[{key:"getErdJs",value:function(){if("undefined"!==typeof window&&window.erdjs)return window.erdjs;throw new Error("Please add erdjs scripts")}},{key:"gatewayAddress",value:function(){return"https://gateway.elrond.com"}},{key:"hwProxy",value:function(){var e=(0,s.default)(a.default.mark((function e(){var r,n,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._proxy){e.next=2;break}return e.abrupt("return",t._proxy);case 2:return r=v(),n=r.ProxyProvider,i=new n(t.gatewayAddress()),t._proxy=i,e.abrupt("return",t._proxy);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"hwProvider",value:function(){return t._hw}},{key:"enable",value:function(){var e=(0,s.default)(a.default.mark((function e(){var r,n,i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v(),n=r.HWProvider,e.next=3,t.hwProxy();case 3:return i=e.sent,o=new n(i),e.next=7,o.init();case 7:if(e.sent){e.next=10;break}throw new Error("Could not initialise ledger app, make sure Elrond app is open");case 10:return t._hw=o,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=(0,s.default)(a.default.mark((function e(){var r,n,i,o,s,u,l,c,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enable();case 2:return r=e.sent,e.next=5,r.login();case 5:return n=e.sent,i=n.toLowerCase(),o=[i],s=t.getSigningData(),e.next=11,(0,p.default)(s);case 11:return u=e.sent,e.next=14,t.sign(u);case 14:return l=e.sent,c={id:i,signature:l,data:u},e.next=18,h.default.logInWith("moralisErd",{authData:c});case 18:if(f=e.sent){e.next=21;break}throw new Error("Could not get user");case 21:return e.next=23,f.setACL(new d.default(f));case 23:return f.addAllUnique("erdAccounts",o),f.set("erdAddress",i),e.next=27,f.save();case 27:return e.abrupt("return",f);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"link",value:function(){var e=(0,s.default)(a.default.mark((function e(r,n){var i,o,s,u,l,d,v,m;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(null===n||void 0===n?void 0:n.signingMessage)||t.getSigningData(),e.next=3,h.default.current();case 3:return o=e.sent,s=r.toLowerCase(),u=f.default.extend("_ErdAddress"),l=new c.default(u),e.next=9,l.get(s).catch((function(){return null}));case 9:if(e.sent){e.next=20;break}return e.next=13,(0,p.default)(i);case 13:return d=e.sent,e.next=16,t.sign(d);case 16:return v=e.sent,m={id:s,signature:v,data:d},e.next=20,o.linkWith("moralisErd",{authData:m});case 20:return o.addAllUnique("erdAccounts",[s]),o.set("erdAddress",s),e.next=24,o.save();case 24:return e.abrupt("return",o);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"unlink",value:function(){var t=(0,s.default)(a.default.mark((function t(e){var r,n,i,s,u,l,d,p;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.toLowerCase(),i=f.default.extend("_ErdAddress"),s=new c.default(i),t.next=5,s.get(n);case 5:return u=t.sent,t.next=8,u.destroy();case 8:return t.next=10,h.default.current();case 10:return l=t.sent,d=null!==(r=l.get("erdAccounts"))&&void 0!==r?r:[],p=(0,o.default)(d).call(d,(function(t){return t!==n})),l.set("erdAccounts",p),l.set("erdAddress",p[0]),t.next=17,l._unlinkFrom("moralisErd");case 17:return t.next=19,l.save();case 19:return t.abrupt("return",l);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"sign",value:function(){var t=(0,s.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getSigningData",value:function(){return"Moralis Authentication"}}]),t}(),g=m;e.default=g},35614:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(63109)),a=i(r(77766)),s=i(r(20116)),u=(i(r(32366)),i(r(54903)),i(r(81643))),l=i(r(51161)),h=i(r(26394)),c=i(r(69198)),f=i(r(87672)),d=i(r(59036)),p=i(r(73987)),v=i(r(13675)),m=i(r(52208)),g=i(r(71149)),y=i(r(77950)),b=function(t){return btoa(String.fromCharCode.apply(String,(0,d.default)(new Uint8Array(t))))},_=function(){function t(){(0,h.default)(this,t)}return(0,c.default)(t,null,[{key:"authenticate",value:function(){var e=(0,l.default)(o.default.mark((function e(r){var n,i,s,u,l,h,c,f,d,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enable();case 2:if(s=e.sent){e.next=5;break}throw new Error("Phantom wallet not available");case 5:if(u=s.publicKey.toString()){e.next=8;break}throw new Error("Address not found");case 8:return l=[u],h=(null===r||void 0===r?void 0:r.signingMessage)||t.getSigningData(),e.next=12,(0,p.default)(h);case 12:return c=e.sent,e.next=15,t.sign(c);case 15:return f=e.sent,d={id:u,signature:f,data:c},e.next=19,v.default.logInWith("moralisSol",{authData:d});case 19:return m=e.sent,e.next=22,m.setACL(new y.default(m));case 22:if(m){e.next=24;break}throw new Error("Could not get user");case 24:return m.set("solAccounts",w((0,a.default)(n=[]).call(n,l,null!==(i=m.get("solAccounts"))&&void 0!==i?i:[]))),m.set("solAddress",u),e.next=28,m.save();case 28:return e.abrupt("return",m);case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"link",value:function(){var e=(0,l.default)(o.default.mark((function e(r,n){var i,s,u,l,h,c,f,d,y,b;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=(null===n||void 0===n?void 0:n.signingMessage)||t.getSigningData(),e.next=3,v.default.current();case 3:return l=e.sent,h=r,c=g.default.extend("_SolAddress"),f=new m.default(c),e.next=9,f.get(h).catch((function(){return null}));case 9:if(e.sent){e.next=20;break}return e.next=13,(0,p.default)(u);case 13:return d=e.sent,e.next=16,t.sign(h,d);case 16:return y=e.sent,b={id:h,signature:y,data:d},e.next=20,l.linkWith("moralisSol",{authData:b});case 20:return l.set("SolAccounts",w((0,a.default)(i=[h]).call(i,null!==(s=l.get("SolAccounts"))&&void 0!==s?s:[]))),l.set("solAddress",h),e.next=24,l.save();case 24:return e.abrupt("return",l);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"unlink",value:function(){var t=(0,l.default)(o.default.mark((function t(e){var r,n,i,a,u,l,h,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e,i=g.default.extend("_SolAddress"),a=new m.default(i),t.next=5,a.get(n);case 5:return u=t.sent,t.next=8,u.destroy();case 8:return t.next=10,v.default.current();case 10:return l=t.sent,h=null!==(r=l.get("solAccounts"))&&void 0!==r?r:[],c=(0,s.default)(h).call(h,(function(t){return t!==n})),l.set("solAccounts",c),l.set("solAddress",c[0]),t.next=17,l._unlinkFrom("moralisSol");case 17:return t.next=19,l.save();case 19:return t.abrupt("return",l);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"sign",value:function(){var e=(0,l.default)(o.default.mark((function e(r){var n,i,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.enable();case 2:return n=e.sent,i=(new TextEncoder).encode(r),e.next=6,n.signMessage(i,"utf8");case 6:return a=e.sent,e.abrupt("return",b(a.signature));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getSigningData",value:function(){return"Moralis Authentication"}}]),t}();function w(t){return(0,s.default)(t).call(t,(function(e,r){return(0,u.default)(t).call(t,e)===r}))}(0,f.default)(_,"enable",(0,l.default)(o.default.mark((function t(){var e;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window||!("solana"in window)){t.next=17;break}if(!(e=window.solana).isPhantom){t.next=17;break}return t.prev=3,t.next=6,e.connect({onlyIfTrusted:!0});case 6:case 13:t.next=16;break;case 8:if(t.prev=8,t.t0=t.catch(3),"User rejected the request."!==t.t0.message){t.next=15;break}return t.next=13,e.connect();case 15:throw t.t0;case 16:return t.abrupt("return",e);case 17:throw new Error("Phantom wallet not available");case 18:case"end":return t.stop()}}),t,null,[[3,8]])}))));var x=_;e.default=x},35957:function(t,e,r){"use strict";var n=r(86902),i=r(14310),o=r(20116),a=r(34074),s=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530);h(e,"__esModule",{value:!0}),e.default=void 0;var f=c(r(63109)),d=c(r(78914)),p=c(r(86902)),v=c(r(20116)),m=c(r(78580)),g=c(r(59340)),y=c(r(51161)),b=c(r(26394)),_=c(r(69198)),w=c(r(87672));function x(t,e){var r=n(t);if(i){var s=i(t);e&&(s=o(s).call(s,(function(e){return a(t,e).enumerable}))),r.push.apply(r,s)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?s(r=x(Object(i),!0)).call(r,(function(e){(0,w.default)(t,e,i[e])})):u?l(t,u(i)):s(n=x(Object(i))).call(n,(function(e){h(t,e,a(i,e))}))}return t}var M=r(74569),S=function(){function t(){(0,b.default)(this,t)}return(0,_.default)(t,null,[{key:"initialize",value:function(t){var e=t.apiKey,r=t.serverUrl,n=t.Moralis,i=void 0===n?null:n;if(!r&&!e)throw new Error("SolanaApi.initialize failed: initialize with apiKey or serverUrl");e&&(this.apiKey=e),r&&(this.serverUrl=r),this.Moralis=i}},{key:"getBody",value:function(t,e){var r=this;if(t&&e&&e.length){var n={};return(0,d.default)(e).call(e,(function(e){var i=e.key,o=e.type,a=e.required;if(void 0===t[i]){if(a)throw new Error("param ".concat(i," is required!"))}else o===r.BodyParamTypes.setBody?n=t[i]:n[i]=t[i];delete t[i]})),n}}},{key:"getParameterizedUrl",value:function(t,e){var r;if(!(0,p.default)(e).length)return t;var n=(0,v.default)(r=t.split("/")).call(r,(function(t){return t&&(0,m.default)(t).call(t,":")}));if(!n.length)return t;var i=t;return(0,d.default)(n).call(n,(function(t){var r=t.substr(1),n=e[r];if(!n)throw new Error("required param ".concat(r," not provided"));i=i.replace(t,n),delete e[r]})),i}},{key:"getApiRateLimitInfo",value:function(t){return{"x-rate-limit-limit":t["x-rate-limit-limit"],"x-rate-limit-remaining-ttl":t["x-rate-limit-remaining-ttl"],"x-rate-limit-used":t["x-rate-limit-used"],"x-rate-limit-remaining-ip-ttl":t["x-rate-limit-remaining-ip-ttl"],"x-rate-limit-ip-used":t["x-rate-limit-ip-used"]}}},{key:"getErrorMessage",value:function(t,e){var r,n;return(null===t||void 0===t||null===(r=t.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t?void 0:t.toString())||"Solana API error while calling ".concat(e)}},{key:"fetch",value:function(){var t=(0,y.default)(f.default.mark((function t(e){var r,n,i,o,a;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.endpoint,n=e.params,i=E({},n),this.Moralis&&(o=this.Moralis.User,a=o.current(),i.address||a&&(i.address=a.get("solAddress"))),i.network||(i.network="mainnet"),i.responseType||(i.responseType="native"),this.apiKey){t.next=7;break}return t.abrupt("return",this.fetchFromServer(r.name,i));case 7:return t.abrupt("return",this.fetchFromApi(r,i));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchFromApi",value:function(){var t=(0,y.default)(f.default.mark((function t(e,r){var n,i,o,a,s,u,l,h,c,d,p;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.method,i=void 0===n?"GET":n,o=e.url,a=e.bodyParams,t.prev=1,s=this.getParameterizedUrl(o,r),u=this.getBody(r,a),t.next=6,M(this.baseURL+s,{params:r,method:i,body:u,headers:{Accept:"application/json","Content-Type":"application/json","x-api-key":this.apiKey}});case 6:return l=t.sent,t.abrupt("return",l.data);case 10:throw t.prev=10,t.t0=t.catch(1),h=t.t0.response,c=h.status,d=h.headers,h.data,p=429===c?"This Moralis Server is rate-limited because of the plan restrictions. See the details about the current rate and throttle limits: ".concat((0,g.default)(this.getApiRateLimitInfo(d))):this.getApiErrorMessage(t.t0,o),new Error(p);case 15:case"end":return t.stop()}}),t,this,[[1,10]])})));return function(){return t.apply(this,arguments)}}()},{key:"fetchFromServer",value:function(){var t=(0,y.default)(f.default.mark((function t(e,r){var n,i,o,a,s;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.serverUrl){t.next=2;break}throw new Error("SolanaAPI not initialized, run Moralis.start() first");case 2:return t.prev=2,n=M.create({baseURL:this.serverUrl}),(i=this.Moralis.User.current())&&(r._SessionToken=i.attributes.sessionToken,r._ApplicationId=this.Moralis.applicationId),t.next=8,n.post("/functions/sol-".concat(e),r,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 8:return o=t.sent,t.abrupt("return",o.data.result);case 12:if(t.prev=12,t.t0=t.catch(2),null===(a=t.t0.response)||void 0===a||null===(s=a.data)||void 0===s||!s.error){t.next=16;break}throw new Error(t.t0.response.data.error);case 16:throw t.t0;case 17:case"end":return t.stop()}}),t,this,[[2,12]])})));return function(){return t.apply(this,arguments)}}()}]),t}();(0,w.default)(S,"baseURL","https://solana-gateway.moralis.io"),(0,w.default)(S,"BodyParamTypes",{setBody:"set body",property:"property"}),(0,w.default)(S,"account",{balance:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"balance",url:"/account/:network/:address/balance"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getSPL:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getSPL",url:"/account/:network/:address/tokens"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTs:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getNFTs",url:"/account/:network/:address/nft"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getPortfolio:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"account",name:"getPortfolio",url:"/account/:network/:address/portfolio"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,w.default)(S,"nft",{getNFTMetadata:function(){var t=(0,y.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",S.fetch({endpoint:{method:"GET",group:"nft",name:"getNFTMetadata",url:"/nft/:network/:address/metadata"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});var A=S;e.default=A},45978:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(63109)),a=i(r(51161)),s={openPrompt:function(){return(0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.warn("Moralis: No prompt supplied");case 1:case"end":return t.stop()}}),t)})))()}};e.default=s},43641:function(t,e,r){"use strict";var n=r(23765),i=r(3649),o=r(66419),a=r(65420),s=r(19996),u=r(41511),l=r(52424),h=r(63978),c=r(34074),f=r(60530);h(e,"__esModule",{value:!0}),e.default=void 0;var d,p,v,m,g,y,b=f(r(20116)),_=f(r(78914)),w=f(r(77766)),x=f(r(59340)),E=f(r(2991)),M=f(r(25843)),S=f(r(94473)),A=f(r(10062)),k=f(r(20455)),T=f(r(54103)),R=f(r(63109)),P=f(r(59036)),I=f(r(23765)),N=f(r(51161)),O=f(r(26394)),C=f(r(69198)),D=f(r(87672)),L=r(60186),F=f(r(47465)),B=f(r(71149)),U=f(r(52208)),G=f(r(13675)),j=f(r(77950)),z=f(r(37282)),H=f(r(21413)),V=f(r(35614)),W=f(r(5257)),q=r(89406),X=f(r(73987)),Z=f(r(22836)),K=f(r(19425)),Y=f(r(74730)),J=(f(r(18702)),function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=et(e);if(r&&r.has(t))return r.get(t);var i={};for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=h&&c?c(t,o):null;a&&(a.get||a.set)?h(i,o,a):i[o]=t[o]}i.default=t,r&&r.set(t,i);return i}(r(91914))),$=f(r(80226)),Q=f(r(85406)),tt=r(49785);function et(t){if("function"!==typeof l)return null;var e=new l,r=new l;return(et=function(t){return t?r:e})(t)}function rt(t,e){var r="undefined"!==typeof a&&s(t)||t["@@iterator"];if(!r){if(u(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return nt(t,e);var n=i(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return o(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,l=function(){};return{s:l,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var it=new F.default,ot=function(){function t(){(0,O.default)(this,t)}return(0,C.default)(t,null,[{key:"addListener",value:function(t,e){return it.on(t,e),function(){return it.removeListener(t,e)}}},{key:"on",value:function(t,e){return it.on(t,e),function(){return it.removeListener(t,e)}}},{key:"once",value:function(t,e){return it.once(t,e),function(){return it.removeListener(t,e)}}},{key:"removeListener",value:function(t,e){return it.removeListener(t,e)}},{key:"off",value:function(t,e){return it.off(t,e)}},{key:"removeAllListeners",value:function(t,e){return it.removeAllListeners(t,e)}},{key:"isWeb3Enabled",value:function(){return this.ensureWeb3IsInstalled()}},{key:"handleWeb3AccountChanged",value:function(t){it.emit(J.InternalWeb3Events.ACCOUNT_CHANGED,t)}},{key:"handleWeb3ChainChanged",value:function(t){var e;this.web3=null===(e=this.internalWeb3Provider)||void 0===e?void 0:e.web3,it.emit(J.InternalWeb3Events.CHAIN_CHANGED,t)}},{key:"handleWeb3Connect",value:function(t){it.emit(J.InternalWeb3Events.PROVIDER_CONNECT,t)}},{key:"handleWeb3Disconnect",value:function(t){"MetaMask: Disconnected from chain. Attempting to connect."!==(null===t||void 0===t?void 0:t.message)&&(this.cleanup(),it.emit(J.InternalWeb3Events.PROVIDER_DISCONNECT,t))}},{key:"enableWeb3",value:function(){var e=(0,N.default)(R.default.mark((function e(){var r,n,i,o,a,s,u,l,h,c,f,d=this,p=arguments;return R.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.length>0&&void 0!==p[0]?p[0]:{},!this.isEnablingWeb3){e.next=3;break}throw new Error("Cannot execute Moralis.enableWeb3(), as Moralis Moralis.enableWeb3() already has been called, but is not finished yet ");case 3:return e.prev=3,this.isEnablingWeb3=!0,this.speedyNodeApiKey&&(r.speedyNodeApiKey=this.speedyNodeApiKey,r.provider="network"),i=null!==(n=null===r||void 0===r?void 0:r.connector)&&void 0!==n?n:t.getWeb3Connector(null===r||void 0===r?void 0:r.provider),o=new i(r),a=!0===(null===r||void 0===r?void 0:r.anyNetwork),this.internalWeb3Provider=new J.default(o,a,r.privateKey),this.internalWeb3Provider.on(J.InternalWeb3Events.ACCOUNT_CHANGED,(function(t){return d.handleWeb3AccountChanged(t)})),this.internalWeb3Provider.on(J.InternalWeb3Events.CHAIN_CHANGED,(function(t){return d.handleWeb3ChainChanged(t)})),this.internalWeb3Provider.on(J.InternalWeb3Events.PROVIDER_CONNECT,(function(t){return d.handleWeb3Connect(t)})),this.internalWeb3Provider.on(J.InternalWeb3Events.PROVIDER_DISCONNECT,(function(t){return d.handleWeb3Disconnect(t)})),e.prev=14,e.next=17,this.internalWeb3Provider.activate(r);case 17:if(c=e.sent,s=c.provider,u=c.chainId,l=c.account,h=c.web3,s){e.next=24;break}throw new Error("Failed to activate, no provider returned");case 24:e.next=31;break;case 26:return e.prev=26,e.t0=e.catch(14),e.next=30,this.cleanup();case 30:throw e.t0;case 31:return f=h,this.web3=h,it.emit(J.InternalWeb3Events.WEB3_ENABLED,{chainId:u,account:l,connector:o,provider:s,web3:f}),e.abrupt("return",f);case 37:throw e.prev=37,e.t1=e.catch(3),e.t1;case 40:return e.prev=40,this.isEnablingWeb3=!1,e.finish(40);case 43:case"end":return e.stop()}}),e,this,[[3,37,40,43],[14,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"isDotAuth",value:function(t){switch(null===t||void 0===t?void 0:t.type){case"dot":case"polkadot":case"kusama":return!0;default:return!1}}},{key:"isElrondAuth",value:function(t){switch(null===t||void 0===t?void 0:t.type){case"erd":case"elrond":return!0;default:return!1}}},{key:"isSolAuth",value:function(t){return"sol"===(null===t||void 0===t?void 0:t.type)}},{key:"getWeb3Connector",value:function(t){switch(t){case"walletconnect":case"walletConnect":case"wc":return Z.default;case"network":return Y.default;case"magicLink":return Q.default;case"web3Auth":return tt.Web3Auth;default:return K.default}}},{key:"deactivateWeb3",value:function(){var t=(0,N.default)(R.default.mark((function t(){return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.cleanup());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"cleanup",value:function(){var t=(0,N.default)(R.default.mark((function t(){return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isEnablingWeb3){t.next=5;break}return this.isEnablingWeb3=!1,this.internalWeb3Provider=null,this.web3=null,t.abrupt("return");case 5:if(this.web3&&this.internalWeb3Provider&&it.emit(J.InternalWeb3Events.WEB3_DEACTIVATED,{connector:this.internalWeb3Provider.connector,provider:this.internalWeb3Provider.provider}),!this.internalWeb3Provider){t.next=18;break}return this.internalWeb3Provider.removeListener(J.InternalWeb3Events.ACCOUNT_CHANGED,this.handleWeb3AccountChanged),this.internalWeb3Provider.removeListener(J.InternalWeb3Events.CHAIN_CHANGED,this.handleWeb3ChainChanged),this.internalWeb3Provider.removeListener(J.InternalWeb3Events.PROVIDER_CONNECT,this.handleWeb3Connect),this.internalWeb3Provider.removeListener(J.InternalWeb3Events.PROVIDER_DISCONNECT,this.handleWeb3Disconnect),t.prev=11,t.next=14,this.internalWeb3Provider.deactivate();case 14:t.next=18;break;case 16:t.prev=16,t.t0=t.catch(11);case 18:this.internalWeb3Provider=null,this.web3=null;case 20:case"end":return t.stop()}}),t,this,[[11,16]])})));return function(){return t.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=(0,N.default)(R.default.mark((function e(r){var n,i,o,a,s,u,l,h,c;return R.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.default.currentAsync();case 2:if(!e.sent){e.next=6;break}return e.next=6,G.default.logOut();case 6:if(!t.isDotAuth(r)){e.next=8;break}return e.abrupt("return",H.default.authenticate(r));case 8:if(!t.isElrondAuth(r)){e.next=10;break}return e.abrupt("return",z.default.authenticate(r));case 10:if(!t.isSolAuth(r)){e.next=12;break}return e.abrupt("return",V.default.authenticate(r));case 12:return e.next=14,this.enableWeb3(r);case 14:if(n=this.getInternalWeb3Provider(),i=n.account,n.web3,o=n.signer,i){e.next=17;break}throw new Error("Cannot authenticate, no account returned from provider");case 17:return a=(null===r||void 0===r?void 0:r.signingMessage)||t.getSigningData(),e.next=20,(0,X.default)(a);case 20:if(s=e.sent,u=i.toLowerCase()){e.next=24;break}throw new Error("Address not found");case 24:return e.next=26,o.signMessage(s);case 26:if(l=e.sent){e.next=29;break}throw new Error("Data not signed");case 29:return h={id:u,signature:l,data:s},e.next=32,G.default.logInWith("moralisEth",{authData:h});case 32:if(c=e.sent){e.next=35;break}throw new Error("Could not get user");case 35:return e.next=37,c.setACL(new j.default(c));case 37:return c.addAllUnique("accounts",[u]),c.set("ethAddress",u),e.next=41,c.save(null,r);case 41:return e.abrupt("return",c);case 42:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"link",value:function(){var e=(0,N.default)(R.default.mark((function e(r,n){var i,o,a,s,u,l,h,c,f,d;return R.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.getInternalWeb3Provider(),o=i.signer,a=(null===n||void 0===n?void 0:n.signingMessage)||t.getSigningData(),e.next=4,G.default.currentAsync();case 4:return s=e.sent,u=r.toLowerCase(),l=B.default.extend("_EthAddress"),h=new U.default(l),e.next=10,h.get(u).catch((function(){return null}));case 10:if(e.sent){e.next=23;break}return e.next=14,(0,X.default)(a);case 14:return c=e.sent,e.next=17,o.signMessage(c);case 17:if(f=e.sent){e.next=20;break}throw new Error("Data not signed");case 20:return d={id:u,signature:f,data:c},e.next=23,s.linkWith("moralisEth",{authData:d});case 23:return s.addAllUnique("accounts",[u]),s.set("ethAddress",u),e.next=27,s.save(null,n);case 27:return e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unlink",value:function(){var t=(0,N.default)(R.default.mark((function t(e){var r,n,i,o,a,s,u,l;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.toLowerCase(),i=B.default.extend("_EthAddress"),o=new U.default(i),t.next=5,o.get(n);case 5:return a=t.sent,t.next=8,a.destroy();case 8:return t.next=10,G.default.currentAsync();case 10:return s=t.sent,u=null!==(r=s.get("accounts"))&&void 0!==r?r:[],l=(0,b.default)(u).call(u,(function(t){return t!==n})),s.set("accounts",l),s.set("ethAddress",l[0]),t.next=17,s._unlinkFrom("moralisEth");case 17:return t.next=19,s.save();case 19:return t.abrupt("return",s);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"initPlugins",value:function(){var t=(0,N.default)(R.default.mark((function t(e){var r,n,i=this;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,t.t0){t.next=5;break}return t.next=4,(0,q.run)("getPluginSpecs");case 4:t.t0=t.sent;case 5:if(r=t.t0,this.Plugins||(this.Plugins={}),r){t.next=9;break}return t.abrupt("return");case 9:n=this.Plugins,(0,_.default)(r).call(r,(function(t){var e;n[t.name]={},(0,_.default)(e=t.functions).call(e,(function(e){n[t.name][e]=function(){var r=(0,N.default)(R.default.mark((function r(n,o){var a,s,u,l;return R.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o||(o={}),r.next=3,(0,q.run)((0,w.default)(a="".concat(t.name,"_")).call(a,e),n);case 3:if((s=r.sent).data.success){r.next=7;break}throw u=(0,x.default)(s.data.data,null,2),new Error("Something went wrong\n".concat(u));case 7:if(!0===o.disableTriggers){r.next=13;break}return r.next=10,i.handleTriggers(s.data.result.triggers,s.data.result.data);case 10:if(!(l=r.sent)){r.next=13;break}return r.abrupt("return",l);case 13:return r.abrupt("return",s.data.result);case 14:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}()}))})),this.Plugins=n;case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"handleTriggers",value:function(){var t=(0,N.default)(R.default.mark((function t(e,r){var n,i,o,a=this;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:n=R.default.mark((function t(n){var i,o,s,u,l,h,c,f,d,p,v,m,g,y,b,_,x,E,M,S,A,k,T,P,I,N,O,C,D,F,B,U,G,j,z,H,V,W,X,Z,K,Y;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e[n].name,t.next="openUrl"===t.t0?3:"web3Transaction"===t.t0?5:"web3Sign"===t.t0?18:"callPluginEndpoint"===t.t0?33:"web3SignV4"===t.t0?55:80;break;case 3:return e[n].newTab?window.open(e[n].url):window.open(e[n].url,"_self"),t.abrupt("break",81);case 5:return t.next=7,a.getInternalWeb3Provider().signer.sendTransaction({from:null===(i=e[n])||void 0===i||null===(o=i.data)||void 0===o?void 0:o.from,to:null===(s=e[n])||void 0===s||null===(u=s.data)||void 0===u?void 0:u.to,value:L.ethers.BigNumber.from(null!==(l=null===(h=e[n])||void 0===h||null===(c=h.data)||void 0===c?void 0:c.value)&&void 0!==l?l:0),data:null===(f=e[n])||void 0===f||null===(d=f.data)||void 0===d?void 0:d.data});case 7:if(D=t.sent,!0!==(null===(p=e[n])||void 0===p?void 0:p.shouldAwait)){t.next=12;break}return t.next=11,D.wait();case 11:D=t.sent;case 12:if(!0===(null===(v=e[n])||void 0===v?void 0:v.saveResponse)&&a.memoryCard.save(D),!0!==(null===(m=e[n])||void 0===m?void 0:m.shouldReturnPayload)){t.next=15;break}return t.abrupt("return",{v:{payload:r,response:D}});case 15:if(!0!==(null===(g=e[n])||void 0===g?void 0:g.shouldReturnResponse)){t.next=17;break}return t.abrupt("return",{v:D});case 17:return t.abrupt("break",81);case 18:if(e[n].message){t.next=20;break}throw new Error("web3Sign trigger does not have a message to sign");case 20:if(e[n].signer){t.next=22;break}throw new Error("web3Sign trigger signer address missing or invalid");case 22:return delete(C=JSON.parse(e[n].message)).types.EIP712Domain,t.next=26,a.getInternalWeb3Provider().signer._signTypedData(C.domain,C.types,C.message);case 26:if(D=t.sent,!0===(null===(y=e[n])||void 0===y?void 0:y.saveResponse)&&a.memoryCard.save(D),!0!==(null===(b=e[n])||void 0===b?void 0:b.shouldReturnPayload)){t.next=30;break}return t.abrupt("return",{v:{payload:r,response:D}});case 30:if(!0!==(null===(_=e[n])||void 0===_?void 0:_.shouldReturnResponse)){t.next=32;break}return t.abrupt("return",{v:D});case 32:return t.abrupt("break",81);case 33:if(e[n].pluginName){t.next=35;break}throw new Error("callPluginEndpoint trigger does not have an plugin name to call");case 35:if(e[n].endpoint){t.next=37;break}throw new Error("callPluginEndpoint trigger does not have an endpoint to call");case 37:if(!0!==(null===(x=e[n])||void 0===x?void 0:x.shouldAwait)){t.next=42;break}return!0===e[n].useSavedResponse&&(e[n].params[e[n].savedResponseAs]=a.memoryCard.get(e[n].savedResponseAt)),t.next=41,(0,q.run)((0,w.default)(F="".concat(e[n].pluginName,"_")).call(F,e[n].endpoint),e[n].params);case 41:D=t.sent;case 42:if(!1===(null===(E=e[n])||void 0===E?void 0:E.shouldAwait)&&(!0===e[n].useSavedResponse&&(e[n].params[e[n].savedResponseAs]=a.memoryCard.get(e[n].savedResponseAt)),D=(0,q.run)((0,w.default)(B="".concat(e[n].pluginName,"_")).call(B,e[n].endpoint),e[n].params)),!0!==e[n].runResponseTrigger){t.next=47;break}return t.next=46,a.handleTriggers(D.data.result.triggers,D.data.result.data);case 46:D=t.sent;case 47:if(!0===(null===(M=e[n])||void 0===M?void 0:M.saveResponse)&&a.memoryCard.save(D),!1!==(null===(S=e[n])||void 0===S?void 0:S.runResponseTrigger)){t.next=50;break}return t.abrupt("return","continue");case 50:if(!0!==(null===(A=e[n])||void 0===A?void 0:A.shouldReturnPayload)){t.next=52;break}return t.abrupt("return",{v:{payload:"payload",response:D}});case 52:if(!0!==(null===(k=e[n])||void 0===k?void 0:k.shouldReturnResponse)){t.next=54;break}return t.abrupt("return",{v:D});case 54:return t.abrupt("break",81);case 55:if(e[n].parameters){t.next=57;break}throw new Error("web3SignV4 trigger does not have `parameters` to sign");case 57:if(e[n].from){t.next=59;break}throw new Error("web3SignV4 trigger does not have a `from` address");case 59:if(!0!==(null===(T=e[n])||void 0===T?void 0:T.shouldAwait)){t.next=74;break}return t.prev=60,G=JSON.parse(e[n].parameters[1]),j=G.domain,z=G.types,H=G.message,z.EIP712Domain&&delete z.EIP712Domain,t.next=65,a.getInternalWeb3Provider().signer._signTypedData(j,z,H);case 65:V=t.sent,W={result:V},!0===(null===(U=e[n])||void 0===U?void 0:U.saveResponse)&&a.memoryCard.save(W),D=W,t.next=74;break;case 71:throw t.prev=71,t.t1=t.catch(60),new Error(t.t1.message||t.t1);case 74:if(!1===(null===(P=e[n])||void 0===P?void 0:P.shouldAwait)&&(X=JSON.parse(e[n].parameters[1]),Z=X.domain,K=X.types,Y=X.message,K.EIP712Domain&&delete K.EIP712Domain,a.getInternalWeb3Provider().signer._signTypedData(Z,K,Y).then((function(t){var r,i={result:t};!0===(null===(r=e[n])||void 0===r?void 0:r.saveResponse)&&a.memoryCard.save(i),D=i})).catch((function(t){throw new Error(t.message||t)}))),!0!==(null===(I=e[n])||void 0===I?void 0:I.shouldReturnPayload)){t.next=77;break}return t.abrupt("return",{v:{payload:r,response:D}});case 77:if(!0!==(null===(N=e[n])||void 0===N?void 0:N.shouldReturnResponse)){t.next=79;break}return t.abrupt("return",{v:D});case 79:return t.abrupt("break",81);case 80:throw new Error('Unknown trigger: "'.concat(null===(O=e[n])||void 0===O?void 0:O.name,'"'));case 81:case"end":return t.stop()}}),t,null,[[60,71]])})),i=0;case 4:if(!(i<e.length)){t.next=14;break}return t.delegateYield(n(i),"t0",6);case 6:if("continue"!==(o=t.t0)){t.next=9;break}return t.abrupt("continue",11);case 9:if("object"!==(0,I.default)(o)){t.next=11;break}return t.abrupt("return",o.v);case 11:i++,t.next=4;break;case 14:this.memoryCard.deleteSaved();case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAllERC20",value:function(){var t=(0,N.default)(R.default.mark((function t(){var e,r,n,i,o=arguments;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:{},r=e.chain,n=e.address,t.next=3,(0,q.run)("getAllERC20",{chain:r,address:n});case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getERC20",value:function(){var t=(0,N.default)(R.default.mark((function t(){var e,r,n,i,o,a,s=arguments;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:{},r=e.chain,n=e.address,i=e.symbol,o=e.tokenAddress,a=(0,q.run)("getERC20",{chain:r,address:n,symbol:i,tokenAddress:o}),t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getNFTs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.chain,r=void 0===e?"Eth":e,n=t.address,i=void 0===n?"":n;return(0,q.run)("getNFTs_old",{chain:r,address:i})}},{key:"getNFTsCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.chain,r=void 0===e?"Eth":e,n=t.address,i=void 0===n?"":n;return(0,q.run)("getNFTsCount_old",{chain:r,address:i})}},{key:"getTransactions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.chain,r=void 0===e?"Eth":e,n=t.address,i=void 0===n?"":n,o=t.order,a=void 0===o?"desc":o;return(0,q.run)("getTransactions",{chain:r,address:i,order:a})}},{key:"getTransactionsCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.chain,r=void 0===e?"Eth":e,n=t.address,i=void 0===n?"":n;return(0,q.run)("getTransactionsCount",{chain:r,address:i})}},{key:"transfer",value:function(){var t=(0,N.default)(R.default.mark((function t(){var e,r,n,i,o,a,s,u,l,h,c,f,d,p,v,m,g,y,b,_,w,x=arguments;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=x.length>0&&void 0!==x[0]?x[0]:{},r=e.type,n=void 0===r?"native":r,i=e.receiver,o=void 0===i?"":i,a=e.contractAddress,s=void 0===a?"":a,u=e.contract_address,l=e.amount,h=void 0===l?"":l,c=e.tokenId,f=void 0===c?"":c,d=e.token_id,p=e.system,v={receiver:o,contractAddress:s=s||u,amount:h,tokenId:f=f||d,system:void 0===p?"evm":p},W.default.isSupportedType(n),W.default.validateInput(n,v),m=this.getInternalWeb3Provider(),m.web3,g=m.account,y=m.signer,g){t.next=9;break}throw new Error("Sender address not found");case 9:f&&W.default.isUint256(f),"native"!==n&&(_=new L.ethers.Contract(s,W.default.abi[n],y)),t.t0=n,t.next="native"===t.t0?14:"erc20"===t.t0?16:"erc721"===t.t0?18:"erc1155"===t.t0?20:22;break;case 14:return b=y.sendTransaction({to:o,value:L.ethers.BigNumber.from(h)}),t.abrupt("break",23);case 16:return b=_.transfer(o,h,{from:g}),t.abrupt("break",23);case 18:return b=_.safeTransferFrom(g,o,"".concat(f),{from:g}),t.abrupt("break",23);case 20:return b=_.safeTransferFrom(g,o,"".concat(f),h,"0x",{from:g}),t.abrupt("break",23);case 22:throw new Error('Unknown transfer type: "'.concat(n,'"'));case 23:return t.next=25,b;case 25:return w=t.sent,t.abrupt("return",w);case 27:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"executeFunction",value:function(){var t=(0,N.default)(R.default.mark((function t(){var e,r,n,i,o,a,s,u,l,h,c,f,d,p,v,m,g,y,_,x,T,I,N,O,C,D,F,B,U,G,j,z,H,V,W,q,X=arguments;return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=X.length>0&&void 0!==X[0]?X[0]:{},o=i.contractAddress,a=i.abi,s=i.functionName,u=i.msgValue,l=i.params,h=void 0===l?{}:l,c=i.overrides,void 0===c?{}:c,f={},d=this.getInternalWeb3Provider(),p=d.account,d.web3,d.provider,v=d.signerOrProvider,!(m=s.match(/^(.+)\((.*)\)$/))){t.next=16;break}if(x=m[1],T=(0,b.default)(y=(0,E.default)(_=m[2].split(",")).call(_,(function(t){return(0,M.default)(t).call(t)}))).call(y,(function(t){return!!t})),0!==(I=(0,b.default)(a).call(a,(function(t){return t.name===x}))).length){t.next=10;break}throw new Error("Function does not exist in abi");case 10:if(g=(0,S.default)(I).call(I,(function(t){var e,r;return(null!==(e=null===t||void 0===t?void 0:t.inputs.length)&&void 0!==e?e:0)===T.length&&(0,A.default)(r=t.inputs).call(r,(function(t,e){return t.type===T[e]}))})),g){t.next=14;break}throw N=(0,E.default)(I).call(I,(function(t){var e,r;return(0,w.default)(e="".concat(t.name,"(")).call(e,(0,E.default)(r=t.inputs).call(r,(function(t){return t.type})).join(","),")")})),new Error("Function with the provided topic does not exist in abi. Possible funcationNames: ".concat(N.join(" ,")));case 14:t.next=23;break;case 16:if(0!==(O=(0,b.default)(a).call(a,(function(t){return t.name===s}))).length){t.next=19;break}throw new Error("Function does not exist in abi");case 19:if(!(O.length>1)){t.next=22;break}throw C=(0,E.default)(O).call(O,(function(t){var e,r;return(0,w.default)(e="".concat(t.name,"(")).call(e,(0,E.default)(r=t.inputs).call(r,(function(t){return t.type})).join(","),")")})),new Error("Multiple function definitions found in the abi. Please include the topic in the functionName. Possible funcationNames: ".concat(C.join(" ,")));case 22:g=O[0];case 23:if(D=null===(e=g)||void 0===e?void 0:e.stateMutability,"view"===D||"pure"===D){t.next=31;break}if(h.from){t.next=31;break}if(F=p){t.next=30;break}throw new Error("From address is required");case 30:f.from=F;case 31:B=[],U=rt(g.inputs);try{for(U.s();!(G=U.n()).done;)j=G.value,(z=h[j.name])||"number"===typeof z||"boolean"===typeof z||""===j.name||B.push("".concat(j.name," is required"))}catch(R){U.e(R)}finally{U.f()}if(!(B.length>0)){t.next=36;break}throw B;case 36:if(H=(0,E.default)(r=g.inputs).call(r,(function(t){return h[t.name]})),V=new L.ethers.Contract(o,a,v),W=V[s]){t.next=41;break}throw new Error('Cannot find function "'.concat(s,'" on the contract'));case 41:return t.next=43,W.apply(void 0,(0,w.default)(n=(0,P.default)((0,k.default)(H))).call(n,[u?{value:L.ethers.BigNumber.from("".concat(u))}:{}]));case 43:return q=t.sent,t.abrupt("return",q);case 45:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getSigningData",value:function(){return"Moralis Authentication"}},{key:"ensureWeb3IsInstalled",value:function(){return!(!this.internalWeb3Provider||!this.internalWeb3Provider.web3)}},{key:"getInternalWeb3Provider",value:function(){if(!this.ensureWeb3IsInstalled())throw new Error("Missing web3 instance, make sure to call Moralis.enableWeb3() or Moralis.authenticate()");return this.internalWeb3Provider}},{key:"getInternalWeb3",value:function(){return this.getInternalWeb3Provider().web3}},{key:"provider",get:function(){var t,e;return null!==(t=null===(e=this.internalWeb3Provider)||void 0===e?void 0:e.provider)&&void 0!==t?t:null}},{key:"connector",get:function(){var t,e;return null!==(t=null===(e=this.internalWeb3Provider)||void 0===e?void 0:e.connector)&&void 0!==t?t:null}},{key:"connectorType",get:function(){var t,e;return null!==(t=null===(e=this.connector)||void 0===e?void 0:e.type)&&void 0!==t?t:null}},{key:"network",get:function(){var t,e;return null!==(t=null===(e=this.connector)||void 0===e?void 0:e.network)&&void 0!==t?t:null}},{key:"account",get:function(){var t,e;return null!==(t=null===(e=this.internalWeb3Provider)||void 0===e?void 0:e.account)&&void 0!==t?t:null}},{key:"chainId",get:function(){var t,e;return null!==(t=null===(e=this.internalWeb3Provider)||void 0===e?void 0:e.chainId)&&void 0!==t?t:null}},{key:"getChainId",value:function(){return this.chainId}},{key:"web3Library",get:function(){return L.ethers}},{key:"_forwardToConnector",value:function(t,e){var r,n=this.getInternalWeb3Provider().connector;if(!Boolean(n[t]))throw new Error((0,w.default)(r="Cannot call ".concat(t,', as it does not exist on connector type "')).call(r,n.type,'"'));return n[t].apply(n,(0,P.default)(e))}},{key:"switchNetwork",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._forwardToConnector("switchNetwork",e)}},{key:"addNetwork",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this._forwardToConnector("addNetwork",e)}},{key:"isMetaMaskInstalled",value:function(){var t=(0,N.default)(R.default.mark((function t(){return R.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,$.default)();case 2:if(!t.sent){t.next=6;break}t.t0=!0,t.next=7;break;case 6:t.t0=!1;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),t}();(0,D.default)(ot,"speedyNodeApiKey",void 0),(0,D.default)(ot,"web3",null),(0,D.default)(ot,"internalWeb3Provider",null),(0,D.default)(ot,"Plugins",{}),(0,D.default)(ot,"isEnablingWeb3",!1),(0,D.default)(ot,"memoryCard",{save:function(t){this.saved=t},get:function(t){if(!this.saved)throw new Error("Nothing saved to memory card");if(0===t.length)return this.getSaved();for(var e=this.saved,r=0;r<t.length;r++)e=e[t[r]];return e},getSaved:function(){return this.saved},deleteSaved:function(){this.saved=void 0}}),ot.onConnect=(0,T.default)(d=ot.on).call(d,ot,J.InternalWeb3Events.PROVIDER_CONNECT),ot.onDisconnect=(0,T.default)(p=ot.on).call(p,ot,J.InternalWeb3Events.PROVIDER_DISCONNECT),ot.onWeb3Enabled=(0,T.default)(v=ot.on).call(v,ot,J.InternalWeb3Events.WEB3_ENABLED),ot.onWeb3Deactivated=(0,T.default)(m=ot.on).call(m,ot,J.InternalWeb3Events.WEB3_DEACTIVATED),ot.onChainChanged=(0,T.default)(g=ot.on).call(g,ot,J.InternalWeb3Events.CHAIN_CHANGED),ot.onAccountChanged=(0,T.default)(y=ot.on).call(y,ot,J.InternalWeb3Events.ACCOUNT_CHANGED);var at=ot;e.default=at},75114:function(t,e,r){"use strict";var n=r(86902),i=r(14310),o=r(20116),a=r(34074),s=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530);h(e,"__esModule",{value:!0}),e.default=void 0;var f=c(r(63109)),d=c(r(78914)),p=c(r(86902)),v=c(r(20116)),m=c(r(78580)),g=c(r(59340)),y=c(r(10062)),b=c(r(51161)),_=c(r(26394)),w=c(r(69198)),x=c(r(87672));function E(t,e){var r=n(t);if(i){var s=i(t);e&&(s=o(s).call(s,(function(e){return a(t,e).enumerable}))),r.push.apply(r,s)}return r}function M(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?s(r=E(Object(i),!0)).call(r,(function(e){(0,x.default)(t,e,i[e])})):u?l(t,u(i)):s(n=E(Object(i))).call(n,(function(e){h(t,e,a(i,e))}))}return t}var S=r(74569),A=function(){function t(){(0,_.default)(this,t)}return(0,w.default)(t,null,[{key:"initialize",value:function(t){var e=t.apiKey,r=t.serverUrl,n=t.Moralis,i=void 0===n?null:n;if(!r&&!e)throw new Error("Web3Api.initialize failed: initialize with apiKey or serverUrl");e&&(this.apiKey=e),r&&(this.serverUrl=r),this.Moralis=i}},{key:"getBody",value:function(t,e){var r=this;if(t&&e&&e.length){var n={};return(0,d.default)(e).call(e,(function(e){var i=e.key,o=e.type,a=e.required;if(void 0===t[i]){if(a)throw new Error("param ".concat(i," is required!"))}else o===r.BodyParamTypes.setBody?n=t[i]:n[i]=t[i];delete t[i]})),n}}},{key:"getParameterizedUrl",value:function(t,e){var r;if(!(0,p.default)(e).length)return t;var n=(0,v.default)(r=t.split("/")).call(r,(function(t){return t&&(0,m.default)(t).call(t,":")}));if(!n.length)return t;var i=t;return(0,d.default)(n).call(n,(function(t){var r=t.substr(1),n=e[r];if(!n)throw new Error("required param ".concat(r," not provided"));i=i.replace(t,n),delete e[r]})),i}},{key:"getNextOptions",value:function(t,e){var r=M({},e);return t&&t.page_size&&t.total&&void 0!==t.page?(t.cursor?t.total>t.page_size*(t.page+1)&&(r.cursor=t.cursor):t.total>t.page_size*(t.page+1)&&(r.offset=(t.page+1)*(r.limit||500)),r):e}},{key:"getApiRateLimitInfo",value:function(t){return{"x-rate-limit-limit":t["x-rate-limit-limit"],"x-rate-limit-remaining-ttl":t["x-rate-limit-remaining-ttl"],"x-rate-limit-used":t["x-rate-limit-used"],"x-rate-limit-remaining-ip-ttl":t["x-rate-limit-remaining-ip-ttl"],"x-rate-limit-ip-used":t["x-rate-limit-ip-used"]}}},{key:"getApiErrorMessage",value:function(t,e){var r,n;return(null===t||void 0===t||null===(r=t.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||(null===t||void 0===t?void 0:t.message)||(null===t||void 0===t?void 0:t.toString())||"Web3 API error while calling ".concat(e)}},{key:"fetch",value:function(){var t=(0,b.default)(f.default.mark((function t(e){var r,n,i,o,a,s,u;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.endpoint,n=e.params,i=M({},n),this.Moralis&&(o=this.Moralis,a=o.User,s=o.account,u=a.current(),i.address||(u?i.address=u.get("ethAddress"):s&&(i.address=s))),this.apiKey){t.next=5;break}return t.abrupt("return",this.fetchFromServer(r.name,i));case 5:return t.abrupt("return",this.fetchFromApi(r,i));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchFromApi",value:function(){var t=(0,b.default)(f.default.mark((function t(e,r){var n,i,o,a,s,u,l,h,c,d,p,v,m,y=this;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.method,i=void 0===n?"GET":n,o=e.url,a=e.bodyParams,t.prev=1,s=this.getParameterizedUrl(o,r),u=this.getBody(r,a),t.next=6,S(this.baseURL+s,{params:r,method:i,body:u,headers:{Accept:"application/json","Content-Type":"application/json","x-api-key":this.apiKey}});case 6:return l=t.sent,h=l.data,c=this.getNextOptions(h,r),this.checkObjEqual(c,r)||(h.next=function(){return y.fetchFromApi(e,c)}),t.abrupt("return",h);case 13:throw t.prev=13,t.t0=t.catch(1),d=t.t0.response,p=d.status,v=d.headers,d.data,m=429===p?"This Moralis Server is rate-limited because of the plan restrictions. See the details about the current rate and throttle limits: ".concat((0,g.default)(this.getApiRateLimitInfo(v))):this.getApiErrorMessage(t.t0,o),new Error(m);case 18:case"end":return t.stop()}}),t,this,[[1,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"fetchFromServer",value:function(){var t=(0,b.default)(f.default.mark((function t(e,r){var n,i,o,a,s,u,l,h=this;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.serverUrl){t.next=2;break}throw new Error("Web3Api not initialized, run Moralis.start() first");case 2:return t.prev=2,n=S.create({baseURL:this.serverUrl}),r.chain||(r.chain="eth"),(i=this.Moralis.User.current())&&(r._SessionToken=i.attributes.sessionToken,r._ApplicationId=this.Moralis.applicationId),t.next=9,n.post("/functions/".concat(e),r,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 9:return o=t.sent,a=o.data.result,s=this.getNextOptions(a,r),this.checkObjEqual(s,r)||(a.next=function(){return h.fetchFromServer(e,s)}),t.abrupt("return",a);case 16:if(t.prev=16,t.t0=t.catch(2),null===(u=t.t0.response)||void 0===u||null===(l=u.data)||void 0===l||!l.error){t.next=20;break}throw new Error(t.t0.response.data.error);case 20:throw t.t0;case 21:case"end":return t.stop()}}),t,this,[[2,16]])})));return function(){return t.apply(this,arguments)}}()}]),t}();(0,x.default)(A,"baseURL","https://deep-index.moralis.io/api/v2"),(0,x.default)(A,"BodyParamTypes",{setBody:"set body",property:"property"}),(0,x.default)(A,"checkObjEqual",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,y.default)(e).call(e,(function(t){return(0,g.default)(t)===(0,g.default)(e[0])}))})),(0,x.default)(A,"native",{getBlock:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"native",name:"getBlock",url:"/block/:block_number_or_hash"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getDateToBlock:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"native",name:"getDateToBlock",url:"/dateToBlock"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getLogsByAddress:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"native",name:"getLogsByAddress",url:"/:address/logs"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTTransfersByBlock:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"native",name:"getNFTTransfersByBlock",url:"/block/:block_number_or_hash/nft/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTransaction:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"native",name:"getTransaction",url:"/transaction/:transaction_hash"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getContractEvents:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"POST",group:"native",name:"getContractEvents",url:"/:address/events",bodyParams:[{key:"data",type:"set body",required:!1}]},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),runContractFunction:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"POST",group:"native",name:"runContractFunction",url:"/:address/function",bodyParams:[{key:"abi",type:"property",required:!0},{key:"params",type:"property",required:!1}]},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,x.default)(A,"account",{getTransactions:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"account",name:"getTransactions",url:"/:address"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNativeBalance:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"account",name:"getNativeBalance",url:"/:address/balance"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenBalances:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"account",name:"getTokenBalances",url:"/:address/erc20"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenTransfers:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"account",name:"getTokenTransfers",url:"/:address/erc20/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTs:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"account",name:"getNFTs",url:"/:address/nft"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTTransfers:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"account",name:"getNFTTransfers",url:"/:address/nft/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTsForContract:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"account",name:"getNFTsForContract",url:"/:address/nft/:token_address"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,x.default)(A,"token",{getTokenMetadata:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getTokenMetadata",url:"/erc20/metadata"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTTrades:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getNFTTrades",url:"/nft/:address/trades"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTLowestPrice:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getNFTLowestPrice",url:"/nft/:address/lowestprice"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenMetadataBySymbol:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getTokenMetadataBySymbol",url:"/erc20/metadata/symbols"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenPrice:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getTokenPrice",url:"/erc20/:address/price"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenAddressTransfers:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getTokenAddressTransfers",url:"/erc20/:address/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenAllowance:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getTokenAllowance",url:"/erc20/:address/allowance"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),searchNFTs:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"searchNFTs",url:"/nft/search"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNftTransfersFromToBlock:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getNftTransfersFromToBlock",url:"/nft/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getAllTokenIds:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getAllTokenIds",url:"/nft/:address"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getContractNFTTransfers:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getContractNFTTransfers",url:"/nft/:address/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTOwners:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getNFTOwners",url:"/nft/:address/owners"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getNFTMetadata:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getNFTMetadata",url:"/nft/:address/metadata"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),reSyncMetadata:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"reSyncMetadata",url:"/nft/:address/:token_id/metadata/resync"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),syncNFTContract:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"PUT",group:"token",name:"syncNFTContract",url:"/nft/:address/sync"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenIdMetadata:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getTokenIdMetadata",url:"/nft/:address/:token_id"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getTokenIdOwners:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getTokenIdOwners",url:"/nft/:address/:token_id/owners"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getWalletTokenIdTransfers:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"token",name:"getWalletTokenIdTransfers",url:"/nft/:address/:token_id/transfers"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,x.default)(A,"resolve",{resolveDomain:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"resolve",name:"resolveDomain",url:"/resolve/:domain"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),resolveAddress:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"resolve",name:"resolveAddress",url:"/resolve/:address/reverse"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,x.default)(A,"defi",{getPairReserves:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"defi",name:"getPairReserves",url:"/:pair_address/reserves"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getPairAddress:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"defi",name:"getPairAddress",url:"/:token0_address/:token1_address/pairAddress"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,x.default)(A,"storage",{uploadFolder:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"POST",group:"storage",name:"uploadFolder",url:"/ipfs/uploadFolder",bodyParams:[{key:"data",type:"set body",required:!1}]},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}),(0,x.default)(A,"info",{web3ApiVersion:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"info",name:"web3ApiVersion",url:"/web3/version"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),endpointWeights:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r=arguments;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.abrupt("return",A.fetch({endpoint:{method:"GET",group:"info",name:"endpointWeights",url:"/info/endpointWeights"},params:e}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});var k=A;e.default=k},47676:function(t,e,r){"use strict";var n=r(86902),i=r(14310),o=r(20116),a=r(34074),s=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530);h(e,"__esModule",{value:!0}),e.commitServerChanges=function(t,e,r){for(var n in r){var i=r[n];if(t[n]=i,i&&"object"===(0,f.default)(i)&&!(i instanceof y.default)&&!(i instanceof g.default)&&!(i instanceof b.default)){var o=(0,m.default)(i,!1,!0);e[n]=(0,v.default)(o)}}},e.defaultState=function(){return{serverData:{},pendingOps:[{}],objectCache:{},tasks:new _.default,existed:!1}},e.estimateAttribute=function(t,e,r,n,i){for(var o=t[i],a=0;a<e.length;a++)e[a][i]&&(e[a][i]instanceof w.RelationOp?n&&(o=e[a][i].applyTo(o,{className:r,id:n},i)):o=e[a][i].applyTo(o));return o},e.estimateAttributes=function(t,e,r,n){var i={};for(var o in t)i[o]=t[o];for(var a=0;a<e.length;a++)for(o in e[a])if(e[a][o]instanceof w.RelationOp)n&&(i[o]=e[a][o].applyTo(i[o],{className:r,id:n},o));else if((0,p.default)(o).call(o,".")){var s=o.split("."),u=s[0],l=s[s.length-1];i[u]=E({},t[u]);for(var h=E({},i),c=0;c<s.length-1;c++)h=h[s[c]];h[l]=e[a][o].applyTo(h[l])}else i[o]=e[a][o].applyTo(i[o]);return i},e.mergeFirstPendingState=function(t){var e=M(t),r=t[0];for(var n in e)if(r[n]&&e[n]){var i=r[n].mergeWith(e[n]);i&&(r[n]=i)}else r[n]=e[n]},e.popPendingState=M,e.pushPendingState=function(t){t.push({})},e.setPendingOp=function(t,e,r){var n=t.length-1;r?t[n][e]=r:delete t[n][e]},e.setServerData=function(t,e){for(var r in e)"undefined"!==typeof e[r]?t[r]=e[r]:delete t[r]};var f=c(r(23765)),d=c(r(87672)),p=c(r(78580)),v=c(r(59340)),m=c(r(16962)),g=c(r(39335)),y=c(r(71149)),b=c(r(28697)),_=c(r(73842)),w=r(45717);function x(t,e){var r=n(t);if(i){var s=i(t);e&&(s=o(s).call(s,(function(e){return a(t,e).enumerable}))),r.push.apply(r,s)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?s(r=x(Object(i),!0)).call(r,(function(e){(0,d.default)(t,e,i[e])})):u?l(t,u(i)):s(n=x(Object(i))).call(n,(function(e){h(t,e,a(i,e))}))}return t}function M(t){var e=t.shift();return t.length||(t[0]={}),e}},54736:function(t,e,r){"use strict";var n=r(3649),i=r(66419),o=r(65420),a=r(19996),s=r(41511),u=r(60530),l=u(r(23765)),h=u(r(81643)),c=u(r(41511)),f=u(r(3649)),d=u(r(20116)),p=u(r(2991)),v=u(r(78914)),m=u(r(86902));function g(t,e){var r="undefined"!==typeof o&&a(t)||t["@@iterator"];if(!r){if(s(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return y(t,e);var o=n(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return i(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return y(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var u=0,l=function(){};return{s:l,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var b=r(65451).default,_=r(50569).default,w=r(18702).default,x=r(20367).default,E=r(89679).default;function M(t,e){if(e&&e.__type&&("Pointer"===e.__type||"Object"===e.__type)){for(var r in t){var n=t[r];if("string"===typeof n&&n===e.objectId)return!0;if(n.className===e.className&&n.objectId===e.objectId)return!0}return!1}return(0,h.default)(t).call(t,e)>-1}function S(t){return t._toFullJSON?t._toFullJSON():t}function A(t,e,r,n){if(e.className!==t)return!1;var i=e,o=n;for(var a in e.toJSON&&(i=e.toJSON()),n.toJSON&&(o=n.toJSON().where),i.className=t,o)if(!T(t,i,r,a,o[a]))return!1;return!0}function k(t,e,r){if((0,c.default)(t)){for(var n=0;n<t.length;n++)if(r(t[n],e))return!0;return!1}return r(t,e)}function T(t,e,r,n,i){if(null===i)return!1;if((0,h.default)(n).call(n,".")>=0){var o=n.split("."),a=o[0],s=(0,f.default)(o).call(o,1).join(".");return T(t,e[a]||{},r,s,i)}var u,v,m;if("$or"===n){for(u=0;u<i.length;u++)if(A(t,e,r,i[u]))return!0;return!1}if("$and"===n){for(u=0;u<i.length;u++)if(!A(t,e,r,i[u]))return!1;return!0}if("$nor"===n){for(u=0;u<i.length;u++)if(A(t,e,r,i[u]))return!1;return!0}if("$relatedTo"===n)return!1;if(!/^[A-Za-z][0-9A-Za-z_]*$/.test(n))throw new w(w.INVALID_KEY_NAME,"Invalid Key: ".concat(n));if("object"!==(0,l.default)(i))return(0,c.default)(e[n])?(0,h.default)(v=e[n]).call(v,i)>-1:e[n]===i;if(i.__type)return"Pointer"===i.__type?k(e[n],i,(function(t,e){return"undefined"!==typeof t&&e.className===t.className&&e.objectId===t.objectId})):k(_(e[n]),_(i),b);for(var y in i)switch((m=i[y]).__type&&(m=_(m)),("[object Date]"===toString.call(m)||"string"===typeof m&&"Invalid Date"!==new Date(m)&&!isNaN(new Date(m)))&&(e[n]=new Date(e[n].iso?e[n].iso:e[n])),y){case"$lt":if(e[n]>=m)return!1;break;case"$lte":if(e[n]>m)return!1;break;case"$gt":if(e[n]<=m)return!1;break;case"$gte":if(e[n]<m)return!1;break;case"$ne":if(b(e[n],m))return!1;break;case"$in":if(!M(m,e[n]))return!1;break;case"$nin":if(M(m,e[n]))return!1;break;case"$all":for(u=0;u<m.length;u++){var R;if((0,h.default)(R=e[n]).call(R,m[u])<0)return!1}break;case"$exists":var P="undefined"!==typeof e[n],I=i.$exists;if("boolean"!==typeof i.$exists)break;if(!P&&I||P&&!I)return!1;break;case"$regex":if("object"===(0,l.default)(m))return m.test(e[n]);for(var N="",O=-2,C=(0,h.default)(m).call(m,"\\Q");C>-1;)N+=m.substring(O+2,C),(O=(0,h.default)(m).call(m,"\\E",C))>-1&&(N+=m.substring(C+2,O).replace(/\\\\\\\\E/g,"\\E").replace(/\W/g,"\\$&")),C=(0,h.default)(m).call(m,"\\Q",O);N+=m.substring(Math.max(C,O+2));var D=i.$options||"";if(D=D.replace("x","").replace("s",""),!new RegExp(N,D).test(e[n]))return!1;break;case"$nearSphere":return!(!m||!e[n])&&m.radiansTo(e[n])<=(i.$maxDistance||1/0);case"$within":if(!m||!e[n])return!1;var L=m.$box[0],F=m.$box[1];return!(L.latitude>F.latitude||L.longitude>F.longitude)&&(e[n].latitude>L.latitude&&e[n].latitude<F.latitude&&e[n].longitude>L.longitude&&e[n].longitude<F.longitude);case"$options":case"$maxDistance":break;case"$select":for(var B=(0,d.default)(r).call(r,(function(t,e,r){return A(m.query.className,t,r,m.query.where)})),U=0;U<B.length;U+=1){var G=S(B[U]);return b(e[n],G[m.key])}return!1;case"$dontSelect":for(var j=(0,d.default)(r).call(r,(function(t,e,r){return A(m.query.className,t,r,m.query.where)})),z=0;z<j.length;z+=1){var H=S(j[z]);return!b(e[n],H[m.key])}return!1;case"$inQuery":for(var V=(0,d.default)(r).call(r,(function(t,e,r){return A(m.className,t,r,m.where)})),W=0;W<V.length;W+=1){var q=S(V[W]);if(e[n].className===q.className&&e[n].objectId===q.objectId)return!0}return!1;case"$notInQuery":for(var X=(0,d.default)(r).call(r,(function(t,e,r){return A(m.className,t,r,m.where)})),Z=0;Z<X.length;Z+=1){var K=S(X[Z]);if(e[n].className===K.className&&e[n].objectId===K.objectId)return!1}return!0;case"$containedBy":var Y,J=g(e[n]);try{for(J.s();!(Y=J.n()).done;){var $=Y.value;if(!M(m,$))return!1}}catch(nt){J.e(nt)}finally{J.f()}return!0;case"$geoWithin":var Q,tt=(0,p.default)(Q=m.$polygon).call(Q,(function(t){return[t.latitude,t.longitude]}));return new x(tt).containsPoint(e[n]);case"$geoIntersects":var et=new x(e[n].coordinates),rt=new E(m.$point);return et.containsPoint(rt);default:return!1}return!0}var R={matchesQuery:A,validateQuery:function(t){var e,r=t;t.toJSON&&(r=t.toJSON().where);var n=["$and","$or","$nor","_rperm","_wperm","_perishable_token","_email_verify_token","_email_verify_token_expires_at","_account_lockout_expires_at","_failed_login_count"];(0,v.default)(e=(0,m.default)(r)).call(e,(function(t){if(r&&r[t]&&r[t].$regex&&"string"===typeof r[t].$options&&!r[t].$options.match(/^[imxs]+$/))throw new w(w.INVALID_QUERY,"Bad $options value for query: ".concat(r[t].$options));if((0,h.default)(n).call(n,t)<0&&!t.match(/^[a-zA-Z][a-zA-Z0-9_.]*$/))throw new w(w.INVALID_KEY_NAME,"Invalid key name: ".concat(t))}))}};t.exports=R},42641:function(t,e,r){"use strict";var n=r(23765),i=r(1068),o=r(52424),a=r(63978),s=r(34074),u=r(60530),l=u(r(93476)),h=u(r(63109)),c=u(r(51161)),f=u(r(26394)),d=u(r(69198)),p=u(r(51379)),v=u(r(214)),m=u(r(66380)),g=u(r(50569)),y=u(r(16962)),b=u(r(22336)),_=u(r(92395)),w=u(r(83442)),x=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=A(e);if(r&&r.has(t))return r.get(t);var i={};for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var u=a&&s?s(t,o):null;u&&(u.get||u.set)?a(i,o,u):i[o]=t[o]}i.default=t,r&&r.set(t,i);return i}(r(45717)),E=u(r(2809)),M=u(r(43641)),S=(r(60186),r(54247));function A(t){if("function"!==typeof o)return null;var e=new o,r=new o;return(A=function(t){return t?r:e})(t)}function k(t){var e=function(){if("undefined"===typeof Reflect||!i)return!1;if(i.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,m.default)(t);if(e){var o=(0,m.default)(this).constructor;r=i(n,arguments,o)}else r=n.apply(this,arguments);return(0,v.default)(this,r)}}var T=r(210),R=T.checkForSdkUpdates,P=T.trackEvent,I=T.TrackingEventName,N=T.getSubdomain,O=function(t){(0,p.default)(r,t);var e=k(r);function r(){return(0,f.default)(this,r),e.apply(this,arguments)}return(0,d.default)(r,null,[{key:"start",value:function(){var t=(0,c.default)(h.default.mark((function t(e){var n,i,o,a,s,u,l,c,f,d,p;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.appId,i=e.serverUrl,o=e.plugins,a=e.javascriptKey,s=e.masterKey,u=e.moralisSecret,i){t.next=4;break}throw new Error("Moralis.start failed: serverUrl is required");case 4:if(n){t.next=6;break}throw new Error("Moralis.start failed: appId is required");case 6:u&&console.warn("Moralis.start warning: Using moralisSecret on the browser enviroment reveals critical information."),t.next=18;break;case 9:if(!u){t.next=18;break}return this.moralisSecret=u,t.next=13,this.getApiKeys(u);case 13:f=t.sent,d=f.web3ApiKey,p=f.speedyNodeApiKey,l=d,this.speedyNodeApiKey=p;case 18:if(this.initialize(n,a,s),this.serverURL=i,this.Web3API.initialize({serverUrl:i,apiKey:l,Moralis:r}),this.SolanaAPI.initialize({serverUrl:i,apiKey:l,Moralis:r}),!n||!i){t.next=28;break}return c={subdomain:N(i),sdk_type:"javascript",sdk_version:"1.9.0",sdk_enviroment:"browser",appId:n},t.next=26,this.initPlugins(o);case 26:t.next=29;break;case 28:c={sdk_type:"javascript",sdk_version:"1.9.0",sdk_enviroment:"browser"};case 29:R(),P(I.START_FUNCTION,i?N(i):null,c);case 31:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getApiKeys",value:function(){var t=(0,c.default)(h.default.mark((function t(e){var r,n;return h.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=b.default.getRESTController(),t.next=4,r.ajax("GET","https://admin.moralis.io/api/publics/apiKeys",null,{"moralis-secret":e,Accept:"application/json","Content-Type":"application/json"});case 4:return n=t.sent,t.abrupt("return",n.response.result);case 8:throw t.prev=8,t.t0=t.catch(0),new Error("Could not fetch keys with moralisSecret");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"initialize",value:function(t,e){b.default.get("IS_NODE")&&!{NODE_ENV:"production",PUBLIC_URL:"/northern-guilds-tech-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!1,REACT_APP_SERVER_URL:"https://pl29byvi1fgp.usemoralis.com:2053/server",REACT_APP_APP_ID:"xVay2Dsg35Y0Y7qMQ3g7Q69BeVBFdTto8bP0fPTZ"}.SERVER_RENDERING&&console.log("Moralis: It looks like you're using the browser version of the SDK in a node.js environment. You should require('moralis/node') instead."),r._initialize(t,e)}},{key:"_initialize",value:function(t,e,r){b.default.set("APPLICATION_ID",t),b.default.set("JAVASCRIPT_KEY",e),b.default.set("MASTER_KEY",r),b.default.set("USE_MASTER_KEY",!1)}},{key:"setAsyncStorage",value:function(t){b.default.setAsyncStorage(t)}},{key:"setLocalDatastoreController",value:function(t){b.default.setLocalDatastoreController(t)}},{key:"applicationId",get:function(){return b.default.get("APPLICATION_ID")},set:function(t){b.default.set("APPLICATION_ID",t)}},{key:"javaScriptKey",get:function(){return b.default.get("JAVASCRIPT_KEY")},set:function(t){b.default.set("JAVASCRIPT_KEY",t)}},{key:"masterKey",get:function(){return b.default.get("MASTER_KEY")},set:function(t){b.default.set("MASTER_KEY",t)}},{key:"serverURL",get:function(){return b.default.get("SERVER_URL")},set:function(t){b.default.set("SERVER_URL",t)}},{key:"serverAuthToken",get:function(){return b.default.get("SERVER_AUTH_TOKEN")},set:function(t){b.default.set("SERVER_AUTH_TOKEN",t)}},{key:"serverAuthType",get:function(){return b.default.get("SERVER_AUTH_TYPE")},set:function(t){b.default.set("SERVER_AUTH_TYPE",t)}},{key:"liveQueryServerURL",get:function(){return b.default.get("LIVEQUERY_SERVER_URL")},set:function(t){b.default.set("LIVEQUERY_SERVER_URL",t)}},{key:"encryptedUser",get:function(){return b.default.get("ENCRYPTED_USER")},set:function(t){b.default.set("ENCRYPTED_USER",t)}},{key:"secret",get:function(){return b.default.get("ENCRYPTED_KEY")},set:function(t){b.default.set("ENCRYPTED_KEY",t)}},{key:"idempotency",get:function(){return b.default.get("IDEMPOTENCY")},set:function(t){b.default.set("IDEMPOTENCY",t)}}]),r}(M.default);O.ACL=r(77950).default,O.Analytics=r(28021),O.AnonymousUtils=r(15357).default,O.Cloud=r(89406),O.CLP=r(34565).default,O.CoreManager=r(22336),O.Config=r(16688).default,O.Error=r(18702).default,O.FacebookUtils=r(52451).default,O.File=r(39335).default,O.GeoPoint=r(89679).default,O.Polygon=r(20367).default,O.Installation=r(15430).default,O.LocalDatastore=r(89295),O.Object=r(71149).default,O.Op={Set:x.SetOp,Unset:x.UnsetOp,Increment:x.IncrementOp,Add:x.AddOp,Remove:x.RemoveOp,AddUnique:x.AddUniqueOp,Relation:x.RelationOp},O.Web3API=r(75114).default,O.SolanaAPI=r(35957).default,O.Push=r(91689),O.Query=r(52208).default,O.Relation=r(28697).default,O.Role=r(36721).default,O.Schema=r(22448).default,O.Session=r(9193).default,O.Storage=r(95436),O.User=r(13675).default,O.LiveQuery=r(67854).default,O.LiveQueryClient=r(35407).default,O.Web3=O,O.Units=r(96895),O.Elrond=r(37282).default,O.Erd=O.Elrond,O.Dot=r(21413).default,O.UI=r(45978).default,O.Chains=r(92456).default,O.AbstractWeb3Connector=r(17643).default,(0,S.filterConsole)(),O._request=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return b.default.getRESTController().request.apply(null,e)},O._ajax=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return b.default.getRESTController().ajax.apply(null,e)},O._decode=function(t,e){return(0,g.default)(e)},O._encode=function(t,e,r){return(0,y.default)(t,r)},O._getInstallationId=function(){return b.default.getInstallationController().currentInstallationId()},O.enableLocalDatastore=function(){O.LocalDatastore.isEnabled=!0},O.isLocalDatastoreEnabled=function(){return O.LocalDatastore.isEnabled},O.dumpLocalDatastore=function(){return O.LocalDatastore.isEnabled?O.LocalDatastore._getAllContents():(console.log("Moralis: Moralis.enableLocalDatastore() must be called first"),l.default.resolve({}))},O.enableEncryptedUser=function(){O.encryptedUser=!0},O.isEncryptedUserEnabled=function(){return O.encryptedUser},b.default.setCryptoController(_.default),b.default.setInstallationController(w.default),b.default.setRESTController(E.default),O.Moralis=O,t.exports=O},77950:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(86902)),a=i(r(23765)),s=i(r(26394)),u=i(r(69198)),l=i(r(87672)),h=i(r(36721)),c=i(r(13675)),f="*",d=function(){function t(e){if((0,s.default)(this,t),(0,l.default)(this,"permissionsById",void 0),this.permissionsById={},e&&"object"===(0,a.default)(e))if(e instanceof c.default)this.setReadAccess(e,!0),this.setWriteAccess(e,!0);else for(var r in e){var n=e[r];for(var i in this.permissionsById[r]={},n){var o=n[i];if("read"!==i&&"write"!==i)throw new TypeError("Tried to create an ACL with an invalid permission type.");if("boolean"!==typeof o)throw new TypeError("Tried to create an ACL with an invalid permission value.");this.permissionsById[r][i]=o}}else if("function"===typeof e)throw new TypeError("ParseACL constructed with a function. Did you forget ()?")}return(0,u.default)(t,[{key:"toJSON",value:function(){var t={};for(var e in this.permissionsById)t[e]=this.permissionsById[e];return t}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var r=(0,o.default)(this.permissionsById),n=(0,o.default)(e.permissionsById);if(r.length!==n.length)return!1;for(var i in this.permissionsById){if(!e.permissionsById[i])return!1;if(this.permissionsById[i].read!==e.permissionsById[i].read)return!1;if(this.permissionsById[i].write!==e.permissionsById[i].write)return!1}return!0}},{key:"_setAccess",value:function(t,e,r){if(e instanceof c.default)e=e.id;else if(e instanceof h.default){var n=e.getName();if(!n)throw new TypeError("Role must have a name");e="role:".concat(n)}if("string"!==typeof e)throw new TypeError("userId must be a string.");if("boolean"!==typeof r)throw new TypeError("allowed must be either true or false.");var i=this.permissionsById[e];if(!i){if(!r)return;i={},this.permissionsById[e]=i}r?this.permissionsById[e][t]=!0:(delete i[t],0===(0,o.default)(i).length&&delete this.permissionsById[e])}},{key:"_getAccess",value:function(t,e){if(e instanceof c.default){if(!(e=e.id))throw new Error("Cannot get access for a ParseUser without an ID")}else if(e instanceof h.default){var r=e.getName();if(!r)throw new TypeError("Role must have a name");e="role:".concat(r)}var n=this.permissionsById[e];return!!n&&!!n[t]}},{key:"setReadAccess",value:function(t,e){this._setAccess("read",t,e)}},{key:"getReadAccess",value:function(t){return this._getAccess("read",t)}},{key:"setWriteAccess",value:function(t,e){this._setAccess("write",t,e)}},{key:"getWriteAccess",value:function(t){return this._getAccess("write",t)}},{key:"setPublicReadAccess",value:function(t){this.setReadAccess(f,t)}},{key:"getPublicReadAccess",value:function(){return this.getReadAccess(f)}},{key:"setPublicWriteAccess",value:function(t){this.setWriteAccess(f,t)}},{key:"getPublicWriteAccess",value:function(){return this.getWriteAccess(f)}},{key:"getRoleReadAccess",value:function(t){if(t instanceof h.default&&(t=t.getName()),"string"!==typeof t)throw new TypeError("role must be a ParseRole or a String");return this.getReadAccess("role:".concat(t))}},{key:"getRoleWriteAccess",value:function(t){if(t instanceof h.default&&(t=t.getName()),"string"!==typeof t)throw new TypeError("role must be a ParseRole or a String");return this.getWriteAccess("role:".concat(t))}},{key:"setRoleReadAccess",value:function(t,e){if(t instanceof h.default&&(t=t.getName()),"string"!==typeof t)throw new TypeError("role must be a ParseRole or a String");this.setReadAccess("role:".concat(t),e)}},{key:"setRoleWriteAccess",value:function(t,e){if(t instanceof h.default&&(t=t.getName()),"string"!==typeof t)throw new TypeError("role must be a ParseRole or a String");this.setWriteAccess("role:".concat(t),e)}}]),t}();e.default=d},34565:function(t,e,r){"use strict";var n=r(3649),i=r(66419),o=r(65420),a=r(19996),s=r(41511),u=r(86902),l=r(14310),h=r(20116),c=r(34074),f=r(78914),d=r(39649),p=r(20368),v=r(63978),m=r(60530);v(e,"__esModule",{value:!0}),e.default=void 0;var g=m(r(18777)),y=m(r(23765)),b=m(r(26394)),_=m(r(69198)),w=m(r(87672)),x=m(r(39392)),E=m(r(78580)),M=m(r(10062)),S=m(r(72119)),A=m(r(3649)),k=m(r(86902)),T=m(r(41511)),R=m(r(36721)),P=m(r(13675));function I(t,e){var r=u(t);if(l){var n=l(t);e&&(n=h(n).call(n,(function(e){return c(t,e).enumerable}))),r.push.apply(r,n)}return r}function N(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?f(r=I(Object(i),!0)).call(r,(function(e){(0,w.default)(t,e,i[e])})):d?p(t,d(i)):f(n=I(Object(i))).call(n,(function(e){v(t,e,c(i,e))}))}return t}function O(t,e){var r="undefined"!==typeof o&&a(t)||t["@@iterator"];if(!r){if(s(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return C(t,e);var o=n(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return i(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return C(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var u=0,l=function(){};return{s:l,n:function(){return u>=t.length?{done:!0}:{done:!1,value:t[u++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var h,c=!0,f=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){f=!0,h=t},f:function(){try{c||null==r.return||r.return()}finally{if(f)throw h}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var D="*",L=new x.default;L.set("get",{}),L.set("find",{}),L.set("count",{}),L.set("create",{}),L.set("update",{}),L.set("delete",{}),L.set("addField",{});var F=new x.default;F.set("protectedFields",{});var B=function(){function t(e){var r=this;(0,b.default)(this,t),(0,w.default)(this,"permissionsMap",void 0),this.permissionsMap={};var n,i=O((0,S.default)(L).call(L));try{var o=function(){var t=(0,g.default)(n.value,2),e=t[0],i=t[1];r.permissionsMap[e]=N({},i);var o=e.charAt(0).toUpperCase()+(0,A.default)(e).call(e,1);r["get".concat(o,"RequiresAuthentication")]=function(){return this._getAccess(e,"requiresAuthentication")},r["set".concat(o,"RequiresAuthentication")]=function(t){this._setAccess(e,"requiresAuthentication",t)},r["get".concat(o,"PointerFields")]=function(){return this._getAccess(e,"pointerFields",!1)},r["set".concat(o,"PointerFields")]=function(t){this._setArrayAccess(e,"pointerFields",t)},r["get".concat(o,"Access")]=function(t){return this._getAccess(e,t)},r["set".concat(o,"Access")]=function(t,r){this._setAccess(e,t,r)},r["getPublic".concat(o,"Access")]=function(){return this["get".concat(o,"Access")](D)},r["setPublic".concat(o,"Access")]=function(t){this["set".concat(o,"Access")](D,t)},r["getRole".concat(o,"Access")]=function(t){return this["get".concat(o,"Access")](this._getRoleName(t))},r["setRole".concat(o,"Access")]=function(t,e){this["set".concat(o,"Access")](this._getRoleName(t),e)}};for(i.s();!(n=i.n()).done;)o()}catch(k){i.e(k)}finally{i.f()}var a,s=O((0,S.default)(F).call(F));try{for(s.s();!(a=s.n()).done;){var u=(0,g.default)(a.value,2),l=u[0],h=u[1];this.permissionsMap[l]=N({},h)}}catch(k){s.e(k)}finally{s.f()}if(e&&"object"===(0,y.default)(e))if(e instanceof P.default)this.setReadAccess(e,!0),this.setWriteAccess(e,!0);else if(e instanceof R.default)this.setRoleReadAccess(e,!0),this.setRoleWriteAccess(e,!0);else for(var c in e){var f,d=e[c],p=!!L.get(c),v=!!F.get(c),m=(0,E.default)(f=["readUserFields","writeUserFields"]).call(f,c);if("string"!==typeof c||!(p||v||m))throw new TypeError("Tried to create an CLP with an invalid permission type.");if(m){if((0,M.default)(d).call(d,(function(t){return"string"===typeof t}))){this.permissionsMap[c]=d;continue}throw new TypeError("Tried to create an CLP with an invalid permission value.")}for(var _ in d){var x=d[_];if("boolean"!==typeof x&&!v&&"pointerFields"!==_)throw new TypeError("Tried to create an CLP with an invalid permission value.");this.permissionsMap[c][_]=x}}else if("function"===typeof e)throw new TypeError("ParseCLP constructed with a function. Did you forget ()?")}return(0,_.default)(t,[{key:"toJSON",value:function(){return N({},this.permissionsMap)}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var r=(0,k.default)(this.permissionsMap),n=(0,k.default)(e.permissionsMap);if(r.length!==n.length)return!1;for(var i in this.permissionsMap){if(!e.permissionsMap[i])return!1;var o=(0,k.default)(this.permissionsMap[i]),a=(0,k.default)(e.permissionsMap[i]);if(o.length!==a.length)return!1;for(var s in this.permissionsMap[i]){if(!e.permissionsMap[i][s])return!1;if(this.permissionsMap[i][s]!==e.permissionsMap[i][s])return!1}}return!0}},{key:"_getRoleName",value:function(t){var e=t;if(t instanceof R.default&&(e=t.getName()),"string"!==typeof e)throw new TypeError("role must be a Parse.Role or a String");return"role:".concat(e)}},{key:"_parseEntity",value:function(t){var e=t;if(e instanceof P.default){if(!(e=e.id))throw new Error("Cannot get access for a Parse.User without an id.")}else e instanceof R.default&&(e=this._getRoleName(e));if("string"!==typeof e)throw new TypeError("userId must be a string.");return e}},{key:"_setAccess",value:function(t,e,r){if(e=this._parseEntity(e),"boolean"!==typeof r)throw new TypeError("allowed must be either true or false.");if(!this.permissionsMap[t][e]){if(!r)return;this.permissionsMap[t][e]={}}r?this.permissionsMap[t][e]=!0:delete this.permissionsMap[t][e]}},{key:"_getAccess",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e=this._parseEntity(e);var n=this.permissionsMap[t][e];return r?!!n&&!!this.permissionsMap[t][e]:n}},{key:"_setArrayAccess",value:function(t,e,r){if(e=this._parseEntity(e),this.permissionsMap[t][e]||(this.permissionsMap[t][e]=[]),!r||(0,T.default)(r)&&0===r.length)delete this.permissionsMap[t][e];else{if(!(0,T.default)(r)||!(0,M.default)(r).call(r,(function(t){return"string"===typeof t})))throw new TypeError("fields must be an array of strings or undefined.");this.permissionsMap[t][e]=r}}},{key:"_setGroupPointerPermission",value:function(t,e){if(this.permissionsMap[t]||(this.permissionsMap[t]=[]),!e||(0,T.default)(e)&&0===e.length)delete this.permissionsMap[t];else{if(!(0,T.default)(e)||!(0,M.default)(e).call(e,(function(t){return"string"===typeof t})))throw new TypeError("".concat(t,".pointerFields must be an array of strings or undefined."));this.permissionsMap[t]=e}}},{key:"_getGroupPointerPermissions",value:function(t){return this.permissionsMap[t]}},{key:"setReadUserFields",value:function(t){this._setGroupPointerPermission("readUserFields",t)}},{key:"getReadUserFields",value:function(){return this._getGroupPointerPermissions("readUserFields")}},{key:"setWriteUserFields",value:function(t){this._setGroupPointerPermission("writeUserFields",t)}},{key:"getWriteUserFields",value:function(){return this._getGroupPointerPermissions("writeUserFields")}},{key:"setProtectedFields",value:function(t,e){this._setArrayAccess("protectedFields",t,e)}},{key:"getProtectedFields",value:function(t){return this._getAccess("protectedFields",t,!1)}},{key:"setReadAccess",value:function(t,e){this._setAccess("find",t,e),this._setAccess("get",t,e),this._setAccess("count",t,e)}},{key:"getReadAccess",value:function(t){return this._getAccess("find",t)&&this._getAccess("get",t)&&this._getAccess("count",t)}},{key:"setWriteAccess",value:function(t,e){this._setAccess("create",t,e),this._setAccess("update",t,e),this._setAccess("delete",t,e),this._setAccess("addField",t,e)}},{key:"getWriteAccess",value:function(t){return this._getAccess("create",t)&&this._getAccess("update",t)&&this._getAccess("delete",t)&&this._getAccess("addField",t)}},{key:"setPublicReadAccess",value:function(t){this.setReadAccess(D,t)}},{key:"getPublicReadAccess",value:function(){return this.getReadAccess(D)}},{key:"setPublicWriteAccess",value:function(t){this.setWriteAccess(D,t)}},{key:"getPublicWriteAccess",value:function(){return this.getWriteAccess(D)}},{key:"setPublicProtectedFields",value:function(t){this.setProtectedFields(D,t)}},{key:"getPublicProtectedFields",value:function(){return this.getProtectedFields(D)}},{key:"getRoleReadAccess",value:function(t){return this.getReadAccess(this._getRoleName(t))}},{key:"getRoleWriteAccess",value:function(t){return this.getWriteAccess(this._getRoleName(t))}},{key:"setRoleReadAccess",value:function(t,e){this.setReadAccess(this._getRoleName(t),e)}},{key:"setRoleWriteAccess",value:function(t,e){this.setWriteAccess(this._getRoleName(t),e)}},{key:"getRoleProtectedFields",value:function(t){return this.getProtectedFields(this._getRoleName(t))}},{key:"setRoleProtectedFields",value:function(t,e){this.setProtectedFields(this._getRoleName(t),e)}}]),t}(),U=B;e.default=U},16688:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(93476)),a=i(r(59340)),s=i(r(23765)),u=i(r(26394)),l=i(r(69198)),h=i(r(87672)),c=i(r(22336)),f=i(r(50569)),d=i(r(16962)),p=i(r(16184)),v=i(r(18702)),m=i(r(95436)),g=function(){function t(){(0,u.default)(this,t),(0,h.default)(this,"attributes",void 0),(0,h.default)(this,"_escapedAttributes",void 0),this.attributes={},this._escapedAttributes={}}return(0,l.default)(t,[{key:"get",value:function(t){return this.attributes[t]}},{key:"escape",value:function(t){var e=this._escapedAttributes[t];if(e)return e;var r=this.attributes[t],n="";return null!=r&&(n=(0,p.default)(r.toString())),this._escapedAttributes[t]=n,n}}],[{key:"current",value:function(){return c.default.getConfigController().current()}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=c.default.getConfigController();return e.get(t)}},{key:"save",value:function(t,e){var r=c.default.getConfigController();return r.save(t,e).then((function(){return r.get({useMasterKey:!0})}),(function(t){return o.default.reject(t)}))}},{key:"_clearCache",value:function(){y=null}}]),t}(),y=null,b="currentConfig";function _(t){try{var e=JSON.parse(t);if(e&&"object"===(0,s.default)(e))return(0,f.default)(e)}catch(r){return null}}var w={current:function(){if(y)return y;var t=new g,e=m.default.generatePath(b);if(!m.default.async()){var r=m.default.getItem(e);if(r){var n=_(r);n&&(t.attributes=n,y=t)}return t}return m.default.getItemAsync(e).then((function(e){if(e){var r=_(e);r&&(t.attributes=r,y=t)}return t}))},get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=c.default.getRESTController();return e.request("GET","config",{},t).then((function(t){if(!t||!t.params){var e=new v.default(v.default.INVALID_JSON,"Config JSON response invalid.");return o.default.reject(e)}var r=new g;for(var n in r.attributes={},t.params)r.attributes[n]=(0,f.default)(t.params[n]);return y=r,m.default.setItemAsync(m.default.generatePath(b),(0,a.default)(t.params)).then((function(){return r}))}))},save:function(t,e){var r=c.default.getRESTController(),n={};for(var i in t)n[i]=(0,d.default)(t[i]);return r.request("PUT","config",{params:n,masterKeyOnly:e},{useMasterKey:!0}).then((function(t){if(t&&t.result)return o.default.resolve();var e=new v.default(v.default.INTERNAL_SERVER_ERROR,"Error occured updating Config.");return o.default.reject(e)}))}};c.default.setConfigController(w);var x=g;e.default=x},18702:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(63978)),s=o(r(77766)),u=o(r(26394)),l=o(r(69198)),h=o(r(5824)),c=o(r(51379)),f=o(r(214)),d=o(r(66380));function p(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,d.default)(t);if(e){var o=(0,d.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,f.default)(this,r)}}var v=function(t){(0,c.default)(r,t);var e=p(r);function r(t,n){var i;return(0,u.default)(this,r),(i=e.call(this,n)).code=t,(0,a.default)((0,h.default)(i),"message",{enumerable:!0,value:n}),i}return(0,l.default)(r,[{key:"toString",value:function(){var t;return(0,s.default)(t="ParseError: ".concat(this.code," ")).call(t,this.message)}}]),r}((0,o(r(74803)).default)(Error));v.OTHER_CAUSE=-1,v.INTERNAL_SERVER_ERROR=1,v.CONNECTION_FAILED=100,v.OBJECT_NOT_FOUND=101,v.INVALID_QUERY=102,v.INVALID_CLASS_NAME=103,v.MISSING_OBJECT_ID=104,v.INVALID_KEY_NAME=105,v.INVALID_POINTER=106,v.INVALID_JSON=107,v.COMMAND_UNAVAILABLE=108,v.NOT_INITIALIZED=109,v.INCORRECT_TYPE=111,v.INVALID_CHANNEL_NAME=112,v.PUSH_MISCONFIGURED=115,v.OBJECT_TOO_LARGE=116,v.OPERATION_FORBIDDEN=119,v.CACHE_MISS=120,v.INVALID_NESTED_KEY=121,v.INVALID_FILE_NAME=122,v.INVALID_ACL=123,v.TIMEOUT=124,v.INVALID_EMAIL_ADDRESS=125,v.MISSING_CONTENT_TYPE=126,v.MISSING_CONTENT_LENGTH=127,v.INVALID_CONTENT_LENGTH=128,v.FILE_TOO_LARGE=129,v.FILE_SAVE_ERROR=130,v.DUPLICATE_VALUE=137,v.INVALID_ROLE_NAME=139,v.EXCEEDED_QUOTA=140,v.SCRIPT_FAILED=141,v.VALIDATION_ERROR=142,v.INVALID_IMAGE_DATA=143,v.UNSAVED_FILE_ERROR=151,v.INVALID_PUSH_TIME_ERROR=152,v.FILE_DELETE_ERROR=153,v.FILE_DELETE_UNNAMED_ERROR=161,v.REQUEST_LIMIT_EXCEEDED=155,v.DUPLICATE_REQUEST=159,v.INVALID_EVENT_NAME=160,v.USERNAME_MISSING=200,v.PASSWORD_MISSING=201,v.USERNAME_TAKEN=202,v.EMAIL_TAKEN=203,v.EMAIL_MISSING=204,v.EMAIL_NOT_FOUND=205,v.SESSION_MISSING=206,v.MUST_CREATE_USER_THROUGH_SIGNUP=207,v.ACCOUNT_ALREADY_LINKED=208,v.INVALID_SESSION_TOKEN=209,v.MFA_ERROR=210,v.MFA_TOKEN_REQUIRED=211,v.LINKED_ID_MISSING=250,v.INVALID_LINKED_SESSION=251,v.UNSUPPORTED_SERVICE=252,v.INVALID_SCHEMA_OPERATION=255,v.AGGREGATE_ERROR=600,v.FILE_READ_ERROR=601,v.X_DOMAIN_REQUEST=602;var m=v;e.default=m},39335:function(t,e,r){"use strict";var n=r(86902),i=r(14310),o=r(20116),a=r(34074),s=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530);h(e,"__esModule",{value:!0}),e.default=void 0;var f=c(r(63109)),d=c(r(41511)),p=c(r(81643)),v=c(r(3649)),m=c(r(78914)),g=c(r(86902)),y=c(r(23765)),b=c(r(51161)),_=c(r(26394)),w=c(r(69198)),x=c(r(87672)),E=c(r(22336)),M=r(62083);function S(t,e){var r=n(t);if(i){var s=i(t);e&&(s=o(s).call(s,(function(e){return a(t,e).enumerable}))),r.push.apply(r,s)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?s(r=S(Object(i),!0)).call(r,(function(e){(0,x.default)(t,e,i[e])})):u?l(t,u(i)):s(n=S(Object(i))).call(n,(function(e){h(t,e,a(i,e))}))}return t}var k=r(18702).default,T=/^data:([a-zA-Z]+\/[-a-zA-Z0-9+.]+)(;charset=[a-zA-Z0-9\-/]*)?;base64,/,R=function(){function t(e,r,n,i,o){(0,_.default)(this,t),(0,x.default)(this,"_name",void 0),(0,x.default)(this,"_url",void 0),(0,x.default)(this,"_hash",void 0),(0,x.default)(this,"_ipfs",void 0),(0,x.default)(this,"_source",void 0),(0,x.default)(this,"_previousSave",void 0),(0,x.default)(this,"_data",void 0),(0,x.default)(this,"_requestTask",void 0),(0,x.default)(this,"_metadata",void 0),(0,x.default)(this,"_tags",void 0);var a=n||"";if(this._name=e,this._metadata=i||{},this._tags=o||{},void 0!==r)if((0,d.default)(r))this._data=t.encodeBase64(r),this._source={format:"base64",base64:this._data,type:a};else if("undefined"!==typeof Blob&&r instanceof Blob)this._source={format:"file",file:r,type:a};else if(r&&"string"===typeof r.uri&&void 0!==r.uri)this._source={format:"uri",uri:r.uri,type:a};else{if(!r||"string"!==typeof r.base64)throw new TypeError("Cannot create a Parse.File with that data.");var s=r.base64,u=(0,p.default)(s).call(s,",");if(-1!==u){var l=T.exec((0,v.default)(s).call(s,0,u+1));this._data=(0,v.default)(s).call(s,u+1),this._source={format:"base64",base64:this._data,type:l[1]}}else this._data=s,this._source={format:"base64",base64:s,type:a}}}return(0,w.default)(t,[{key:"getData",value:function(){var t=(0,b.default)(f.default.mark((function t(){var e,r,n,i=this;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._data){t.next=2;break}return t.abrupt("return",this._data);case 2:if(this._url){t.next=4;break}throw new Error("Cannot retrieve data for unsaved ParseFile.");case 4:return e={requestTask:function(t){return i._requestTask=t}},r=E.default.getFileController(),t.next=8,r.download(this._url,e);case 8:return n=t.sent,this._data=n.base64,t.abrupt("return",this._data);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"name",value:function(){return this._name}},{key:"url",value:function(t){if(t=t||{},this._url)return t.forceSecure?this._url.replace(/^http:\/\//i,"https://"):this._url}},{key:"ipfs",value:function(){return this._ipfs}},{key:"hash",value:function(){return this._hash}},{key:"metadata",value:function(){return this._metadata}},{key:"tags",value:function(){return this._tags}},{key:"save",value:function(t){var e=this;(t=t||{}).requestTask=function(t){return e._requestTask=t},t.metadata=this._metadata,t.tags=this._tags;var r=E.default.getFileController();if(this._previousSave||("file"===this._source.format?this._previousSave=r.saveFile(this._name,this._source,t).then((function(t){return e._name=t.name,e._url=t.url,e._hash=t.hash,e._ipfs=t.ipfs,e._data=null,e._requestTask=null,e})):"uri"===this._source.format?this._previousSave=r.download(this._source.uri,t).then((function(n){if(!n||!n.base64)return{};var i={format:"base64",base64:n.base64,type:n.contentType};return e._data=n.base64,e._requestTask=null,r.saveBase64(e._name,i,t)})).then((function(t){return e._name=t.name,e._url=t.url,e._hash=t.hash,e._ipfs=t.ipfs,e._requestTask=null,e})):this._previousSave=r.saveBase64(this._name,this._source,t).then((function(t){return e._name=t.name,e._url=t.url,e._hash=t.hash,e._ipfs=t.ipfs,e._requestTask=null,e}))),this._previousSave)return this._previousSave}},{key:"saveIPFS",value:function(t){return this.save(A(A({},t),{},{ipfs:!0}))}},{key:"cancel",value:function(){this._requestTask&&"function"===typeof this._requestTask.abort&&this._requestTask.abort(),this._requestTask=null}},{key:"destroy",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._name)throw new k(k.FILE_DELETE_UNNAMED_ERROR,"Cannot delete an unnamed file.");var r={useMasterKey:!0};e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey);var n=E.default.getFileController();return n.deleteFile(this._name,r).then((function(){return t._data=null,t._requestTask=null,t}))}},{key:"toJSON",value:function(){return{__type:"File",name:this._name,url:this._url,ipfs:this._ipfs,hash:this._hash}}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.name()===e.name()&&this.url()===e.url()&&"undefined"!==typeof this.url()}},{key:"setMetadata",value:function(t){var e,r=this;t&&"object"===(0,y.default)(t)&&(0,m.default)(e=(0,g.default)(t)).call(e,(function(e){r.addMetadata(e,t[e])}))}},{key:"addMetadata",value:function(t,e){"string"===typeof t&&(this._metadata[t]=e)}},{key:"setTags",value:function(t){var e,r=this;t&&"object"===(0,y.default)(t)&&(0,m.default)(e=(0,g.default)(t)).call(e,(function(e){r.addTag(e,t[e])}))}},{key:"addTag",value:function(t,e){"string"===typeof t&&(this._tags[t]=e)}}],[{key:"fromJSON",value:function(e){if("File"!==e.__type)throw new TypeError("JSON object does not represent a ParseFile");var r=new t(e.name);return r._url=e.url,r._hash=e.hash,r._ipfs=e.ipfs,r}},{key:"encodeBase64",value:function(t){return(0,M.encodeBase64)(t)}}]),t}();E.default.setFileController(r(69753));var P=R;e.default=P,e.b64Digit=M.b64Digit},69753:function(t,e,r){"use strict";var n=r(86902),i=r(14310),o=r(20116),a=r(34074),s=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530),f=c(r(63109)),d=c(r(93476)),p=(c(r(81643)),c(r(87672))),v=c(r(18777)),m=c(r(51161)),g=c(r(22336)),y=r(62083);function b(t,e){var r=n(t);if(i){var s=i(t);e&&(s=o(s).call(s,(function(e){return a(t,e).enumerable}))),r.push.apply(r,s)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?s(r=b(Object(i),!0)).call(r,(function(e){(0,p.default)(t,e,i[e])})):u?l(t,u(i)):s(n=b(Object(i))).call(n,(function(e){h(t,e,a(i,e))}))}return t}var w=null;"undefined"!==typeof XMLHttpRequest&&(w=XMLHttpRequest);var x={saveFile:function(){var t=(0,m.default)(f.default.mark((function t(e,r,n){var i,o,a,s,u,l;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("file"===r.format){t.next=2;break}throw new Error("saveFile can only be used with File-type sources.");case 2:return t.next=4,new d.default((function(t,e){var n=new FileReader;n.onload=function(){return t(n.result)},n.onerror=function(t){return e(t)},n.readAsDataURL(r.file)}));case 4:return i=t.sent,o=i.split(","),a=(0,v.default)(o,2),s=a[0],u=a[1],l={format:"base64",base64:u||s,type:r.type||(r.file?r.file.type:null)},t.next=10,x.saveBase64(e,l,n);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),saveBase64:function(t,e,r){if("base64"!==e.format)throw new Error("saveBase64 can only be used with Base64-type sources.");var n={base64:e.base64,fileData:{ipfs:r.ipfs,metadata:_({},r.metadata),tags:_({},r.tags)}};delete r.metadata,delete r.tags,e.type&&(n._ContentType=e.type);var i="files/".concat(t);return g.default.getRESTController().request("POST",i,n,r)},download:function(t,e){return w?this.downloadAjax(t,e):d.default.reject("Cannot make a request: No definition of XMLHttpRequest was found.")},downloadAjax:function(t,e){return new d.default((function(r,n){var i=new w;i.open("GET",t,!0),i.responseType="arraybuffer",i.onerror=function(t){n(t)},i.onreadystatechange=function(){if(i.readyState===i.DONE){if(!this.response)return r({});var t=new Uint8Array(this.response);r({base64:(0,y.encodeBase64)(t),contentType:i.getResponseHeader("content-type")})}},e.requestTask(i),i.send()}))},deleteFile:function(t,e){var r={"X-Parse-Application-ID":g.default.get("APPLICATION_ID")};e.useMasterKey&&(r["X-Parse-Master-Key"]=g.default.get("MASTER_KEY"));var n=g.default.get("SERVER_URL");return"/"!==n[n.length-1]&&(n+="/"),n+="files/".concat(t),g.default.getRESTController().ajax("DELETE",n,"",r).catch((function(t){return t&&"SyntaxError: Unexpected end of JSON input"!==t?g.default.getRESTController().handleError(t):d.default.resolve()}))},_setXHR:function(t){w=t},_getXHR:function(){return w}};t.exports=x},62083:function(t){"use strict";function e(t){if(t<26)return String.fromCharCode(65+t);if(t<52)return String.fromCharCode(t-26+97);if(t<62)return String.fromCharCode(t-52+48);if(62===t)return"+";if(63===t)return"/";throw new TypeError("Tried to encode large digit ".concat(t," in base64."))}t.exports={encodeBase64:function(t){var r=[];r.length=Math.ceil(t.length/3);for(var n=0;n<r.length;n++){var i=t[3*n],o=t[3*n+1]||0,a=t[3*n+2]||0,s=3*n+1<t.length,u=3*n+2<t.length;r[n]=[e(i>>2&63),e(i<<4&48|o>>4&15),s?e(o<<2&60|a>>6&3):"=",u?e(63&a):"="].join("")}return r.join("")},b64Digit:e}},89679:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(41511)),a=i(r(23765)),s=i(r(26394)),u=i(r(69198)),l=i(r(87672)),h=function(){function t(e,r){(0,s.default)(this,t),(0,l.default)(this,"_latitude",void 0),(0,l.default)(this,"_longitude",void 0),(0,o.default)(e)?(t._validate(e[0],e[1]),this._latitude=e[0],this._longitude=e[1]):"object"===(0,a.default)(e)?(t._validate(e.latitude,e.longitude),this._latitude=e.latitude,this._longitude=e.longitude):void 0!==e&&void 0!==r?(t._validate(e,r),this._latitude=e,this._longitude=r):(this._latitude=0,this._longitude=0)}return(0,u.default)(t,[{key:"latitude",get:function(){return this._latitude},set:function(e){t._validate(e,this.longitude),this._latitude=e}},{key:"longitude",get:function(){return this._longitude},set:function(e){t._validate(this.latitude,e),this._longitude=e}},{key:"toJSON",value:function(){return t._validate(this._latitude,this._longitude),{__type:"GeoPoint",latitude:this._latitude,longitude:this._longitude}}},{key:"equals",value:function(e){return e instanceof t&&this.latitude===e.latitude&&this.longitude===e.longitude}},{key:"radiansTo",value:function(t){var e=Math.PI/180,r=this.latitude*e,n=this.longitude*e,i=t.latitude*e,o=t.longitude*e,a=Math.sin((r-i)/2),s=Math.sin((n-o)/2),u=a*a+Math.cos(r)*Math.cos(i)*s*s;return u=Math.min(1,u),2*Math.asin(Math.sqrt(u))}},{key:"kilometersTo",value:function(t){return 6371*this.radiansTo(t)}},{key:"milesTo",value:function(t){return 3958.8*this.radiansTo(t)}}],[{key:"_validate",value:function(t,e){if(isNaN(t)||isNaN(e)||"number"!==typeof t||"number"!==typeof e)throw new TypeError("GeoPoint latitude and longitude must be valid numbers");if(t<-90)throw new TypeError("GeoPoint latitude out of bounds: ".concat(t," < -90.0."));if(t>90)throw new TypeError("GeoPoint latitude out of bounds: ".concat(t," > 90.0."));if(e<-180)throw new TypeError("GeoPoint longitude out of bounds: ".concat(e," < -180.0."));if(e>180)throw new TypeError("GeoPoint longitude out of bounds: ".concat(e," > 180.0."))}},{key:"current",value:function(){return navigator.geolocation.getCurrentPosition((function(e){return new t(e.coords.latitude,e.coords.longitude)}))}}]),t}();e.default=h},15430:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(23765)),s=o(r(69198)),u=o(r(26394)),l=o(r(51379)),h=o(r(214)),c=o(r(66380)),f=o(r(71149));function d(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,c.default)(t);if(e){var o=(0,c.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,h.default)(this,r)}}var p=function(t){(0,l.default)(r,t);var e=d(r);function r(t){var n;if((0,u.default)(this,r),n=e.call(this,"_Installation"),t&&"object"===(0,a.default)(t)&&!n.set(t||{}))throw new Error("Can't create an invalid Installation");return n}return(0,s.default)(r)}(f.default);e.default=p,f.default.registerSubclass("_Installation",p)},67854:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(93476)),a=i(r(81643)),s=i(r(63109)),u=i(r(18777)),l=i(r(51161)),h=i(r(77165)),c=i(r(35407)),f=i(r(22336));function d(){return f.default.getLiveQueryController().getDefaultLiveQueryClient()}var p=new h.default;p.open=(0,l.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:t.sent.open();case 4:case"end":return t.stop()}}),t)}))),p.close=(0,l.default)(s.default.mark((function t(){return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d();case 2:t.sent.close();case 4:case"end":return t.stop()}}),t)}))),p.on("error",(function(){}));var v,m=p;e.default=m;var g={setDefaultLiveQueryClient:function(t){v=t},getDefaultLiveQueryClient:function(){return(0,l.default)(s.default.mark((function t(){var e,r,n,i,l,h,d,m,g,y,b,_;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v){t.next=2;break}return t.abrupt("return",v);case 2:return t.next=4,o.default.all([f.default.getUserController().currentUserAsync(),f.default.getInstallationController().currentInstallationId()]);case 4:if(e=t.sent,r=(0,u.default)(e,2),n=r[0],i=r[1],l=n?n.getSessionToken():void 0,!(h=f.default.get("LIVEQUERY_SERVER_URL"))||0===(0,a.default)(h).call(h,"ws")){t.next=12;break}throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");case 12:return h||(d=f.default.get("SERVER_URL"),m=0===(0,a.default)(d).call(d,"https")?"wss://":"ws://",g=d.replace(/^https?:\/\//,""),h=m+g,f.default.set("LIVEQUERY_SERVER_URL",h)),y=f.default.get("APPLICATION_ID"),b=f.default.get("JAVASCRIPT_KEY"),_=f.default.get("MASTER_KEY"),(v=new c.default({applicationId:y,serverURL:h,javascriptKey:b,masterKey:_,sessionToken:l,installationId:i})).on("error",(function(t){p.emit("error",t)})),v.on("open",(function(){p.emit("open")})),v.on("close",(function(){p.emit("close")})),t.abrupt("return",v);case 21:case"end":return t.stop()}}),t)})))()},_clearCachedDefaultClient:function(){v=null}};f.default.setLiveQueryController(g)},71149:function(t,e,r){"use strict";var n=r(23765),i=r(86902),o=r(14310),a=r(20116),s=r(34074),u=r(78914),l=r(39649),h=r(20368),c=r(63978),f=r(3649),d=r(66419),p=r(65420),v=r(19996),m=r(41511),g=r(52424),y=r(60530);c(e,"__esModule",{value:!0}),e.default=void 0;var b=y(r(63109)),_=y(r(51161)),w=y(r(23765)),x=y(r(26394)),E=y(r(69198)),M=y(r(87672)),S=y(r(81643)),A=y(r(56474)),k=y(r(86902)),T=y(r(78914)),R=y(r(59340)),P=y(r(78580)),I=y(r(21611)),N=y(r(77766)),O=y(r(41511)),C=y(r(93476)),D=y(r(54943)),L=y(r(63978)),F=y(r(94473)),B=y(r(2991)),U=y(r(22336)),G=y(r(27858)),j=y(r(50569)),z=y(r(16962)),H=y(r(16184)),V=y(r(77950)),W=y(r(60974)),q=y(r(18702)),X=y(r(39335)),Z=r(79689),K=r(72631),Y=r(45717),J=y(r(52208)),$=y(r(28697)),Q=it(r(82417)),tt=y(r(17398)),et=it(r(91260)),rt=y(r(11509));function nt(t){if("function"!==typeof g)return null;var e=new g,r=new g;return(nt=function(t){return t?r:e})(t)}function it(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=nt(e);if(r&&r.has(t))return r.get(t);var i={};for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=c&&s?s(t,o):null;a&&(a.get||a.set)?c(i,o,a):i[o]=t[o]}return i.default=t,r&&r.set(t,i),i}function ot(t,e){var r="undefined"!==typeof p&&v(t)||t["@@iterator"];if(!r){if(m(t)||(r=function(t,e){var r;if(!t)return;if("string"===typeof t)return at(t,e);var n=f(r=Object.prototype.toString.call(t)).call(r,8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return d(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function st(t,e){var r=i(t);if(o){var n=o(t);e&&(n=a(n).call(n,(function(e){return s(t,e).enumerable}))),r.push.apply(r,n)}return r}function ut(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?u(r=st(Object(i),!0)).call(r,(function(e){(0,M.default)(t,e,i[e])})):l?h(t,l(i)):u(n=st(Object(i))).call(n,(function(e){c(t,e,s(i,e))}))}return t}var lt=r(75658).v4,ht={},ct=0,ft=!U.default.get("IS_NODE");function dt(){var t=U.default.get("SERVER_URL");"/"!==t[t.length-1]&&(t+="/");var e=t.replace(/https?:\/\//,"");return e.substr((0,S.default)(e).call(e,"/"))}ft?U.default.setObjectStateController(Q):U.default.setObjectStateController(et);var pt=function(){function t(e,r,n){(0,x.default)(this,t),(0,M.default)(this,"id",void 0),(0,M.default)(this,"_localId",void 0),(0,M.default)(this,"_objCount",void 0),(0,M.default)(this,"className",void 0),"function"===typeof this.initialize&&this.initialize.apply(this,arguments);var i=null;if(this._objCount=ct++,"string"===typeof e)this.className=e,r&&"object"===(0,w.default)(r)&&(i=r);else if(e&&"object"===(0,w.default)(e)){for(var o in this.className=e.className,i={},e)"className"!==o&&(i[o]=e[o]);r&&"object"===(0,w.default)(r)&&(n=r)}if(i&&!this.set(i,n))throw new Error("Can't create an invalid Parse Object")}return(0,E.default)(t,[{key:"attributes",get:function(){var t=U.default.getObjectStateController();return(0,A.default)(t.estimateAttributes(this._getStateIdentifier()))}},{key:"createdAt",get:function(){return this._getServerData().createdAt}},{key:"updatedAt",get:function(){return this._getServerData().updatedAt}},{key:"_getId",value:function(){if("string"===typeof this.id)return this.id;if("string"===typeof this._localId)return this._localId;var t="local".concat(lt());return this._localId=t,t}},{key:"_getStateIdentifier",value:function(){if(ft){var t=this.id;return t||(t=this._getId()),{id:t,className:this.className}}return this}},{key:"_getServerData",value:function(){return U.default.getObjectStateController().getServerData(this._getStateIdentifier())}},{key:"_clearServerData",value:function(){var t=this._getServerData(),e={};for(var r in t)e[r]=void 0;U.default.getObjectStateController().setServerData(this._getStateIdentifier(),e)}},{key:"_getPendingOps",value:function(){return U.default.getObjectStateController().getPendingOps(this._getStateIdentifier())}},{key:"_clearPendingOps",value:function(t){var e=this._getPendingOps(),r=e[e.length-1],n=t||(0,k.default)(r);(0,T.default)(n).call(n,(function(t){delete r[t]}))}},{key:"_getDirtyObjectAttributes",value:function(){var e=this.attributes,r=U.default.getObjectStateController().getObjectCache(this._getStateIdentifier()),n={};for(var i in e){var o=e[i];if(o&&"object"===(0,w.default)(o)&&!(o instanceof t)&&!(o instanceof X.default)&&!(o instanceof $.default))try{var a=(0,z.default)(o,!1,!0),s=(0,R.default)(a);r[i]!==s&&(n[i]=o)}catch(u){n[i]=o}}return n}},{key:"_toFullJSON",value:function(t,e){var r=this.toJSON(t,e);return r.__type="Object",r.className=this.className,r}},{key:"_getSaveJSON",value:function(){var t=this._getPendingOps(),e=this._getDirtyObjectAttributes(),r={};for(var n in e){for(var i=!1,o=0;o<t.length;o+=1)for(var a in t[o]){if((0,P.default)(a).call(a,"."))if(a.split(".")[0]===n){i=!0;break}}i||(r[n]=new Y.SetOp(e[n]).toJSON())}for(n in t[0])r[n]=t[0][n].toJSON();return r}},{key:"_getSaveParams",value:function(){var t=this.id?"PUT":"POST",e=this._getSaveJSON(),r="classes/".concat(this.className);return this.id?r+="/".concat(this.id):"_User"===this.className&&(r="users"),{method:t,body:e,path:r}}},{key:"_finishFetch",value:function(t){!this.id&&t.objectId&&(this.id=t.objectId);var e=U.default.getObjectStateController();e.initializeState(this._getStateIdentifier());var r={};for(var n in t)"ACL"===n?r[n]=new V.default(t[n]):"objectId"!==n&&(r[n]=(0,j.default)(t[n]),r[n]instanceof $.default&&r[n]._ensureParentAndKey(this,n));r.createdAt&&"string"===typeof r.createdAt&&(r.createdAt=(0,W.default)(r.createdAt)),r.updatedAt&&"string"===typeof r.updatedAt&&(r.updatedAt=(0,W.default)(r.updatedAt)),!r.updatedAt&&r.createdAt&&(r.updatedAt=r.createdAt),e.commitServerChanges(this._getStateIdentifier(),r)}},{key:"_setExisted",value:function(t){var e=U.default.getObjectStateController().getState(this._getStateIdentifier());e&&(e.existed=t)}},{key:"_migrateId",value:function(t){if(this._localId&&t)if(ft){var e=U.default.getObjectStateController(),r=e.removeState(this._getStateIdentifier());this.id=t,delete this._localId,r&&e.initializeState(this._getStateIdentifier(),r)}else this.id=t,delete this._localId}},{key:"_handleSaveResponse",value:function(t,e){var r={},n=U.default.getObjectStateController(),i=n.popPendingState(this._getStateIdentifier());for(var o in i)i[o]instanceof Y.RelationOp?r[o]=i[o].applyTo(void 0,this,o):o in t||(0,P.default)(o).call(o,".")||(r[o]=i[o].applyTo(void 0));for(o in t)if("createdAt"!==o&&"updatedAt"!==o||"string"!==typeof t[o]){if("ACL"===o)r[o]=new V.default(t[o]);else if("objectId"!==o){var a=(0,j.default)(t[o]);a&&(0,I.default)(a)===Object.prototype?r[o]=ut(ut({},this.attributes[o]),a):r[o]=a,r[o]instanceof Y.UnsetOp&&(r[o]=void 0)}}else r[o]=(0,W.default)(t[o]);r.createdAt&&!r.updatedAt&&(r.updatedAt=r.createdAt),this._migrateId(t.objectId),201!==e&&this._setExisted(!0),n.commitServerChanges(this._getStateIdentifier(),r)}},{key:"_handleSaveError",value:function(){U.default.getObjectStateController().mergeFirstPendingState(this._getStateIdentifier())}},{key:"initialize",value:function(){}},{key:"toJSON",value:function(t,e){var r,n=this.id?(0,N.default)(r="".concat(this.className,":")).call(r,this.id):this;t=t||[n];var i={},o=this.attributes;for(var a in o)"createdAt"!==a&&"updatedAt"!==a||!o[a].toJSON?i[a]=(0,z.default)(o[a],!1,!1,t,e):i[a]=o[a].toJSON();var s=this._getPendingOps();for(var u in s[0])i[u]=s[0][u].toJSON(e);return this.id&&(i.objectId=this.id),i}},{key:"equals",value:function(e){return this===e||e instanceof t&&this.className===e.className&&this.id===e.id&&"undefined"!==typeof this.id}},{key:"dirty",value:function(t){if(!this.id)return!0;var e=this._getPendingOps(),r=this._getDirtyObjectAttributes();if(t){if(r.hasOwnProperty(t))return!0;for(var n=0;n<e.length;n++)if(e[n].hasOwnProperty(t))return!0;return!1}return 0!==(0,k.default)(e[0]).length||0!==(0,k.default)(r).length}},{key:"dirtyKeys",value:function(){for(var t=this._getPendingOps(),e={},r=0;r<t.length;r++)for(var n in t[r])e[n]=!0;var i=this._getDirtyObjectAttributes();for(var o in i)e[o]=!0;return(0,k.default)(e)}},{key:"isDataAvailable",value:function(){var t=this._getServerData();return!!(0,k.default)(t).length}},{key:"toPointer",value:function(){if(!this.id)throw new Error("Cannot create a pointer to an unsaved ParseObject");return{__type:"Pointer",className:this.className,objectId:this.id}}},{key:"toOfflinePointer",value:function(){if(!this._localId)throw new Error("Cannot create a offline pointer to a saved ParseObject");return{__type:"Object",className:this.className,_localId:this._localId}}},{key:"get",value:function(t){return this.attributes[t]}},{key:"relation",value:function(t){var e=this.get(t);if(e){if(!(e instanceof $.default))throw new Error("Called relation() on non-relation field ".concat(t));return e._ensureParentAndKey(this,t),e}return new $.default(this,t)}},{key:"escape",value:function(t){var e=this.attributes[t];if(null==e)return"";if("string"!==typeof e){if("function"!==typeof e.toString)return"";e=e.toString()}return(0,H.default)(e)}},{key:"has",value:function(t){var e=this.attributes;return!!e.hasOwnProperty(t)&&null!=e[t]}},{key:"set",value:function(t,e,r){var n={},i={};if(t&&"object"===(0,w.default)(t))n=t,r=e;else{if("string"!==typeof t)return this;n[t]=e}r=r||{};var o=[];for(var a in"function"===typeof this.constructor.readOnlyAttributes&&(o=(0,N.default)(o).call(o,this.constructor.readOnlyAttributes())),n)if("createdAt"!==a&&"updatedAt"!==a){if((0,S.default)(o).call(o,a)>-1)throw new Error("Cannot modify readonly attribute: ".concat(a));if(r.unset)i[a]=new Y.UnsetOp;else if(n[a]instanceof Y.Op)i[a]=n[a];else if(n[a]&&"object"===(0,w.default)(n[a])&&"string"===typeof n[a].__op)i[a]=(0,Y.opFromJSON)(n[a]);else if("objectId"===a||"id"===a)"string"===typeof n[a]&&(this.id=n[a]);else if("ACL"!==a||"object"!==(0,w.default)(n[a])||n[a]instanceof V.default)if(n[a]instanceof $.default){var s=new $.default(this,a);s.targetClassName=n[a].targetClassName,i[a]=new Y.SetOp(s)}else i[a]=new Y.SetOp(n[a]);else i[a]=new Y.SetOp(new V.default(n[a]))}var u=this.attributes,l=this._getServerData();if("string"===typeof t&&(0,P.default)(t).call(t,".")&&!l[t.split(".")[0]])return this;var h={};for(var c in i)i[c]instanceof Y.RelationOp?h[c]=i[c].applyTo(u[c],this,c):i[c]instanceof Y.UnsetOp||(h[c]=i[c].applyTo(u[c]));if(!r.ignoreValidation){var f=this.validate(h);if(f)return"function"===typeof r.error&&r.error(this,f),!1}var d=this._getPendingOps(),p=d.length-1,v=U.default.getObjectStateController();for(var m in i){var g=i[m].mergeWith(d[p][m]);v.setPendingOp(this._getStateIdentifier(),m,g)}return this}},{key:"unset",value:function(t,e){return(e=e||{}).unset=!0,this.set(t,null,e)}},{key:"increment",value:function(t,e){if("undefined"===typeof e&&(e=1),"number"!==typeof e)throw new Error("Cannot increment by a non-numeric amount.");return this.set(t,new Y.IncrementOp(e))}},{key:"decrement",value:function(t,e){if("undefined"===typeof e&&(e=1),"number"!==typeof e)throw new Error("Cannot decrement by a non-numeric amount.");return this.set(t,new Y.IncrementOp(-1*e))}},{key:"add",value:function(t,e){return this.set(t,new Y.AddOp([e]))}},{key:"addAll",value:function(t,e){return this.set(t,new Y.AddOp(e))}},{key:"addUnique",value:function(t,e){return this.set(t,new Y.AddUniqueOp([e]))}},{key:"addAllUnique",value:function(t,e){return this.set(t,new Y.AddUniqueOp(e))}},{key:"remove",value:function(t,e){return this.set(t,new Y.RemoveOp([e]))}},{key:"removeAll",value:function(t,e){return this.set(t,new Y.RemoveOp(e))}},{key:"op",value:function(t){for(var e=this._getPendingOps(),r=e.length;r--;)if(e[r][t])return e[r][t]}},{key:"clone",value:function(){var t=new this.constructor;t.className||(t.className=this.className);var e=this.attributes;if("function"===typeof this.constructor.readOnlyAttributes){var r=this.constructor.readOnlyAttributes()||[],n={};for(var i in e)(0,S.default)(r).call(r,i)<0&&(n[i]=e[i]);e=n}return t.set&&t.set(e),t}},{key:"newInstance",value:function(){var t=new this.constructor;if(t.className||(t.className=this.className),t.id=this.id,ft)return t;var e=U.default.getObjectStateController();return e&&e.duplicateState(this._getStateIdentifier(),t._getStateIdentifier()),t}},{key:"isNew",value:function(){return!this.id}},{key:"existed",value:function(){if(!this.id)return!1;var t=U.default.getObjectStateController().getState(this._getStateIdentifier());return!!t&&t.existed}},{key:"exists",value:function(){var t=(0,_.default)(b.default.mark((function t(e){var r;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.id){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,r=new J.default(this.className),t.next=6,r.get(this.id,e);case 6:return t.abrupt("return",!0);case 9:if(t.prev=9,t.t0=t.catch(2),t.t0.code!==q.default.OBJECT_NOT_FOUND){t.next=13;break}return t.abrupt("return",!1);case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,this,[[2,9]])})));return function(){return t.apply(this,arguments)}}()},{key:"isValid",value:function(){return!this.validate(this.attributes)}},{key:"validate",value:function(t){if(t.hasOwnProperty("ACL")&&!(t.ACL instanceof V.default))return new q.default(q.default.OTHER_CAUSE,"ACL must be a Parse ACL.");for(var e in t)if(!/^[A-Za-z][0-9A-Za-z_.]*$/.test(e))return new q.default(q.default.INVALID_KEY_NAME);return!1}},{key:"getACL",value:function(){var t=this.get("ACL");return t instanceof V.default?t:null}},{key:"setACL",value:function(t,e){return this.set("ACL",t,e)}},{key:"revert",value:function(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length){t=[];var i,o=ot(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("string"!==typeof a)throw new Error("Parse.Object#revert expects either no, or a list of string, arguments.");t.push(a)}}catch(s){o.e(s)}finally{o.f()}}this._clearPendingOps(t)}},{key:"clear",value:function(){var t=this.attributes,e={},r=["createdAt","updatedAt"];for(var n in"function"===typeof this.constructor.readOnlyAttributes&&(r=(0,N.default)(r).call(r,this.constructor.readOnlyAttributes())),t)(0,S.default)(r).call(r,n)<0&&(e[n]=!0);return this.set(e,{unset:!0})}},{key:"fetch",value:function(t){var e,r={};((t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("context")&&"object"===(0,w.default)(t.context)&&(r.context=t.context),t.hasOwnProperty("include"))&&(r.include=[],(0,O.default)(t.include)?(0,T.default)(e=t.include).call(e,(function(t){var e;(0,O.default)(t)?r.include=(0,N.default)(e=r.include).call(e,t):r.include.push(t)})):r.include.push(t.include));return U.default.getObjectController().fetch(this,!0,r)}},{key:"fetchWithInclude",value:function(t,e){return(e=e||{}).include=t,this.fetch(e)}},{key:"save",value:function(t,e,r){var n,i,o=this;if("object"===(0,w.default)(t)||"undefined"===typeof t?(n=t,"object"===(0,w.default)(e)&&(i=e)):((n={})[t]=e,i=r),n){var a=this.validate(n);if(a)return C.default.reject(a);this.set(n,i)}var s={};(i=i||{}).hasOwnProperty("useMasterKey")&&(s.useMasterKey=!!i.useMasterKey),i.hasOwnProperty("sessionToken")&&"string"===typeof i.sessionToken&&(s.sessionToken=i.sessionToken),i.hasOwnProperty("installationId")&&"string"===typeof i.installationId&&(s.installationId=i.installationId),i.hasOwnProperty("context")&&"object"===(0,w.default)(i.context)&&(s.context=i.context);var u=U.default.getObjectController(),l=!1!==i.cascadeSave?(0,rt.default)(this):null;return u.save(l,s).then((function(){return u.save(o,s)}))}},{key:"destroy",value:function(t){var e={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(e.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(e.sessionToken=t.sessionToken),t.hasOwnProperty("context")&&"object"===(0,w.default)(t.context)&&(e.context=t.context),this.id?U.default.getObjectController().destroy(this,e):C.default.resolve()}},{key:"pin",value:function(){return t.pinAllWithName(K.DEFAULT_PIN,[this])}},{key:"unPin",value:function(){return t.unPinAllWithName(K.DEFAULT_PIN,[this])}},{key:"isPinned",value:function(){var t=(0,_.default)(b.default.mark((function t(){var e,r,n;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=U.default.getLocalDatastore()).isEnabled){t.next=3;break}return t.abrupt("return",C.default.reject("Parse.enableLocalDatastore() must be called first"));case 3:return r=e.getKeyForObject(this),t.next=6,e.fromPinWithName(r);case 6:return n=t.sent,t.abrupt("return",n.length>0);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"pinWithName",value:function(e){return t.pinAllWithName(e,[this])}},{key:"unPinWithName",value:function(e){return t.unPinAllWithName(e,[this])}},{key:"fetchFromLocalDatastore",value:function(){var e=(0,_.default)(b.default.mark((function e(){var r,n,i,o;return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=U.default.getLocalDatastore()).isEnabled){e.next=3;break}throw new Error("Parse.enableLocalDatastore() must be called first");case 3:return n=r.getKeyForObject(this),e.next=6,r._serializeObject(n);case 6:if(i=e.sent){e.next=9;break}throw new Error("Cannot fetch an unsaved ParseObject");case 9:return o=t.fromJSON(i),this._finishFetch(o.toJSON()),e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"_clearAllState",value:function(){U.default.getObjectStateController().clearAllState()}},{key:"fetchAll",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return r.hasOwnProperty("useMasterKey")&&(n.useMasterKey=r.useMasterKey),r.hasOwnProperty("sessionToken")&&(n.sessionToken=r.sessionToken),r.hasOwnProperty("include")&&(n.include=t.handleIncludeOptions(r)),U.default.getObjectController().fetch(e,!0,n)}},{key:"fetchAllWithInclude",value:function(e,r,n){return(n=n||{}).include=r,t.fetchAll(e,n)}},{key:"fetchAllIfNeededWithInclude",value:function(e,r,n){return(n=n||{}).include=r,t.fetchAllIfNeeded(e,n)}},{key:"fetchAllIfNeeded",value:function(e,r){var n={};return(r=r||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=r.useMasterKey),r.hasOwnProperty("sessionToken")&&(n.sessionToken=r.sessionToken),r.hasOwnProperty("include")&&(n.include=t.handleIncludeOptions(r)),U.default.getObjectController().fetch(e,!1,n)}},{key:"handleIncludeOptions",value:function(t){var e,r=[];(0,O.default)(t.include)?(0,T.default)(e=t.include).call(e,(function(t){(0,O.default)(t)?r=(0,N.default)(r).call(r,t):r.push(t)})):r.push(t.include);return r}},{key:"destroyAll",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken),e.hasOwnProperty("batchSize")&&"number"===typeof e.batchSize&&(r.batchSize=e.batchSize),e.hasOwnProperty("context")&&"object"===(0,w.default)(e.context)&&(r.context=e.context),U.default.getObjectController().destroy(t,r)}},{key:"saveAll",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken),e.hasOwnProperty("batchSize")&&"number"===typeof e.batchSize&&(r.batchSize=e.batchSize),e.hasOwnProperty("context")&&"object"===(0,w.default)(e.context)&&(r.context=e.context),U.default.getObjectController().save(t,r)}},{key:"createWithoutData",value:function(t){var e=new this;return e.id=t,e}},{key:"fromJSON",value:function(e,r){if(!e.className)throw new Error("Cannot create an object without a className");var n=ht[e.className],i=n?new n:new t(e.className),o={};for(var a in e)"className"!==a&&"__type"!==a&&(o[a]=e[a]);if(r){o.objectId&&(i.id=o.objectId);var s=null;"function"===typeof i._preserveFieldsOnFetch&&(s=i._preserveFieldsOnFetch()),i._clearServerData(),s&&i._finishFetch(s)}return i._finishFetch(o),e.objectId&&i._setExisted(!0),i}},{key:"registerSubclass",value:function(t,e){if("string"!==typeof t)throw new TypeError("The first argument must be a valid class name.");if("undefined"===typeof e)throw new TypeError("You must supply a subclass constructor.");if("function"!==typeof e)throw new TypeError("You must register the subclass constructor. Did you attempt to register an instance of the subclass?");ht[t]=e,e.className||(e.className=t)}},{key:"extend",value:function(e,r,n){if("string"!==typeof e){if(e&&"string"===typeof e.className)return t.extend(e.className,e,r);throw new Error("Parse.Object.extend's first argument should be the className.")}var i=e;"User"===i&&U.default.get("PERFORM_USER_REWRITE")&&(i="_User");var o=t.prototype;this.hasOwnProperty("__super__")&&this.__super__?o=this.prototype:ht[i]&&(o=ht[i].prototype);var a=function(t,e){if(this.className=i,this._objCount=ct++,"function"===typeof this.initialize&&this.initialize.apply(this,arguments),t&&"object"===(0,w.default)(t)&&!this.set(t||{},e))throw new Error("Can't create an invalid Parse Object")};if(a.className=i,a.__super__=o,a.prototype=(0,D.default)(o,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r)for(var s in r)"className"!==s&&(0,L.default)(a.prototype,s,{value:r[s],enumerable:!1,writable:!0,configurable:!0});if(n)for(var u in n)"className"!==u&&(0,L.default)(a,u,{value:n[u],enumerable:!1,writable:!0,configurable:!0});return a.extend=function(e,r,n){return"string"===typeof e?t.extend.call(a,e,r,n):t.extend.call(a,i,e,r)},a.createWithoutData=t.createWithoutData,ht[i]=a,a}},{key:"enableSingleInstance",value:function(){ft=!0,U.default.setObjectStateController(Q)}},{key:"disableSingleInstance",value:function(){ft=!1,U.default.setObjectStateController(et)}},{key:"pinAll",value:function(e){return U.default.getLocalDatastore().isEnabled?t.pinAllWithName(K.DEFAULT_PIN,e):C.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"pinAllWithName",value:function(t,e){var r=U.default.getLocalDatastore();return r.isEnabled?r._handlePinAllWithName(t,e):C.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAll",value:function(e){return U.default.getLocalDatastore().isEnabled?t.unPinAllWithName(K.DEFAULT_PIN,e):C.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllWithName",value:function(t,e){var r=U.default.getLocalDatastore();return r.isEnabled?r._handleUnPinAllWithName(t,e):C.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllObjects",value:function(){var t=U.default.getLocalDatastore();return t.isEnabled?t.unPinWithName(K.DEFAULT_PIN):C.default.reject("Parse.enableLocalDatastore() must be called first")}},{key:"unPinAllObjectsWithName",value:function(t){var e=U.default.getLocalDatastore();return e.isEnabled?e.unPinWithName(K.PIN_PREFIX+t):C.default.reject("Parse.enableLocalDatastore() must be called first")}}]),t}(),vt={fetch:function(t,e,r){var n=U.default.getLocalDatastore();if((0,O.default)(t)){if(t.length<1)return C.default.resolve([]);var i=[],o=[],a=null,s=[],u=null;if((0,T.default)(t).call(t,(function(t){u||(a||(a=t.className),a!==t.className&&(u=new q.default(q.default.INVALID_CLASS_NAME,"All objects should be of the same class")),t.id||(u=new q.default(q.default.MISSING_OBJECT_ID,"All objects must have an ID")),!e&&t.isDataAvailable()||(o.push(t.id),i.push(t)),s.push(t))})),u)return C.default.reject(u);var l=new J.default(a);return l.containedIn("objectId",o),r&&r.include&&l.include(r.include),l._limit=o.length,(0,F.default)(l).call(l,r).then(function(){var t=(0,_.default)(b.default.mark((function t(r){var o,a,u,l,h,c,f,d,p;return b.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o={},(0,T.default)(r).call(r,(function(t){o[t.id]=t})),a=0;case 3:if(!(a<i.length)){t.next=11;break}if((u=i[a])&&u.id&&o[u.id]){t.next=8;break}if(!e){t.next=8;break}return t.abrupt("return",C.default.reject(new q.default(q.default.OBJECT_NOT_FOUND,"All objects must exist on the server.")));case 8:a++,t.next=3;break;case 11:if(!ft)for(l=0;l<s.length;l++)(h=s[l])&&h.id&&o[h.id]&&(c=h.id,h._finishFetch(o[c].toJSON()),s[l]=o[c]);f=ot(s),t.prev=13,f.s();case 15:if((d=f.n()).done){t.next=21;break}return p=d.value,t.next=19,n._updateObjectIfPinned(p);case 19:t.next=15;break;case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(13),f.e(t.t0);case 26:return t.prev=26,f.f(),t.finish(26);case 29:return t.abrupt("return",C.default.resolve(s));case 30:case"end":return t.stop()}}),t,null,[[13,23,26,29]])})));return function(){return t.apply(this,arguments)}}())}if(t instanceof pt){var h;if(!t.id)return C.default.reject(new q.default(q.default.MISSING_OBJECT_ID,"Object does not have an ID"));var c=U.default.getRESTController(),f={};return r&&r.include&&(f.include=r.include.join()),c.request("GET",(0,N.default)(h="classes/".concat(t.className,"/")).call(h,t._getId()),f,r).then(function(){var e=(0,_.default)(b.default.mark((function e(r){return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._clearPendingOps(),t._clearServerData(),t._finishFetch(r),e.next=5,n._updateObjectIfPinned(t);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())}return C.default.resolve()},destroy:function(t,e){return(0,_.default)(b.default.mark((function r(){var n,i,o,a,s,u,l;return b.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e&&e.batchSize?e.batchSize:U.default.get("REQUEST_BATCH_SIZE"),i=U.default.getLocalDatastore(),o=U.default.getRESTController(),!(0,O.default)(t)){r.next=13;break}if(!(t.length<1)){r.next=6;break}return r.abrupt("return",C.default.resolve([]));case 6:return a=[[]],(0,T.default)(t).call(t,(function(t){t.id&&(a[a.length-1].push(t),a[a.length-1].length>=n&&a.push([]))})),0===a[a.length-1].length&&a.pop(),s=C.default.resolve(),u=[],(0,T.default)(a).call(a,(function(t){s=s.then((function(){return o.request("POST","batch",{requests:(0,B.default)(t).call(t,(function(t){var e,r;return{method:"DELETE",path:(0,N.default)(e=(0,N.default)(r="".concat(dt(),"classes/")).call(r,t.className,"/")).call(e,t._getId()),body:{}}}))},e).then((function(e){for(var r=0;r<e.length;r++)if(e[r]&&e[r].hasOwnProperty("error")){var n=new q.default(e[r].error.code,e[r].error.error);n.object=t[r],u.push(n)}}))}))})),r.abrupt("return",s.then((0,_.default)(b.default.mark((function e(){var r,n,o,a;return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.length){e.next=4;break}return(r=new q.default(q.default.AGGREGATE_ERROR)).errors=u,e.abrupt("return",C.default.reject(r));case 4:n=ot(t),e.prev=5,n.s();case 7:if((o=n.n()).done){e.next=13;break}return a=o.value,e.next=11,i._destroyObjectIfPinned(a);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return e.abrupt("return",C.default.resolve(t));case 22:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})))));case 13:if(!(t instanceof pt)){r.next=15;break}return r.abrupt("return",o.request("DELETE",(0,N.default)(l="classes/".concat(t.className,"/")).call(l,t._getId()),{},e).then((0,_.default)(b.default.mark((function e(){return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._destroyObjectIfPinned(t);case 2:return e.abrupt("return",C.default.resolve(t));case 3:case"end":return e.stop()}}),e)})))));case 15:return r.abrupt("return",C.default.resolve(t));case 16:case"end":return r.stop()}}),r)})))()},save:function(t,e){var r=e&&e.batchSize?e.batchSize:U.default.get("REQUEST_BATCH_SIZE"),n=U.default.getLocalDatastore(),i={},o=U.default.getRESTController(),a=U.default.getObjectStateController();if((e=e||{}).returnStatus=e.returnStatus||!0,(0,O.default)(t)){if(t.length<1)return C.default.resolve([]);for(var s=(0,N.default)(t).call(t),u=0;u<t.length;u++)t[u]instanceof pt&&(s=(0,N.default)(s).call(s,(0,rt.default)(t[u],!0)));s=(0,tt.default)(s);var l=[],h=[];return(0,T.default)(s).call(s,(function(t){t instanceof X.default?l.push(t.save(e)):t instanceof pt&&h.push(t)})),C.default.all(l).then((function(){var s=null;return(0,Z.continueWhile)((function(){return h.length>0}),(function(){var t=[],n=[];if((0,T.default)(h).call(h,(function(e){t.length<r&&(0,G.default)(e)?t.push(e):n.push(e)})),h=n,t.length<1)return C.default.reject(new q.default(q.default.OTHER_CAUSE,"Tried to save a batch with a cycle."));var u=new Z.resolvingPromise,l=[],c=[];return(0,T.default)(t).call(t,(function(t,e){var r=new Z.resolvingPromise;l.push(r),a.pushPendingState(t._getStateIdentifier()),c.push(a.enqueueTask(t._getStateIdentifier(),(function(){return r.resolve(),u.then((function(r){if(r[e].hasOwnProperty("success")){var n=r[e].success.objectId,o=r[e]._status;delete r[e]._status,i[n]=t._localId,t._handleSaveResponse(r[e].success,o)}else{if(!s&&r[e].hasOwnProperty("error")){var a=r[e].error;s=new q.default(a.code,a.error),h=[]}t._handleSaveError()}}))})))})),(0,Z.when)(l).then((function(){return o.request("POST","batch",{requests:(0,B.default)(t).call(t,(function(t){var e=t._getSaveParams();return e.path=dt()+e.path,e}))},e)})).then(u.resolve,(function(t){u.reject(new q.default(q.default.INCORRECT_TYPE,t.message))})),(0,Z.when)(c)})).then((0,_.default)(b.default.mark((function e(){var r,o,a;return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return",C.default.reject(s));case 2:r=ot(t),e.prev=3,r.s();case 5:if((o=r.n()).done){e.next=13;break}return a=o.value,e.next=9,n._updateLocalIdForObject(i[a.id],a);case 9:return e.next=11,n._updateObjectIfPinned(a);case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",C.default.resolve(t));case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])}))))}))}if(t instanceof pt){t._getId();var c=t._localId,f=t;return a.pushPendingState(t._getStateIdentifier()),a.enqueueTask(t._getStateIdentifier(),(function(){var t=f._getSaveParams();return o.request(t.method,t.path,t.body,e).then((function(t){var e=t._status;delete t._status,f._handleSaveResponse(t,e)}),(function(t){return f._handleSaveError(),C.default.reject(t)}))})).then((0,_.default)(b.default.mark((function e(){return b.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._updateLocalIdForObject(c,t);case 2:return e.next=4,n._updateObjectIfPinned(t);case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),(function(t){return C.default.reject(t)}))}return C.default.resolve()}};U.default.setObjectController(vt);var mt=pt;e.default=mt},45717:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.UnsetOp=e.SetOp=e.RemoveOp=e.RelationOp=e.Op=e.IncrementOp=e.AddUniqueOp=e.AddOp=void 0,e.opFromJSON=function(t){if(!t||!t.__op)return null;switch(t.__op){case"Delete":return new T;case"Increment":return new R(t.amount);case"Add":return new P((0,_.default)(t.objects));case"AddUnique":return new I((0,_.default)(t.objects));case"Remove":return new N((0,_.default)(t.objects));case"AddRelation":var e=(0,_.default)(t.objects);return(0,d.default)(e)?new O(e,[]):new O([],[]);case"RemoveRelation":var r=(0,_.default)(t.objects);return(0,d.default)(r)?new O([],r):new O([],[]);case"Batch":for(var n=[],i=[],o=0;o<t.ops.length;o++)"AddRelation"===t.ops[o].__op?n=(0,p.default)(n).call(n,(0,_.default)(t.ops[o].objects)):"RemoveRelation"===t.ops[o].__op&&(i=(0,p.default)(i).call(i,(0,_.default)(t.ops[o].objects)));return new O(n,i);default:return null}};var a=o(r(5824)),s=o(r(51379)),u=o(r(214)),l=o(r(66380)),h=o(r(87672)),c=o(r(26394)),f=o(r(69198)),d=o(r(41511)),p=o(r(77766)),v=o(r(78914)),m=o(r(81643)),g=o(r(92762)),y=o(r(2991)),b=o(r(35540)),_=o(r(50569)),w=o(r(16962)),x=o(r(71149)),E=o(r(28697)),M=o(r(17398));function S(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,l.default)(t);if(e){var o=(0,l.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,u.default)(this,r)}}var A=function(){function t(){(0,c.default)(this,t)}return(0,f.default)(t,[{key:"applyTo",value:function(){}},{key:"mergeWith",value:function(){}},{key:"toJSON",value:function(){}}]),t}();e.Op=A;var k=function(t){(0,s.default)(r,t);var e=S(r);function r(t){var n;return(0,c.default)(this,r),n=e.call(this),(0,h.default)((0,a.default)(n),"_value",void 0),n._value=t,n}return(0,f.default)(r,[{key:"applyTo",value:function(){return this._value}},{key:"mergeWith",value:function(){return new r(this._value)}},{key:"toJSON",value:function(t){return(0,w.default)(this._value,!1,!0,void 0,t)}}]),r}(A);e.SetOp=k;var T=function(t){(0,s.default)(r,t);var e=S(r);function r(){return(0,c.default)(this,r),e.apply(this,arguments)}return(0,f.default)(r,[{key:"applyTo",value:function(){}},{key:"mergeWith",value:function(){return new r}},{key:"toJSON",value:function(){return{__op:"Delete"}}}]),r}(A);e.UnsetOp=T;var R=function(t){(0,s.default)(r,t);var e=S(r);function r(t){var n;if((0,c.default)(this,r),n=e.call(this),(0,h.default)((0,a.default)(n),"_amount",void 0),"number"!==typeof t)throw new TypeError("Increment Op must be initialized with a numeric amount.");return n._amount=t,n}return(0,f.default)(r,[{key:"applyTo",value:function(t){if("undefined"===typeof t)return this._amount;if("number"!==typeof t)throw new TypeError("Cannot increment a non-numeric value.");return this._amount+t}},{key:"mergeWith",value:function(t){if(!t)return this;if(t instanceof k)return new k(this.applyTo(t._value));if(t instanceof T)return new k(this._amount);if(t instanceof r)return new r(this.applyTo(t._amount));throw new Error("Cannot merge Increment Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Increment",amount:this._amount}}}]),r}(A);e.IncrementOp=R;var P=function(t){(0,s.default)(r,t);var e=S(r);function r(t){var n;return(0,c.default)(this,r),n=e.call(this),(0,h.default)((0,a.default)(n),"_value",void 0),n._value=(0,d.default)(t)?t:[t],n}return(0,f.default)(r,[{key:"applyTo",value:function(t){if(null==t)return this._value;if((0,d.default)(t))return(0,p.default)(t).call(t,this._value);throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(t){if(!t)return this;if(t instanceof k)return new k(this.applyTo(t._value));if(t instanceof T)return new k(this._value);if(t instanceof r)return new r(this.applyTo(t._value));throw new Error("Cannot merge Add Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Add",objects:(0,w.default)(this._value,!1,!0)}}}]),r}(A);e.AddOp=P;var I=function(t){(0,s.default)(r,t);var e=S(r);function r(t){var n;return(0,c.default)(this,r),n=e.call(this),(0,h.default)((0,a.default)(n),"_value",void 0),n._value=(0,M.default)((0,d.default)(t)?t:[t]),n}return(0,f.default)(r,[{key:"applyTo",value:function(t){if(null==t)return this._value||[];if((0,d.default)(t)){var e,r=[];return(0,v.default)(e=this._value).call(e,(function(e){e instanceof x.default?(0,b.default)(t,e)||r.push(e):(0,m.default)(t).call(t,e)<0&&r.push(e)})),(0,p.default)(t).call(t,r)}throw new Error("Cannot add elements to a non-array value")}},{key:"mergeWith",value:function(t){if(!t)return this;if(t instanceof k)return new k(this.applyTo(t._value));if(t instanceof T)return new k(this._value);if(t instanceof r)return new r(this.applyTo(t._value));throw new Error("Cannot merge AddUnique Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"AddUnique",objects:(0,w.default)(this._value,!1,!0)}}}]),r}(A);e.AddUniqueOp=I;var N=function(t){(0,s.default)(r,t);var e=S(r);function r(t){var n;return(0,c.default)(this,r),n=e.call(this),(0,h.default)((0,a.default)(n),"_value",void 0),n._value=(0,M.default)((0,d.default)(t)?t:[t]),n}return(0,f.default)(r,[{key:"applyTo",value:function(t){if(null==t)return[];if((0,d.default)(t)){for(var e=(0,p.default)(t).call(t,[]),r=0;r<this._value.length;r++){for(var n=(0,m.default)(e).call(e,this._value[r]);n>-1;)(0,g.default)(e).call(e,n,1),n=(0,m.default)(e).call(e,this._value[r]);if(this._value[r]instanceof x.default&&this._value[r].id)for(var i=0;i<e.length;i++)e[i]instanceof x.default&&this._value[r].id===e[i].id&&((0,g.default)(e).call(e,i,1),i--)}return e}throw new Error("Cannot remove elements from a non-array value")}},{key:"mergeWith",value:function(t){if(!t)return this;if(t instanceof k)return new k(this.applyTo(t._value));if(t instanceof T)return new T;if(t instanceof r){for(var e,n=(0,p.default)(e=t._value).call(e,[]),i=0;i<this._value.length;i++)this._value[i]instanceof x.default?(0,b.default)(n,this._value[i])||n.push(this._value[i]):(0,m.default)(n).call(n,this._value[i])<0&&n.push(this._value[i]);return new r(n)}throw new Error("Cannot merge Remove Op with the previous Op")}},{key:"toJSON",value:function(){return{__op:"Remove",objects:(0,w.default)(this._value,!1,!0)}}}]),r}(A);e.RemoveOp=N;var O=function(t){(0,s.default)(r,t);var e=S(r);function r(t,n){var i;return(0,c.default)(this,r),i=e.call(this),(0,h.default)((0,a.default)(i),"_targetClassName",void 0),(0,h.default)((0,a.default)(i),"relationsToAdd",void 0),(0,h.default)((0,a.default)(i),"relationsToRemove",void 0),i._targetClassName=null,(0,d.default)(t)&&(i.relationsToAdd=(0,M.default)((0,y.default)(t).call(t,i._extractId,(0,a.default)(i)))),(0,d.default)(n)&&(i.relationsToRemove=(0,M.default)((0,y.default)(n).call(n,i._extractId,(0,a.default)(i)))),i}return(0,f.default)(r,[{key:"_extractId",value:function(t){if("string"===typeof t)return t;if(!t.id)throw new Error("You cannot add or remove an unsaved Parse Object from a relation");var e;if(this._targetClassName||(this._targetClassName=t.className),this._targetClassName!==t.className)throw new Error((0,p.default)(e="Tried to create a Relation with 2 different object types: ".concat(this._targetClassName," and ")).call(e,t.className,"."));return t.id}},{key:"applyTo",value:function(t,e,r){if(!t){var n;if(!e||!r)throw new Error("Cannot apply a RelationOp without either a previous value, or an object and a key");var i=new x.default(e.className);e.id&&0===(0,m.default)(n=e.id).call(n,"local")?i._localId=e.id:e.id&&(i.id=e.id);var o=new E.default(i,r);return o.targetClassName=this._targetClassName,o}if(t instanceof E.default){var a;if(this._targetClassName)if(t.targetClassName){if(this._targetClassName!==t.targetClassName)throw new Error((0,p.default)(a="Related object must be a ".concat(t.targetClassName,", but a ")).call(a,this._targetClassName," was passed in."))}else t.targetClassName=this._targetClassName;return t}throw new Error("Relation cannot be applied to a non-relation field")}},{key:"mergeWith",value:function(t){if(!t)return this;if(t instanceof T)throw new Error("You cannot modify a relation after deleting it.");if(t instanceof k&&t._value instanceof E.default)return this;if(t instanceof r){var e,n,i,o,a,s,u;if(t._targetClassName&&t._targetClassName!==this._targetClassName)throw new Error((0,p.default)(u="Related object must be of class ".concat(t._targetClassName,", but ")).call(u,this._targetClassName||"null"," was passed in."));var l=(0,p.default)(e=t.relationsToAdd).call(e,[]);(0,v.default)(n=this.relationsToRemove).call(n,(function(t){var e=(0,m.default)(l).call(l,t);e>-1&&(0,g.default)(l).call(l,e,1)})),(0,v.default)(i=this.relationsToAdd).call(i,(function(t){(0,m.default)(l).call(l,t)<0&&l.push(t)}));var h=(0,p.default)(o=t.relationsToRemove).call(o,[]);(0,v.default)(a=this.relationsToAdd).call(a,(function(t){var e=(0,m.default)(h).call(h,t);e>-1&&(0,g.default)(h).call(h,e,1)})),(0,v.default)(s=this.relationsToRemove).call(s,(function(t){(0,m.default)(h).call(h,t)<0&&h.push(t)}));var c=new r(l,h);return c._targetClassName=this._targetClassName,c}throw new Error("Cannot merge Relation Op with the previous Op")}},{key:"toJSON",value:function(){var t,e,r=this,n=function(t){return{__type:"Pointer",className:r._targetClassName,objectId:t}},i=null,o=null;this.relationsToAdd.length>0&&(i={__op:"AddRelation",objects:(0,y.default)(t=this.relationsToAdd).call(t,n)});this.relationsToRemove.length>0&&(o={__op:"RemoveRelation",objects:(0,y.default)(e=this.relationsToRemove).call(e,n)});return i&&o?{__op:"Batch",ops:[i,o]}:i||o||{}}}]),r}(A);e.RelationOp=O},20367:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(41511)),a=i(r(26394)),s=i(r(69198)),u=i(r(87672)),l=i(r(89679)),h=function(){function t(e){(0,a.default)(this,t),(0,u.default)(this,"_coordinates",void 0),this._coordinates=t._validate(e)}return(0,s.default)(t,[{key:"coordinates",get:function(){return this._coordinates},set:function(e){this._coordinates=t._validate(e)}},{key:"toJSON",value:function(){return t._validate(this._coordinates),{__type:"Polygon",coordinates:this._coordinates}}},{key:"equals",value:function(e){if(!(e instanceof t)||this.coordinates.length!==e.coordinates.length)return!1;for(var r=!0,n=1;n<this._coordinates.length;n+=1)if(this._coordinates[n][0]!==e.coordinates[n][0]||this._coordinates[n][1]!==e.coordinates[n][1]){r=!1;break}return r}},{key:"containsPoint",value:function(t){for(var e=this._coordinates[0][0],r=this._coordinates[0][0],n=this._coordinates[0][1],i=this._coordinates[0][1],o=1;o<this._coordinates.length;o+=1){var a=this._coordinates[o];e=Math.min(a[0],e),r=Math.max(a[0],r),n=Math.min(a[1],n),i=Math.max(a[1],i)}if(t.latitude<e||t.latitude>r||t.longitude<n||t.longitude>i)return!1;for(var s=!1,u=0,l=this._coordinates.length-1;u<this._coordinates.length;l=u++){var h=this._coordinates[u][0],c=this._coordinates[u][1],f=this._coordinates[l][0],d=this._coordinates[l][1];c>t.longitude!==d>t.longitude&&t.latitude<(f-h)*(t.longitude-c)/(d-c)+h&&(s=!s)}return s}}],[{key:"_validate",value:function(t){if(!(0,o.default)(t))throw new TypeError("Coordinates must be an Array");if(t.length<3)throw new TypeError("Polygon must have at least 3 GeoPoints or Points");for(var e=[],r=0;r<t.length;r+=1){var n=t[r],i=void 0;if(n instanceof l.default)i=n;else{if(!(0,o.default)(n)||2!==n.length)throw new TypeError("Coordinates must be an Array of GeoPoints or Points");i=new l.default(n[0],n[1])}e.push([i.latitude,i.longitude])}return e}}]),t}();e.default=h},52208:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(63109)),a=i(r(18777)),s=i(r(59036)),u=i(r(51161)),l=i(r(26394)),h=i(r(69198)),c=i(r(87672)),f=i(r(23765)),d=i(r(78914)),p=i(r(81643)),v=i(r(86902)),m=i(r(3649)),g=i(r(2991)),y=i(r(20116)),b=i(r(69301)),_=i(r(77766)),w=i(r(78580)),x=i(r(47302)),E=i(r(92762)),M=i(r(93476)),S=i(r(94473)),A=i(r(41511)),k=i(r(26295)),T=i(r(22336)),R=i(r(16962)),P=r(79689),I=i(r(18702)),N=i(r(89679)),O=i(r(71149)),C=i(r(54736)),D=r(72631);function L(t){return"\\Q".concat(t.replace("\\E","\\E\\\\E\\Q"),"\\E")}function F(t){var e=null;return(0,d.default)(t).call(t,(function(t){if(e||(e=t.className),e!==t.className)throw new Error("All queries must be for the same class.")})),e}function B(t,e){var r={};((0,d.default)(e).call(e,(function(e){var n=-1!==(0,p.default)(e).call(e,".");if(n||t.hasOwnProperty(e)){if(n){var i=e.split("."),o=t,a=r;(0,d.default)(i).call(i,(function(t,e,r){o&&!o.hasOwnProperty(t)&&(o[t]=void 0),o&&"object"===(0,f.default)(o)&&(o=o[t]),e<r.length-1&&(a[t]||(a[t]={}),a=a[t])}))}}else t[e]=void 0})),(0,v.default)(r).length>0)&&U(T.default.getObjectStateController().getServerData({id:t.objectId,className:t.className}),t,r,!1)}function U(t,e,r,n){if(n)for(var i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i]);for(var o in r)void 0!==e[o]&&null!==e[o]&&void 0!==t&&null!==t&&U(t[o],e[o],r[o],!0)}function G(t,e,r){var n=r[0],i="-"===(0,m.default)(n).call(n,0,1);if(i&&(n=n.substring(1)),"_created_at"===n&&(n="createdAt"),"_updated_at"===n&&(n="updatedAt"),!/^[A-Za-z][0-9A-Za-z_]*$/.test(n)||"password"===n)throw new I.default(I.default.INVALID_KEY_NAME,"Invalid Key: ".concat(n));var o=t.get(n),a=e.get(n);return o<a?i?1:-1:o>a?i?-1:1:r.length>1?G(t,e,(0,m.default)(r).call(r,1)):0}var j=function(){function t(e){if((0,l.default)(this,t),(0,c.default)(this,"className",void 0),(0,c.default)(this,"_where",void 0),(0,c.default)(this,"_include",void 0),(0,c.default)(this,"_exclude",void 0),(0,c.default)(this,"_select",void 0),(0,c.default)(this,"_limit",void 0),(0,c.default)(this,"_skip",void 0),(0,c.default)(this,"_count",void 0),(0,c.default)(this,"_order",void 0),(0,c.default)(this,"_readPreference",void 0),(0,c.default)(this,"_includeReadPreference",void 0),(0,c.default)(this,"_subqueryReadPreference",void 0),(0,c.default)(this,"_queriesLocalDatastore",void 0),(0,c.default)(this,"_localDatastorePinName",void 0),(0,c.default)(this,"_extraOptions",void 0),(0,c.default)(this,"_hint",void 0),(0,c.default)(this,"_explain",void 0),(0,c.default)(this,"_xhrRequest",void 0),"string"===typeof e)"User"===e&&T.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=e;else if(e instanceof O.default)this.className=e.className;else{if("function"!==typeof e)throw new TypeError("A ParseQuery must be constructed with a ParseObject or class name.");if("string"===typeof e.className)this.className=e.className;else{var r=new e;this.className=r.className}}this._where={},this._include=[],this._exclude=[],this._count=!1,this._limit=-1,this._skip=0,this._readPreference=null,this._includeReadPreference=null,this._subqueryReadPreference=null,this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this._extraOptions={},this._xhrRequest={task:null,onchange:function(){}}}return(0,h.default)(t,[{key:"_orQuery",value:function(t){var e=(0,g.default)(t).call(t,(function(t){return t.toJSON().where}));return this._where.$or=e,this}},{key:"_andQuery",value:function(t){var e=(0,g.default)(t).call(t,(function(t){return t.toJSON().where}));return this._where.$and=e,this}},{key:"_norQuery",value:function(t){var e=(0,g.default)(t).call(t,(function(t){return t.toJSON().where}));return this._where.$nor=e,this}},{key:"_addCondition",value:function(t,e,r){return this._where[t]&&"string"!==typeof this._where[t]||(this._where[t]={}),this._where[t][e]=(0,R.default)(r,!1,!0),this}},{key:"_regexStartWith",value:function(t){return"^".concat(L(t))}},{key:"_handleOfflineQuery",value:function(){var t=(0,u.default)(o.default.mark((function t(e){var r,n,i,a,s,u,l,h,c,f=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C.default.validateQuery(this),n=T.default.getLocalDatastore(),t.next=4,n._serializeObjectsFromPinName(this._localDatastorePinName);case 4:if(i=t.sent,a=(0,y.default)(r=(0,g.default)(i).call(i,(function(t,e,r){var n=O.default.fromJSON(t,!1);return t._localId&&!t.objectId&&(n._localId=t._localId),C.default.matchesQuery(f.className,n,r,f)?n:null}))).call(r,(function(t){return null!==t})),(0,b.default)(e)&&(s=(0,b.default)(e).split(","),u=["className","objectId","createdAt","updatedAt","ACL"],s=(0,_.default)(s).call(s,u),a=(0,g.default)(a).call(a,(function(t){var e,r=t._toFullJSON();return(0,d.default)(e=(0,v.default)(r)).call(e,(function(t){(0,w.default)(s).call(s,t)||delete r[t]})),O.default.fromJSON(r,!1)}))),e.order&&(l=e.order.split(","),(0,x.default)(a).call(a,(function(t,e){return G(t,e,l)}))),e.count&&(h=a.length),e.skip&&(a=e.skip>=a.length?[]:(0,E.default)(a).call(a,e.skip,a.length)),c=a.length,0!==e.limit&&e.limit<a.length&&(c=e.limit),a=(0,E.default)(a).call(a,0,c),"number"!==typeof h){t.next=15;break}return t.abrupt("return",{results:a,count:h});case 15:return t.abrupt("return",a);case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"toJSON",value:function(){var t={where:this._where};for(var e in this._include.length&&(t.include=this._include.join(",")),this._exclude.length&&(t.excludeKeys=this._exclude.join(",")),this._select&&(t.keys=this._select.join(",")),this._count&&(t.count=1),this._limit>=0&&(t.limit=this._limit),this._skip>0&&(t.skip=this._skip),this._order&&(t.order=this._order.join(",")),this._readPreference&&(t.readPreference=this._readPreference),this._includeReadPreference&&(t.includeReadPreference=this._includeReadPreference),this._subqueryReadPreference&&(t.subqueryReadPreference=this._subqueryReadPreference),this._hint&&(t.hint=this._hint),this._explain&&(t.explain=!0),this._extraOptions)t[e]=this._extraOptions[e];return t}},{key:"withJSON",value:function(t){for(var e in t.where&&(this._where=t.where),t.include&&(this._include=t.include.split(",")),(0,b.default)(t)&&(this._select=(0,b.default)(t).split(",")),t.excludeKeys&&(this._exclude=t.excludeKeys.split(",")),t.count&&(this._count=1===t.count),t.limit&&(this._limit=t.limit),t.skip&&(this._skip=t.skip),t.order&&(this._order=t.order.split(",")),t.readPreference&&(this._readPreference=t.readPreference),t.includeReadPreference&&(this._includeReadPreference=t.includeReadPreference),t.subqueryReadPreference&&(this._subqueryReadPreference=t.subqueryReadPreference),t.hint&&(this._hint=t.hint),t.explain&&(this._explain=!!t.explain),t){var r;if(t.hasOwnProperty(e))-1===(0,p.default)(r=["where","include","keys","count","limit","skip","order","readPreference","includeReadPreference","subqueryReadPreference","hint","explain"]).call(r,e)&&(this._extraOptions[e]=t[e])}return this}},{key:"get",value:function(t,e){this.equalTo("objectId",t);var r={};return e&&e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e&&e.hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken),e&&e.hasOwnProperty("context")&&"object"===(0,f.default)(e.context)&&(r.context=e.context),this.first(r).then((function(t){if(t)return t;var e=new I.default(I.default.OBJECT_NOT_FOUND,"Object not found.");return M.default.reject(e)}))}},{key:"find",value:function(t){var e=this,r={};(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("context")&&"object"===(0,f.default)(t.context)&&(r.context=t.context),this._setRequestTask(r);var n=T.default.getQueryController(),i=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(this.toJSON()):(0,S.default)(n).call(n,this.className,this.toJSON(),r).then((function(t){var r;if(e._explain)return t.results;var n=(0,g.default)(r=t.results).call(r,(function(r){var n=t.className||e.className;return r.className||(r.className=n),i&&B(r,i),O.default.fromJSON(r,!i)})),o=t.count;return"number"===typeof o?{results:n,count:o}:n}))}},{key:"findAll",value:function(){var t=(0,u.default)(o.default.mark((function t(e){var r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,this.eachBatch((function(t){var e;r=(0,_.default)(e=[]).call(e,(0,s.default)(r),(0,s.default)(t))}),e);case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"count",value:function(t){var e={};(t=t||{}).hasOwnProperty("useMasterKey")&&(e.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(e.sessionToken=t.sessionToken),this._setRequestTask(e);var r=T.default.getQueryController(),n=this.toJSON();return n.limit=0,n.count=1,(0,S.default)(r).call(r,this.className,n,e).then((function(t){return t.count}))}},{key:"distinct",value:function(t,e){var r={useMasterKey:!0};(e=e||{}).hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken),this._setRequestTask(r);var n=T.default.getQueryController(),i={distinct:t,where:this._where,hint:this._hint};return n.aggregate(this.className,i,r).then((function(t){return t.results}))}},{key:"aggregate",value:function(t,e){var r={useMasterKey:!0};(e=e||{}).hasOwnProperty("sessionToken")&&(r.sessionToken=e.sessionToken),this._setRequestTask(r);var n=T.default.getQueryController();if(!(0,A.default)(t)&&"object"!==(0,f.default)(t))throw new Error("Invalid pipeline must be Array or Object");(0,v.default)(this._where||{}).length&&((0,A.default)(t)||(t=[t]),t.unshift({match:this._where}));var i={pipeline:t,hint:this._hint,explain:this._explain,readPreference:this._readPreference};return n.aggregate(this.className,i,r).then((function(t){return t.results}))}},{key:"first",value:function(t){var e=this,r={};(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("context")&&"object"===(0,f.default)(t.context)&&(r.context=t.context),this._setRequestTask(r);var n=T.default.getQueryController(),i=this.toJSON();i.limit=1;var o=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(i).then((function(t){if(t[0])return t[0]})):(0,S.default)(n).call(n,this.className,i,r).then((function(t){var r=t.results;if(r[0])return r[0].className||(r[0].className=e.className),o&&B(r[0],o),O.default.fromJSON(r[0],!o)}))}},{key:"eachBatch",value:function(e,r){var n;if(r=r||{},this._order||this._skip||this._limit>=0)return M.default.reject("Cannot iterate on a query with sort, skip, or limit.");var i,s=new t(this.className);(s._limit=r.batchSize||100,s._include=(0,g.default)(n=this._include).call(n,(function(t){return t})),this._select)&&(s._select=(0,g.default)(i=this._select).call(i,(function(t){return t})));for(var l in s._hint=this._hint,s._where={},this._where){var h=this._where[l];if((0,A.default)(h))s._where[l]=(0,g.default)(h).call(h,(function(t){return t}));else if(h&&"object"===(0,f.default)(h)){var c={};for(var d in s._where[l]=c,h)c[d]=h[d]}else s._where[l]=h}s.ascending("objectId");var p={};r.hasOwnProperty("useMasterKey")&&(p.useMasterKey=r.useMasterKey),r.hasOwnProperty("sessionToken")&&(p.sessionToken=r.sessionToken),r.hasOwnProperty("context")&&"object"===(0,f.default)(r.context)&&(p.context=r.context);var v=!1,m=[];return(0,P.continueWhile)((function(){return!v}),(0,u.default)(o.default.mark((function t(){var r,n,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.default.all([(0,S.default)(s).call(s,p),M.default.resolve(m.length>0&&e(m))]);case 2:if(r=t.sent,n=(0,a.default)(r,1),!((i=n[0]).length>=s._limit)){t.next=10;break}s.greaterThan("objectId",i[i.length-1].id),m=i,t.next=17;break;case 10:if(!(i.length>0)){t.next=16;break}return t.next=13,M.default.resolve(e(i));case 13:v=!0,t.next=17;break;case 16:v=!0;case 17:case"end":return t.stop()}}),t)}))))}},{key:"each",value:function(t,e){return this.eachBatch((function(e){var r=M.default.resolve();return(0,d.default)(e).call(e,(function(e){r=r.then((function(){return t(e)}))})),r}),e)}},{key:"hint",value:function(t){return"undefined"===typeof t&&delete this._hint,this._hint=t,this}},{key:"explain",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("boolean"!==typeof t)throw new Error("You can only set explain to a boolean value");return this._explain=t,this}},{key:"map",value:function(){var t=(0,u.default)(o.default.mark((function t(e,r){var n,i,a=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],i=0,t.next=4,this.each((function(t){return M.default.resolve(e(t,i,a)).then((function(t){n.push(t),i+=1}))}),r);case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"reduce",value:function(){var t=(0,u.default)(o.default.mark((function t(e,r,n){var i,a;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r,a=0,t.next=4,this.each((function(t){return 0===a&&void 0===r?(i=t,void(a+=1)):M.default.resolve(e(i,t,a)).then((function(t){i=t,a+=1}))}),n);case 4:if(0!==a||void 0!==r){t.next=6;break}throw new TypeError("Reducing empty query result set with no initial value");case 6:return t.abrupt("return",i);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"filter",value:function(){var t=(0,u.default)(o.default.mark((function t(e,r){var n,i,a=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],i=0,t.next=4,this.each((function(t){return M.default.resolve(e(t,i,a)).then((function(e){e&&n.push(t),i+=1}))}),r);case 4:return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"equalTo",value:function(t,e){var r,n=this;return t&&"object"===(0,f.default)(t)?((0,d.default)(r=(0,k.default)(t)).call(r,(function(t){var e=(0,a.default)(t,2),r=e[0],i=e[1];return n.equalTo(r,i)})),this):"undefined"===typeof e?this.doesNotExist(t):(this._where[t]=(0,R.default)(e,!1,!0),this)}},{key:"notEqualTo",value:function(t,e){var r,n=this;return t&&"object"===(0,f.default)(t)?((0,d.default)(r=(0,k.default)(t)).call(r,(function(t){var e=(0,a.default)(t,2),r=e[0],i=e[1];return n.notEqualTo(r,i)})),this):this._addCondition(t,"$ne",e)}},{key:"lessThan",value:function(t,e){return this._addCondition(t,"$lt",e)}},{key:"greaterThan",value:function(t,e){return this._addCondition(t,"$gt",e)}},{key:"lessThanOrEqualTo",value:function(t,e){return this._addCondition(t,"$lte",e)}},{key:"greaterThanOrEqualTo",value:function(t,e){return this._addCondition(t,"$gte",e)}},{key:"containedIn",value:function(t,e){return this._addCondition(t,"$in",e)}},{key:"notContainedIn",value:function(t,e){return this._addCondition(t,"$nin",e)}},{key:"containedBy",value:function(t,e){return this._addCondition(t,"$containedBy",e)}},{key:"containsAll",value:function(t,e){return this._addCondition(t,"$all",e)}},{key:"containsAllStartingWith",value:function(t,e){var r=this;(0,A.default)(e)||(e=[e]);var n=(0,g.default)(e).call(e,(function(t){return{$regex:r._regexStartWith(t)}}));return this.containsAll(t,n)}},{key:"exists",value:function(t){return this._addCondition(t,"$exists",!0)}},{key:"doesNotExist",value:function(t){return this._addCondition(t,"$exists",!1)}},{key:"matches",value:function(t,e,r){return this._addCondition(t,"$regex",e),r||(r=""),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),r.length&&this._addCondition(t,"$options",r),this}},{key:"matchesQuery",value:function(t,e){var r=e.toJSON();return r.className=e.className,this._addCondition(t,"$inQuery",r)}},{key:"doesNotMatchQuery",value:function(t,e){var r=e.toJSON();return r.className=e.className,this._addCondition(t,"$notInQuery",r)}},{key:"matchesKeyInQuery",value:function(t,e,r){var n=r.toJSON();return n.className=r.className,this._addCondition(t,"$select",{key:e,query:n})}},{key:"doesNotMatchKeyInQuery",value:function(t,e,r){var n=r.toJSON();return n.className=r.className,this._addCondition(t,"$dontSelect",{key:e,query:n})}},{key:"contains",value:function(t,e){if("string"!==typeof e)throw new Error("The value being searched for must be a string.");return this._addCondition(t,"$regex",L(e))}},{key:"fullText",value:function(t,e,r){if(r=r||{},!t)throw new Error("A key is required.");if(!e)throw new Error("A search term is required");if("string"!==typeof e)throw new Error("The value being searched for must be a string.");var n={};for(var i in n.$term=e,r)switch(i){case"language":n.$language=r[i];break;case"caseSensitive":n.$caseSensitive=r[i];break;case"diacriticSensitive":n.$diacriticSensitive=r[i];break;default:throw new Error("Unknown option: ".concat(i))}return this._addCondition(t,"$text",{$search:n})}},{key:"sortByTextScore",value:function(){return this.ascending("$score"),this.select(["$score"]),this}},{key:"startsWith",value:function(t,e){if("string"!==typeof e)throw new Error("The value being searched for must be a string.");return this._addCondition(t,"$regex",this._regexStartWith(e))}},{key:"endsWith",value:function(t,e){if("string"!==typeof e)throw new Error("The value being searched for must be a string.");return this._addCondition(t,"$regex","".concat(L(e),"$"))}},{key:"near",value:function(t,e){return e instanceof N.default||(e=new N.default(e)),this._addCondition(t,"$nearSphere",e)}},{key:"withinRadians",value:function(t,e,r,n){return n||void 0===n?(this.near(t,e),this._addCondition(t,"$maxDistance",r)):this._addCondition(t,"$geoWithin",{$centerSphere:[[e.longitude,e.latitude],r]})}},{key:"withinMiles",value:function(t,e,r,n){return this.withinRadians(t,e,r/3958.8,n)}},{key:"withinKilometers",value:function(t,e,r,n){return this.withinRadians(t,e,r/6371,n)}},{key:"withinGeoBox",value:function(t,e,r){return e instanceof N.default||(e=new N.default(e)),r instanceof N.default||(r=new N.default(r)),this._addCondition(t,"$within",{$box:[e,r]}),this}},{key:"withinPolygon",value:function(t,e){return this._addCondition(t,"$geoWithin",{$polygon:e})}},{key:"polygonContains",value:function(t,e){return this._addCondition(t,"$geoIntersects",{$point:e})}},{key:"ascending",value:function(){this._order=[];for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.addAscending.apply(this,e)}},{key:"addAscending",value:function(){var t=this;this._order||(this._order=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,d.default)(r).call(r,(function(e){var r;(0,A.default)(e)&&(e=e.join()),t._order=(0,_.default)(r=t._order).call(r,e.replace(/\s/g,"").split(","))})),this}},{key:"descending",value:function(){this._order=[];for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.addDescending.apply(this,e)}},{key:"addDescending",value:function(){var t=this;this._order||(this._order=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,d.default)(r).call(r,(function(e){var r,n;(0,A.default)(e)&&(e=e.join()),t._order=(0,_.default)(r=t._order).call(r,(0,g.default)(n=e.replace(/\s/g,"").split(",")).call(n,(function(t){return"-".concat(t)})))})),this}},{key:"skip",value:function(t){if("number"!==typeof t||t<0)throw new Error("You can only skip by a positive number");return this._skip=t,this}},{key:"limit",value:function(t){if("number"!==typeof t)throw new Error("You can only set the limit to a numeric value");return this._limit=t,this}},{key:"withCount",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("boolean"!==typeof t)throw new Error("You can only set withCount to a boolean value");return this._count=t,this}},{key:"include",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,d.default)(r).call(r,(function(e){var r;(0,A.default)(e)?t._include=(0,_.default)(r=t._include).call(r,e):t._include.push(e)})),this}},{key:"includeAll",value:function(){return this.include("*")}},{key:"select",value:function(){var t=this;this._select||(this._select=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,d.default)(r).call(r,(function(e){var r;(0,A.default)(e)?t._select=(0,_.default)(r=t._select).call(r,e):t._select.push(e)})),this}},{key:"exclude",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,d.default)(r).call(r,(function(e){var r;(0,A.default)(e)?t._exclude=(0,_.default)(r=t._exclude).call(r,e):t._exclude.push(e)})),this}},{key:"readPreference",value:function(t,e,r){return this._readPreference=t,this._includeReadPreference=e,this._subqueryReadPreference=r,this}},{key:"onChange",value:function(t,e){var r=null;return this.subscribe().then((function(n){r=n,n.on("create",(function(e){t(e)})),n.on("update",(function(e){t(e)})),n.on("error",(function(t){e?e(t):console.warn("Moralis: Subscription error",t)}))})).catch((function(t){e?e(t):console.warn("Moralis: Subscription connection error",t)})),function(){r&&r.unsubscribe()}}},{key:"subscribe",value:function(){var t=(0,u.default)(o.default.mark((function t(e){var r,n,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.default.getUserController().currentUserAsync();case 2:return r=t.sent,e||(e=r?r.getSessionToken():void 0),t.next=6,T.default.getLiveQueryController().getDefaultLiveQueryClient();case 6:return(n=t.sent).shouldOpen()&&n.open(),i=n.subscribe(this,e),t.abrupt("return",i.subscribePromise.then((function(){return i})));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fromNetwork",value:function(){return this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this}},{key:"fromLocalDatastore",value:function(){return this.fromPinWithName(null)}},{key:"fromPin",value:function(){return this.fromPinWithName(D.DEFAULT_PIN)}},{key:"fromPinWithName",value:function(t){return T.default.getLocalDatastore().checkIfEnabled()&&(this._queriesLocalDatastore=!0,this._localDatastorePinName=t),this}},{key:"cancel",value:function(){var t=this;return this._xhrRequest.task&&"function"===typeof this._xhrRequest.task.abort?(this._xhrRequest.task._aborted=!0,this._xhrRequest.task.abort(),this._xhrRequest.task=null,this._xhrRequest.onchange=function(){},this):this._xhrRequest.onchange=function(){return t.cancel()}}},{key:"_setRequestTask",value:function(t){var e=this;t.requestTask=function(t){e._xhrRequest.task=t,e._xhrRequest.onchange()}}}],[{key:"fromJSON",value:function(e,r){return new t(e).withJSON(r)}},{key:"or",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=F(r),o=new t(i);return o._orQuery(r),o}},{key:"and",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=F(r),o=new t(i);return o._andQuery(r),o}},{key:"nor",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=F(r),o=new t(i);return o._norQuery(r),o}}]),t}(),z={find:function(t,e,r){return T.default.getRESTController().request("GET","classes/".concat(t),e,r)},aggregate:function(t,e,r){return T.default.getRESTController().request("GET","aggregate/".concat(t),e,r)}};T.default.setQueryController(z);var H=j;e.default=H},28697:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(41511)),a=i(r(26394)),s=i(r(69198)),u=i(r(87672)),l=r(45717),h=(i(r(71149)),i(r(52208))),c=function(){function t(e,r){(0,a.default)(this,t),(0,u.default)(this,"parent",void 0),(0,u.default)(this,"key",void 0),(0,u.default)(this,"targetClassName",void 0),this.parent=e,this.key=r,this.targetClassName=null}return(0,s.default)(t,[{key:"_ensureParentAndKey",value:function(t,e){if(this.key=this.key||e,this.key!==e)throw new Error("Internal Error. Relation retrieved from two different keys.");if(this.parent){if(this.parent.className!==t.className)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.parent.id){if(this.parent.id!==t.id)throw new Error("Internal Error. Relation retrieved from two different Objects.")}else t.id&&(this.parent=t)}else this.parent=t}},{key:"add",value:function(t){(0,o.default)(t)||(t=[t]);var e=new l.RelationOp(t,[]),r=this.parent;if(!r)throw new Error("Cannot add to a Relation without a parent");return 0===t.length||(r.set(this.key,e),this.targetClassName=e._targetClassName),r}},{key:"remove",value:function(t){(0,o.default)(t)||(t=[t]);var e=new l.RelationOp([],t);if(!this.parent)throw new Error("Cannot remove from a Relation without a parent");0!==t.length&&(this.parent.set(this.key,e),this.targetClassName=e._targetClassName)}},{key:"toJSON",value:function(){return{__type:"Relation",className:this.targetClassName}}},{key:"query",value:function(){var t,e=this.parent;if(!e)throw new Error("Cannot construct a query for a Relation without a parent");return this.targetClassName?t=new h.default(this.targetClassName):(t=new h.default(e.className),t._extraOptions.redirectClassNameForKey=this.key),t._addCondition("$relatedTo","object",{__type:"Pointer",className:e.className,objectId:e.id}),t._addCondition("$relatedTo","key",this.key),t}}]),t}();e.default=c},36721:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(26394)),s=o(r(69198)),u=o(r(31474)),l=o(r(51379)),h=o(r(214)),c=o(r(66380)),f=o(r(77950)),d=o(r(18702)),p=o(r(71149));function v(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,c.default)(t);if(e){var o=(0,c.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,h.default)(this,r)}}var m=function(t){(0,l.default)(r,t);var e=v(r);function r(t,n){var i;return(0,a.default)(this,r),i=e.call(this,"_Role"),"string"===typeof t&&n instanceof f.default&&(i.setName(t),i.setACL(n)),i}return(0,s.default)(r,[{key:"getName",value:function(){var t=this.get("name");return null==t||"string"===typeof t?t:""}},{key:"setName",value:function(t,e){return this.set("name",t,e)}},{key:"getUsers",value:function(){return this.relation("users")}},{key:"getRoles",value:function(){return this.relation("roles")}},{key:"validate",value:function(t,e){var n=(0,u.default)((0,c.default)(r.prototype),"validate",this).call(this,t,e);if(n)return n;if("name"in t&&t.name!==this.getName()){var i=t.name;if(this.id&&this.id!==t.objectId)return new d.default(d.default.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if("string"!==typeof i)return new d.default(d.default.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(i))return new d.default(d.default.OTHER_CAUSE,"A role's name can be only contain alphanumeric characters, _, -, and spaces.")}return!1}}]),r}(p.default);p.default.registerSubclass("_Role",m);var g=m;e.default=g},22448:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=void 0;var o=i(r(81643)),a=i(r(26394)),s=i(r(69198)),u=i(r(87672)),l=i(r(22336)),h=i(r(71149)),c=i(r(34565)),f=["String","Number","Boolean","Date","File","GeoPoint","Polygon","Array","Object","Pointer","Relation"],d=function(){function t(e){(0,a.default)(this,t),(0,u.default)(this,"className",void 0),(0,u.default)(this,"_fields",void 0),(0,u.default)(this,"_indexes",void 0),(0,u.default)(this,"_clp",void 0),"string"===typeof e&&("User"===e&&l.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=e),this._fields={},this._indexes={}}return(0,s.default)(t,[{key:"get",value:function(){return this.assertClassName(),l.default.getSchemaController().get(this.className).then((function(t){if(!t)throw new Error("Schema not found.");return t}))}},{key:"save",value:function(){this.assertClassName();var t=l.default.getSchemaController(),e={className:this.className,fields:this._fields,indexes:this._indexes,classLevelPermissions:this._clp};return t.create(this.className,e)}},{key:"update",value:function(){this.assertClassName();var t=l.default.getSchemaController(),e={className:this.className,fields:this._fields,indexes:this._indexes,classLevelPermissions:this._clp};return this._fields={},this._indexes={},t.update(this.className,e)}},{key:"delete",value:function(){return this.assertClassName(),l.default.getSchemaController().delete(this.className)}},{key:"purge",value:function(){return this.assertClassName(),l.default.getSchemaController().purge(this.className)}},{key:"assertClassName",value:function(){if(!this.className)throw new Error("You must set a Class Name before making any request.")}},{key:"setCLP",value:function(t){return t instanceof c.default?this._clp=t.toJSON():this._clp=t,this}},{key:"addField",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e=e||"String",!t)throw new Error("field name may not be null.");if(-1===(0,o.default)(f).call(f,e))throw new Error("".concat(e," is not a valid type."));var n={type:e};return"boolean"===typeof r.required&&(n.required=r.required),void 0!==r.defaultValue&&(n.defaultValue=r.defaultValue),this._fields[t]=n,this}},{key:"addIndex",value:function(t,e){if(!t)throw new Error("index name may not be null.");if(!e)throw new Error("index may not be null.");return this._indexes[t]=e,this}},{key:"addString",value:function(t,e){return this.addField(t,"String",e)}},{key:"addNumber",value:function(t,e){return this.addField(t,"Number",e)}},{key:"addBoolean",value:function(t,e){return this.addField(t,"Boolean",e)}},{key:"addDate",value:function(t,e){return e&&e.defaultValue&&(e.defaultValue={__type:"Date",iso:new Date(e.defaultValue)}),this.addField(t,"Date",e)}},{key:"addFile",value:function(t,e){return this.addField(t,"File",e)}},{key:"addGeoPoint",value:function(t,e){return this.addField(t,"GeoPoint",e)}},{key:"addPolygon",value:function(t,e){return this.addField(t,"Polygon",e)}},{key:"addArray",value:function(t,e){return this.addField(t,"Array",e)}},{key:"addObject",value:function(t,e){return this.addField(t,"Object",e)}},{key:"addPointer",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw new Error("field name may not be null.");if(!e)throw new Error("You need to set the targetClass of the Pointer.");var n={type:"Pointer",targetClass:e};return"boolean"===typeof r.required&&(n.required=r.required),void 0!==r.defaultValue&&(n.defaultValue=r.defaultValue,r.defaultValue instanceof h.default&&(n.defaultValue=r.defaultValue.toPointer())),this._fields[t]=n,this}},{key:"addRelation",value:function(t,e){if(!t)throw new Error("field name may not be null.");if(!e)throw new Error("You need to set the targetClass of the Relation.");return this._fields[t]={type:"Relation",targetClass:e},this}},{key:"deleteField",value:function(t){return this._fields[t]={__op:"Delete"},this}},{key:"deleteIndex",value:function(t){return this._indexes[t]={__op:"Delete"},this}}],[{key:"all",value:function(){return l.default.getSchemaController().get("").then((function(t){if(0===t.results.length)throw new Error("Schema not found.");return t.results}))}}]),t}(),p={send:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=l.default.getRESTController();return n.request(e,"schemas/".concat(t),r,{useMasterKey:!0})},get:function(t){return this.send(t,"GET")},create:function(t,e){return this.send(t,"POST",e)},update:function(t,e){return this.send(t,"PUT",e)},delete:function(t){return this.send(t,"DELETE")},purge:function(t){return l.default.getRESTController().request("DELETE","purge/".concat(t),{},{useMasterKey:!0})}};l.default.setSchemaController(p);var v=d;e.default=v},9193:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(93476)),s=o(r(23765)),u=o(r(26394)),l=o(r(69198)),h=o(r(51379)),c=o(r(214)),f=o(r(66380)),d=o(r(22336)),p=o(r(55797)),v=o(r(71149)),m=o(r(13675));function g(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,f.default)(t);if(e){var o=(0,f.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,c.default)(this,r)}}var y=function(t){(0,h.default)(r,t);var e=g(r);function r(t){var n;if((0,u.default)(this,r),n=e.call(this,"_Session"),t&&"object"===(0,s.default)(t)&&!n.set(t||{}))throw new Error("Can't create an invalid Session");return n}return(0,l.default)(r,[{key:"getSessionToken",value:function(){var t=this.get("sessionToken");return"string"===typeof t?t:""}}],[{key:"readOnlyAttributes",value:function(){return["createdWith","expiresAt","installationId","restricted","sessionToken","user"]}},{key:"current",value:function(t){t=t||{};var e=d.default.getSessionController(),r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),m.default.currentAsync().then((function(t){return t?(r.sessionToken=t.getSessionToken(),e.getSession(r)):a.default.reject("There is no current user.")}))}},{key:"isCurrentSessionRevocable",value:function(){var t=m.default.current();return!!t&&(0,p.default)(t.getSessionToken()||"")}}]),r}(v.default);v.default.registerSubclass("_Session",y);var b={getSession:function(t){var e=d.default.getRESTController(),r=new y;return e.request("GET","sessions/me",{},t).then((function(t){return r._finishFetch(t),r._setExisted(!0),r}))}};d.default.setSessionController(b);var _=y;e.default=_},13675:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(63109)),s=o(r(93476)),u=o(r(63978)),l=o(r(59340)),h=o(r(51161)),c=o(r(23765)),f=o(r(26394)),d=o(r(69198)),p=o(r(31474)),v=o(r(51379)),m=o(r(214)),g=o(r(66380)),y=o(r(15357)),b=o(r(22336)),_=o(r(55797)),w=o(r(18702)),x=o(r(71149)),E=o(r(9193)),M=(o(r(43641)),o(r(95436)));function S(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,g.default)(t);if(e){var o=(0,g.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,m.default)(this,r)}}var A="currentUser",k=!b.default.get("IS_NODE"),T=!1,R=null,P={},I=function(t){(0,v.default)(r,t);var e=S(r);function r(t){var n;if((0,f.default)(this,r),n=e.call(this,"_User"),t&&"object"===(0,c.default)(t)&&!n.set(t||{}))throw new Error("Can't create an invalid Parse User");return n}return(0,d.default)(r,[{key:"_upgradeToRevocableSession",value:function(t){var e={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(e.useMasterKey=t.useMasterKey),b.default.getUserController().upgradeToRevocableSession(this,e)}},{key:"linkWith",value:function(t,e){var r,n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(i.sessionToken=i.sessionToken||this.getSessionToken()||"","string"===typeof t)if(r=t,P[t])t=P[t];else{var o={restoreAuthentication:function(){return!0},getAuthType:function(){return r}};P[o.getAuthType()]=o,t=o}else r=t.getAuthType();if(e&&e.hasOwnProperty("authData")){var a=this.get("authData")||{};if("object"!==(0,c.default)(a))throw new Error("Invalid type: authData field should be an object");a[r]=e.authData;var u=b.default.getUserController();return u.linkWith(this,a,i)}return new s.default((function(e,r){t.authenticate({success:function(t,o){var a={};a.authData=o,n.linkWith(t,a,i).then((function(){e(n)}),(function(t){r(t)}))},error:function(t,e){r(e)}})}))}},{key:"_linkWith",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.linkWith(t,e,r)}},{key:"_synchronizeAuthData",value:function(t){if(this.isCurrent()&&t){var e;"string"===typeof t?t=P[e=t]:e=t.getAuthType();var r=this.get("authData");if(t&&r&&"object"===(0,c.default)(r))t.restoreAuthentication(r[e])||this._unlinkFrom(t)}}},{key:"_synchronizeAllAuthData",value:function(){var t=this.get("authData");if("object"===(0,c.default)(t))for(var e in t)this._synchronizeAuthData(e)}},{key:"_cleanupAuthData",value:function(){if(this.isCurrent()){var t=this.get("authData");if("object"===(0,c.default)(t))for(var e in t)t[e]||delete t[e]}}},{key:"_unlinkFrom",value:function(t,e){var r=this;return this.linkWith(t,{authData:null},e).then((function(){return r._synchronizeAuthData(t),s.default.resolve(r)}))}},{key:"_isLinked",value:function(t){var e;e="string"===typeof t?t:t.getAuthType();var r=this.get("authData")||{};return"object"===(0,c.default)(r)&&!!r[e]}},{key:"_logOutWithAll",value:function(){var t=this.get("authData");if("object"===(0,c.default)(t))for(var e in t)this._logOutWith(e)}},{key:"_logOutWith",value:function(t){this.isCurrent()&&("string"===typeof t&&(t=P[t]),t&&t.deauthenticate&&t.deauthenticate())}},{key:"_preserveFieldsOnFetch",value:function(){return{sessionToken:this.get("sessionToken")}}},{key:"isCurrent",value:function(){var t=r.current();return!!t&&t.id===this.id}},{key:"getUsername",value:function(){var t=this.get("username");return null==t||"string"===typeof t?t:""}},{key:"setUsername",value:function(t){var e=this.get("authData");e&&"object"===(0,c.default)(e)&&e.hasOwnProperty("anonymous")&&(e.anonymous=null),this.set("username",t)}},{key:"setPassword",value:function(t){this.set("password",t)}},{key:"getEmail",value:function(){var t=this.get("email");return null==t||"string"===typeof t?t:""}},{key:"setEmail",value:function(t){return this.set("email",t)}},{key:"getSessionToken",value:function(){var t=this.get("sessionToken");return null==t||"string"===typeof t?t:""}},{key:"authenticated",value:function(){var t=r.current();return!!this.get("sessionToken")&&!!t&&t.id===this.id}},{key:"signUp",value:function(t,e){var r={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),e.hasOwnProperty("installationId")&&(r.installationId=e.installationId),b.default.getUserController().signUp(this,t,r)}},{key:"logIn",value:function(t){var e={usePost:!0};return(t=t||{}).hasOwnProperty("useMasterKey")&&(e.useMasterKey=t.useMasterKey),t.hasOwnProperty("installationId")&&(e.installationId=t.installationId),t.hasOwnProperty("usePost")&&(e.usePost=t.usePost),b.default.getUserController().logIn(this,e)}},{key:"save",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0,p.default)((0,g.default)(r.prototype),"save",this).apply(this,n).then((function(){return t.isCurrent()?b.default.getUserController().updateUserOnDisk(t):t}))}},{key:"destroy",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0,p.default)((0,g.default)(r.prototype),"destroy",this).apply(this,n).then((function(){return t.isCurrent()?b.default.getUserController().removeUserFromDisk():t}))}},{key:"fetch",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0,p.default)((0,g.default)(r.prototype),"fetch",this).apply(this,n).then((function(){return t.isCurrent()?b.default.getUserController().updateUserOnDisk(t):t}))}},{key:"fetchWithInclude",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0,p.default)((0,g.default)(r.prototype),"fetchWithInclude",this).apply(this,n).then((function(){return t.isCurrent()?b.default.getUserController().updateUserOnDisk(t):t}))}},{key:"verifyPassword",value:function(t,e){var n=this.getUsername()||"";return r.verifyPassword(n,t,e)}}],[{key:"readOnlyAttributes",value:function(){return["sessionToken"]}},{key:"extend",value:function(t,e){if(t)for(var n in t)"className"!==n&&(0,u.default)(r.prototype,n,{value:t[n],enumerable:!1,writable:!0,configurable:!0});if(e)for(var i in e)"className"!==i&&(0,u.default)(r,i,{value:e[i],enumerable:!1,writable:!0,configurable:!0});return r}},{key:"current",value:function(){return k?b.default.getUserController().currentUser():null}},{key:"currentAsync",value:function(){return k?b.default.getUserController().currentUserAsync():s.default.resolve(null)}},{key:"signUp",value:function(t,e,r,n){return(r=r||{}).username=t,r.password=e,new this(r).signUp({},n)}},{key:"logIn",value:function(t,e,r){if("string"!==typeof t)return s.default.reject(new w.default(w.default.OTHER_CAUSE,"Username must be a string."));if("string"!==typeof e)return s.default.reject(new w.default(w.default.OTHER_CAUSE,"Password must be a string."));var n=new this;return n._finishFetch({username:t,password:e}),n.logIn(r)}},{key:"loginOrSignup",value:function(t,e){var r=this;return this.logIn(t,e).catch((function(n){if(101===n.code){var i=new r;return i.set("username",t),i.set("password",e),i.signUp()}throw n}))}},{key:"become",value:function(t,e){if(!k)throw new Error("It is not memory-safe to become a user in a server environment");var r={sessionToken:t};(e=e||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey);var n=b.default.getUserController(),i=new this;return n.become(i,r)}},{key:"me",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=b.default.getUserController(),n={sessionToken:t};e.useMasterKey&&(n.useMasterKey=e.useMasterKey);var i=new this;return r.me(i,n)}},{key:"hydrate",value:function(t){var e=b.default.getUserController(),r=new this;return e.hydrate(r,t)}},{key:"logInWith",value:function(t,e,r){return(new this).linkWith(t,e,r)}},{key:"logOut",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=b.default.getUserController();return e.logOut(t)}},{key:"requestPasswordReset",value:function(t,e){var r={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),b.default.getUserController().requestPasswordReset(t,r)}},{key:"requestEmailVerification",value:function(t,e){var r={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),b.default.getUserController().requestEmailVerification(t,r)}},{key:"verifyPassword",value:function(t,e,r){if("string"!==typeof t)return s.default.reject(new w.default(w.default.OTHER_CAUSE,"Username must be a string."));if("string"!==typeof e)return s.default.reject(new w.default(w.default.OTHER_CAUSE,"Password must be a string."));var n={};return(r=r||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=r.useMasterKey),b.default.getUserController().verifyPassword(t,e,n)}},{key:"allowCustomUserClass",value:function(t){b.default.set("PERFORM_USER_REWRITE",!t)}},{key:"enableRevocableSession",value:function(t){if(t=t||{},b.default.set("FORCE_REVOCABLE_SESSION",!0),k){var e=r.current();if(e)return e._upgradeToRevocableSession(t)}return s.default.resolve()}},{key:"enableUnsafeCurrentUser",value:function(){k=!0}},{key:"disableUnsafeCurrentUser",value:function(){k=!1}},{key:"_registerAuthenticationProvider",value:function(t){P[t.getAuthType()]=t,r.currentAsync().then((function(e){e&&e._synchronizeAuthData(t.getAuthType())}))}},{key:"_logInWith",value:function(t,e,r){return(new this).linkWith(t,e,r)}},{key:"_clearCache",value:function(){R=null,T=!1}},{key:"_setCurrentUserCache",value:function(t){R=t}}]),r}(x.default);x.default.registerSubclass("_User",I);var N={updateUserOnDisk:function(t){var e=M.default.generatePath(A),r=t.toJSON();delete r.password,r.className="_User";var n=(0,l.default)(r);b.default.get("ENCRYPTED_USER")&&(n=b.default.getCryptoController().encrypt(r,b.default.get("ENCRYPTED_KEY")));return M.default.setItemAsync(e,n).then((function(){return t}))},removeUserFromDisk:function(){var t=M.default.generatePath(A);return T=!0,R=null,M.default.removeItemAsync(t)},setCurrentUser:function(t){var e=this;return(0,h.default)(a.default.mark((function r(){var n;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.currentUserAsync();case 2:if(!(n=r.sent)||t.equals(n)||!y.default.isLinked(n)){r.next=6;break}return r.next=6,n.destroy({sessionToken:n.getSessionToken()});case 6:return R=t,t._cleanupAuthData(),t._synchronizeAllAuthData(),r.abrupt("return",N.updateUserOnDisk(t));case 10:case"end":return r.stop()}}),r)})))()},currentUser:function(){if(R)return R;if(T)return null;if(M.default.async())throw new Error("Cannot call currentUser() when using a platform with an async storage system. Call currentUserAsync() instead.");var t=M.default.generatePath(A),e=M.default.getItem(t);if(T=!0,!e)return R=null,null;b.default.get("ENCRYPTED_USER")&&(e=b.default.getCryptoController().decrypt(e,b.default.get("ENCRYPTED_KEY")));(e=JSON.parse(e)).className||(e.className="_User"),e._id&&(e.objectId!==e._id&&(e.objectId=e._id),delete e._id),e._sessionToken&&(e.sessionToken=e._sessionToken,delete e._sessionToken);var r=x.default.fromJSON(e);return R=r,r._synchronizeAllAuthData(),r},currentUserAsync:function(){if(R)return s.default.resolve(R);if(T)return s.default.resolve(null);var t=M.default.generatePath(A);return M.default.getItemAsync(t).then((function(t){if(T=!0,!t)return R=null,s.default.resolve(null);b.default.get("ENCRYPTED_USER")&&(t=b.default.getCryptoController().decrypt(t.toString(),b.default.get("ENCRYPTED_KEY")));(t=JSON.parse(t)).className||(t.className="_User"),t._id&&(t.objectId!==t._id&&(t.objectId=t._id),delete t._id),t._sessionToken&&(t.sessionToken=t._sessionToken,delete t._sessionToken);var e=x.default.fromJSON(t);return R=e,e._synchronizeAllAuthData(),s.default.resolve(e)}))},signUp:function(t,e,r){var n=e&&e.username||t.get("username"),i=e&&e.password||t.get("password");return n&&n.length?i&&i.length?t.save(e,r).then((function(){return t._finishFetch({password:void 0}),k?N.setCurrentUser(t):t})):s.default.reject(new w.default(w.default.OTHER_CAUSE,"Cannot sign up user with an empty password.")):s.default.reject(new w.default(w.default.OTHER_CAUSE,"Cannot sign up user with an empty username."))},logIn:function(t,e){var r=b.default.getRESTController(),n=b.default.getObjectStateController(),i={username:t.get("username"),password:t.get("password")};return r.request(e.usePost?"POST":"GET","login",i,e).then((function(e){return t._migrateId(e.objectId),t._setExisted(!0),n.setPendingOp(t._getStateIdentifier(),"username",void 0),n.setPendingOp(t._getStateIdentifier(),"password",void 0),e.password=void 0,t._finishFetch(e),k?N.setCurrentUser(t):s.default.resolve(t)}))},become:function(t,e){return b.default.getRESTController().request("GET","users/me",{},e).then((function(e){return t._finishFetch(e),t._setExisted(!0),N.setCurrentUser(t)}))},hydrate:function(t,e){return t._finishFetch(e),t._setExisted(!0),e.sessionToken&&k?N.setCurrentUser(t):s.default.resolve(t)},me:function(t,e){return b.default.getRESTController().request("GET","users/me",{},e).then((function(e){return t._finishFetch(e),t._setExisted(!0),t}))},logOut:function(t){r(42641).cleanup();var e=b.default.getRESTController();return t.sessionToken?e.request("POST","logout",{},t):N.currentUserAsync().then((function(t){var r=M.default.generatePath(A),n=M.default.removeItemAsync(r);if(null!==t){var i=y.default.isLinked(t),o=t.getSessionToken();o&&(0,_.default)(o)&&(n=n.then((function(){if(i)return t.destroy({sessionToken:o})})).then((function(){return e.request("POST","logout",{},{sessionToken:o})}))),t._logOutWithAll(),t._finishFetch({sessionToken:void 0}),t._clearServerData()}return T=!0,R=null,n}))},requestPasswordReset:function(t,e){return b.default.getRESTController().request("POST","requestPasswordReset",{email:t},e)},upgradeToRevocableSession:function(t,e){var r=t.getSessionToken();return r?(e.sessionToken=r,b.default.getRESTController().request("POST","upgradeToRevocableSession",{},e).then((function(e){var r=new E.default;return r._finishFetch(e),t._finishFetch({sessionToken:r.getSessionToken()}),t.isCurrent()?N.setCurrentUser(t):s.default.resolve(t)}))):s.default.reject(new w.default(w.default.SESSION_MISSING,"Cannot upgrade a user with no session token"))},linkWith:function(t,e,r){return t.save({authData:e},r).then((function(){return k?N.setCurrentUser(t):t}))},verifyPassword:function(t,e,r){return b.default.getRESTController().request("GET","verifyPassword",{username:t,password:e},r)},requestEmailVerification:function(t,e){return b.default.getRESTController().request("POST","verificationEmailRequest",{email:t},e)}};b.default.setUserController(N);var O=I;e.default=O},91689:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.send=function(t){t.where&&t.where instanceof s.default&&(t.where=t.where.toJSON().where);t.push_time&&"object"===(0,o.default)(t.push_time)&&(t.push_time=t.push_time.toJSON());t.expiration_time&&"object"===(0,o.default)(t.expiration_time)&&(t.expiration_time=t.expiration_time.toJSON());if(t.expiration_time&&t.expiration_interval)throw new Error("expiration_time and expiration_interval cannot both be set.");return a.default.getPushController().send(t)};var o=i(r(23765)),a=i(r(22336)),s=i(r(52208));var u={send:function(t){return a.default.getRESTController().request("POST","push",t,{useMasterKey:!0})}};a.default.setPushController(u)},2809:function(t,e,r){"use strict";var n=r(86902),i=r(14310),o=r(20116),a=r(34074),s=r(78914),u=r(39649),l=r(20368),h=r(63978),c=r(60530),f=c(r(87672)),d=c(r(23765)),p=c(r(93476)),v=c(r(59340)),m=c(r(78580)),g=c(r(33032)),y=c(r(77766)),b=c(r(22336)),_=c(r(18702)),w=r(79689);function x(t,e){var r=n(t);if(i){var s=i(t);e&&(s=o(s).call(s,(function(e){return a(t,e).enumerable}))),r.push.apply(r,s)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?s(r=x(Object(i),!0)).call(r,(function(e){(0,f.default)(t,e,i[e])})):u?l(t,u(i)):s(n=x(Object(i))).call(n,(function(e){h(t,e,a(i,e))}))}return t}var M=r(75658).v4,S=null;"undefined"!==typeof XMLHttpRequest&&(S=XMLHttpRequest);var A=!1;"undefined"===typeof XDomainRequest||"withCredentials"in new XMLHttpRequest||(A=!0);var k={ajax:function(t,e,r,n,i){var o;if(A)return function(t,e,r,n,i){return new p.default((function(n,o){var a=new XDomainRequest;a.onload=function(){var t;try{t=JSON.parse(a.responseText)}catch(e){o(e)}t&&n({response:t})},a.onerror=a.ontimeout=function(){var t={responseText:(0,v.default)({code:_.default.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};o(t)},a.onprogress=function(){i&&"function"===typeof i.progress&&i.progress(a.responseText)},a.open(t,e),a.send(r),i&&"function"===typeof i.requestTask&&i.requestTask(a)}))}(t,e,r,0,i);var a=(0,w.resolvingPromise)(),s=b.default.get("IDEMPOTENCY")&&(0,m.default)(o=["POST","PUT"]).call(o,t),u=s?M():"",l=0;return function o(){if(null==S)throw new Error("Cannot make a request: No definition of XMLHttpRequest was found.");var h,c,f=!1,d=new S;(d.onreadystatechange=function(){if(4===d.readyState&&!f&&!d._aborted)if(f=!0,d.status>=200&&d.status<300){var t;try{var e;if(t=JSON.parse(d.responseText),"function"===typeof d.getResponseHeader)(0,m.default)(e=d.getAllResponseHeaders()||"").call(e,"x-parse-job-status-id: ")&&(t=d.getResponseHeader("x-parse-job-status-id"))}catch(n){a.reject(n.toString())}t&&a.resolve({response:t,status:d.status,xhr:d})}else if(d.status>=500||0===d.status)if(++l<b.default.get("REQUEST_ATTEMPT_LIMIT")){var r=Math.round(125*Math.random()*Math.pow(2,l));(0,g.default)(o,r)}else 0===d.status?a.reject("Unable to connect to the Parse API"):a.reject(d);else a.reject(d)},"string"!==typeof(n=n||{})["Content-Type"]&&(n["Content-Type"]="text/plain"),b.default.get("IS_NODE"))&&(n["User-Agent"]=(0,y.default)(h="Parse/".concat(b.default.get("VERSION")," (NodeJS ")).call(h,process.versions.node,")"));(s&&(n["X-Parse-Request-Id"]=u),b.default.get("SERVER_AUTH_TYPE")&&b.default.get("SERVER_AUTH_TOKEN"))&&(n.Authorization=(0,y.default)(c="".concat(b.default.get("SERVER_AUTH_TYPE")," ")).call(c,b.default.get("SERVER_AUTH_TOKEN")));var p=b.default.get("REQUEST_HEADERS");for(var v in p)n[v]=p[v];function _(t,e){i&&"function"===typeof i.progress&&(e.lengthComputable?i.progress(e.loaded/e.total,e.loaded,e.total,{type:t}):i.progress(null,null,null,{type:t}))}for(var w in d.onprogress=function(t){_("download",t)},d.upload&&(d.upload.onprogress=function(t){_("upload",t)}),d.open(t,e,!0),n)d.setRequestHeader(w,n[w]);d.onabort=function(){a.resolve({response:{results:[]},status:0,xhr:d})},d.send(r),i&&"function"===typeof i.requestTask&&i.requestTask(d)}(),a},request:function(t,e,r,n){n=n||{};var i=b.default.get("SERVER_URL");"/"!==i[i.length-1]&&(i+="/"),i+=e;var o={};if(r&&"object"===(0,d.default)(r))for(var a in r)o[a]=r[a];var s=n.context;void 0!==s&&(o._context=s),"POST"!==t&&(o._method=t,t="POST"),o._ApplicationId=b.default.get("APPLICATION_ID");var u=b.default.get("JAVASCRIPT_KEY");u&&(o._JavaScriptKey=u),o._ClientVersion=b.default.get("VERSION");var l=n.useMasterKey;"undefined"===typeof l&&(l=b.default.get("USE_MASTER_KEY")),l&&b.default.get("MASTER_KEY")&&(delete o._JavaScriptKey,o._MasterKey=b.default.get("MASTER_KEY")),b.default.get("FORCE_REVOCABLE_SESSION")&&(o._RevocableSession="1");var h,c=n.installationId;c&&"string"===typeof c?h=p.default.resolve(c):h=b.default.getInstallationController().currentInstallationId();return h.then((function(t){o._InstallationId=t;var e=b.default.getUserController();return n&&"string"===typeof n.sessionToken?p.default.resolve(n.sessionToken):e?e.currentUserAsync().then((function(t){return t?p.default.resolve(t.getSessionToken()):p.default.resolve(null)})):p.default.resolve(null)})).then((function(e){e&&(o._SessionToken=e);var r=(0,v.default)(o);return k.ajax(t,i,r,{},n).then((function(t){var e=t.response,r=t.status;return n.returnStatus?E(E({},e),{},{_status:r}):e}))})).catch(k.handleError)},handleError:function(t){var e;if(t&&t.responseText)try{var r=JSON.parse(t.responseText);e=new _.default(r.code,r.error)}catch(i){e=new _.default(_.default.INVALID_JSON,"Received an error with invalid JSON from Parse: ".concat(t.responseText))}else{var n=t.message?t.message:t;e=new _.default(_.default.CONNECTION_FAILED,"XMLHttpRequest failed: ".concat((0,v.default)(n)))}return p.default.reject(e)},_setXHR:function(t){S=t},_getXHR:function(){return S}};t.exports=k},82417:function(t,e,r){"use strict";var n=r(23765),i=r(52424),o=r(63978),a=r(34074);o(e,"__esModule",{value:!0}),e.clearAllState=function(){l={}},e.commitServerChanges=function(t,e){var r=c(t);s.commitServerChanges(r.serverData,r.objectCache,e)},e.duplicateState=function(t,e){e.id=t.id},e.enqueueTask=function(t,e){return c(t).tasks.enqueue(e)},e.estimateAttribute=function(t,e){var r=f(t),n=d(t);return s.estimateAttribute(r,n,t.className,t.id,e)},e.estimateAttributes=function(t){var e=f(t),r=d(t);return s.estimateAttributes(e,r,t.className,t.id)},e.getObjectCache=function(t){var e=h(t);if(e)return e.objectCache;return{}},e.getPendingOps=d,e.getServerData=f,e.getState=h,e.initializeState=c,e.mergeFirstPendingState=function(t){var e=d(t);s.mergeFirstPendingState(e)},e.popPendingState=function(t){var e=c(t).pendingOps;return s.popPendingState(e)},e.pushPendingState=function(t){var e=c(t).pendingOps;s.pushPendingState(e)},e.removeState=function(t){var e=h(t);if(null===e)return null;return delete l[t.className][t.id],e},e.setPendingOp=function(t,e,r){var n=c(t).pendingOps;s.setPendingOp(n,e,r)},e.setServerData=function(t,e){var r=c(t).serverData;s.setServerData(r,e)};var s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=u(e);if(r&&r.has(t))return r.get(t);var i={};for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var l=o&&a?a(t,s):null;l&&(l.get||l.set)?o(i,s,l):i[s]=t[s]}i.default=t,r&&r.set(t,i);return i}(r(47676));function u(t){if("function"!==typeof i)return null;var e=new i,r=new i;return(u=function(t){return t?r:e})(t)}var l={};function h(t){var e=l[t.className];return e&&e[t.id]||null}function c(t,e){var r=h(t);return r||(l[t.className]||(l[t.className]={}),e||(e=s.defaultState()),r=l[t.className][t.id]=e)}function f(t){var e=h(t);return e?e.serverData:{}}function d(t){var e=h(t);return e?e.pendingOps:[{}]}},95436:function(t,e,r){"use strict";var n=r(60530),i=n(r(93476)),o=n(r(77766)),a=n(r(22336)),s={async:function(){return!!a.default.getStorageController().async},getItem:function(t){var e=a.default.getStorageController();if(1===e.async)throw new Error("Synchronous storage is not supported by the current storage controller");return e.getItem(t)},getItemAsync:function(t){var e=a.default.getStorageController();return 1===e.async?e.getItemAsync(t):i.default.resolve(e.getItem(t))},setItem:function(t,e){var r=a.default.getStorageController();if(1===r.async)throw new Error("Synchronous storage is not supported by the current storage controller");return r.setItem(t,e)},setItemAsync:function(t,e){var r=a.default.getStorageController();return 1===r.async?r.setItemAsync(t,e):i.default.resolve(r.setItem(t,e))},removeItem:function(t){var e=a.default.getStorageController();if(1===e.async)throw new Error("Synchronous storage is not supported by the current storage controller");return e.removeItem(t)},removeItemAsync:function(t){var e=a.default.getStorageController();return 1===e.async?e.removeItemAsync(t):i.default.resolve(e.removeItem(t))},getAllKeys:function(){var t=a.default.getStorageController();if(1===t.async)throw new Error("Synchronous storage is not supported by the current storage controller");return t.getAllKeys()},getAllKeysAsync:function(){var t=a.default.getStorageController();return 1===t.async?t.getAllKeysAsync():i.default.resolve(t.getAllKeys())},generatePath:function(t){var e;if(!a.default.get("APPLICATION_ID"))throw new Error("You need to call Moralis.start with an applicationId before using Moralis.");if("string"!==typeof t)throw new Error("Tried to get a Storage path that was not a String.");return"/"===t[0]&&(t=t.substr(1)),(0,o.default)(e="Parse/".concat(a.default.get("APPLICATION_ID"),"/")).call(e,t)},_clear:function(){var t=a.default.getStorageController();t.hasOwnProperty("clear")&&t.clear()}};t.exports=s,a.default.setStorageController(r(43058))},43058:function(t){"use strict";var e={async:0,getItem:function(t){return localStorage.getItem(t)},setItem:function(t,e){try{localStorage.setItem(t,e)}catch(r){console.log(r.message)}},removeItem:function(t){localStorage.removeItem(t)},getAllKeys:function(){for(var t=[],e=0;e<localStorage.length;e+=1)t.push(localStorage.key(e));return t},clear:function(){localStorage.clear()}};t.exports=e},73842:function(t,e,r){"use strict";var n=r(60530),i=n(r(26394)),o=n(r(69198)),a=n(r(87672)),s=r(79689),u=function(){function t(){(0,i.default)(this,t),(0,a.default)(this,"queue",void 0),this.queue=[]}return(0,o.default)(t,[{key:"enqueue",value:function(t){var e=this,r=new s.resolvingPromise;return this.queue.push({task:t,_completion:r}),1===this.queue.length&&t().then((function(){e._dequeue(),r.resolve()}),(function(t){e._dequeue(),r.reject(t)})),r}},{key:"_dequeue",value:function(){var t=this;if(this.queue.shift(),this.queue.length){var e=this.queue[0];e.task().then((function(){t._dequeue(),e._completion.resolve()}),(function(r){t._dequeue(),e._completion.reject(r)}))}}}]),t}();t.exports=u},5257:function(t,e,r){"use strict";var n=r(60530),i=n(r(86902)),o=n(r(81643)),a=n(r(97657)),s=["native","erc20","erc721","erc1155"],u={native:{receiver:"",amount:""},erc20:{contractAddress:"",receiver:"",amount:""},erc721:{contractAddress:"",receiver:"",tokenId:""},erc1155:{contractAddress:"",receiver:"",tokenId:"",amount:""}},l=function(t){return!("undefined"===typeof t||!t)};t.exports={abi:{erc1155:[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],outputs:[{name:"",type:"bool"}],name:"safeTransferFrom",type:"function",constant:!1,payable:!1},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],outputs:[{name:"",type:"bool"}],name:"transferFrom",type:"function",constant:!1,payable:!1}],erc721:[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"bool"}],name:"safeTransferFrom",type:"function",constant:!1,payable:!1},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"bool"}],name:"transferFrom",type:"function",constant:!1,payable:!1}],erc20:[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]},validateInput:function(t,e){for(var r=[],n=u[t],o=0,a=(0,i.default)(n);o<a.length;o++){var s=a[o];l(e[s])||r.push("".concat(s," is required"))}if(r.length>0)throw r},isSupportedType:function(t){if(-1===(0,o.default)(s).call(s,t))throw"Unsupported type";return!0},isNotEmpty:l,isUint256:function(t){if(!(0,a.default)(+t)||+t<0)throw new Error("Invalid token Id");return!0}}},91260:function(t,e,r){"use strict";var n=r(23765),i=r(52424),o=r(63978),a=r(34074),s=r(60530);o(e,"__esModule",{value:!0}),e.clearAllState=function(){f=new u.default},e.commitServerChanges=function(t,e){var r=p(t);l.commitServerChanges(r.serverData,r.objectCache,e)},e.duplicateState=function(t,e){var r=p(t),n=p(e);for(var i in r.serverData)n.serverData[i]=r.serverData[i];for(var o=0;o<r.pendingOps.length;o++)for(var a in r.pendingOps[o])n.pendingOps[o][a]=r.pendingOps[o][a];for(var s in r.objectCache)n.objectCache[s]=r.objectCache[s];n.existed=r.existed},e.enqueueTask=function(t,e){return p(t).tasks.enqueue(e)},e.estimateAttribute=function(t,e){var r=v(t),n=m(t);return l.estimateAttribute(r,n,t.className,t.id,e)},e.estimateAttributes=function(t){var e=v(t),r=m(t);return l.estimateAttributes(e,r,t.className,t.id)},e.getObjectCache=function(t){var e=d(t);if(e)return e.objectCache;return{}},e.getPendingOps=m,e.getServerData=v,e.getState=d,e.initializeState=p,e.mergeFirstPendingState=function(t){var e=m(t);l.mergeFirstPendingState(e)},e.popPendingState=function(t){var e=p(t).pendingOps;return l.popPendingState(e)},e.pushPendingState=function(t){var e=p(t).pendingOps;l.pushPendingState(e)},e.removeState=function(t){var e=d(t);if(null===e)return null;return f.delete(t),e},e.setPendingOp=function(t,e,r){var n=p(t).pendingOps;l.setPendingOp(n,e,r)},e.setServerData=function(t,e){var r=p(t).serverData;l.setServerData(r,e)};var u=s(r(52424)),l=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!==typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var i={};for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=o&&a?a(t,s):null;u&&(u.get||u.set)?o(i,s,u):i[s]=t[s]}i.default=t,r&&r.set(t,i);return i}(r(47676)),h=s(r(73842));function c(t){if("function"!==typeof i)return null;var e=new i,r=new i;return(c=function(t){return t?r:e})(t)}var f=new u.default;function d(t){return f.get(t)||null}function p(t,e){var r=d(t);return r||(e||(e={serverData:{},pendingOps:[{}],objectCache:{},tasks:new h.default,existed:!1}),r=e,f.set(t,r),r)}function v(t){var e=d(t);return e?e.serverData:{}}function m(t){var e=d(t);return e?e.pendingOps:[{}]}},96895:function(t,e,r){"use strict";var n=r(60530),i=n(r(26394)),o=n(r(69198)),a=r(60186),s=function(){function t(){(0,i.default)(this,t)}return(0,o.default)(t,null,[{key:"ETH",value:function(t){return a.ethers.utils.parseEther("".concat(t)).toString()}},{key:"Token",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return a.ethers.utils.parseUnits("".concat(t),+e).toString()}},{key:"FromWei",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,r=a.ethers.utils.formatUnits(t,e),n=r.split(".");return"0"===n[1]?n[0]:r}}]),t}();t.exports=s},17643:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(63109)),s=o(r(54103)),u=o(r(51161)),l=o(r(26394)),h=o(r(69198)),c=o(r(5824)),f=o(r(51379)),d=o(r(214)),p=o(r(66380)),v=o(r(87672)),m=o(r(47465)),g=o(r(11806)),y=r(1061);function b(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,p.default)(t);if(e){var o=(0,p.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,d.default)(this,r)}}var _=function(t){(0,f.default)(r,t);var e=b(r);function r(){var t,n,i,o,a;return(0,l.default)(this,r),a=e.call(this),(0,v.default)((0,c.default)(a),"type","abstract"),(0,v.default)((0,c.default)(a),"network","evm"),(0,v.default)((0,c.default)(a),"account",null),(0,v.default)((0,c.default)(a),"chainId",null),a.handleAccountsChanged=(0,s.default)(t=a.handleAccountsChanged).call(t,(0,c.default)(a)),a.handleChainChanged=(0,s.default)(n=a.handleChainChanged).call(n,(0,c.default)(a)),a.handleConnect=(0,s.default)(i=a.handleConnect).call(i,(0,c.default)(a)),a.handleDisconnect=(0,s.default)(o=a.handleDisconnect).call(o,(0,c.default)(a)),a}return(0,h.default)(r,[{key:"subscribeToEvents",value:function(t){t&&t.on&&(t.on(y.EthereumEvents.CHAIN_CHANGED,this.handleChainChanged),t.on(y.EthereumEvents.ACCOUNTS_CHANGED,this.handleAccountsChanged),t.on(y.EthereumEvents.CONNECT,this.handleConnect),t.on(y.EthereumEvents.DISCONNECT,this.handleDisconnect))}},{key:"unsubscribeToEvents",value:function(t){t&&t.removeListener&&(t.removeListener(y.EthereumEvents.CHAIN_CHANGED,this.handleChainChanged),t.removeListener(y.EthereumEvents.ACCOUNTS_CHANGED,this.handleAccountsChanged),t.removeListener(y.EthereumEvents.CONNECT,this.handleConnect),t.removeListener(y.EthereumEvents.DISCONNECT,this.handleDisconnect))}},{key:"activate",value:function(){var t=(0,u.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: activate()");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"handleAccountsChanged",value:function(t){var e=t&&t[0]?t[0].toLowerCase():null;this.account=e,this.emit(y.ConnectorEvents.ACCOUNT_CHANGED,e)}},{key:"handleChainChanged",value:function(t){var e=(0,g.default)(t);this.chainId=e,this.emit(y.ConnectorEvents.CHAIN_CHANGED,e)}},{key:"handleConnect",value:function(t){this.emit(y.ConnectorEvents.CONNECT,t)}},{key:"handleDisconnect",value:function(t){this.emit(y.ConnectorEvents.DISCONNECT,t)}},{key:"deactivate",value:function(){var t=(0,u.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.unsubscribeToEvents(this.provider),this.account=null,this.chainId=null;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(m.default),w=_;e.default=w},19425:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=e.InjectedEvents=void 0;var a=o(r(63109)),s=o(r(18777)),u=o(r(51161)),l=o(r(5824)),h=o(r(87672)),c=o(r(69198)),f=o(r(26394)),d=o(r(51379)),p=o(r(214)),v=o(r(66380)),m=o(r(74803)),g=o(r(56474)),y=o(r(77766)),b=o(r(93476)),_=o(r(17643)),w=(o(r(47465)),o(r(11806)));function x(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,v.default)(t);if(e){var o=(0,v.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,p.default)(this,r)}}var E=(0,g.default)({ACCOUNTS_CHANGED:"accountsChanged",CHAIN_CHANGED:"chainChanged",CONNECT:"connect",DISCONNECT:"disconnect"});e.InjectedEvents=E;var M=function(t){(0,d.default)(r,t);var e=x(r);function r(){var t;return(0,f.default)(this,r),(t=e.call(this)).message="Non ethereum enabled browser",t}return(0,c.default)(r)}((0,m.default)(Error)),S=function(t){(0,d.default)(r,t);var e=x(r);function r(){var t,n;(0,f.default)(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=e.call.apply(e,(0,y.default)(t=[this]).call(t,o)),(0,h.default)((0,l.default)(n),"type","injected"),n}return(0,c.default)(r,[{key:"verifyEthereumBrowser",value:function(){var t;if(null===(t=window)||void 0===t||!t.ethereum)throw new M}},{key:"activate",value:function(){var t=(0,u.default)(a.default.mark((function t(){var e,r,n,i,o,u;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.verifyEthereumBrowser(),t.next=3,b.default.all([window.ethereum.request({method:"eth_requestAccounts"}),window.ethereum.request({method:"eth_chainId"})]);case 3:return e=t.sent,r=(0,s.default)(e,2),n=r[0],i=r[1],o=n[0]?n[0].toLowerCase():null,u=window.ethereum,this.chainId=i,this.account=o,this.provider=u,this.subscribeToEvents(u),t.abrupt("return",{provider:u,chainId:i,account:o});case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"switchNetwork",value:function(){var t=(0,u.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.verifyEthereumBrowser(),e=(0,w.default)(e),this.chainId!==e){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:e}]});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"addNetwork",value:function(){var t=(0,u.default)(a.default.mark((function t(e,r,n,i,o,s){var u;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.verifyEthereumBrowser(),u=(0,w.default)(e),t.next=4,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:u,chainName:r,nativeCurrency:{name:n,symbol:i,decimals:18},rpcUrls:[o],blockExplorerUrls:s?[s]:null}]});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(_.default),A=S;e.default=A},85406:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(63109)),s=o(r(77766)),u=o(r(51161)),l=o(r(26394)),h=o(r(69198)),c=o(r(5824)),f=o(r(51379)),d=o(r(214)),p=o(r(66380)),v=o(r(87672)),m=r(60186);function g(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,p.default)(t);if(e){var o=(0,p.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,d.default)(this,r)}}var y=function(t){(0,f.default)(n,t);var e=g(n);function n(){var t,r;(0,l.default)(this,n);for(var i=arguments.length,o=new Array(i),h=0;h<i;h++)o[h]=arguments[h];return r=e.call.apply(e,(0,s.default)(t=[this]).call(t,o)),(0,v.default)((0,c.default)(r),"type","MagicLink"),(0,v.default)((0,c.default)(r),"deactivate",(0,u.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.unsubscribeToEvents(r.provider),!r.magicUser){t.next=4;break}return t.next=4,r.magicUser.user.logout();case 4:r.account=null,r.chainId=null,r.provider=null;case 7:case"end":return t.stop()}}),t)})))),r}return(0,h.default)(n,[{key:"activate",value:function(){var t=(0,u.default)(a.default.mark((function t(){var e,n,i,o,s,u,l,h,c,f,d,p,v,g,y,b,_,w=arguments;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=w.length>0&&void 0!==w[0]?w[0]:{},n=e.email,i=e.apiKey,o=e.network,s=e.newSession,u=null,l=null,n){t.next=5;break}throw new Error('"email" not provided, please provide Email');case 5:if(i){t.next=7;break}throw new Error('"apiKey" not provided, please provide Api Key');case 7:if(o){t.next=9;break}throw new Error('"network" not provided, please provide network');case 9:try{h=null===(c=r(Object(function(){var t=new Error("Cannot find module 'magic-sdk'");throw t.code="MODULE_NOT_FOUND",t}())))||void 0===c?void 0:c.Magic}catch(a){}if(h||(h=null===(f=window)||void 0===f?void 0:f.Magic),h){t.next=13;break}throw new Error('Cannot enable via MagicLink: dependency "magic-sdk" is missing');case 13:if(t.prev=13,u=new h(i,{network:o}),!s){t.next=24;break}if(null===(d=u)||void 0===d||!d.user){t.next=24;break}return t.prev=17,t.next=20,null===(p=u)||void 0===p||null===(v=p.user)||void 0===v?void 0:v.logout();case 20:t.next=24;break;case 22:t.prev=22,t.t0=t.catch(17);case 24:return l=new m.ethers.providers.Web3Provider(u.rpcProvider),t.next=27,u.auth.loginWithMagicLink({email:n});case 27:t.next=32;break;case 29:throw t.prev=29,t.t1=t.catch(13),new Error("Error during enable via MagicLink, please double check network and apikey");case 32:return t.next=34,u.user.isLoggedIn();case 34:if(!t.sent){t.next=50;break}return g=l.getSigner(),t.next=39,l.getNetwork();case 39:return y=t.sent,b=y.chainId,t.next=43,g.getAddress();case 43:return _=t.sent.toLowerCase(),this.account=_,this.provider=l.provider,this.chainId="0x".concat(b.toString(16)),this.magicUser=u,this.subscribeToEvents(this.provider),t.abrupt("return",{provider:this.provider,account:this.account,chainId:this.chainId});case 50:throw new Error("Error during enable via MagicLink, login to magic failed");case 51:case"end":return t.stop()}}),t,this,[[13,29],[17,22]])})));return function(){return t.apply(this,arguments)}}()}]),n}(o(r(17643)).default);e.default=y},19005:function(t,e,r){"use strict";r(63978)(e,"__esModule",{value:!0}),e.getMoralisRpcs=void 0;e.getMoralisRpcs=function(t){return{1:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/eth/mainnet"),3:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/eth/ropsten"),4:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/eth/rinkeby"),5:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/eth/goerli"),42:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/eth/kovan"),137:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/polygon/mainnet"),80001:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/polygon/mumbai"),56:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/bsc/mainnet"),97:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/bsc/testnet"),43114:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/avalanche/mainnet"),43113:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/avalanche/testnet"),250:"https://speedy-nodes-nyc.moralis.io/".concat(t,"/fantom/mainnet")}}},74730:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=void 0;var a=o(r(63109)),s=o(r(59340)),u=o(r(77766)),l=o(r(39969)),h=o(r(86902)),c=o(r(32366)),f=o(r(5824)),d=o(r(51379)),p=o(r(214)),v=o(r(66380)),m=o(r(51161)),g=o(r(69198)),y=o(r(26394)),b=o(r(87672)),_=o(r(22336)),w=r(45301),x=o(r(11806)),E=o(r(17643)),M=r(19005),S=r(60186);function A(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,v.default)(t);if(e){var o=(0,v.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,p.default)(this,r)}}var k=(0,g.default)((function t(e,r){var n=this;(0,y.default)(this,t),(0,b.default)(this,"request",function(){var t=(0,m.default)(a.default.mark((function t(e,r){var i,o,l,h,c,f,d,p;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"!==typeof e&&(r=e.params,e=e.method),i=_.default.getRESTController(),t.prev=2,t.next=5,i.ajax("POST",n.url,(0,s.default)({jsonrpc:"2.0",id:1,method:e,params:r}),{"Content-Type":"application/json"});case 5:if(o=t.sent){t.next=8;break}throw new Error("No response");case 8:if(o.status&&!(o.status>400)){t.next=10;break}throw new Error((0,u.default)(l="Error response [".concat(o.status,"] ")).call(l,o.statusText));case 10:if(!("error"in(h=o.response))){t.next=13;break}throw new Error(null===h||void 0===h||null===(c=h.error)||void 0===c?void 0:c.message,null===h||void 0===h||null===(f=h.error)||void 0===f?void 0:f.code,null===h||void 0===h||null===(d=h.error)||void 0===d?void 0:d.data);case 13:if("result"in h){t.next=15;break}throw new Error("Received unexpected JSON-RPC response");case 15:return t.abrupt("return",h.result);case 18:throw t.prev=18,t.t0=t.catch(2),new Error((0,u.default)(p='Failed to make "'.concat(e,'" request with networkConnector: "')).call(p,t.t0.message,'"'));case 21:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(){return t.apply(this,arguments)}}()),this.chainId=e,this.url=r;var i=new l.default(r);this.host=i.host,this.path=i.pathname})),T=function(t){(0,d.default)(r,t);var e=A(r);function r(){var t,n,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.urls,s=o.defaultChainId,u=o.chainId,l=o.speedyNodeApiKey;if((0,y.default)(this,r),i=e.call(this),(0,b.default)((0,f.default)(i),"type","network"),!a&&l&&(a=(0,M.getMoralisRpcs)(l)),!a&&!l)throw new Error("Cannot connect to rpc: No urls or speedyNodeApiKey provided for NetworkWeb3Connector.");return l&&console.warn("Moralis: Using speedyNodeApiKey on the browser enviroment is not recommended, as it is publicly visible."),i.chainId=(0,x.default)(null!==(t=null!==u&&void 0!==u?u:s)&&void 0!==t?t:Number((0,h.default)(a)[0])),i.providers=(0,c.default)(n=(0,h.default)(a)).call(n,(function(t,e){return t[Number(e)]=new k(Number(e),a[Number(e)]),t}),{}),i}return(0,g.default)(r,[{key:"activate",value:function(){var t=(0,m.default)(a.default.mark((function t(){var e,r,n,i,o,s=arguments;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]?s[0]:{},r=e.chainId,n=e.privateKey,i=void 0===n?null:n,r&&(this.chainId=(0,x.default)(r)),o=this.providers[(0,w.fromHexToDecimal)(this.chainId)]){t.next=5;break}throw new Error("No rpc url provided for chainId ".concat(this.chainId));case 5:if(null==i){t.next=9;break}return t.next=8,new S.ethers.Wallet(i).getAddress();case 8:this.account=t.sent;case 9:return t.abrupt("return",{provider:o,chainId:this.chainId,account:this.account});case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(E.default),R=T;e.default=R},22836:function(t,e,r){"use strict";var n=r(1068),i=r(63978),o=r(60530);i(e,"__esModule",{value:!0}),e.default=e.WalletConnectEvent=void 0;var a=o(r(63109)),s=o(r(51161)),u=o(r(26394)),l=o(r(69198)),h=o(r(5824)),c=o(r(51379)),f=o(r(214)),d=o(r(66380)),p=o(r(87672)),v=o(r(56474)),m=o(r(77766)),g=o(r(11806)),y=o(r(17643)),b=(r(1061),r(19005));function _(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,d.default)(t);if(e){var o=(0,d.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,f.default)(this,r)}}var w=(0,v.default)({ACCOUNTS_CHANGED:"accountsChanged",CHAIN_CHANGED:"chainChanged",DISCONNECT:"disconnect"});e.WalletConnectEvent=w;var x=function(t){(0,c.default)(n,t);var e=_(n);function n(){var t,r;(0,u.default)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=e.call.apply(e,(0,m.default)(t=[this]).call(t,o)),(0,p.default)((0,h.default)(r),"type","WalletConnect"),r}return(0,l.default)(n,[{key:"activate",value:function(){var t=(0,s.default)(a.default.mark((function t(){var e,n,i,o,s,u,l,h,c,f,d,p,v=arguments;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=v.length>0&&void 0!==v[0]?v[0]:{},n=e.chainId,i=e.mobileLinks,e.newSession&&this.cleanup(),this.provider){t.next=9;break}s={rpc:(0,b.getMoralisRpcs)("WalletConnect"),chainId:n,qrcodeModalOptions:{mobileLinks:i}};try{o=null===(u=r(Object(function(){var t=new Error("Cannot find module '@walletconnect/web3-provider'");throw t.code="MODULE_NOT_FOUND",t}())))||void 0===u?void 0:u.default}catch(a){}if(o||(o=null===(l=window)||void 0===l||null===(h=l.WalletConnectProvider)||void 0===h?void 0:h.default),o){t.next=8;break}throw new Error('Cannot enable via WalletConnect: dependency "@walletconnect/web3-provider" is missing');case 8:this.provider="function"===typeof o?new o(s):new window.WalletConnectProvider(s);case 9:if(this.provider){t.next=11;break}throw new Error("Could not connect via WalletConnect, error in connecting to provider");case 11:return t.next=13,this.provider.enable();case 13:return c=t.sent,f=c[0].toLowerCase(),d=this.provider.chainId,p=(0,g.default)(d),this.account=f,this.chainId=p,this.subscribeToEvents(this.provider),t.abrupt("return",{provider:this.provider,account:f,chainId:p});case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"cleanup",value:function(){try{window&&window.localStorage.removeItem("walletconnect")}catch(t){}}},{key:"deactivate",value:function(){var t=(0,s.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.unsubscribeToEvents(this.provider),!this.provider){t.next=9;break}return t.prev=2,t.next=5,this.provider.close();case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:this.account=null,this.chainId=null,this.provider=null;case 12:case"end":return t.stop()}}),t,this,[[2,7]])})));return function(){return t.apply(this,arguments)}}()}]),n}(y.default),E=x;e.default=E},49785:function(t,e,r){"use strict";var n=r(1068),i=r(86902),o=r(14310),a=r(20116),s=r(34074),u=r(78914),l=r(39649),h=r(20368),c=r(63978),f=r(60530);c(e,"__esModule",{value:!0}),e.Web3Auth=void 0;var d=f(r(63109)),p=f(r(77766)),v=f(r(93476)),m=f(r(51161)),g=f(r(69198)),y=f(r(26394)),b=f(r(5824)),_=f(r(51379)),w=f(r(214)),x=f(r(66380)),E=f(r(87672)),M=r(60186),S=f(r(11806));function A(t,e){var r=i(t);if(o){var n=o(t);e&&(n=a(n).call(n,(function(e){return s(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r,n,i=null!=arguments[e]?arguments[e]:{};e%2?u(r=A(Object(i),!0)).call(r,(function(e){(0,E.default)(t,e,i[e])})):l?h(t,l(i)):u(n=A(Object(i))).call(n,(function(e){c(t,e,s(i,e))}))}return t}function T(t){var e=function(){if("undefined"===typeof Reflect||!n)return!1;if(n.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(n(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,x.default)(t);if(e){var o=(0,x.default)(this).constructor;r=n(i,arguments,o)}else r=i.apply(this,arguments);return(0,w.default)(this,r)}}var R=function(t){(0,_.default)(n,t);var e=T(n);function n(){var t,i;(0,y.default)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return i=e.call.apply(e,(0,p.default)(t=[this]).call(t,a)),(0,E.default)((0,b.default)(i),"type","web3Auth"),(0,E.default)((0,b.default)(i),"connect",(function(t){return new v.default((function(e,r){!function(t){t.loginModal.on("MODAL_VISIBILITY",function(){var t=(0,m.default)(d.default.mark((function t(e){return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e||r(new Error("Web3Auth: User closed login modal."));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}())}(t),t.connect().then(e).catch(r)}))})),(0,E.default)((0,b.default)(i),"activate",(0,m.default)(d.default.mark((function t(){var e,n,o,a,s,u,l,h,c,f,p,m,g,y,b,_,w,x,E,A,T,R,P,I,N,O,C=arguments;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=C.length>0&&void 0!==C[0]?C[0]:{},n=e.chainId,o=void 0===n?"0x1":n,a=e.clientId,s=e.theme,u=e.appLogo,l=e.loginMethodsOrder,h=e.rpcTarget,c=e.displayName,f=e.blockExplorer,p=e.ticker,m=e.tickerName,a){t.next=3;break}throw new Error('"clientId" not provided, please provide clientId');case 3:try{g=null===(y=r(Object(function(){var t=new Error("Cannot find module '@web3auth/web3auth'");throw t.code="MODULE_NOT_FOUND",t}())))||void 0===y?void 0:y.Web3Auth}catch(d){}if(g||(g=null===(b=window)||void 0===b||null===(_=b.Web3auth)||void 0===_?void 0:_.Web3Auth),g){t.next=7;break}throw new Error('"@web3auth/web3auth" not installed, please install');case 7:w=k(k(k(k(k({chainNamespace:"eip155",chainId:(0,S.default)(o)},h&&{rpcTarget:h}),c&&{displayName:c}),f&&{blockExplorer:f}),p&&{ticker:p}),m&&{tickerName:m});try{x=new g({chainConfig:w,uiConfig:{theme:null!==s&&void 0!==s?s:"dark",appLogo:null!==u&&void 0!==u?u:"https://moralis.io/wp-content/uploads/2021/05/moralisWhiteLogo.svg",loginMethodsOrder:l},clientId:a})}catch(D){}if(x){t.next=11;break}throw new Error("Could not connect via Web3Auth, error during initializing Web3Auth");case 11:return t.next=13,x.initModal();case 13:return null,t.next=16,i.connect(x);case 16:if(t.sent){t.next=19;break}throw new Error("Could not connect via Web3Auth, error in connecting to provider");case 19:return t.prev=19,R=null===(E=x)||void 0===E||!E.provider,P=new M.ethers.providers.Web3Provider(null!==(A=x)&&void 0!==A&&A.provider?x.provider:x),I=P.getSigner(),t.next=25,v.default.all([P.getNetwork(),I.getAddress()]);case 25:return N=t.sent,O=N[0].chainId,i.account=N[1].toLocaleLowerCase(),i.chainId="0x".concat(O.toString(16)),i.provider=R?P:null===(T=x)||void 0===T?void 0:T.provider,i.web3Instance=x,i.subscribeToEvents(i.provider),t.abrupt("return",{chainId:i.chainId,account:i.account,provider:i.provider});case 35:throw t.prev=35,t.t0=t.catch(19),new Error("Could not connect via Web3Auth, error while authenticating");case 38:case"end":return t.stop()}}),t,null,[[19,35]])})))),(0,E.default)((0,b.default)(i),"deactivate",(0,m.default)(d.default.mark((function t(){return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.unsubscribeToEvents(i.provider),!i.web3Instance){t.next=4;break}return t.next=4,i.web3Instance.logout();case 4:i.account=null,i.chainId=null,i.provider=null;case 7:case"end":return t.stop()}}),t)})))),i}return(0,g.default)(n)}(f(r(17643)).default);e.Web3Auth=R},1061:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.EthereumEvents=e.ConnectorEvents=void 0;var o=i(r(56474)),a=(0,o.default)({CONNECT:"connect",DISCONNECT:"disconnect",CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged"});e.EthereumEvents=a;var s=(0,o.default)({CONNECT:"connect",DISCONNECT:"disconnect",CHAIN_CHANGED:"chainChanged",ACCOUNT_CHANGED:"accountChanged"});e.ConnectorEvents=s},35540:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t,e){if((0,o.default)(t).call(t,e)>-1)return!0;for(var r=0;r<t.length;r++)if(t[r]instanceof a.default&&t[r].className===e.className&&t[r]._getId()===e._getId())return!0;return!1};var o=i(r(81643)),a=i(r(71149))},27858:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t){if(!(t instanceof u.default))return!0;var e=t.attributes;for(var r in e){if(!h(e[r]))return!1}return!0};var o=i(r(41511)),a=i(r(23765)),s=i(r(39335)),u=i(r(71149)),l=i(r(28697));function h(t){if("object"!==(0,a.default)(t))return!0;if(t instanceof l.default)return!0;if(t instanceof u.default)return!!t.id;if(t instanceof s.default)return!!t.url();if((0,o.default)(t)){for(var e=0;e<t.length;e++)if(!h(t[e]))return!1;return!0}for(var r in t)if(!h(t[r]))return!1;return!0}},73987:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(){return h.apply(this,arguments)};var o=i(r(63109)),a=i(r(77766)),s=i(r(51161)),u=i(r(22336)),l=r(89406);function h(){return(h=(0,s.default)(o.default.mark((function t(e){var r,n,i,s,h,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.run)("getServerTime");case 3:s=t.sent,h=s.dateTime,c=u.default.get("APPLICATION_ID"),r=(0,a.default)(n=(0,a.default)(i="".concat(e,"\n\nId: ")).call(i,c,":")).call(n,h),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r="".concat(e);case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}},50569:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function t(e){if(null===e||"object"!==(0,s.default)(e))return e;if((0,o.default)(e)){var r=[];return(0,a.default)(e).call(e,(function(e,n){r[n]=t(e)})),r}if("string"===typeof e.__op)return(0,f.opFromJSON)(e);if("Pointer"===e.__type&&e.className)return c.default.fromJSON(e);if("Object"===e.__type&&e.className)return c.default.fromJSON(e);if("Relation"===e.__type){var n=new d.default(null,null);return n.targetClassName=e.className,n}if("Date"===e.__type)return new Date(e.iso);if("File"===e.__type)return u.default.fromJSON(e);if("GeoPoint"===e.__type)return new l.default({latitude:e.latitude,longitude:e.longitude});if("Polygon"===e.__type)return new h.default(e.coordinates);var i={};for(var p in e)i[p]=t(e[p]);return i};var o=i(r(41511)),a=i(r(78914)),s=i(r(23765)),u=(i(r(77950)),i(r(39335))),l=i(r(89679)),h=i(r(20367)),c=i(r(71149)),f=r(45717),d=i(r(28697))},16962:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t,e,r,n,i){return b(t,!!e,!!r,n||[],i)};var o=i(r(23765)),a=i(r(77766)),s=i(r(81643)),u=i(r(86902)),l=i(r(29828)),h=i(r(41511)),c=i(r(2991)),f=i(r(77950)),d=i(r(39335)),p=i(r(89679)),v=i(r(20367)),m=i(r(71149)),g=r(45717),y=i(r(28697));function b(t,e,r,n,i){if(t instanceof m.default){var _;if(e)throw new Error("Parse Objects not allowed here");var w,x=t.id?(0,a.default)(_="".concat(t.className,":")).call(_,t.id):t;return r||!n||(0,s.default)(n).call(n,x)>-1||t.dirty()||(0,u.default)(t._getServerData()).length<1?i&&(0,l.default)(w=t._getId()).call(w,"local")?t.toOfflinePointer():t.toPointer():(n=(0,a.default)(n).call(n,x),t._toFullJSON(n,i))}if(t instanceof g.Op||t instanceof f.default||t instanceof p.default||t instanceof v.default||t instanceof y.default)return t.toJSON();if(t instanceof d.default){if(!t.url())throw new Error("Tried to encode an unsaved file.");return t.toJSON()}if("[object Date]"===Object.prototype.toString.call(t)){if(isNaN(t))throw new Error("Tried to encode an invalid date.");return{__type:"Date",iso:t.toJSON()}}if("[object RegExp]"===Object.prototype.toString.call(t)&&"string"===typeof t.source)return t.source;if((0,h.default)(t))return(0,c.default)(t).call(t,(function(t){return b(t,e,r,n,i)}));if(t&&"object"===(0,o.default)(t)){var E={};for(var M in t)E[M]=b(t[M],e,r,n,i);return E}return t}},65451:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function t(e,r){var n=Object.prototype.toString;if("[object Date]"===n.call(e)||"[object Date]"===n.call(r)){var i=new Date(e),f=new Date(r);return+i===+f}if((0,s.default)(e)!==(0,s.default)(r))return!1;if(!e||"object"!==(0,s.default)(e))return e===r;if((0,o.default)(e)||(0,o.default)(r)){if(!(0,o.default)(e)||!(0,o.default)(r))return!1;if(e.length!==r.length)return!1;for(var d=e.length;d--;)if(!t(e[d],r[d]))return!1;return!0}if(e instanceof u.default||e instanceof l.default||e instanceof h.default||e instanceof c.default)return e.equals(r);if(r instanceof c.default&&("Object"===e.__type||"Pointer"===e.__type))return e.objectId===r.id&&e.className===r.className;if((0,a.default)(e).length!==(0,a.default)(r).length)return!1;for(var p in e)if(!t(e[p],r[p]))return!1;return!0};var o=i(r(41511)),a=i(r(86902)),s=i(r(23765)),u=i(r(77950)),l=i(r(39335)),h=i(r(89679)),c=i(r(71149))},16184:function(t,e,r){"use strict";r(63978)(e,"__esModule",{value:!0}),e.default=function(t){return t.replace(/[&<>/'"]/g,(function(t){return n[t]}))};var n={"&":"&amp;","<":"&lt;",">":"&gt;","/":"&#x2F;","'":"&#x27;",'"':"&quot;"}},54247:function(t,e,r){"use strict";var n=r(60530),i=n(r(20116)),o=n(r(78580)),a=["Module not found: Can't resolve '@walletconnect/web3-provider'","Module not found: Can't resolve 'magic-sdk'","Module not found: Can't resolve '@web3auth/web3auth'"];t.exports={filterConsole:function(){var t=console.warn;console.warn=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r?r[0]:null;return s&&"string"===typeof s?(s=s.replace("\u2019","'").replace("\u2018","'").replace("\u2019","'"),(0,i.default)(a).call(a,(function(t){return(0,o.default)(s).call(s,t)})).length>=1?void 0:t.apply(console,r)):t.apply(console,r)}}}},55797:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t){return(0,o.default)(t).call(t,"r:")>-1};var o=i(r(81643))},60974:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t){var e=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$").exec(t);if(!e)return null;var r=(0,o.default)(e[1])||0,n=((0,o.default)(e[2])||1)-1,i=(0,o.default)(e[3])||0,a=(0,o.default)(e[4])||0,s=(0,o.default)(e[5])||0,u=(0,o.default)(e[6])||0,l=(0,o.default)(e[8])||0;return new Date(Date.UTC(r,n,i,a,s,u,l))};var o=i(r(94198))},79689:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.continueWhile=function t(e,r){if(e())return r().then((function(){return t(e,r)}));return o.default.resolve()},e.resolvingPromise=s,e.when=function(t){var e,r=(0,a.default)(t);e=r?t:arguments;var n=e.length,i=!1,u=[],l=r?[u]:u,h=[];if(u.length=e.length,h.length=e.length,0===n)return o.default.resolve(l);for(var c=new s,f=function(){--n<=0&&(i?c.reject(h):c.resolve(l))},d=function(t,e){t&&"function"===typeof t.then?t.then((function(t){u[e]=t,f()}),(function(t){h[e]=t,i=!0,f()})):(u[e]=t,f())},p=0;p<e.length;p++)d(e[p],p);return c};var o=i(r(93476)),a=i(r(41511));function s(){var t,e,r=new o.default((function(r,n){t=r,e=n}));return r.resolve=t,r.reject=e,r}},17398:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t){var e=[];return(0,o.default)(t).call(t,(function(t){t instanceof u.default?(0,s.default)(e,t)||e.push(t):(0,a.default)(e).call(e,t)<0&&e.push(t)})),e};var o=i(r(78914)),a=i(r(81643)),s=i(r(35540)),u=i(r(71149))},11509:function(t,e,r){"use strict";var n=r(63978),i=r(60530);n(e,"__esModule",{value:!0}),e.default=function(t,e){var r,n={objects:{},files:[]},i=(0,a.default)(r="".concat(t.className,":")).call(r,t._getId());n.objects[i]=!t.dirty()||t;var s=t.attributes;for(var u in s)"object"===(0,o.default)(s[u])&&d(s[u],n,!1,!!e);var l=[];for(var h in n.objects)h!==i&&!0!==n.objects[h]&&l.push(n.objects[h]);return(0,a.default)(l).call(l,n.files)};var o=i(r(23765)),a=i(r(77766)),s=i(r(81643)),u=i(r(41511)),l=i(r(78914)),h=i(r(39335)),c=i(r(71149)),f=i(r(28697));function d(t,e,r,n){if(t instanceof c.default){var i;if(!t.id&&r)throw new Error("Cannot create a pointer to an unsaved Object.");var p=(0,a.default)(i="".concat(t.className,":")).call(i,t._getId());if(!e.objects[p]){e.objects[p]=!t.dirty()||t;var v=t.attributes;for(var m in v)"object"===(0,o.default)(v[m])&&d(v[m],e,!n,n)}}else{var g;if(t instanceof h.default)!t.url()&&(0,s.default)(g=e.files).call(g,t)<0&&e.files.push(t);else if(!(t instanceof f.default))for(var y in(0,u.default)(t)&&(0,l.default)(t).call(t,(function(t){"object"===(0,o.default)(t)&&d(t,e,r,n)})),t)"object"===(0,o.default)(t[y])&&d(t[y],e,r,n)}}},210:function(t,e,r){"use strict";var n=r(23765),i=r(52424),o=r(32366),a=r(86902),s=r(54943),u=r(17388),l=r(3649),h=r(60530),c=h(r(63109)),f=h(r(51379)),d=h(r(5613)),p=h(r(18777)),v=h(r(51161)),m=h(r(56474)),g=h(r(2991)),y=h(r(26295)),b=h(r(78914)),_=h(r(86902)),w=h(r(98926)),x=h(r(59340)),E=h(r(2809));function M(){M=function(t,e){return new r(t,void 0,e)};var t=RegExp.prototype,e=new i;function r(t,n,i){var o=new RegExp(t,n);return e.set(o,i||e.get(t)),(0,d.default)(o,r.prototype)}function h(t,r){var n,i=e.get(r);return o(n=a(i)).call(n,(function(e,r){return e[r]=t[i[r]],e}),s(null))}return(0,f.default)(r,RegExp),r.prototype.exec=function(e){var r=t.exec.call(this,e);return r&&(r.groups=h(r,this)),r},r.prototype[u]=function(r,i){if("string"==typeof i){var o=e.get(this);return t[u].call(this,r,i.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+o[e]})))}if("function"==typeof i){var a=this;return t[u].call(this,r,(function(){var t=arguments;return"object"!=n(t[t.length-1])&&(t=l([]).call(t)).push(h(t,a)),i.apply(this,t)}))}return t[u].call(this,r,i)},M.apply(this,arguments)}var S=(0,m.default)({START_FUNCTION:"Moralis SDK start"}),A=function(){var t=(0,v.default)(c.default.mark((function t(){var e,r;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.default.ajax("GET","https://".concat("deep-index.moralis.io").concat("/api-docs/v2/swagger.json"));case 2:return e=t.sent,r=e.response,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(t){var e,r={},n={};return(0,g.default)(e=(0,y.default)(t.paths)).call(e,(function(t){var e,i=(0,p.default)(t,2),o=i[0],a=i[1];return(0,b.default)(e=(0,y.default)(a)).call(e,(function(t){var e=(0,p.default)(t,2),i=e[0],a=e[1],s=a.tags;s.length>0&&(r[s[0]]||(r[s[0]]=[]),r[s[0]].push(a.operationId),n[a.operationId]={method:i,pathName:o,data:a})}))})),{pathByTag:r,pathDetails:n}},T=function(){var t=(0,v.default)(c.default.mark((function t(){var e,r,n,i,o;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A();case 2:return r=t.sent,t.next=5,k(r);case 5:return n=t.sent,i=n.pathDetails,o=[],(0,b.default)(e=(0,_.default)(i)).call(e,(function(t){var e=i[t],r={method:e.method.toUpperCase(),group:e.data.tags[0],name:t,url:e.pathName.split("{").join(":").split("}").join("")};o.push(r)})),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(t,e){for(var r,n,i,o,a=t.split("-"),s=(0,p.default)(a,2),u=s[0],l=s[1],h=(0,g.default)(r=u.split(".")).call(r,(function(t){return Number(t)})),c=e.split("-"),f=(0,p.default)(c,2),d=f[0],v=f[1],m=(0,g.default)(n=d.split(".")).call(n,(function(t){return Number(t)})),y=0;y<3;y++){var b=h[y],_=m[y];if(b>_)return!0;if(b<_)return!1;if(!(0,w.default)(b)&&(0,w.default)(_))return!0;if((0,w.default)(b)&&!(0,w.default)(_))return!1}return l&&v?(null!==(i=l.split(".")[1])&&void 0!==i?i:0)>(null!==(o=v.split(".")[1])&&void 0!==o?o:0):!!v},P=function(){var t=(0,v.default)(c.default.mark((function t(){var e,r,n;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.default.ajax("GET","https://www.unpkg.com/moralis/package.json");case 3:e=t.sent,r=e.response,n=r.version,"1.9.0",R(n,"1.9.0")&&console.warn("Moralis: You are not using the latest version of the SDK. Please update it as soon as possible to enjoy the newest features. Most recent version: ".concat(n)),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=(0,v.default)(c.default.mark((function t(e,r,n){var i,o;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.default.ajax("POST","https://internal-api.moralis.io/api/functions/trackEvent",(0,x.default)({subdomain:r,event:e,options:n}),{Accept:"application/json","Content-Type":"application/json"});case 3:return i=t.sent,o=i.response,t.abrupt("return",o.result);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),N=M(/^https?:\/\/([0-9A-Z_a-z]+\.[0-9A-Z_a-z]+\.[0-9A-Z_a-z]+)(:[0-9]{4})?\/server\/?$/,{subdomain:1});t.exports={fetchSwaggerJson:A,getPathByTag:k,fetchEndpoints:T,checkForSdkUpdates:P,trackEvent:I,TrackingEventName:S,getSubdomain:function(t){var e,r,n=function(t){return N.test(t)}(t);if(!n)return null;var i=N.exec(t);return null!==(e=null===i||void 0===i||null===(r=i.groups)||void 0===r?void 0:r.subdomain)&&void 0!==e?e:null}}},45301:function(t,e,r){"use strict";var n=r(60530)(r(94198));t.exports={fromDecimalToHex:function(t){if("number"!==typeof t)throw"The input provided should be a number";return"0x".concat(t.toString(16))},fromHexToDecimal:function(t){if("string"!==typeof t)throw"The input provided should be a string";return(0,n.default)(t,16)}}},11806:function(t,e,r){"use strict";r(63978)(e,"__esModule",{value:!0}),e.default=void 0;var n=r(45301);var i=function(t){return"number"===typeof t&&(t=(0,n.fromDecimalToHex)(t)),t};e.default=i},31725:function(t){"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(t,o){for(var a,s,u=i(t),l=1;l<arguments.length;l++){for(var h in a=Object(arguments[l]))r.call(a,h)&&(u[h]=a[h]);if(e){s=e(a);for(var c=0;c<s.length;c++)n.call(a,s[c])&&(u[s[c]]=a[s[c]])}}return u}},97059:function(t){"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!==typeof t||0===t.length)return o;var a=/\+/g;t=t.split(r);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var h,c,f,d,p=t[l].replace(a,"%20"),v=p.indexOf(n);v>=0?(h=p.substr(0,v),c=p.substr(v+1)):(h=p,c=""),f=decodeURIComponent(h),d=decodeURIComponent(c),e(o,f)?Array.isArray(o[f])?o[f].push(d):o[f]=[o[f],d]:o[f]=d}return o}},94297:function(t){"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,n,i){return r=r||"&",n=n||"=",null===t&&(t=void 0),"object"===typeof t?Object.keys(t).map((function(i){var o=encodeURIComponent(e(i))+n;return Array.isArray(t[i])?t[i].map((function(t){return o+encodeURIComponent(e(t))})).join(r):o+encodeURIComponent(e(t[i]))})).join(r):i?encodeURIComponent(e(i))+n+encodeURIComponent(e(t)):""}},30863:function(t,e,r){"use strict";e.decode=e.parse=r(97059),e.encode=e.stringify=r(94297)},34463:function(t,e,r){"use strict";var n=r(72791),i=r(45296);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(t,e){l(t,e),l(t+"Capture",e)}function l(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(t,e,r,n,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new v(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new v(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new v(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new v(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new v(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new v(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new v(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new v(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new v(t,5,!1,t.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,r,n){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0!==i.type:n||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,r,n){if(null===e||"undefined"===typeof e||function(t,e,r,n){if(null!==r&&0===r.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,r,i,n)&&(r=null),n||null===i?function(t){return!!c.call(p,t)||!c.call(d,t)&&(f.test(t)?p[t]=!0:(d[t]=!0,!1))}(e)&&(null===r?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=null===r?3!==i.type&&"":r:(e=i.attributeName,n=i.attributeNamespace,null===r?t.removeAttribute(e):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(g,y);m[e]=new v(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(g,y);m[e]=new v(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(g,y);m[e]=new v(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new v(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new v(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var C=Symbol.iterator;function D(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=C&&t[C]||t["@@iterator"])?t:null}var L,F=Object.assign;function B(t){if(void 0===L)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var U=!1;function G(t,e){if(!t||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?B(t):""}function j(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=G(t.type,!1);case 11:return t=G(t.type.render,!1);case 1:return t=G(t.type,!0);default:return""}}function z(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case E:return"Fragment";case x:return"Portal";case S:return"Profiler";case M:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case k:return(t.displayName||"Context")+".Consumer";case A:return(t._context.displayName||"Context")+".Provider";case T:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case I:return null!==(e=t.displayName||null)?e:z(t.type)||"Memo";case N:e=t._payload,t=t._init;try{return z(t(e))}catch(r){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(e);case 8:return e===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function V(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function W(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=W(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){n=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(t){n=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=W(t)?t.checked?"true":"false":t.value),(t=n)!==r&&(e.setValue(t),!0)}function Z(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function K(t,e){var r=e.checked;return F({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:t._wrapperState.initialChecked})}function Y(t,e){var r=null==e.defaultValue?"":e.defaultValue,n=null!=e.checked?e.checked:e.defaultChecked;r=V(null!=e.value?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function J(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function $(t,e){J(t,e);var r=V(e.value),n=e.type;if(null!=r)"number"===n?(0===r&&""===t.value||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if("submit"===n||"reset"===n)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,r):e.hasOwnProperty("defaultValue")&&tt(t,e.type,V(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Q(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!("submit"!==n&&"reset"!==n||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}""!==(r=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==r&&(t.name=r)}function tt(t,e,r){"number"===e&&Z(t.ownerDocument)===t||(null==r?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var et=Array.isArray;function rt(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+V(r),e=null,i=0;i<t.length;i++){if(t[i].value===r)return t[i].selected=!0,void(n&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function nt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return F({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var r=e.value;if(null==r){if(r=e.children,e=e.defaultValue,null!=r){if(null!=e)throw Error(o(92));if(et(r)){if(1<r.length)throw Error(o(93));r=r[0]}e=r}null==e&&(e=""),r=e}t._wrapperState={initialValue:V(r)}}function ot(t,e){var r=V(e.value),n=V(e.defaultValue);null!=r&&((r=""+r)!==t.value&&(t.value=r),null==e.defaultValue&&t.defaultValue!==r&&(t.defaultValue=r)),null!=n&&(t.defaultValue=""+n)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var lt,ht,ct=(ht=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,r,n){MSApp.execUnsafeLocalFunction((function(){return ht(t,e)}))}:ht);function ft(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&3===r.nodeType)return void(r.nodeValue=e)}t.textContent=e}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function vt(t,e,r){return null==e||"boolean"===typeof e||""===e?"":r||"number"!==typeof e||0===e||dt.hasOwnProperty(t)&&dt[t]?(""+e).trim():e+"px"}function mt(t,e){for(var r in t=t.style,e)if(e.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=vt(r,e[r],n);"float"===r&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}Object.keys(dt).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dt[e]=dt[t]}))}));var gt=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yt(t,e){if(e){if(gt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,Et=null,Mt=null;function St(t){if(t=bi(t)){if("function"!==typeof xt)throw Error(o(280));var e=t.stateNode;e&&(e=wi(e),xt(t.stateNode,t.type,e))}}function At(t){Et?Mt?Mt.push(t):Mt=[t]:Et=t}function kt(){if(Et){var t=Et,e=Mt;if(Mt=Et=null,St(t),e)for(t=0;t<e.length;t++)St(e[t])}}function Tt(t,e){return t(e)}function Rt(){}var Pt=!1;function It(t,e,r){if(Pt)return t(e,r);Pt=!0;try{return Tt(t,e,r)}finally{Pt=!1,(null!==Et||null!==Mt)&&(Rt(),kt())}}function Nt(t,e){var r=t.stateNode;if(null===r)return null;var n=wi(r);if(null===n)return null;r=n[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!n;break t;default:t=!1}if(t)return null;if(r&&"function"!==typeof r)throw Error(o(231,e,typeof r));return r}var Ot=!1;if(h)try{var Ct={};Object.defineProperty(Ct,"passive",{get:function(){Ot=!0}}),window.addEventListener("test",Ct,Ct),window.removeEventListener("test",Ct,Ct)}catch(ht){Ot=!1}function Dt(t,e,r,n,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(h){this.onError(h)}}var Lt=!1,Ft=null,Bt=!1,Ut=null,Gt={onError:function(t){Lt=!0,Ft=t}};function jt(t,e,r,n,i,o,a,s,u){Lt=!1,Ft=null,Dt.apply(Gt,arguments)}function zt(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(r=e.return),t=e.return}while(t)}return 3===e.tag?r:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Vt(t){if(zt(t)!==t)throw Error(o(188))}function Wt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=zt(t)))throw Error(o(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Vt(i),t;if(a===n)return Vt(i),e;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=a;break}if(u===n){s=!0,n=i,r=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===r){s=!0,r=a,n=i;break}if(u===n){s=!0,n=a,r=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Xt=i.unstable_scheduleCallback,Zt=i.unstable_cancelCallback,Kt=i.unstable_shouldYield,Yt=i.unstable_requestPaint,Jt=i.unstable_now,$t=i.unstable_getCurrentPriorityLevel,Qt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,re=i.unstable_LowPriority,ne=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return 0===(t>>>=0)?32:31-(se(t)/ue|0)|0},se=Math.log,ue=Math.LN2;var le=64,he=4194304;function ce(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fe(t,e){var r=t.pendingLanes;if(0===r)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&r;if(0!==a){var s=a&~i;0!==s?n=ce(s):0!==(o&=a)&&(n=ce(o))}else 0!==(a=r&~i)?n=ce(a):0!==o&&(n=ce(o));if(0===n)return 0;if(0!==e&&e!==n&&0===(e&i)&&((i=n&-n)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&n)&&(n|=16&r),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=n;0<e;)i=1<<(r=31-ae(e)),n|=t[r],e&=~i;return n}function de(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ve(){var t=le;return 0===(4194240&(le<<=1))&&(le=64),t}function me(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ge(t,e,r){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=r}function ye(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ae(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var be=0;function _e(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,xe,Ee,Me,Se,Ae=!1,ke=[],Te=null,Re=null,Pe=null,Ie=new Map,Ne=new Map,Oe=[],Ce="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function De(t,e){switch(t){case"focusin":case"focusout":Te=null;break;case"dragenter":case"dragleave":Re=null;break;case"mouseover":case"mouseout":Pe=null;break;case"pointerover":case"pointerout":Ie.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ne.delete(e.pointerId)}}function Le(t,e,r,n,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&xe(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Fe(t){var e=yi(t.target);if(null!==e){var r=zt(e);if(null!==r)if(13===(e=r.tag)){if(null!==(e=Ht(r)))return t.blockedOn=e,void Se(t.priority,(function(){Ee(r)}))}else if(3===e&&r.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}t.blockedOn=null}function Be(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==r)return null!==(e=bi(r))&&xe(e),t.blockedOn=r,!1;var n=new(r=t.nativeEvent).constructor(r.type,r);_t=n,r.target.dispatchEvent(n),_t=null,e.shift()}return!0}function Ue(t,e,r){Be(t)&&r.delete(e)}function Ge(){Ae=!1,null!==Te&&Be(Te)&&(Te=null),null!==Re&&Be(Re)&&(Re=null),null!==Pe&&Be(Pe)&&(Pe=null),Ie.forEach(Ue),Ne.forEach(Ue)}function je(t,e){t.blockedOn===e&&(t.blockedOn=null,Ae||(Ae=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ge)))}function ze(t){function e(e){return je(e,t)}if(0<ke.length){je(ke[0],t);for(var r=1;r<ke.length;r++){var n=ke[r];n.blockedOn===t&&(n.blockedOn=null)}}for(null!==Te&&je(Te,t),null!==Re&&je(Re,t),null!==Pe&&je(Pe,t),Ie.forEach(e),Ne.forEach(e),r=0;r<Oe.length;r++)(n=Oe[r]).blockedOn===t&&(n.blockedOn=null);for(;0<Oe.length&&null===(r=Oe[0]).blockedOn;)Fe(r),null===r.blockedOn&&Oe.shift()}var He=_.ReactCurrentBatchConfig,Ve=!0;function We(t,e,r,n){var i=be,o=He.transition;He.transition=null;try{be=1,Xe(t,e,r,n)}finally{be=i,He.transition=o}}function qe(t,e,r,n){var i=be,o=He.transition;He.transition=null;try{be=4,Xe(t,e,r,n)}finally{be=i,He.transition=o}}function Xe(t,e,r,n){if(Ve){var i=Ke(t,e,r,n);if(null===i)Vn(t,e,n,Ze,r),De(t,n);else if(function(t,e,r,n,i){switch(e){case"focusin":return Te=Le(Te,t,e,r,n,i),!0;case"dragenter":return Re=Le(Re,t,e,r,n,i),!0;case"mouseover":return Pe=Le(Pe,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Ie.set(o,Le(Ie.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Ne.set(o,Le(Ne.get(o)||null,t,e,r,n,i)),!0}return!1}(i,t,e,r,n))n.stopPropagation();else if(De(t,n),4&e&&-1<Ce.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&we(o),null===(o=Ke(t,e,r,n))&&Vn(t,e,n,Ze,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else Vn(t,e,n,null,r)}}var Ze=null;function Ke(t,e,r,n){if(Ze=null,null!==(t=yi(t=wt(n))))if(null===(e=zt(t)))t=null;else if(13===(r=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===r){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ze=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($t()){case Qt:return 1;case te:return 4;case ee:case re:return 16;case ne:return 536870912;default:return 16}default:return 16}}var Je=null,$e=null,Qe=null;function tr(){if(Qe)return Qe;var t,e,r=$e,n=r.length,i="value"in Je?Je.value:Je.textContent,o=i.length;for(t=0;t<n&&r[t]===i[t];t++);var a=n-t;for(e=1;e<=a&&r[n-e]===i[o-e];e++);return Qe=i.slice(t,1<e?1-e:void 0)}function er(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rr(){return!0}function nr(){return!1}function ir(t){function e(e,r,n,i,o){for(var a in this._reactName=e,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return F(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),e}var or,ar,sr,ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=ir(ur),hr=F({},ur,{view:0,detail:0}),cr=ir(hr),fr=F({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&"mousemove"===t.type?(or=t.screenX-sr.screenX,ar=t.screenY-sr.screenY):ar=or=0,sr=t),or)},movementY:function(t){return"movementY"in t?t.movementY:ar}}),dr=ir(fr),pr=ir(F({},fr,{dataTransfer:0})),vr=ir(F({},hr,{relatedTarget:0})),mr=ir(F({},ur,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=F({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yr=ir(gr),br=ir(F({},ur,{data:0})),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=xr[t])&&!!e[t]}function Mr(){return Er}var Sr=F({},hr,{key:function(t){if(t.key){var e=_r[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=er(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?wr[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(t){return"keypress"===t.type?er(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?er(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Ar=ir(Sr),kr=ir(F({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tr=ir(F({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr})),Rr=ir(F({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pr=F({},fr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ir=ir(Pr),Nr=[9,13,27,32],Or=h&&"CompositionEvent"in window,Cr=null;h&&"documentMode"in document&&(Cr=document.documentMode);var Dr=h&&"TextEvent"in window&&!Cr,Lr=h&&(!Or||Cr&&8<Cr&&11>=Cr),Fr=String.fromCharCode(32),Br=!1;function Ur(t,e){switch(t){case"keyup":return-1!==Nr.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gr(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var jr=!1;var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!zr[t.type]:"textarea"===e}function Vr(t,e,r,n){At(n),0<(e=qn(e,"onChange")).length&&(r=new lr("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wr=null,qr=null;function Xr(t){Bn(t,0)}function Zr(t){if(X(_i(t)))return t}function Kr(t,e){if("change"===t)return e}var Yr=!1;if(h){var Jr;if(h){var $r="oninput"in document;if(!$r){var Qr=document.createElement("div");Qr.setAttribute("oninput","return;"),$r="function"===typeof Qr.oninput}Jr=$r}else Jr=!1;Yr=Jr&&(!document.documentMode||9<document.documentMode)}function tn(){Wr&&(Wr.detachEvent("onpropertychange",en),qr=Wr=null)}function en(t){if("value"===t.propertyName&&Zr(qr)){var e=[];Vr(e,qr,t,wt(t)),It(Xr,e)}}function rn(t,e,r){"focusin"===t?(tn(),qr=r,(Wr=e).attachEvent("onpropertychange",en)):"focusout"===t&&tn()}function nn(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Zr(qr)}function on(t,e){if("click"===t)return Zr(e)}function an(t,e){if("input"===t||"change"===t)return Zr(e)}var sn="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function un(t,e){if(sn(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!c.call(e,i)||!sn(t[i],e[i]))return!1}return!0}function ln(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hn(t,e){var r,n=ln(t);for(t=0;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=ln(n)}}function cn(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?cn(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fn(){for(var t=window,e=Z();e instanceof t.HTMLIFrameElement;){try{var r="string"===typeof e.contentWindow.location.href}catch(n){r=!1}if(!r)break;e=Z((t=e.contentWindow).document)}return e}function dn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pn(t){var e=fn(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cn(r.ownerDocument.documentElement,r)){if(null!==n&&dn(r))if(e=n.start,void 0===(t=n.end)&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if((t=(e=r.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=hn(r,o);var a=hn(r,n);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=r;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<e.length;r++)(t=e[r]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vn=h&&"documentMode"in document&&11>=document.documentMode,mn=null,gn=null,yn=null,bn=!1;function _n(t,e,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==mn||mn!==Z(n)||("selectionStart"in(n=mn)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&un(yn,n)||(yn=n,0<(n=qn(gn,"onSelect")).length&&(e=new lr("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=mn)))}function wn(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var xn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},En={},Mn={};function Sn(t){if(En[t])return En[t];if(!xn[t])return t;var e,r=xn[t];for(e in r)if(r.hasOwnProperty(e)&&e in Mn)return En[t]=r[e];return t}h&&(Mn=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);var An=Sn("animationend"),kn=Sn("animationiteration"),Tn=Sn("animationstart"),Rn=Sn("transitionend"),Pn=new Map,In="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(t,e){Pn.set(t,e),u(e,[t])}for(var On=0;On<In.length;On++){var Cn=In[On];Nn(Cn.toLowerCase(),"on"+(Cn[0].toUpperCase()+Cn.slice(1)))}Nn(An,"onAnimationEnd"),Nn(kn,"onAnimationIteration"),Nn(Tn,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Rn,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Fn(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,function(t,e,r,n,i,a,s,u,l){if(jt.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var h=Ft;Lt=!1,Ft=null,Bt||(Bt=!0,Ut=h)}}(n,e,void 0,t),t.currentTarget=null}function Bn(t,e){e=0!==(4&e);for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;t:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Fn(i,s,l),o=u}else for(a=0;a<n.length;a++){if(u=(s=n[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Fn(i,s,l),o=u}}}if(Bt)throw t=Ut,Bt=!1,Ut=null,t}function Un(t,e){var r=e[vi];void 0===r&&(r=e[vi]=new Set);var n=t+"__bubble";r.has(n)||(Hn(e,t,2,!1),r.add(n))}function Gn(t,e,r){var n=0;e&&(n|=4),Hn(r,t,n,e)}var jn="_reactListening"+Math.random().toString(36).slice(2);function zn(t){if(!t[jn]){t[jn]=!0,a.forEach((function(e){"selectionchange"!==e&&(Ln.has(e)||Gn(e,!1,t),Gn(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[jn]||(e[jn]=!0,Gn("selectionchange",!1,e))}}function Hn(t,e,r,n){switch(Ye(e)){case 1:var i=We;break;case 4:i=qe;break;default:i=Xe}r=i.bind(null,e,r,t),i=void 0,!Ot||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),n?void 0!==i?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):void 0!==i?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Vn(t,e,r,n,i){var o=n;if(0===(1&e)&&0===(2&e)&&null!==n)t:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){n=o=a;continue t}s=s.parentNode}}n=n.return}It((function(){var n=o,i=wt(r),a=[];t:{var s=Pn.get(t);if(void 0!==s){var u=lr,l=t;switch(t){case"keypress":if(0===er(r))break t;case"keydown":case"keyup":u=Ar;break;case"focusin":l="focus",u=vr;break;case"focusout":l="blur",u=vr;break;case"beforeblur":case"afterblur":u=vr;break;case"click":if(2===r.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tr;break;case An:case kn:case Tn:u=mr;break;case Rn:u=Rr;break;case"scroll":u=cr;break;case"wheel":u=Ir;break;case"copy":case"cut":case"paste":u=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=kr}var h=0!==(4&e),c=!h&&"scroll"===t,f=h?null!==s?s+"Capture":null:s;h=[];for(var d,p=n;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Nt(p,f))&&h.push(Wn(p,v,d)))),c)break;p=p.return}0<h.length&&(s=new u(s,l,null,r,i),a.push({event:s,listeners:h}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||r===_t||!(l=r.relatedTarget||r.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=n,null!==(l=(l=r.relatedTarget||r.toElement)?yi(l):null)&&(l!==(c=zt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=n),u!==l)){if(h=dr,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(h=kr,v="onPointerLeave",f="onPointerEnter",p="pointer"),c=null==u?s:_i(u),d=null==l?s:_i(l),(s=new h(v,p+"leave",u,r,i)).target=c,s.relatedTarget=d,v=null,yi(i)===n&&((h=new h(f,p+"enter",l,r,i)).target=d,h.relatedTarget=c,v=h),c=v,u&&l)t:{for(f=l,p=0,d=h=u;d;d=Xn(d))p++;for(d=0,v=f;v;v=Xn(v))d++;for(;0<p-d;)h=Xn(h),p--;for(;0<d-p;)f=Xn(f),d--;for(;p--;){if(h===f||null!==f&&h===f.alternate)break t;h=Xn(h),f=Xn(f)}h=null}else h=null;null!==u&&Zn(a,s,u,h,!1),null!==l&&null!==c&&Zn(a,c,l,h,!0)}if("select"===(u=(s=n?_i(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Kr;else if(Hr(s))if(Yr)m=an;else{m=nn;var g=rn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=on);switch(m&&(m=m(t,n))?Vr(a,m,r,i):(g&&g(t,s,n),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&tt(s,"number",s.value)),g=n?_i(n):window,t){case"focusin":(Hr(g)||"true"===g.contentEditable)&&(mn=g,gn=n,yn=null);break;case"focusout":yn=gn=mn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,_n(a,r,i);break;case"selectionchange":if(vn)break;case"keydown":case"keyup":_n(a,r,i)}var y;if(Or)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else jr?Ur(t,r)&&(b="onCompositionEnd"):"keydown"===t&&229===r.keyCode&&(b="onCompositionStart");b&&(Lr&&"ko"!==r.locale&&(jr||"onCompositionStart"!==b?"onCompositionEnd"===b&&jr&&(y=tr()):($e="value"in(Je=i)?Je.value:Je.textContent,jr=!0)),0<(g=qn(n,b)).length&&(b=new br(b,t,null,r,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Gr(r))&&(b.data=y))),(y=Dr?function(t,e){switch(t){case"compositionend":return Gr(e);case"keypress":return 32!==e.which?null:(Br=!0,Fr);case"textInput":return(t=e.data)===Fr&&Br?null:t;default:return null}}(t,r):function(t,e){if(jr)return"compositionend"===t||!Or&&Ur(t,e)?(t=tr(),Qe=$e=Je=null,jr=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lr&&"ko"!==e.locale?null:e.data}}(t,r))&&(0<(n=qn(n,"onBeforeInput")).length&&(i=new br("onBeforeInput","beforeinput",null,r,i),a.push({event:i,listeners:n}),i.data=y))}Bn(a,e)}))}function Wn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function qn(t,e){for(var r=e+"Capture",n=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Nt(t,r))&&n.unshift(Wn(t,o,i)),null!=(o=Nt(t,e))&&n.push(Wn(t,o,i))),t=t.return}return n}function Xn(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Zn(t,e,r,n,i){for(var o=e._reactName,a=[];null!==r&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Nt(r,o))&&a.unshift(Wn(r,u,s)):i||null!=(u=Nt(r,o))&&a.push(Wn(r,u,s))),r=r.return}0!==a.length&&t.push({event:e,listeners:a})}var Kn=/\r\n?/g,Yn=/\u0000|\uFFFD/g;function Jn(t){return("string"===typeof t?t:""+t).replace(Kn,"\n").replace(Yn,"")}function $n(t,e,r){if(e=Jn(e),Jn(t)!==e&&r)throw Error(o(425))}function Qn(){}var ti=null,ei=null;function ri(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ni;function si(t){setTimeout((function(){throw t}))}function ui(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return t.removeChild(i),void ze(e);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);ze(e)}function li(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function hi(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||"$!"===r||"$?"===r){if(0===e)return t;e--}else"/$"===r&&e++}t=t.previousSibling}return null}var ci=Math.random().toString(36).slice(2),fi="__reactFiber$"+ci,di="__reactProps$"+ci,pi="__reactContainer$"+ci,vi="__reactEvents$"+ci,mi="__reactListeners$"+ci,gi="__reactHandles$"+ci;function yi(t){var e=t[fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[pi]||r[fi]){if(r=e.alternate,null!==e.child||null!==r&&null!==r.child)for(t=hi(t);null!==t;){if(r=t[fi])return r;t=hi(t)}return e}r=(t=r).parentNode}return null}function bi(t){return!(t=t[fi]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _i(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function wi(t){return t[di]||null}var xi=[],Ei=-1;function Mi(t){return{current:t}}function Si(t){0>Ei||(t.current=xi[Ei],xi[Ei]=null,Ei--)}function Ai(t,e){Ei++,xi[Ei]=t.current,t.current=e}var ki={},Ti=Mi(ki),Ri=Mi(!1),Pi=ki;function Ii(t,e){var r=t.type.contextTypes;if(!r)return ki;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=e[i];return n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Oi(){Si(Ri),Si(Ti)}function Ci(t,e,r){if(Ti.current!==ki)throw Error(o(168));Ai(Ti,e),Ai(Ri,r)}function Di(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(o(108,H(t)||"Unknown",i));return F({},r,n)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,Pi=Ti.current,Ai(Ti,t),Ai(Ri,Ri.current),!0}function Fi(t,e,r){var n=t.stateNode;if(!n)throw Error(o(169));r?(t=Di(t,e,Pi),n.__reactInternalMemoizedMergedChildContext=t,Si(Ri),Si(Ti),Ai(Ti,t)):Si(Ri),Ai(Ri,r)}var Bi=null,Ui=!1,Gi=!1;function ji(t){null===Bi?Bi=[t]:Bi.push(t)}function zi(){if(!Gi&&null!==Bi){Gi=!0;var t=0,e=be;try{var r=Bi;for(be=1;t<r.length;t++){var n=r[t];do{n=n(!0)}while(null!==n)}Bi=null,Ui=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(t+1)),Xt(Qt,zi),i}finally{be=e,Gi=!1}}return null}var Hi=[],Vi=0,Wi=null,qi=0,Xi=[],Zi=0,Ki=null,Yi=1,Ji="";function $i(t,e){Hi[Vi++]=qi,Hi[Vi++]=Wi,Wi=t,qi=e}function Qi(t,e,r){Xi[Zi++]=Yi,Xi[Zi++]=Ji,Xi[Zi++]=Ki,Ki=t;var n=Yi;t=Ji;var i=32-ae(n)-1;n&=~(1<<i),r+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Yi=1<<32-ae(e)+i|r<<i|n,Ji=o+t}else Yi=1<<o|r<<i|n,Ji=t}function to(t){null!==t.return&&($i(t,1),Qi(t,1,0))}function eo(t){for(;t===Wi;)Wi=Hi[--Vi],Hi[Vi]=null,qi=Hi[--Vi],Hi[Vi]=null;for(;t===Ki;)Ki=Xi[--Zi],Xi[Zi]=null,Ji=Xi[--Zi],Xi[Zi]=null,Yi=Xi[--Zi],Xi[Zi]=null}var ro=null,no=null,io=!1,oo=null;function ao(t,e){var r=Il(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,null===(e=t.deletions)?(t.deletions=[r],t.flags|=16):e.push(r)}function so(t,e){switch(t.tag){case 5:var r=t.type;return null!==(e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ro=t,no=li(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ro=t,no=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(r=null!==Ki?{id:Yi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},(r=Il(18,null,null,0)).stateNode=e,r.return=t,t.child=r,ro=t,no=null,!0);default:return!1}}function uo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function lo(t){if(io){var e=no;if(e){var r=e;if(!so(t,e)){if(uo(t))throw Error(o(418));e=li(r.nextSibling);var n=ro;e&&so(t,e)?ao(n,r):(t.flags=-4097&t.flags|2,io=!1,ro=t)}}else{if(uo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,ro=t}}}function ho(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ro=t}function co(t){if(t!==ro)return!1;if(!io)return ho(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ri(t.type,t.memoizedProps)),e&&(e=no)){if(uo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=li(e.nextSibling)}if(ho(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===e){no=li(t.nextSibling);break t}e--}else"$"!==r&&"$!"!==r&&"$?"!==r||e++}t=t.nextSibling}no=null}}else no=ro?li(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=no;t;)t=li(t.nextSibling)}function po(){no=ro=null,io=!1}function vo(t){null===oo?oo=[t]:oo.push(t)}var mo=_.ReactCurrentBatchConfig;function go(t,e){if(t&&t.defaultProps){for(var r in e=F({},e),t=t.defaultProps)void 0===e[r]&&(e[r]=t[r]);return e}return e}var yo=Mi(null),bo=null,_o=null,wo=null;function xo(){wo=_o=bo=null}function Eo(t){var e=yo.current;Si(yo),t._currentValue=e}function Mo(t,e,r){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==n&&(n.childLanes|=e)):null!==n&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function So(t,e){bo=t,wo=_o=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(_s=!0),t.firstContext=null)}function Ao(t){var e=t._currentValue;if(wo!==t)if(t={context:t,memoizedValue:e,next:null},null===_o){if(null===bo)throw Error(o(308));_o=t,bo.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var ko=null;function To(t){null===ko?ko=[t]:ko.push(t)}function Ro(t,e,r,n){var i=e.interleaved;return null===i?(r.next=r,To(e)):(r.next=i.next,i.next=r),e.interleaved=r,Po(t,n)}function Po(t,e){t.lanes|=e;var r=t.alternate;for(null!==r&&(r.lanes|=e),r=t,t=t.return;null!==t;)t.childLanes|=e,null!==(r=t.alternate)&&(r.childLanes|=e),r=t,t=t.return;return 3===r.tag?r.stateNode:null}var Io=!1;function No(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Co(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,r){var n=t.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Tu)){var i=n.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Po(t,r)}return null===(i=n.interleaved)?(e.next=e,To(n)):(e.next=i.next,i.next=e),n.interleaved=e,Po(t,r)}function Lo(t,e,r){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&r))){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,ye(t,r)}}function Fo(t,e){var r=t.updateQueue,n=t.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=e:o=o.next=e}else i=o=e;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(t.updateQueue=r)}null===(t=r.lastBaseUpdate)?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Bo(t,e,r,n){var i=t.updateQueue;Io=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var h=t.alternate;null!==h&&((s=(h=h.updateQueue).lastBaseUpdate)!==a&&(null===s?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=u))}if(null!==o){var c=i.baseState;for(a=0,h=l=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((n&f)===f){null!==h&&(h=h.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,v=s;switch(f=e,d=r,v.tag){case 1:if("function"===typeof(p=v.payload)){c=p.call(d,c,f);break t}c=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,c,f):p)||void 0===f)break t;c=F({},c,f);break t;case 2:Io=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(l=h=d,u=c):h=h.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===h&&(u=c),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=h,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Lu|=a,t.lanes=a,t.memoizedState=c}}function Uo(t,e,r){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var Go=(new n.Component).refs;function jo(t,e,r,n){r=null===(r=r(n,e=t.memoizedState))||void 0===r?e:F({},e,r),t.memoizedState=r,0===t.lanes&&(t.updateQueue.baseState=r)}var zo={isMounted:function(t){return!!(t=t._reactInternals)&&zt(t)===t},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=tl(),i=el(t),o=Co(n,i);o.payload=e,void 0!==r&&null!==r&&(o.callback=r),null!==(e=Do(t,o,i))&&(rl(e,t,i,n),Lo(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=tl(),i=el(t),o=Co(n,i);o.tag=1,o.payload=e,void 0!==r&&null!==r&&(o.callback=r),null!==(e=Do(t,o,i))&&(rl(e,t,i,n),Lo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=tl(),n=el(t),i=Co(r,n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Do(t,i,n))&&(rl(e,t,n,r),Lo(e,t,n))}};function Ho(t,e,r,n,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(n,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!un(r,n)||!un(i,o))}function Vo(t,e,r){var n=!1,i=ki,o=e.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Ni(e)?Pi:Ti.current,o=(n=null!==(n=e.contextTypes)&&void 0!==n)?Ii(t,i):ki),e=new e(r,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=zo,t.stateNode=e,e._reactInternals=t,n&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Wo(t,e,r,n){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,n),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&zo.enqueueReplaceState(e,e.state,null)}function qo(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Go,No(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Ni(e)?Pi:Ti.current,i.context=Ii(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(jo(t,e,o,r),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&zo.enqueueReplaceState(i,i.state,null),Bo(t,r,i,n),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function Xo(t,e,r){if(null!==(t=r.ref)&&"function"!==typeof t&&"object"!==typeof t){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,t));var i=n,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;e===Go&&(e=i.refs={}),null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!r._owner)throw Error(o(290,t))}return t}function Zo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ko(t){return(0,t._init)(t._payload)}function Yo(t){function e(e,r){if(t){var n=e.deletions;null===n?(e.deletions=[r],e.flags|=16):n.push(r)}}function r(r,n){if(!t)return null;for(;null!==n;)e(r,n),n=n.sibling;return null}function n(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ol(t,e)).index=0,t.sibling=null,t}function a(e,r,n){return e.index=n,t?null!==(n=e.alternate)?(n=n.index)<r?(e.flags|=2,r):n:(e.flags|=2,r):(e.flags|=1048576,r)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function u(t,e,r,n){return null===e||6!==e.tag?((e=Fl(r,t.mode,n)).return=t,e):((e=i(e,r)).return=t,e)}function l(t,e,r,n){var o=r.type;return o===E?c(t,e,r.props.children,n,r.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&Ko(o)===e.type)?((n=i(e,r.props)).ref=Xo(t,e,r),n.return=t,n):((n=Cl(r.type,r.key,r.props,null,t.mode,n)).ref=Xo(t,e,r),n.return=t,n)}function h(t,e,r,n){return null===e||4!==e.tag||e.stateNode.containerInfo!==r.containerInfo||e.stateNode.implementation!==r.implementation?((e=Bl(r,t.mode,n)).return=t,e):((e=i(e,r.children||[])).return=t,e)}function c(t,e,r,n,o){return null===e||7!==e.tag?((e=Dl(r,t.mode,n,o)).return=t,e):((e=i(e,r)).return=t,e)}function f(t,e,r){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Fl(""+e,t.mode,r)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(r=Cl(e.type,e.key,e.props,null,t.mode,r)).ref=Xo(t,null,e),r.return=t,r;case x:return(e=Bl(e,t.mode,r)).return=t,e;case N:return f(t,(0,e._init)(e._payload),r)}if(et(e)||D(e))return(e=Dl(e,t.mode,r,null)).return=t,e;Zo(t,e)}return null}function d(t,e,r,n){var i=null!==e?e.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:u(t,e,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===i?l(t,e,r,n):null;case x:return r.key===i?h(t,e,r,n):null;case N:return d(t,e,(i=r._init)(r._payload),n)}if(et(r)||D(r))return null!==i?null:c(t,e,r,n,null);Zo(t,r)}return null}function p(t,e,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return u(e,t=t.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return l(e,t=t.get(null===n.key?r:n.key)||null,n,i);case x:return h(e,t=t.get(null===n.key?r:n.key)||null,n,i);case N:return p(t,e,r,(0,n._init)(n._payload),i)}if(et(n)||D(n))return c(e,t=t.get(r)||null,n,i,null);Zo(e,n)}return null}function v(i,o,s,u){for(var l=null,h=null,c=o,v=o=0,m=null;null!==c&&v<s.length;v++){c.index>v?(m=c,c=null):m=c.sibling;var g=d(i,c,s[v],u);if(null===g){null===c&&(c=m);break}t&&c&&null===g.alternate&&e(i,c),o=a(g,o,v),null===h?l=g:h.sibling=g,h=g,c=m}if(v===s.length)return r(i,c),io&&$i(i,v),l;if(null===c){for(;v<s.length;v++)null!==(c=f(i,s[v],u))&&(o=a(c,o,v),null===h?l=c:h.sibling=c,h=c);return io&&$i(i,v),l}for(c=n(i,c);v<s.length;v++)null!==(m=p(c,i,v,s[v],u))&&(t&&null!==m.alternate&&c.delete(null===m.key?v:m.key),o=a(m,o,v),null===h?l=m:h.sibling=m,h=m);return t&&c.forEach((function(t){return e(i,t)})),io&&$i(i,v),l}function m(i,s,u,l){var h=D(u);if("function"!==typeof h)throw Error(o(150));if(null==(u=h.call(u)))throw Error(o(151));for(var c=h=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,l);if(null===b){null===v&&(v=g);break}t&&v&&null===b.alternate&&e(i,v),s=a(b,s,m),null===c?h=b:c.sibling=b,c=b,v=g}if(y.done)return r(i,v),io&&$i(i,m),h;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,l))&&(s=a(y,s,m),null===c?h=y:c.sibling=y,c=y);return io&&$i(i,m),h}for(v=n(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,l))&&(t&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===c?h=y:c.sibling=y,c=y);return t&&v.forEach((function(t){return e(i,t)})),io&&$i(i,m),h}return function t(n,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var l=a.key,h=o;null!==h;){if(h.key===l){if((l=a.type)===E){if(7===h.tag){r(n,h.sibling),(o=i(h,a.props.children)).return=n,n=o;break t}}else if(h.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&Ko(l)===h.type){r(n,h.sibling),(o=i(h,a.props)).ref=Xo(n,h,a),o.return=n,n=o;break t}r(n,h);break}e(n,h),h=h.sibling}a.type===E?((o=Dl(a.props.children,n.mode,u,a.key)).return=n,n=o):((u=Cl(a.type,a.key,a.props,null,n.mode,u)).ref=Xo(n,o,a),u.return=n,n=u)}return s(n);case x:t:{for(h=a.key;null!==o;){if(o.key===h){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){r(n,o.sibling),(o=i(o,a.children||[])).return=n,n=o;break t}r(n,o);break}e(n,o),o=o.sibling}(o=Bl(a,n.mode,u)).return=n,n=o}return s(n);case N:return t(n,o,(h=a._init)(a._payload),u)}if(et(a))return v(n,o,a,u);if(D(a))return m(n,o,a,u);Zo(n,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(r(n,o.sibling),(o=i(o,a)).return=n,n=o):(r(n,o),(o=Fl(a,n.mode,u)).return=n,n=o),s(n)):r(n,o)}}var Jo=Yo(!0),$o=Yo(!1),Qo={},ta=Mi(Qo),ea=Mi(Qo),ra=Mi(Qo);function na(t){if(t===Qo)throw Error(o(174));return t}function ia(t,e){switch(Ai(ra,e),Ai(ea,t),Ai(ta,Qo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ut(null,"");break;default:e=ut(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Si(ta),Ai(ta,e)}function oa(){Si(ta),Si(ea),Si(ra)}function aa(t){na(ra.current);var e=na(ta.current),r=ut(e,t.type);e!==r&&(Ai(ea,t),Ai(ta,r))}function sa(t){ea.current===t&&(Si(ta),Si(ea))}var ua=Mi(0);function la(t){for(var e=t;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ha=[];function ca(){for(var t=0;t<ha.length;t++)ha[t]._workInProgressVersionPrimary=null;ha.length=0}var fa=_.ReactCurrentDispatcher,da=_.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ga=null,ya=!1,ba=!1,_a=0,wa=0;function xa(){throw Error(o(321))}function Ea(t,e){if(null===e)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!sn(t[r],e[r]))return!1;return!0}function Ma(t,e,r,n,i,a){if(pa=a,va=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=null===t||null===t.memoizedState?ss:us,t=r(n,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ga=ma=null,e.updateQueue=null,fa.current=ls,t=r(n,i)}while(ba)}if(fa.current=as,e=null!==ma&&null!==ma.next,pa=0,ga=ma=va=null,ya=!1,e)throw Error(o(300));return t}function Sa(){var t=0!==_a;return _a=0,t}function Aa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=t:ga=ga.next=t,ga}function ka(){if(null===ma){var t=va.alternate;t=null!==t?t.memoizedState:null}else t=ma.next;var e=null===ga?va.memoizedState:ga.next;if(null!==e)ga=e,ma=t;else{if(null===t)throw Error(o(310));t={memoizedState:(ma=t).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=t:ga=ga.next=t}return ga}function Ta(t,e){return"function"===typeof e?e(t):e}function Ra(t){var e=ka(),r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=t;var n=ma,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(null!==i){a=i.next,n=n.baseState;var u=s=null,l=null,h=a;do{var c=h.lane;if((pa&c)===c)null!==l&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var f={lane:c,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===l?(u=l=f,s=n):l=l.next=f,va.lanes|=c,Lu|=c}h=h.next}while(null!==h&&h!==a);null===l?s=n:l.next=u,sn(n,e.memoizedState)||(_s=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(null!==(t=r.interleaved)){i=t;do{a=i.lane,va.lanes|=a,Lu|=a,i=i.next}while(i!==t)}else null===i&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Pa(t){var e=ka(),r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sn(a,e.memoizedState)||(_s=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Ia(){}function Na(t,e){var r=va,n=ka(),i=e(),a=!sn(n.memoizedState,i);if(a&&(n.memoizedState=i,_s=!0),n=n.queue,Va(Da.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||null!==ga&&1&ga.memoizedState.tag){if(r.flags|=2048,Ua(9,Ca.bind(null,r,n,i,e),void 0,null),null===Ru)throw Error(o(349));0!==(30&pa)||Oa(r,e,i)}return i}function Oa(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},null===(e=va.updateQueue)?(e={lastEffect:null,stores:null},va.updateQueue=e,e.stores=[t]):null===(r=e.stores)?e.stores=[t]:r.push(t)}function Ca(t,e,r,n){e.value=r,e.getSnapshot=n,La(e)&&Fa(t)}function Da(t,e,r){return r((function(){La(e)&&Fa(t)}))}function La(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!sn(t,r)}catch(n){return!0}}function Fa(t){var e=Po(t,1);null!==e&&rl(e,t,1,-1)}function Ba(t){var e=Aa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:t},e.queue=t,t=t.dispatch=rs.bind(null,va,t),[e.memoizedState,t]}function Ua(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},null===(e=va.updateQueue)?(e={lastEffect:null,stores:null},va.updateQueue=e,e.lastEffect=t.next=t):null===(r=e.lastEffect)?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t),t}function Ga(){return ka().memoizedState}function ja(t,e,r,n){var i=Aa();va.flags|=t,i.memoizedState=Ua(1|e,r,void 0,void 0===n?null:n)}function za(t,e,r,n){var i=ka();n=void 0===n?null:n;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==n&&Ea(n,a.deps))return void(i.memoizedState=Ua(e,r,o,n))}va.flags|=t,i.memoizedState=Ua(1|e,r,o,n)}function Ha(t,e){return ja(8390656,8,t,e)}function Va(t,e){return za(2048,8,t,e)}function Wa(t,e){return za(4,2,t,e)}function qa(t,e){return za(4,4,t,e)}function Xa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Za(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,za(4,4,Xa.bind(null,e,t),r)}function Ka(){}function Ya(t,e){var r=ka();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Ea(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Ja(t,e){var r=ka();e=void 0===e?null:e;var n=r.memoizedState;return null!==n&&null!==e&&Ea(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function $a(t,e,r){return 0===(21&pa)?(t.baseState&&(t.baseState=!1,_s=!0),t.memoizedState=r):(sn(r,e)||(r=ve(),va.lanes|=r,Lu|=r,t.baseState=!0),e)}function Qa(t,e){var r=be;be=0!==r&&4>r?r:4,t(!0);var n=da.transition;da.transition={};try{t(!1),e()}finally{be=r,da.transition=n}}function ts(){return ka().memoizedState}function es(t,e,r){var n=el(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ns(t))is(e,r);else if(null!==(r=Ro(t,e,r,n))){rl(r,t,n,tl()),os(r,e,n)}}function rs(t,e,r){var n=el(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ns(t))is(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,sn(s,a)){var u=e.interleaved;return null===u?(i.next=i,To(e)):(i.next=u.next,u.next=i),void(e.interleaved=i)}}catch(l){}null!==(r=Ro(t,e,i,n))&&(rl(r,t,n,i=tl()),os(r,e,n))}}function ns(t){var e=t.alternate;return t===va||null!==e&&e===va}function is(t,e){ba=ya=!0;var r=t.pending;null===r?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function os(t,e,r){if(0!==(4194240&r)){var n=e.lanes;r|=n&=t.pendingLanes,e.lanes=r,ye(t,r)}}var as={readContext:Ao,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:Ao,useCallback:function(t,e){return Aa().memoizedState=[t,void 0===e?null:e],t},useContext:Ao,useEffect:Ha,useImperativeHandle:function(t,e,r){return r=null!==r&&void 0!==r?r.concat([t]):null,ja(4194308,4,Xa.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ja(4194308,4,t,e)},useInsertionEffect:function(t,e){return ja(4,2,t,e)},useMemo:function(t,e){var r=Aa();return e=void 0===e?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Aa();return e=void 0!==r?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=es.bind(null,va,t),[n.memoizedState,t]},useRef:function(t){return t={current:t},Aa().memoizedState=t},useState:Ba,useDebugValue:Ka,useDeferredValue:function(t){return Aa().memoizedState=t},useTransition:function(){var t=Ba(!1),e=t[0];return t=Qa.bind(null,t[1]),Aa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=va,i=Aa();if(io){if(void 0===r)throw Error(o(407));r=r()}else{if(r=e(),null===Ru)throw Error(o(349));0!==(30&pa)||Oa(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Ha(Da.bind(null,n,a,t),[t]),n.flags|=2048,Ua(9,Ca.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Aa(),e=Ru.identifierPrefix;if(io){var r=Ji;e=":"+e+"R"+(r=(Yi&~(1<<32-ae(Yi)-1)).toString(32)+r),0<(r=_a++)&&(e+="H"+r.toString(32)),e+=":"}else e=":"+e+"r"+(r=wa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},us={readContext:Ao,useCallback:Ya,useContext:Ao,useEffect:Va,useImperativeHandle:Za,useInsertionEffect:Wa,useLayoutEffect:qa,useMemo:Ja,useReducer:Ra,useRef:Ga,useState:function(){return Ra(Ta)},useDebugValue:Ka,useDeferredValue:function(t){return $a(ka(),ma.memoizedState,t)},useTransition:function(){return[Ra(Ta)[0],ka().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Na,useId:ts,unstable_isNewReconciler:!1},ls={readContext:Ao,useCallback:Ya,useContext:Ao,useEffect:Va,useImperativeHandle:Za,useInsertionEffect:Wa,useLayoutEffect:qa,useMemo:Ja,useReducer:Pa,useRef:Ga,useState:function(){return Pa(Ta)},useDebugValue:Ka,useDeferredValue:function(t){var e=ka();return null===ma?e.memoizedState=t:$a(e,ma.memoizedState,t)},useTransition:function(){return[Pa(Ta)[0],ka().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Na,useId:ts,unstable_isNewReconciler:!1};function hs(t,e){try{var r="",n=e;do{r+=j(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function cs(t,e,r){return{value:t,source:null,stack:null!=r?r:null,digest:null!=e?e:null}}function fs(t,e){try{console.error(e.value)}catch(r){setTimeout((function(){throw r}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(t,e,r){(r=Co(-1,r)).tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vu||(Vu=!0,Wu=n),fs(0,e)},r}function vs(t,e,r){(r=Co(-1,r)).tag=3;var n=t.type.getDerivedStateFromError;if("function"===typeof n){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){fs(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){fs(0,e),"function"!==typeof n&&(null===qu?qu=new Set([this]):qu.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),r}function ms(t,e,r){var n=t.pingCache;if(null===n){n=t.pingCache=new ds;var i=new Set;n.set(e,i)}else void 0===(i=n.get(e))&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Sl.bind(null,t,e,r),e.then(t,t))}function gs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ys(t,e,r,n,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((e=Co(-1,1)).tag=2,Do(r,e,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var bs=_.ReactCurrentOwner,_s=!1;function ws(t,e,r,n){e.child=null===t?$o(e,null,r,n):Jo(e,t.child,r,n)}function xs(t,e,r,n,i){r=r.render;var o=e.ref;return So(e,i),n=Ma(t,e,r,n,o,i),r=Sa(),null===t||_s?(io&&r&&to(e),e.flags|=1,ws(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vs(t,e,i))}function Es(t,e,r,n,i){if(null===t){var o=r.type;return"function"!==typeof o||Nl(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((t=Cl(r.type,null,n,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ms(t,e,o,n,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((r=null!==(r=r.compare)?r:un)(a,n)&&t.ref===e.ref)return Vs(t,e,i)}return e.flags|=1,(t=Ol(o,n)).ref=e.ref,t.return=e,e.child=t}function Ms(t,e,r,n,i){if(null!==t){var o=t.memoizedProps;if(un(o,n)&&t.ref===e.ref){if(_s=!1,e.pendingProps=n=o,0===(t.lanes&i))return e.lanes=t.lanes,Vs(t,e,i);0!==(131072&t.flags)&&(_s=!0)}}return ks(t,e,r,n,i)}function Ss(t,e,r){var n=e.pendingProps,i=n.children,o=null!==t?t.memoizedState:null;if("hidden"===n.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Ou,Nu),Nu|=r;else{if(0===(1073741824&r))return t=null!==o?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ai(Ou,Nu),Nu|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,Ai(Ou,Nu),Nu|=n}else null!==o?(n=o.baseLanes|r,e.memoizedState=null):n=r,Ai(Ou,Nu),Nu|=n;return ws(t,e,i,r),e.child}function As(t,e){var r=e.ref;(null===t&&null!==r||null!==t&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ks(t,e,r,n,i){var o=Ni(r)?Pi:Ti.current;return o=Ii(e,o),So(e,i),r=Ma(t,e,r,n,o,i),n=Sa(),null===t||_s?(io&&n&&to(e),e.flags|=1,ws(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vs(t,e,i))}function Ts(t,e,r,n,i){if(Ni(r)){var o=!0;Li(e)}else o=!1;if(So(e,i),null===e.stateNode)Hs(t,e),Vo(e,r,n),qo(e,r,n,i),n=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=r.contextType;"object"===typeof l&&null!==l?l=Ao(l):l=Ii(e,l=Ni(r)?Pi:Ti.current);var h=r.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate;c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||u!==l)&&Wo(e,a,n,l),Io=!1;var f=e.memoizedState;a.state=f,Bo(e,n,a,i),u=e.memoizedState,s!==n||f!==u||Ri.current||Io?("function"===typeof h&&(jo(e,r,h,n),u=e.memoizedState),(s=Io||Ho(e,r,s,n,f,u,l))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=l,n=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Oo(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:go(e.type,s),a.props=l,c=e.pendingProps,f=a.context,"object"===typeof(u=r.contextType)&&null!==u?u=Ao(u):u=Ii(e,u=Ni(r)?Pi:Ti.current);var d=r.getDerivedStateFromProps;(h="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==c||f!==u)&&Wo(e,a,n,u),Io=!1,f=e.memoizedState,a.state=f,Bo(e,n,a,i);var p=e.memoizedState;s!==c||f!==p||Ri.current||Io?("function"===typeof d&&(jo(e,r,d,n),p=e.memoizedState),(l=Io||Ho(e,r,l,n,f,p,u)||!1)?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=u,n=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Rs(t,e,r,n,o,i)}function Rs(t,e,r,n,i,o){As(t,e);var a=0!==(128&e.flags);if(!n&&!a)return i&&Fi(e,r,!1),Vs(t,e,o);n=e.stateNode,bs.current=e;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return e.flags|=1,null!==t&&a?(e.child=Jo(e,t.child,null,o),e.child=Jo(e,null,s,o)):ws(t,e,s,o),e.memoizedState=n.state,i&&Fi(e,r,!0),e.child}function Ps(t){var e=t.stateNode;e.pendingContext?Ci(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ci(0,e.context,!1),ia(t,e.containerInfo)}function Is(t,e,r,n,i){return po(),vo(i),e.flags|=256,ws(t,e,r,n),e.child}var Ns,Os,Cs,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fs(t,e,r){var n,i=e.pendingProps,a=ua.current,s=!1,u=0!==(128&e.flags);if((n=u)||(n=(null===t||null!==t.memoizedState)&&0!==(2&a)),n?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Ai(ua,1&a),null===t)return lo(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(u=i.children,t=i.fallback,s?(i=e.mode,s=e.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ll(u,i,0,null),t=Dl(t,i,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ls(r),e.memoizedState=Ds,t):Bs(e,u));if(null!==(a=t.memoizedState)&&null!==(n=a.dehydrated))return function(t,e,r,n,i,a,s){if(r)return 256&e.flags?(e.flags&=-257,Us(t,e,s,n=cs(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Ll({mode:"visible",children:n.children},i,0,null),(a=Dl(a,i,s,null)).flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,0!==(1&e.mode)&&Jo(e,t.child,null,s),e.child.memoizedState=Ls(s),e.memoizedState=Ds,a);if(0===(1&e.mode))return Us(t,e,s,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var u=n.dgst;return n=u,Us(t,e,s,n=cs(a=Error(o(419)),n,void 0))}if(u=0!==(s&t.childLanes),_s||u){if(null!==(n=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(t,i),rl(n,t,i,-1))}return vl(),Us(t,e,s,n=cs(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=kl.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,no=li(i.nextSibling),ro=e,io=!0,oo=null,null!==t&&(Xi[Zi++]=Yi,Xi[Zi++]=Ji,Xi[Zi++]=Ki,Yi=t.id,Ji=t.overflow,Ki=e),(e=Bs(e,n.children)).flags|=4096,e)}(t,e,u,i,n,a,r);if(s){s=i.fallback,u=e.mode,n=(a=t.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ol(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==n?s=Ol(n,s):(s=Dl(s,u,r,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,u=null===(u=t.child.memoizedState)?Ls(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=t.childLanes&~r,e.memoizedState=Ds,i}return t=(s=t.child).sibling,i=Ol(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=r),i.return=e,i.sibling=null,null!==t&&(null===(r=e.deletions)?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function Bs(t,e){return(e=Ll({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Us(t,e,r,n){return null!==n&&vo(n),Jo(e,t.child,null,r),(t=Bs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Gs(t,e,r){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),Mo(t.return,e,r)}function js(t,e,r,n,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function zs(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(ws(t,e,n.children,r),0!==(2&(n=ua.current)))n=1&n|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Gs(t,r,e);else if(19===t.tag)Gs(t,r,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ai(ua,n),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;null!==r;)null!==(t=r.alternate)&&null===la(t)&&(i=r),r=r.sibling;null===(r=i)?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),js(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===la(t)){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}js(e,!0,r,null,o);break;case"together":js(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hs(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vs(t,e,r){if(null!==t&&(e.dependencies=t.dependencies),Lu|=e.lanes,0===(r&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(r=Ol(t=e.child,t.pendingProps),e.child=r,r.return=e;null!==t.sibling;)t=t.sibling,(r=r.sibling=Ol(t,t.pendingProps)).return=e;r.sibling=null}return e.child}function Ws(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?e||null===t.tail?t.tail=null:t.tail.sibling=null:n.sibling=null}}function qs(t){var e=null!==t.alternate&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Xs(t,e,r){var n=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(e),null;case 1:case 17:return Ni(e.type)&&Oi(),qs(e),null;case 3:return n=e.stateNode,oa(),Si(Ri),Si(Ti),ca(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==t&&null!==t.child||(co(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(al(oo),oo=null))),qs(e),null;case 5:sa(e);var i=na(ra.current);if(r=e.type,null!==t&&null!=e.stateNode)Os(t,e,r,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(null===e.stateNode)throw Error(o(166));return qs(e),null}if(t=na(ta.current),co(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[fi]=e,n[di]=a,t=0!==(1&e.mode),r){case"dialog":Un("cancel",n),Un("close",n);break;case"iframe":case"object":case"embed":Un("load",n);break;case"video":case"audio":for(i=0;i<Dn.length;i++)Un(Dn[i],n);break;case"source":Un("error",n);break;case"img":case"image":case"link":Un("error",n),Un("load",n);break;case"details":Un("toggle",n);break;case"input":Y(n,a),Un("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Un("invalid",n);break;case"textarea":it(n,a),Un("invalid",n)}for(var u in yt(r,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?n.textContent!==l&&(!0!==a.suppressHydrationWarning&&$n(n.textContent,l,t),i=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&$n(n.textContent,l,t),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Un("scroll",n)}switch(r){case"input":q(n),Q(n,a,!0);break;case"textarea":q(n),at(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=Qn)}n=i,e.updateQueue=n,null!==n&&(e.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(r)),"http://www.w3.org/1999/xhtml"===t?"script"===r?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof n.is?t=u.createElement(r,{is:n.is}):(t=u.createElement(r),"select"===r&&(u=t,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):t=u.createElementNS(t,r),t[fi]=e,t[di]=n,Ns(t,e),e.stateNode=t;t:{switch(u=bt(r,n),r){case"dialog":Un("cancel",t),Un("close",t),i=n;break;case"iframe":case"object":case"embed":Un("load",t),i=n;break;case"video":case"audio":for(i=0;i<Dn.length;i++)Un(Dn[i],t);i=n;break;case"source":Un("error",t),i=n;break;case"img":case"image":case"link":Un("error",t),Un("load",t),i=n;break;case"details":Un("toggle",t),i=n;break;case"input":Y(t,n),i=K(t,n),Un("invalid",t);break;case"option":default:i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=F({},n,{value:void 0}),Un("invalid",t);break;case"textarea":it(t,n),i=nt(t,n),Un("invalid",t)}for(a in yt(r,i),l=i)if(l.hasOwnProperty(a)){var h=l[a];"style"===a?mt(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ct(t,h):"children"===a?"string"===typeof h?("textarea"!==r||""!==h)&&ft(t,h):"number"===typeof h&&ft(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Un("scroll",t):null!=h&&b(t,a,h,u))}switch(r){case"input":q(t),Q(t,n,!1);break;case"textarea":q(t),at(t);break;case"option":null!=n.value&&t.setAttribute("value",""+V(n.value));break;case"select":t.multiple=!!n.multiple,null!=(a=n.value)?rt(t,!!n.multiple,a,!1):null!=n.defaultValue&&rt(t,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Qn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return qs(e),null;case 6:if(t&&null!=e.stateNode)Cs(0,e,t.memoizedProps,n);else{if("string"!==typeof n&&null===e.stateNode)throw Error(o(166));if(r=na(ra.current),na(ta.current),co(e)){if(n=e.stateNode,r=e.memoizedProps,n[fi]=e,(a=n.nodeValue!==r)&&null!==(t=ro))switch(t.tag){case 3:$n(n.nodeValue,r,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&$n(n.nodeValue,r,0!==(1&t.mode))}a&&(e.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[fi]=e,e.stateNode=n}return qs(e),null;case 13:if(Si(ua),n=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==no&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=co(e),null!==n&&null!==n.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;qs(e),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=r,e):((n=null!==n)!==(null!==t&&null!==t.memoizedState)&&n&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ua.current)?0===Cu&&(Cu=3):vl())),null!==e.updateQueue&&(e.flags|=4),qs(e),null);case 4:return oa(),null===t&&zn(e.stateNode.containerInfo),qs(e),null;case 10:return Eo(e.type._context),qs(e),null;case 19:if(Si(ua),null===(a=e.memoizedState))return qs(e),null;if(n=0!==(128&e.flags),null===(u=a.rendering))if(n)Ws(a,!1);else{if(0!==Cu||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(u=la(t))){for(e.flags|=128,Ws(a,!1),null!==(n=u.updateQueue)&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;null!==r;)t=n,(a=r).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ai(ua,1&ua.current|2),e.child}t=t.sibling}null!==a.tail&&Jt()>zu&&(e.flags|=128,n=!0,Ws(a,!1),e.lanes=4194304)}else{if(!n)if(null!==(t=la(u))){if(e.flags|=128,n=!0,null!==(r=t.updateQueue)&&(e.updateQueue=r,e.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return qs(e),null}else 2*Jt()-a.renderingStartTime>zu&&1073741824!==r&&(e.flags|=128,n=!0,Ws(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(null!==(r=a.last)?r.sibling=u:e.child=u,a.last=u)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Jt(),e.sibling=null,r=ua.current,Ai(ua,n?1&r|2:1&r),e):(qs(e),null);case 22:case 23:return cl(),n=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==n&&(e.flags|=8192),n&&0!==(1&e.mode)?0!==(1073741824&Nu)&&(qs(e),6&e.subtreeFlags&&(e.flags|=8192)):qs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Zs(t,e){switch(eo(e),e.tag){case 1:return Ni(e.type)&&Oi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return oa(),Si(Ri),Si(Ti),ca(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return sa(e),null;case 13:if(Si(ua),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Si(ua),null;case 4:return oa(),null;case 10:return Eo(e.type._context),null;case 22:case 23:return cl(),null;default:return null}}Ns=function(t,e){for(var r=e.child;null!==r;){if(5===r.tag||6===r.tag)t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Os=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,na(ta.current);var o,a=null;switch(r){case"input":i=K(t,i),n=K(t,n),a=[];break;case"select":i=F({},i,{value:void 0}),n=F({},n,{value:void 0}),a=[];break;case"textarea":i=nt(t,i),n=nt(t,n),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(t.onclick=Qn)}for(h in yt(r,n),r=null,i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&null!=i[h])if("style"===h){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(s.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in n){var l=n[h];if(u=null!=i?i[h]:void 0,n.hasOwnProperty(h)&&l!==u&&(null!=l||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(h,r)),r=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(s.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Un("scroll",t),a||u===l||(a=[])):(a=a||[]).push(h,l))}r&&(a=a||[]).push("style",r);var h=a;(e.updateQueue=h)&&(e.flags|=4)}},Cs=function(t,e,r,n){r!==n&&(e.flags|=4)};var Ks=!1,Ys=!1,Js="function"===typeof WeakSet?WeakSet:Set,$s=null;function Qs(t,e){var r=t.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Ml(t,e,n)}else r.current=null}function tu(t,e,r){try{r()}catch(n){Ml(t,e,n)}}var eu=!1;function ru(t,e,r){var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(e,r,o)}i=i.next}while(i!==n)}}function nu(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function iu(t){var e=t.ref;if(null!==e){var r=t.stateNode;t.tag,t=r,"function"===typeof e?e(t):e.current=t}}function ou(t){var e=t.alternate;null!==e&&(t.alternate=null,ou(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[fi],delete e[di],delete e[vi],delete e[mi],delete e[gi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function au(t){return 5===t.tag||3===t.tag||4===t.tag}function su(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||au(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function uu(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?8===r.nodeType?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(8===r.nodeType?(e=r.parentNode).insertBefore(t,r):(e=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==e.onclick||(e.onclick=Qn));else if(4!==n&&null!==(t=t.child))for(uu(t,e,r),t=t.sibling;null!==t;)uu(t,e,r),t=t.sibling}function lu(t,e,r){var n=t.tag;if(5===n||6===n)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(4!==n&&null!==(t=t.child))for(lu(t,e,r),t=t.sibling;null!==t;)lu(t,e,r),t=t.sibling}var hu=null,cu=!1;function fu(t,e,r){for(r=r.child;null!==r;)du(t,e,r),r=r.sibling}function du(t,e,r){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,r)}catch(s){}switch(r.tag){case 5:Ys||Qs(r,e);case 6:var n=hu,i=cu;hu=null,fu(t,e,r),cu=i,null!==(hu=n)&&(cu?(t=hu,r=r.stateNode,8===t.nodeType?t.parentNode.removeChild(r):t.removeChild(r)):hu.removeChild(r.stateNode));break;case 18:null!==hu&&(cu?(t=hu,r=r.stateNode,8===t.nodeType?ui(t.parentNode,r):1===t.nodeType&&ui(t,r),ze(t)):ui(hu,r.stateNode));break;case 4:n=hu,i=cu,hu=r.stateNode.containerInfo,cu=!0,fu(t,e,r),hu=n,cu=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(r,e,a),i=i.next}while(i!==n)}fu(t,e,r);break;case 1:if(!Ys&&(Qs(r,e),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Ml(r,e,s)}fu(t,e,r);break;case 21:fu(t,e,r);break;case 22:1&r.mode?(Ys=(n=Ys)||null!==r.memoizedState,fu(t,e,r),Ys=n):fu(t,e,r);break;default:fu(t,e,r)}}function pu(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var r=t.stateNode;null===r&&(r=t.stateNode=new Js),e.forEach((function(e){var n=Tl.bind(null,t,e);r.has(e)||(r.add(e),e.then(n,n))}))}}function vu(t,e){var r=e.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,s=e,u=s;t:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,cu=!1;break t;case 3:case 4:hu=u.stateNode.containerInfo,cu=!0;break t}u=u.return}if(null===hu)throw Error(o(160));du(a,s,i),hu=null,cu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(h){Ml(i,e,h)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)mu(e,t),e=e.sibling}function mu(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vu(e,t),gu(t),4&n){try{ru(3,t,t.return),nu(3,t)}catch(m){Ml(t,t.return,m)}try{ru(5,t,t.return)}catch(m){Ml(t,t.return,m)}}break;case 1:vu(e,t),gu(t),512&n&&null!==r&&Qs(r,r.return);break;case 5:if(vu(e,t),gu(t),512&n&&null!==r&&Qs(r,r.return),32&t.flags){var i=t.stateNode;try{ft(i,"")}catch(m){Ml(t,t.return,m)}}if(4&n&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==r?r.memoizedProps:a,u=t.type,l=t.updateQueue;if(t.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&J(i,a),bt(u,s);var h=bt(u,a);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];"style"===c?mt(i,f):"dangerouslySetInnerHTML"===c?ct(i,f):"children"===c?ft(i,f):b(i,c,f,h)}switch(u){case"input":$(i,a);break;case"textarea":ot(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?rt(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?rt(i,!!a.multiple,a.defaultValue,!0):rt(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Ml(t,t.return,m)}}break;case 6:if(vu(e,t),gu(t),4&n){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Ml(t,t.return,m)}}break;case 3:if(vu(e,t),gu(t),4&n&&null!==r&&r.memoizedState.isDehydrated)try{ze(e.containerInfo)}catch(m){Ml(t,t.return,m)}break;case 4:default:vu(e,t),gu(t);break;case 13:vu(e,t),gu(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(ju=Jt())),4&n&&pu(t);break;case 22:if(c=null!==r&&null!==r.memoizedState,1&t.mode?(Ys=(h=Ys)||c,vu(e,t),Ys=h):vu(e,t),gu(t),8192&n){if(h=null!==t.memoizedState,(t.stateNode.isHidden=h)&&!c&&0!==(1&t.mode))for($s=t,c=t.child;null!==c;){for(f=$s=c;null!==$s;){switch(p=(d=$s).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:Qs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){n=d,r=d.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){Ml(n,r,m)}}break;case 5:Qs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(f);continue}}null!==p?(p.return=d,$s=p):wu(f)}c=c.sibling}t:for(c=null,f=t;;){if(5===f.tag){if(null===c){c=f;try{i=f.stateNode,h?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=vt("display",s))}catch(m){Ml(t,t.return,m)}}}else if(6===f.tag){if(null===c)try{f.stateNode.nodeValue=h?"":f.memoizedProps}catch(m){Ml(t,t.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===t)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===t)break t;for(;null===f.sibling;){if(null===f.return||f.return===t)break t;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(e,t),gu(t),4&n&&pu(t);case 21:}}function gu(t){var e=t.flags;if(2&e){try{t:{for(var r=t.return;null!==r;){if(au(r)){var n=r;break t}r=r.return}throw Error(o(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(ft(i,""),n.flags&=-33),lu(t,su(t),i);break;case 3:case 4:var a=n.stateNode.containerInfo;uu(t,su(t),a);break;default:throw Error(o(161))}}catch(s){Ml(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function yu(t,e,r){$s=t,bu(t,e,r)}function bu(t,e,r){for(var n=0!==(1&t.mode);null!==$s;){var i=$s,o=i.child;if(22===i.tag&&n){var a=null!==i.memoizedState||Ks;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Ks;var l=Ys;if(Ks=a,(Ys=u)&&!l)for($s=i;null!==$s;)u=(a=$s).child,22===a.tag&&null!==a.memoizedState?xu(i):null!==u?(u.return=a,$s=u):xu(i);for(;null!==o;)$s=o,bu(o,e,r),o=o.sibling;$s=i,Ks=s,Ys=l}_u(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,$s=o):_u(t)}}function _u(t){for(;null!==$s;){var e=$s;if(0!==(8772&e.flags)){var r=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ys||nu(5,e);break;case 1:var n=e.stateNode;if(4&e.flags&&!Ys)if(null===r)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:go(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Uo(e,a,n);break;case 3:var s=e.updateQueue;if(null!==s){if(r=null,null!==e.child)switch(e.child.tag){case 5:case 1:r=e.child.stateNode}Uo(e,s,r)}break;case 5:var u=e.stateNode;if(null===r&&4&e.flags){r=u;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var h=e.alternate;if(null!==h){var c=h.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&ze(f)}}}break;default:throw Error(o(163))}Ys||512&e.flags&&iu(e)}catch(d){Ml(e,e.return,d)}}if(e===t){$s=null;break}if(null!==(r=e.sibling)){r.return=e.return,$s=r;break}$s=e.return}}function wu(t){for(;null!==$s;){var e=$s;if(e===t){$s=null;break}var r=e.sibling;if(null!==r){r.return=e.return,$s=r;break}$s=e.return}}function xu(t){for(;null!==$s;){var e=$s;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{nu(4,e)}catch(u){Ml(e,r,u)}break;case 1:var n=e.stateNode;if("function"===typeof n.componentDidMount){var i=e.return;try{n.componentDidMount()}catch(u){Ml(e,i,u)}}var o=e.return;try{iu(e)}catch(u){Ml(e,o,u)}break;case 5:var a=e.return;try{iu(e)}catch(u){Ml(e,a,u)}}}catch(u){Ml(e,e.return,u)}if(e===t){$s=null;break}var s=e.sibling;if(null!==s){s.return=e.return,$s=s;break}$s=e.return}}var Eu,Mu=Math.ceil,Su=_.ReactCurrentDispatcher,Au=_.ReactCurrentOwner,ku=_.ReactCurrentBatchConfig,Tu=0,Ru=null,Pu=null,Iu=0,Nu=0,Ou=Mi(0),Cu=0,Du=null,Lu=0,Fu=0,Bu=0,Uu=null,Gu=null,ju=0,zu=1/0,Hu=null,Vu=!1,Wu=null,qu=null,Xu=!1,Zu=null,Ku=0,Yu=0,Ju=null,$u=-1,Qu=0;function tl(){return 0!==(6&Tu)?Jt():-1!==$u?$u:$u=Jt()}function el(t){return 0===(1&t.mode)?1:0!==(2&Tu)&&0!==Iu?Iu&-Iu:null!==mo.transition?(0===Qu&&(Qu=ve()),Qu):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function rl(t,e,r,n){if(50<Yu)throw Yu=0,Ju=null,Error(o(185));ge(t,r,n),0!==(2&Tu)&&t===Ru||(t===Ru&&(0===(2&Tu)&&(Fu|=r),4===Cu&&sl(t,Iu)),nl(t,n),1===r&&0===Tu&&0===(1&e.mode)&&(zu=Jt()+500,Ui&&zi()))}function nl(t,e){var r=t.callbackNode;!function(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,u=i[a];-1===u?0!==(s&r)&&0===(s&n)||(i[a]=de(s,e)):u<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var n=fe(t,t===Ru?Iu:0);if(0===n)null!==r&&Zt(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(null!=r&&Zt(r),1===e)0===t.tag?function(t){Ui=!0,ji(t)}(ul.bind(null,t)):ji(ul.bind(null,t)),ai((function(){0===(6&Tu)&&zi()})),r=null;else{switch(_e(n)){case 1:r=Qt;break;case 4:r=te;break;case 16:default:r=ee;break;case 536870912:r=ne}r=Rl(r,il.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function il(t,e){if($u=-1,Qu=0,0!==(6&Tu))throw Error(o(327));var r=t.callbackNode;if(xl()&&t.callbackNode!==r)return null;var n=fe(t,t===Ru?Iu:0);if(0===n)return null;if(0!==(30&n)||0!==(n&t.expiredLanes)||e)e=ml(t,n);else{e=n;var i=Tu;Tu|=2;var a=pl();for(Ru===t&&Iu===e||(Hu=null,zu=Jt()+500,fl(t,e));;)try{yl();break}catch(u){dl(t,u)}xo(),Su.current=a,Tu=i,null!==Pu?e=0:(Ru=null,Iu=0,e=Cu)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(n=i,e=ol(t,i))),1===e)throw r=Du,fl(t,0),sl(t,n),nl(t,Jt()),r;if(6===e)sl(t,n);else{if(i=t.current.alternate,0===(30&n)&&!function(t){for(var e=t;;){if(16384&e.flags){var r=e.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!sn(o(),i))return!1}catch(s){return!1}}}if(r=e.child,16384&e.subtreeFlags&&null!==r)r.return=e,e=r;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=ml(t,n))&&(0!==(a=pe(t))&&(n=a,e=ol(t,a))),1===e))throw r=Du,fl(t,0),sl(t,n),nl(t,Jt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(o(345));case 2:case 5:wl(t,Gu,Hu);break;case 3:if(sl(t,n),(130023424&n)===n&&10<(e=ju+500-Jt())){if(0!==fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){tl(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ni(wl.bind(null,t,Gu,Hu),e);break}wl(t,Gu,Hu);break;case 4:if(sl(t,n),(4194240&n)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-ae(n);a=1<<s,(s=e[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Jt()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Mu(n/1960))-n)){t.timeoutHandle=ni(wl.bind(null,t,Gu,Hu),n);break}wl(t,Gu,Hu);break;default:throw Error(o(329))}}}return nl(t,Jt()),t.callbackNode===r?il.bind(null,t):null}function ol(t,e){var r=Uu;return t.current.memoizedState.isDehydrated&&(fl(t,e).flags|=256),2!==(t=ml(t,e))&&(e=Gu,Gu=r,null!==e&&al(e)),t}function al(t){null===Gu?Gu=t:Gu.push.apply(Gu,t)}function sl(t,e){for(e&=~Bu,e&=~Fu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ae(e),n=1<<r;t[r]=-1,e&=~n}}function ul(t){if(0!==(6&Tu))throw Error(o(327));xl();var e=fe(t,0);if(0===(1&e))return nl(t,Jt()),null;var r=ml(t,e);if(0!==t.tag&&2===r){var n=pe(t);0!==n&&(e=n,r=ol(t,n))}if(1===r)throw r=Du,fl(t,0),sl(t,e),nl(t,Jt()),r;if(6===r)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wl(t,Gu,Hu),nl(t,Jt()),null}function ll(t,e){var r=Tu;Tu|=1;try{return t(e)}finally{0===(Tu=r)&&(zu=Jt()+500,Ui&&zi())}}function hl(t){null!==Zu&&0===Zu.tag&&0===(6&Tu)&&xl();var e=Tu;Tu|=1;var r=ku.transition,n=be;try{if(ku.transition=null,be=1,t)return t()}finally{be=n,ku.transition=r,0===(6&(Tu=e))&&zi()}}function cl(){Nu=Ou.current,Si(Ou)}function fl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(-1!==r&&(t.timeoutHandle=-1,ii(r)),null!==Pu)for(r=Pu.return;null!==r;){var n=r;switch(eo(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Oi();break;case 3:oa(),Si(Ri),Si(Ti),ca();break;case 5:sa(n);break;case 4:oa();break;case 13:case 19:Si(ua);break;case 10:Eo(n.type._context);break;case 22:case 23:cl()}r=r.return}if(Ru=t,Pu=t=Ol(t.current,null),Iu=Nu=e,Cu=0,Du=null,Bu=Fu=Lu=0,Gu=Uu=null,null!==ko){for(e=0;e<ko.length;e++)if(null!==(n=(r=ko[e]).interleaved)){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var a=o.next;o.next=i,n.next=a}r.pending=n}ko=null}return t}function dl(t,e){for(;;){var r=Pu;try{if(xo(),fa.current=as,ya){for(var n=va.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}ya=!1}if(pa=0,ga=ma=va=null,ba=!1,_a=0,Au.current=null,null===r||null===r.return){Cu=1,Du=e,Pu=null;break}t:{var a=t,s=r.return,u=r,l=e;if(e=Iu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var h=l,c=u,f=c.tag;if(0===(1&c.mode)&&(0===f||11===f||15===f)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,e),1&p.mode&&ms(a,h,e),l=h;var v=(e=p).updateQueue;if(null===v){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break t}if(0===(1&e)){ms(a,h,e),vl();break t}l=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,e),vo(hs(l,u));break t}}a=l=hs(l,u),4!==Cu&&(Cu=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Fo(a,ps(0,l,e));break t;case 1:u=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qu||!qu.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Fo(a,vs(a,u,e));break t}}a=a.return}while(null!==a)}_l(r)}catch(_){e=_,Pu===r&&null!==r&&(Pu=r=r.return);continue}break}}function pl(){var t=Su.current;return Su.current=as,null===t?as:t}function vl(){0!==Cu&&3!==Cu&&2!==Cu||(Cu=4),null===Ru||0===(268435455&Lu)&&0===(268435455&Fu)||sl(Ru,Iu)}function ml(t,e){var r=Tu;Tu|=2;var n=pl();for(Ru===t&&Iu===e||(Hu=null,fl(t,e));;)try{gl();break}catch(i){dl(t,i)}if(xo(),Tu=r,Su.current=n,null!==Pu)throw Error(o(261));return Ru=null,Iu=0,Cu}function gl(){for(;null!==Pu;)bl(Pu)}function yl(){for(;null!==Pu&&!Kt();)bl(Pu)}function bl(t){var e=Eu(t.alternate,t,Nu);t.memoizedProps=t.pendingProps,null===e?_l(t):Pu=e,Au.current=null}function _l(t){var e=t;do{var r=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(r=Xs(r,e,Nu)))return void(Pu=r)}else{if(null!==(r=Zs(r,e)))return r.flags&=32767,void(Pu=r);if(null===t)return Cu=6,void(Pu=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Pu=e);Pu=e=t}while(null!==e);0===Cu&&(Cu=5)}function wl(t,e,r){var n=be,i=ku.transition;try{ku.transition=null,be=1,function(t,e,r,n){do{xl()}while(null!==Zu);if(0!==(6&Tu))throw Error(o(327));r=t.finishedWork;var i=t.finishedLanes;if(null===r)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ae(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}(t,a),t===Ru&&(Pu=Ru=null,Iu=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Xu||(Xu=!0,Rl(ee,(function(){return xl(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=ku.transition,ku.transition=null;var s=be;be=1;var u=Tu;Tu|=4,Au.current=null,function(t,e){if(ti=Ve,dn(t=fn())){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{var n=(r=(r=t.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(w){r=null;break t}var s=0,u=-1,l=-1,h=0,c=0,f=t,d=null;e:for(;;){for(var p;f!==r||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==n&&3!==f.nodeType||(l=s+n),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===t)break e;if(d===r&&++h===i&&(u=s),d===a&&++c===n&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}r=-1===u||-1===l?null:{start:u,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ei={focusedElem:t,selectionRange:r},Ve=!1,$s=e;null!==$s;)if(t=(e=$s).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,$s=t;else for(;null!==$s;){e=$s;try{var v=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:go(e.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){Ml(e,e.return,w)}if(null!==(t=e.sibling)){t.return=e.return,$s=t;break}$s=e.return}v=eu,eu=!1}(t,r),mu(r,t),pn(ei),Ve=!!ti,ei=ti=null,t.current=r,yu(r,t,i),Yt(),Tu=u,be=s,ku.transition=a}else t.current=r;if(Xu&&(Xu=!1,Zu=t,Ku=i),0===(a=t.pendingLanes)&&(qu=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(r.stateNode),nl(t,Jt()),null!==e)for(n=t.onRecoverableError,r=0;r<e.length;r++)n((i=e[r]).value,{componentStack:i.stack,digest:i.digest});if(Vu)throw Vu=!1,t=Wu,Wu=null,t;0!==(1&Ku)&&0!==t.tag&&xl(),0!==(1&(a=t.pendingLanes))?t===Ju?Yu++:(Yu=0,Ju=t):Yu=0,zi()}(t,e,r,n)}finally{ku.transition=i,be=n}return null}function xl(){if(null!==Zu){var t=_e(Ku),e=ku.transition,r=be;try{if(ku.transition=null,be=16>t?16:t,null===Zu)var n=!1;else{if(t=Zu,Zu=null,Ku=0,0!==(6&Tu))throw Error(o(331));var i=Tu;for(Tu|=4,$s=t.current;null!==$s;){var a=$s,s=a.child;if(0!==(16&$s.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var h=u[l];for($s=h;null!==$s;){var c=$s;switch(c.tag){case 0:case 11:case 15:ru(8,c,a)}var f=c.child;if(null!==f)f.return=c,$s=f;else for(;null!==$s;){var d=(c=$s).sibling,p=c.return;if(ou(c),c===h){$s=null;break}if(null!==d){d.return=p,$s=d;break}$s=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}$s=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else t:for(;null!==$s;){if(0!==(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$s=y;break t}$s=a.return}}var b=t.current;for($s=b;null!==$s;){var _=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,$s=_;else t:for(s=b;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:nu(9,u)}}catch(x){Ml(u,u.return,x)}if(u===s){$s=null;break t}var w=u.sibling;if(null!==w){w.return=u.return,$s=w;break t}$s=u.return}}if(Tu=i,zi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(x){}n=!0}return n}finally{be=r,ku.transition=e}}return!1}function El(t,e,r){t=Do(t,e=ps(0,e=hs(r,e),1),1),e=tl(),null!==t&&(ge(t,1,e),nl(t,e))}function Ml(t,e,r){if(3===t.tag)El(t,t,r);else for(;null!==e;){if(3===e.tag){El(e,t,r);break}if(1===e.tag){var n=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===qu||!qu.has(n))){e=Do(e,t=vs(e,t=hs(r,t),1),1),t=tl(),null!==e&&(ge(e,1,t),nl(e,t));break}}e=e.return}}function Sl(t,e,r){var n=t.pingCache;null!==n&&n.delete(e),e=tl(),t.pingedLanes|=t.suspendedLanes&r,Ru===t&&(Iu&r)===r&&(4===Cu||3===Cu&&(130023424&Iu)===Iu&&500>Jt()-ju?fl(t,0):Bu|=r),nl(t,e)}function Al(t,e){0===e&&(0===(1&t.mode)?e=1:(e=he,0===(130023424&(he<<=1))&&(he=4194304)));var r=tl();null!==(t=Po(t,e))&&(ge(t,e,r),nl(t,r))}function kl(t){var e=t.memoizedState,r=0;null!==e&&(r=e.retryLane),Al(t,r)}function Tl(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(e),Al(t,r)}function Rl(t,e){return Xt(t,e)}function Pl(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Il(t,e,r,n){return new Pl(t,e,r,n)}function Nl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ol(t,e){var r=t.alternate;return null===r?((r=Il(t.tag,e,t.key,t.mode)).elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&t.flags,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Cl(t,e,r,n,i,a){var s=2;if(n=t,"function"===typeof t)Nl(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case E:return Dl(r.children,i,a,e);case M:s=8,i|=8;break;case S:return(t=Il(12,r,e,2|i)).elementType=S,t.lanes=a,t;case R:return(t=Il(13,r,e,i)).elementType=R,t.lanes=a,t;case P:return(t=Il(19,r,e,i)).elementType=P,t.lanes=a,t;case O:return Ll(r,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case A:s=10;break t;case k:s=9;break t;case T:s=11;break t;case I:s=14;break t;case N:s=16,n=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=Il(s,r,e,i)).elementType=t,e.type=n,e.lanes=a,e}function Dl(t,e,r,n){return(t=Il(7,t,n,e)).lanes=r,t}function Ll(t,e,r,n){return(t=Il(22,t,n,e)).elementType=O,t.lanes=r,t.stateNode={isHidden:!1},t}function Fl(t,e,r){return(t=Il(6,t,null,e)).lanes=r,t}function Bl(t,e,r){return(e=Il(4,null!==t.children?t.children:[],t.key,e)).lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ul(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gl(t,e,r,n,i,o,a,s,u){return t=new Ul(t,e,r,s,u),1===e?(e=1,!0===o&&(e|=8)):e=0,o=Il(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),t}function jl(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==n?null:""+n,children:t,containerInfo:e,implementation:r}}function zl(t){if(!t)return ki;t:{if(zt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ni(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var r=t.type;if(Ni(r))return Di(t,r,e)}return e}function Hl(t,e,r,n,i,o,a,s,u){return(t=Gl(r,n,!0,t,0,o,0,s,u)).context=zl(null),r=t.current,(o=Co(n=tl(),i=el(r))).callback=void 0!==e&&null!==e?e:null,Do(r,o,i),t.current.lanes=i,ge(t,i,n),nl(t,n),t}function Vl(t,e,r,n){var i=e.current,o=tl(),a=el(i);return r=zl(r),null===e.context?e.context=r:e.pendingContext=r,(e=Co(o,a)).payload={element:t},null!==(n=void 0===n?null:n)&&(e.callback=n),null!==(t=Do(i,e,a))&&(rl(t,i,a,o),Lo(t,i,a)),a}function Wl(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function ql(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var r=t.retryLane;t.retryLane=0!==r&&r<e?r:e}}function Xl(t,e){ql(t,e),(t=t.alternate)&&ql(t,e)}Eu=function(t,e,r){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ri.current)_s=!0;else{if(0===(t.lanes&r)&&0===(128&e.flags))return _s=!1,function(t,e,r){switch(e.tag){case 3:Ps(e),po();break;case 5:aa(e);break;case 1:Ni(e.type)&&Li(e);break;case 4:ia(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ai(yo,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=e.memoizedState))return null!==n.dehydrated?(Ai(ua,1&ua.current),e.flags|=128,null):0!==(r&e.child.childLanes)?Fs(t,e,r):(Ai(ua,1&ua.current),null!==(t=Vs(t,e,r))?t.sibling:null);Ai(ua,1&ua.current);break;case 19:if(n=0!==(r&e.childLanes),0!==(128&t.flags)){if(n)return zs(t,e,r);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(ua,ua.current),n)break;return null;case 22:case 23:return e.lanes=0,Ss(t,e,r)}return Vs(t,e,r)}(t,e,r);_s=0!==(131072&t.flags)}else _s=!1,io&&0!==(1048576&e.flags)&&Qi(e,qi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Hs(t,e),t=e.pendingProps;var i=Ii(e,Ti.current);So(e,r),i=Ma(null,e,n,t,i,r);var a=Sa();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ni(n)?(a=!0,Li(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(e),i.updater=zo,e.stateNode=i,i._reactInternals=e,qo(e,n,t,r),e=Rs(null,e,n,!0,a,r)):(e.tag=0,io&&a&&to(e),ws(null,e,i,r),e=e.child),e;case 16:n=e.elementType;t:{switch(Hs(t,e),t=e.pendingProps,n=(i=n._init)(n._payload),e.type=n,i=e.tag=function(t){if("function"===typeof t)return Nl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===T)return 11;if(t===I)return 14}return 2}(n),t=go(n,t),i){case 0:e=ks(null,e,n,t,r);break t;case 1:e=Ts(null,e,n,t,r);break t;case 11:e=xs(null,e,n,t,r);break t;case 14:e=Es(null,e,n,go(n.type,t),r);break t}throw Error(o(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,ks(t,e,n,i=e.elementType===n?i:go(n,i),r);case 1:return n=e.type,i=e.pendingProps,Ts(t,e,n,i=e.elementType===n?i:go(n,i),r);case 3:t:{if(Ps(e),null===t)throw Error(o(387));n=e.pendingProps,i=(a=e.memoizedState).element,Oo(t,e),Bo(e,n,null,r);var s=e.memoizedState;if(n=s.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Is(t,e,n,r,i=hs(Error(o(423)),e));break t}if(n!==i){e=Is(t,e,n,r,i=hs(Error(o(424)),e));break t}for(no=li(e.stateNode.containerInfo.firstChild),ro=e,io=!0,oo=null,r=$o(e,null,n,r),e.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(po(),n===i){e=Vs(t,e,r);break t}ws(t,e,n,r)}e=e.child}return e;case 5:return aa(e),null===t&&lo(e),n=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ri(n,i)?s=null:null!==a&&ri(n,a)&&(e.flags|=32),As(t,e),ws(t,e,s,r),e.child;case 6:return null===t&&lo(e),null;case 13:return Fs(t,e,r);case 4:return ia(e,e.stateNode.containerInfo),n=e.pendingProps,null===t?e.child=Jo(e,null,n,r):ws(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,xs(t,e,n,i=e.elementType===n?i:go(n,i),r);case 7:return ws(t,e,e.pendingProps,r),e.child;case 8:case 12:return ws(t,e,e.pendingProps.children,r),e.child;case 10:t:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ai(yo,n._currentValue),n._currentValue=s,null!==a)if(sn(a.value,s)){if(a.children===i.children&&!Ri.current){e=Vs(t,e,r);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===n){if(1===a.tag){(l=Co(-1,r&-r)).tag=2;var h=a.updateQueue;if(null!==h){var c=(h=h.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),h.pending=l}}a.lanes|=r,null!==(l=a.alternate)&&(l.lanes|=r),Mo(a.return,r,e),u.lanes|=r;break}l=l.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=r,null!==(u=s.alternate)&&(u.lanes|=r),Mo(s,r,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,So(e,r),n=n(i=Ao(i)),e.flags|=1,ws(t,e,n,r),e.child;case 14:return i=go(n=e.type,e.pendingProps),Es(t,e,n,i=go(n.type,i),r);case 15:return Ms(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:go(n,i),Hs(t,e),e.tag=1,Ni(n)?(t=!0,Li(e)):t=!1,So(e,r),Vo(e,n,i),qo(e,n,i,r),Rs(null,e,n,!0,t,r);case 19:return zs(t,e,r);case 22:return Ss(t,e,r)}throw Error(o(156,e.tag))};var Zl="function"===typeof reportError?reportError:function(t){console.error(t)};function Kl(t){this._internalRoot=t}function Yl(t){this._internalRoot=t}function Jl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function $l(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ql(){}function th(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Wl(a);s.call(t)}}Vl(e,a,t,i)}else a=function(t,e,r,n,i){if(i){if("function"===typeof n){var o=n;n=function(){var t=Wl(a);o.call(t)}}var a=Hl(e,n,t,0,null,!1,0,"",Ql);return t._reactRootContainer=a,t[pi]=a.current,zn(8===t.nodeType?t.parentNode:t),hl(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof n){var s=n;n=function(){var t=Wl(u);s.call(t)}}var u=Gl(t,0,!1,null,0,!1,0,"",Ql);return t._reactRootContainer=u,t[pi]=u.current,zn(8===t.nodeType?t.parentNode:t),hl((function(){Vl(e,u,r,n)})),u}(r,e,t,i,n);return Wl(a)}Yl.prototype.render=Kl.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Vl(t,e,null,null)},Yl.prototype.unmount=Kl.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;hl((function(){Vl(null,t,null,null)})),e[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Me();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Oe.length&&0!==e&&e<Oe[r].priority;r++);Oe.splice(r,0,t),0===r&&Fe(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ce(e.pendingLanes);0!==r&&(ye(e,1|r),nl(e,Jt()),0===(6&Tu)&&(zu=Jt()+500,zi()))}break;case 13:hl((function(){var e=Po(t,1);if(null!==e){var r=tl();rl(e,t,1,r)}})),Xl(t,1)}},xe=function(t){if(13===t.tag){var e=Po(t,134217728);if(null!==e)rl(e,t,134217728,tl());Xl(t,134217728)}},Ee=function(t){if(13===t.tag){var e=el(t),r=Po(t,e);if(null!==r)rl(r,t,e,tl());Xl(t,e)}},Me=function(){return be},Se=function(t,e){var r=be;try{return be=t,e()}finally{be=r}},xt=function(t,e,r){switch(e){case"input":if($(t,r),e=r.name,"radio"===r.type&&null!=e){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=wi(n);if(!i)throw Error(o(90));X(n),$(n,i)}}}break;case"textarea":ot(t,r);break;case"select":null!=(e=r.value)&&rt(t,!!r.multiple,e,!1)}},Tt=ll,Rt=hl;var eh={usingClientEntryPoint:!1,Events:[bi,_i,wi,At,kt,ll]},rh={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nh={bundleType:rh.bundleType,version:rh.version,rendererPackageName:rh.rendererPackageName,rendererConfig:rh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Wt(t))?null:t.stateNode},findFiberByHostInstance:rh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{ie=ih.inject(nh),oe=ih}catch(ht){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,e.createPortal=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(e))throw Error(o(200));return jl(t,e,null,r)},e.createRoot=function(t,e){if(!Jl(t))throw Error(o(299));var r=!1,n="",i=Zl;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(r=!0),void 0!==e.identifierPrefix&&(n=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Gl(t,1,!1,null,0,r,0,n,i),t[pi]=e.current,zn(8===t.nodeType?t.parentNode:t),new Kl(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=Wt(e))?null:t.stateNode},e.flushSync=function(t){return hl(t)},e.hydrate=function(t,e,r){if(!$l(e))throw Error(o(200));return th(null,t,e,!0,r)},e.hydrateRoot=function(t,e,r){if(!Jl(t))throw Error(o(405));var n=null!=r&&r.hydratedSources||null,i=!1,a="",s=Zl;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),e=Hl(e,null,t,1,null!=r?r:null,i,0,a,s),t[pi]=e.current,zn(t),n)for(t=0;t<n.length;t++)i=(i=(r=n[t])._getVersion)(r._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Yl(e)},e.render=function(t,e,r){if(!$l(e))throw Error(o(200));return th(null,t,e,!1,r)},e.unmountComponentAtNode=function(t){if(!$l(t))throw Error(o(40));return!!t._reactRootContainer&&(hl((function(){th(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=ll,e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!$l(r))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return th(t,e,r,!1,n)},e.version="18.2.0-next-9e3b772b8-20220608"},1250:function(t,e,r){"use strict";var n=r(54164);e.createRoot=n.createRoot,e.hydrateRoot=n.hydrateRoot},54164:function(t,e,r){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=r(34463)},66374:function(t,e,r){"use strict";var n=r(72791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,r){var n,o={},l=null,h=null;for(n in void 0!==r&&(l=""+r),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(h=e.ref),e)a.call(e,n)&&!u.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===o[n]&&(o[n]=e[n]);return{$$typeof:i,type:t,key:l,ref:h,props:o,_owner:s.current}}e.Fragment=o,e.jsx=l,e.jsxs=l},59117:function(t,e){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(t,e,r){this.props=t,this.context=e,this.refs=m,this.updater=r||p}function y(){}function b(t,e,r){this.props=t,this.context=e,this.refs=m,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,v(_,g.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function S(t,e,n){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,i)&&!M.hasOwnProperty(i)&&(o[i]=e[i]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),h=0;h<u;h++)l[h]=arguments[h+2];o.children=l}if(t&&t.defaultProps)for(i in u=t.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:r,type:t,key:a,ref:s,props:o,_owner:E.current}}function A(t){return"object"===typeof t&&null!==t&&t.$$typeof===r}var k=/\/+/g;function T(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function R(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case r:case n:u=!0}}if(u)return a=a(u=t),t=""===o?"."+T(u,0):o,w(a)?(i="",null!=t&&(i=t.replace(k,"$&/")+"/"),R(a,e,i,"",(function(t){return t}))):null!=a&&(A(a)&&(a=function(t,e){return{$$typeof:r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+t)),e.push(a)),1;if(u=0,o=""===o?".":o+":",w(t))for(var l=0;l<t.length;l++){var h=o+T(s=t[l],l);u+=R(s,e,i,h,a)}else if(h=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t),"function"===typeof h)for(t=h.call(t),l=0;!(s=t.next()).done;)u+=R(s=s.value,e,i,h=o+T(s,l++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function P(t,e,r){if(null==t)return t;var n=[],i=0;return R(t,n,"","",(function(t){return e.call(r,t,i++)})),n}function I(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var N={current:null},O={transition:null},C={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};e.Children={map:P,forEach:function(t,e,r){P(t,(function(){e.apply(this,arguments)}),r)},count:function(t){var e=0;return P(t,(function(){e++})),e},toArray:function(t){return P(t,(function(t){return t}))||[]},only:function(t){if(!A(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=g,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=h,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=v({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=E.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)x.call(e,l)&&!M.hasOwnProperty(l)&&(i[l]=void 0===e[l]&&void 0!==u?u[l]:e[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){u=Array(l);for(var h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:r,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:u,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=S,e.createFactory=function(t){var e=S.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=A,e.lazy=function(t){return{$$typeof:f,_payload:{_status:-1,_result:t},_init:I}},e.memo=function(t,e){return{$$typeof:c,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=O.transition;O.transition={};try{t()}finally{O.transition=e}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(t,e){return N.current.useCallback(t,e)},e.useContext=function(t){return N.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return N.current.useDeferredValue(t)},e.useEffect=function(t,e){return N.current.useEffect(t,e)},e.useId=function(){return N.current.useId()},e.useImperativeHandle=function(t,e,r){return N.current.useImperativeHandle(t,e,r)},e.useInsertionEffect=function(t,e){return N.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return N.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return N.current.useMemo(t,e)},e.useReducer=function(t,e,r){return N.current.useReducer(t,e,r)},e.useRef=function(t){return N.current.useRef(t)},e.useState=function(t){return N.current.useState(t)},e.useSyncExternalStore=function(t,e,r){return N.current.useSyncExternalStore(t,e,r)},e.useTransition=function(){return N.current.useTransition()},e.version="18.2.0"},72791:function(t,e,r){"use strict";t.exports=r(59117)},80184:function(t,e,r){"use strict";t.exports=r(66374)},19727:function(t){var e=function(t){"use strict";var e,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(I){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),a=new T(n||[]);return o._invoke=function(t,e,r){var n=c;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return P()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=S(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===c)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=h(t,e,r);if("normal"===u.type){if(n=r.done?p:f,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(t,r,a),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(I){return{type:"throw",arg:I}}}t.wrap=l;var c="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var b={};u(b,o,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(R([])));w&&w!==r&&n.call(w,o)&&(b=w);var x=y.prototype=m.prototype=Object.create(b);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function r(i,o,a,s){var u=h(t[i],t,o);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"===typeof c&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,S(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=h(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var o=i.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(t){if(t){var r=t[o];if(r)return r.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:P}}function P(){return{value:e,done:!0}}return g.prototype=y,u(x,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},E(M.prototype),u(M.prototype,a,(function(){return this})),t.AsyncIterator=M,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new M(l(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),u(x,s,"Generator"),u(x,o,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=R,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},36813:function(t,e){"use strict";function r(t,e){var r=t.length;t.push(e);t:for(;0<r;){var n=r-1>>>1,i=t[n];if(!(0<o(i,e)))break t;t[n]=e,t[r]=i,r=n}}function n(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],r=t.pop();if(r!==e){t[0]=r;t:for(var n=0,i=t.length,a=i>>>1;n<a;){var s=2*(n+1)-1,u=t[s],l=s+1,h=t[l];if(0>o(u,r))l<i&&0>o(h,u)?(t[n]=h,t[l]=r,n=l):(t[n]=u,t[s]=r,n=s);else{if(!(l<i&&0>o(h,r)))break t;t[n]=h,t[l]=r,n=l}}}return e}function o(t,e){var r=t.sortIndex-e.sortIndex;return 0!==r?r:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var l=[],h=[],c=1,f=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(t){for(var e=n(h);null!==e;){if(null===e.callback)i(h);else{if(!(e.startTime<=t))break;i(h),e.sortIndex=e.expirationTime,r(l,e)}e=n(h)}}function w(t){if(m=!1,_(t),!v)if(null!==n(l))v=!0,O(x);else{var e=n(h);null!==e&&C(w,e.startTime-t)}}function x(t,r){v=!1,m&&(m=!1,y(A),A=-1),p=!0;var o=d;try{for(_(r),f=n(l);null!==f&&(!(f.expirationTime>r)||t&&!R());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=r);r=e.unstable_now(),"function"===typeof s?f.callback=s:f===n(l)&&i(l),_(r)}else i(l);f=n(l)}if(null!==f)var u=!0;else{var c=n(h);null!==c&&C(w,c.startTime-r),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,M=!1,S=null,A=-1,k=5,T=-1;function R(){return!(e.unstable_now()-T<k)}function P(){if(null!==S){var t=e.unstable_now();T=t;var r=!0;try{r=S(!0,t)}finally{r?E():(M=!1,S=null)}}else M=!1}if("function"===typeof b)E=function(){b(P)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,N=I.port2;I.port1.onmessage=P,E=function(){N.postMessage(null)}}else E=function(){g(P,0)};function O(t){S=t,M||(M=!0,E())}function C(t,r){A=g((function(){t(e.unstable_now())}),r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,O(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(t){switch(d){case 1:case 2:case 3:var e=3;break;default:e=d}var r=d;d=e;try{return t()}finally{d=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var r=d;d=t;try{return e()}finally{d=r}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:c++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,r(h,t),null===n(l)&&t===n(h)&&(m?(y(A),A=-1):m=!0,C(w,o-a))):(t.sortIndex=s,r(l,t),v||p||(v=!0,O(x))),t},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(t){var e=d;return function(){var r=d;d=e;try{return t.apply(this,arguments)}finally{d=r}}}},45296:function(t,e,r){"use strict";t.exports=r(36813)},12065:function(t){"use strict";!function(e){var r=2147483647;function n(t){var e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),r=1779033703,n=3144134277,i=1013904242,o=2773480762,a=1359893119,s=2600822924,u=528734635,l=1541459225,h=new Uint32Array(64);function c(t){for(var c=0,f=t.length;f>=64;){var d=r,p=n,v=i,m=o,g=a,y=s,b=u,_=l,w=void 0,x=void 0,E=void 0,M=void 0,S=void 0;for(x=0;x<16;x++)E=c+4*x,h[x]=(255&t[E])<<24|(255&t[E+1])<<16|(255&t[E+2])<<8|255&t[E+3];for(x=16;x<64;x++)M=((w=h[x-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10,S=((w=h[x-15])>>>7|w<<25)^(w>>>18|w<<14)^w>>>3,h[x]=(M+h[x-7]|0)+(S+h[x-16]|0)|0;for(x=0;x<64;x++)M=(((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&y^~g&b)|0)+(_+(e[x]+h[x]|0)|0)|0,S=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&p^d&v^p&v)|0,_=b,b=y,y=g,g=m+M|0,m=v,v=p,p=d,d=M+S|0;r=r+d|0,n=n+p|0,i=i+v|0,o=o+m|0,a=a+g|0,s=s+y|0,u=u+b|0,l=l+_|0,c+=64,f-=64}}c(t);var f,d=t.length%64,p=t.length/536870912|0,v=t.length<<3,m=d<56?56:120,g=t.slice(t.length-d,t.length);for(g.push(128),f=d+1;f<m;f++)g.push(0);return g.push(p>>>24&255),g.push(p>>>16&255),g.push(p>>>8&255),g.push(p>>>0&255),g.push(v>>>24&255),g.push(v>>>16&255),g.push(v>>>8&255),g.push(v>>>0&255),c(g),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255]}function i(t,e,r){t=t.length<=64?t:n(t);var i,o=64+e.length+4,a=new Array(o),s=new Array(64),u=[];for(i=0;i<64;i++)a[i]=54;for(i=0;i<t.length;i++)a[i]^=t[i];for(i=0;i<e.length;i++)a[64+i]=e[i];for(i=o-4;i<o;i++)a[i]=0;for(i=0;i<64;i++)s[i]=92;for(i=0;i<t.length;i++)s[i]^=t[i];function l(){for(var t=o-1;t>=o-4;t--){if(a[t]++,a[t]<=255)return;a[t]=0}}for(;r>=32;)l(),u=u.concat(n(s.concat(n(a)))),r-=32;return r>0&&(l(),u=u.concat(n(s.concat(n(a))).slice(0,r))),u}function o(t,e,r,n,i){var o;for(l(t,16*(2*r-1),i,0,16),o=0;o<2*r;o++)u(t,16*o,i,16),s(i,n),l(i,0,t,e+16*o,16);for(o=0;o<r;o++)l(t,e+2*o*16,t,16*o,16);for(o=0;o<r;o++)l(t,e+16*(2*o+1),t,16*(o+r),16)}function a(t,e){return t<<e|t>>>32-e}function s(t,e){l(t,0,e,0,16);for(var r=8;r>0;r-=2)e[4]^=a(e[0]+e[12],7),e[8]^=a(e[4]+e[0],9),e[12]^=a(e[8]+e[4],13),e[0]^=a(e[12]+e[8],18),e[9]^=a(e[5]+e[1],7),e[13]^=a(e[9]+e[5],9),e[1]^=a(e[13]+e[9],13),e[5]^=a(e[1]+e[13],18),e[14]^=a(e[10]+e[6],7),e[2]^=a(e[14]+e[10],9),e[6]^=a(e[2]+e[14],13),e[10]^=a(e[6]+e[2],18),e[3]^=a(e[15]+e[11],7),e[7]^=a(e[3]+e[15],9),e[11]^=a(e[7]+e[3],13),e[15]^=a(e[11]+e[7],18),e[1]^=a(e[0]+e[3],7),e[2]^=a(e[1]+e[0],9),e[3]^=a(e[2]+e[1],13),e[0]^=a(e[3]+e[2],18),e[6]^=a(e[5]+e[4],7),e[7]^=a(e[6]+e[5],9),e[4]^=a(e[7]+e[6],13),e[5]^=a(e[4]+e[7],18),e[11]^=a(e[10]+e[9],7),e[8]^=a(e[11]+e[10],9),e[9]^=a(e[8]+e[11],13),e[10]^=a(e[9]+e[8],18),e[12]^=a(e[15]+e[14],7),e[13]^=a(e[12]+e[15],9),e[14]^=a(e[13]+e[12],13),e[15]^=a(e[14]+e[13],18);for(var n=0;n<16;++n)t[n]+=e[n]}function u(t,e,r,n){for(var i=0;i<n;i++)r[i]^=t[e+i]}function l(t,e,r,n,i){for(;i--;)r[n++]=t[e++]}function h(t){if(!t||"number"!==typeof t.length)return!1;for(var e=0;e<t.length;e++){var r=t[e];if("number"!==typeof r||r%1||r<0||r>=256)return!1}return!0}function c(t,e){if("number"!==typeof t||t%1)throw new Error("invalid "+e);return t}function f(t,e,n,a,s,f,d){if(n=c(n,"N"),a=c(a,"r"),s=c(s,"p"),f=c(f,"dkLen"),0===n||0!==(n&n-1))throw new Error("N must be power of 2");if(n>r/128/a)throw new Error("N too large");if(a>r/128/s)throw new Error("r too large");if(!h(t))throw new Error("password must be an array or buffer");if(t=Array.prototype.slice.call(t),!h(e))throw new Error("salt must be an array or buffer");e=Array.prototype.slice.call(e);for(var p=i(t,e,128*s*a),v=new Uint32Array(32*s*a),m=0;m<v.length;m++){var g=4*m;v[m]=(255&p[g+3])<<24|(255&p[g+2])<<16|(255&p[g+1])<<8|(255&p[g+0])<<0}var y,b,_=new Uint32Array(64*a),w=new Uint32Array(32*a*n),x=32*a,E=new Uint32Array(16),M=new Uint32Array(16),S=s*n*2,A=0,k=null,T=!1,R=0,P=0,I=d?parseInt(1e3/a):4294967295,N="undefined"!==typeof setImmediate?setImmediate:setTimeout,O=function e(){if(T)return d(new Error("cancelled"),A/S);var r;switch(R){case 0:l(v,b=32*P*a,_,0,x),R=1,y=0;case 1:(r=n-y)>I&&(r=I);for(var h=0;h<r;h++)l(_,0,w,(y+h)*x,x),o(_,x,a,E,M);if(y+=r,A+=r,d){var c=parseInt(1e3*A/S);if(c!==k){if(T=d(null,A/S))break;k=c}}if(y<n)break;y=0,R=2;case 2:(r=n-y)>I&&(r=I);for(var m=0;m<r;m++){var g=_[16*(2*a-1)]&n-1;u(w,g*x,_,x),o(_,x,a,E,M)}if(y+=r,A+=r,d){var O=parseInt(1e3*A/S);if(O!==k){if(T=d(null,A/S))break;k=O}}if(y<n)break;if(l(_,0,v,b,x),++P<s){R=0;break}p=[];for(var C=0;C<v.length;C++)p.push(v[C]>>0&255),p.push(v[C]>>8&255),p.push(v[C]>>16&255),p.push(v[C]>>24&255);var D=i(t,p,f);return d&&d(null,1,D),D}d&&N(e)};if(!d)for(;;){var C=O();if(void 0!=C)return C}O()}var d={scrypt:function(t,e,r,n,i,o,a){return new Promise((function(s,u){var l=0;a&&a(0),f(t,e,r,n,i,o,(function(t,e,r){if(t)u(t);else if(r)a&&1!==l&&a(1),s(new Uint8Array(r));else if(a&&e!==l)return l=e,a(e)}))}))},syncScrypt:function(t,e,r,n,i,o){return new Uint8Array(f(t,e,r,n,i,o))}};t.exports=d}()},36369:function(t,e,r){var n;t=r.nmd(t),function(i){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,l=/^xn--/,h=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function v(t){throw RangeError(f[t])}function m(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function g(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+m((t=t.replace(c,".")).split("."),e).join(".")}function y(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function b(t){return m(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=p(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,r){var n=0;for(t=r?d(t/700):t>>1,t+=d(t/e);t>455;n+=u)t=d(t/35);return d(n+36*t/(t+38))}function x(t){var e,r,n,i,o,a,l,h,c,f,p,m=[],g=t.length,y=0,_=128,x=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&v("not-basic"),m.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(o=y,a=1,l=u;i>=g&&v("invalid-input"),((h=(p=t.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||h>d((s-y)/a))&&v("overflow"),y+=h*a,!(h<(c=l<=x?1:l>=x+26?26:l-x));l+=u)a>d(s/(f=u-c))&&v("overflow"),a*=f;x=w(y-o,e=m.length+1,0==o),d(y/e)>s-_&&v("overflow"),_+=d(y/e),y%=e,m.splice(y++,0,_)}return b(m)}function E(t){var e,r,n,i,o,a,l,h,c,f,m,g,b,x,E,M=[];for(g=(t=y(t)).length,e=128,r=0,o=72,a=0;a<g;++a)(m=t[a])<128&&M.push(p(m));for(n=i=M.length,i&&M.push("-");n<g;){for(l=s,a=0;a<g;++a)(m=t[a])>=e&&m<l&&(l=m);for(l-e>d((s-r)/(b=n+1))&&v("overflow"),r+=(l-e)*b,e=l,a=0;a<g;++a)if((m=t[a])<e&&++r>s&&v("overflow"),m==e){for(h=r,c=u;!(h<(f=c<=o?1:c>=o+26?26:c-o));c+=u)E=h-f,x=u-f,M.push(p(_(f+E%x,0))),h=d(E/x);M.push(p(_(h,0))),o=w(r,b,n==i),r=0,++n}++r,++e}return M.join("")}a={version:"1.3.2",ucs2:{decode:y,encode:b},decode:x,encode:E,toASCII:function(t){return g(t,(function(t){return h.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return g(t,(function(t){return l.test(t)?x(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()},12114:function(t,e,r){"use strict";var n=r(36369),i=r(69939);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.Qc=b,e.DB=function(t,e){return b(t,!1,!0).resolve(e)},e.WU=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)};var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(l),c=["%","/","?",";","#"].concat(h),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=r(30863);function b(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(s);l[0]=l[0].replace(/\\/g,"/");var b=t=l.join(s);if(b=b.trim(),!r&&1===t.split("#").length){var _=u.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var x=(w=w[0]).toLowerCase();this.protocol=x,b=b.substr(w.length)}if(r||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||w&&m[w]||(b=b.substr(2),this.slashes=!0)}if(!m[w]&&(E||w&&!g[w])){for(var M,S,A=-1,k=0;k<f.length;k++){-1!==(T=b.indexOf(f[k]))&&(-1===A||T<A)&&(A=T)}-1!==(S=-1===A?b.lastIndexOf("@"):b.lastIndexOf("@",A))&&(M=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(M)),A=-1;for(k=0;k<c.length;k++){var T;-1!==(T=b.indexOf(c[k]))&&(-1===A||T<A)&&(A=T)}-1===A&&(A=b.length),this.host=b.slice(0,A),b=b.slice(A),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var P=this.hostname.split(/\./),I=(k=0,P.length);k<I;k++){var N=P[k];if(N&&!N.match(d)){for(var O="",C=0,D=N.length;C<D;C++)N.charCodeAt(C)>127?O+="x":O+=N[C];if(!O.match(d)){var L=P.slice(0,k),F=P.slice(k+1),B=N.match(p);B&&(L.push(B[1]),F.unshift(B[2])),F.length&&(b="/"+F.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+U,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[x])for(k=0,I=h.length;k<I;k++){var j=h[k];if(-1!==b.indexOf(j)){var z=encodeURIComponent(j);z===j&&(z=escape(j)),b=b.split(j).join(z)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),e&&(this.query=y.parse(this.query)),b=b.slice(0,V)):e&&(this.search="",this.query={}),b&&(this.pathname=b),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var W=this.search||"";this.path=U+W}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var h=u[l];"protocol"!==h&&(r[h]=t[h])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",y=r.search||"";r.path=v+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=_||b||r.host&&t.pathname,x=w,E=r.pathname&&r.pathname.split("/")||[],M=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(M&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),w=w&&(""===p[0]||""===E[0])),_)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(M)r.hostname=r.host=E.shift(),(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=E.slice(-1)[0],A=(r.host||t.host||E.length>1)&&("."===S||".."===S)||""===S,k=0,T=E.length;T>=0;T--)"."===(S=E[T])?E.splice(T,1):".."===S?(E.splice(T,1),k++):k&&(E.splice(T,1),k--);if(!w&&!x)for(;k--;k)E.unshift("..");!w||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),A&&"/"!==E.join("/").substr(-1)&&E.push("");var R,P=""===E[0]||E[0]&&"/"===E[0].charAt(0);M&&(r.hostname=r.host=P?"":E.length?E.shift():"",(R=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=R.shift(),r.host=r.hostname=R.shift()));return(w=w||r.host&&E.length)&&!P&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},69939:function(t){"use strict";t.exports={isString:function(t){return"string"===typeof t},isObject:function(t){return"object"===typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},75658:function(t,e,r){"use strict";var n;r.r(e),r.d(e,{NIL:function(){return N},parse:function(){return m},stringify:function(){return f},v1:function(){return v},v3:function(){return A},v4:function(){return k},v5:function(){return I},validate:function(){return s},version:function(){return O}});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(t){return"string"===typeof t&&a.test(t)},u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));var h,c,f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r},d=0,p=0;var v=function(t,e,r){var n=e&&r||0,i=e||new Array(16),a=(t=t||{}).node||h,s=void 0!==t.clockseq?t.clockseq:c;if(null==a||null==s){var u=t.random||(t.rng||o)();null==a&&(a=h=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=c=16383&(u[6]<<8|u[7]))}var l=void 0!==t.msecs?t.msecs:Date.now(),v=void 0!==t.nsecs?t.nsecs:p+1,m=l-d+(v-p)/1e4;if(m<0&&void 0===t.clockseq&&(s=s+1&16383),(m<0||l>d)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=l,p=v,c=s;var g=(1e4*(268435455&(l+=122192928e5))+v)%4294967296;i[n++]=g>>>24&255,i[n++]=g>>>16&255,i[n++]=g>>>8&255,i[n++]=255&g;var y=l/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=255&y,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var b=0;b<6;++b)i[n+b]=a[b];return e||f(i)};var m=function(t){if(!s(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};function g(t,e,r){function n(t,n,i,o){if("string"===typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"===typeof n&&(n=m(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+t.length);if(a.set(n),a.set(t,n.length),(a=r(a))[6]=15&a[6]|e,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return f(a)}try{n.name=t}catch(i){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function y(t){return 14+(t+64>>>9<<4)+1}function b(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function _(t,e,r,n,i,o){return b((a=b(b(e,t),b(n,o)))<<(s=i)|a>>>32-s,r);var a,s}function w(t,e,r,n,i,o,a){return _(e&r|~e&n,t,e,i,o,a)}function x(t,e,r,n,i,o,a){return _(e&n|r&~n,t,e,i,o,a)}function E(t,e,r,n,i,o,a){return _(e^r^n,t,e,i,o,a)}function M(t,e,r,n,i,o,a){return _(r^(e|~n),t,e,i,o,a)}var S=function(t){if("string"===typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return function(t){for(var e=[],r=32*t.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=t[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);e.push(a)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[y(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=r,u=n,l=i,h=o;r=w(r,n,i,o,t[a],7,-680876936),o=w(o,r,n,i,t[a+1],12,-389564586),i=w(i,o,r,n,t[a+2],17,606105819),n=w(n,i,o,r,t[a+3],22,-1044525330),r=w(r,n,i,o,t[a+4],7,-176418897),o=w(o,r,n,i,t[a+5],12,1200080426),i=w(i,o,r,n,t[a+6],17,-1473231341),n=w(n,i,o,r,t[a+7],22,-45705983),r=w(r,n,i,o,t[a+8],7,1770035416),o=w(o,r,n,i,t[a+9],12,-1958414417),i=w(i,o,r,n,t[a+10],17,-42063),n=w(n,i,o,r,t[a+11],22,-1990404162),r=w(r,n,i,o,t[a+12],7,1804603682),o=w(o,r,n,i,t[a+13],12,-40341101),i=w(i,o,r,n,t[a+14],17,-1502002290),r=x(r,n=w(n,i,o,r,t[a+15],22,1236535329),i,o,t[a+1],5,-165796510),o=x(o,r,n,i,t[a+6],9,-1069501632),i=x(i,o,r,n,t[a+11],14,643717713),n=x(n,i,o,r,t[a],20,-373897302),r=x(r,n,i,o,t[a+5],5,-701558691),o=x(o,r,n,i,t[a+10],9,38016083),i=x(i,o,r,n,t[a+15],14,-660478335),n=x(n,i,o,r,t[a+4],20,-405537848),r=x(r,n,i,o,t[a+9],5,568446438),o=x(o,r,n,i,t[a+14],9,-1019803690),i=x(i,o,r,n,t[a+3],14,-187363961),n=x(n,i,o,r,t[a+8],20,1163531501),r=x(r,n,i,o,t[a+13],5,-1444681467),o=x(o,r,n,i,t[a+2],9,-51403784),i=x(i,o,r,n,t[a+7],14,1735328473),r=E(r,n=x(n,i,o,r,t[a+12],20,-1926607734),i,o,t[a+5],4,-378558),o=E(o,r,n,i,t[a+8],11,-2022574463),i=E(i,o,r,n,t[a+11],16,1839030562),n=E(n,i,o,r,t[a+14],23,-35309556),r=E(r,n,i,o,t[a+1],4,-1530992060),o=E(o,r,n,i,t[a+4],11,1272893353),i=E(i,o,r,n,t[a+7],16,-155497632),n=E(n,i,o,r,t[a+10],23,-1094730640),r=E(r,n,i,o,t[a+13],4,681279174),o=E(o,r,n,i,t[a],11,-358537222),i=E(i,o,r,n,t[a+3],16,-722521979),n=E(n,i,o,r,t[a+6],23,76029189),r=E(r,n,i,o,t[a+9],4,-640364487),o=E(o,r,n,i,t[a+12],11,-421815835),i=E(i,o,r,n,t[a+15],16,530742520),r=M(r,n=E(n,i,o,r,t[a+2],23,-995338651),i,o,t[a],6,-198630844),o=M(o,r,n,i,t[a+7],10,1126891415),i=M(i,o,r,n,t[a+14],15,-1416354905),n=M(n,i,o,r,t[a+5],21,-57434055),r=M(r,n,i,o,t[a+12],6,1700485571),o=M(o,r,n,i,t[a+3],10,-1894986606),i=M(i,o,r,n,t[a+10],15,-1051523),n=M(n,i,o,r,t[a+1],21,-2054922799),r=M(r,n,i,o,t[a+8],6,1873313359),o=M(o,r,n,i,t[a+15],10,-30611744),i=M(i,o,r,n,t[a+6],15,-1560198380),n=M(n,i,o,r,t[a+13],21,1309151649),r=M(r,n,i,o,t[a+4],6,-145523070),o=M(o,r,n,i,t[a+11],10,-1120210379),i=M(i,o,r,n,t[a+2],15,718787259),n=M(n,i,o,r,t[a+9],21,-343485551),r=b(r,s),n=b(n,u),i=b(i,l),o=b(o,h)}return[r,n,i,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(y(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))},A=g("v3",48,S);var k=function(t,e,r){var n=(t=t||{}).random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return f(n)};function T(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:case 3:return e^r^n;case 2:return e&r^e&n^r&n}}function R(t,e){return t<<e|t>>>32-e}var P=function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var l=new Uint32Array(16),h=0;h<16;++h)l[h]=t[64*u+4*h]<<24|t[64*u+4*h+1]<<16|t[64*u+4*h+2]<<8|t[64*u+4*h+3];s[u]=l}s[a-1][14]=8*(t.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(t.length-1)&4294967295;for(var c=0;c<a;++c){for(var f=new Uint32Array(80),d=0;d<16;++d)f[d]=s[c][d];for(var p=16;p<80;++p)f[p]=R(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);for(var v=r[0],m=r[1],g=r[2],y=r[3],b=r[4],_=0;_<80;++_){var w=Math.floor(_/20),x=R(v,5)+T(w,m,g,y)+b+e[w]+f[_]>>>0;b=y,y=g,g=R(m,30)>>>0,m=v,v=x}r[0]=r[0]+v>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+y>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]},I=g("v5",80,P),N="00000000-0000-0000-0000-000000000000";var O=function(t){if(!s(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},96418:function(t,e,r){"use strict";t.exports=r.p+"static/media/procedural-ground-color.e9a6dc9ac31dbcd87502.glsl"},727:function(t,e,r){"use strict";t.exports=r.p+"static/media/procedural-ground-edge.9d0e5090e49a0789d8ca.glsl"},24031:function(t,e,r){"use strict";t.exports=r.p+"static/media/procedural-ground-shift.d99378d66ec58caea0a7.glsl"},96402:function(t,e,r){"use strict";t.exports=r.p+"static/media/black-hole-bend-light.d294061af36b126edca6.glsl"},30802:function(t,e,r){"use strict";t.exports=r.p+"static/media/demo_shader_0.0c9a84abfc1cb36bbc17.glsl"},87184:function(t,e,r){"use strict";t.exports=r.p+"static/media/demo_shader_00.a4c70f5321e549f726e7.glsl"},77611:function(t,e,r){"use strict";t.exports=r.p+"static/media/demo_shader_1.e3b5e80653420cfa4cca.glsl"},56622:function(t,e,r){"use strict";t.exports=r.p+"static/media/demo_shader_2.daca157568da5b40e559.glsl"},50070:function(t,e,r){"use strict";t.exports=r.p+"static/media/demo_shader_4.a7a026c219a133091444.glsl"},22721:function(t,e,r){"use strict";t.exports=r.p+"static/media/demo_shader_5.cbd59ed7cdb42b81cb43.glsl"},41905:function(t,e,r){"use strict";t.exports=r.p+"static/media/demo_shader_6.73d9d40842a8e9fc3506.glsl"},43021:function(t,e,r){"use strict";t.exports=r.p+"static/media/demo_shader_7.5438de7e83e6e537b1a7.glsl"},64333:function(t,e,r){"use strict";t.exports=r.p+"static/media/demo_shader_8.1e78d41619cd55be3305.glsl"},56002:function(t,e,r){"use strict";t.exports=r.p+"static/media/grass-move.a3d73a02e5f2d071d7b8.glsl"},31268:function(t,e,r){"use strict";t.exports=r.p+"static/media/lights-calculate-reducer.d17ef722d0b9b894a6fc.glsl"},39513:function(t,e,r){"use strict";t.exports=r.p+"static/media/lights-calculate-x.9930b2fe379737eb6af2.glsl"},90854:function(t,e,r){"use strict";t.exports=r.p+"static/media/lights-calculate-y.e4ff980f0cc9cb3cd8a4.glsl"},11775:function(t,e,r){"use strict";t.exports=r.p+"static/media/lights.ecb9515e3a5fa4dfeda5.glsl"},3893:function(t,e,r){"use strict";t.exports=r.p+"static/media/polar-coordinates-noise-portal.dbbe2ac6a78c9b4d4c17.glsl"},80686:function(t,e,r){"use strict";t.exports=r.p+"static/media/super-fire-and-smoke.8bb529e8e8b4cdfc49d1.glsl"},99039:function(t,e,r){"use strict";t.exports=r.p+"static/media/water.3ac6de4f10a963f21780.glsl"},93730:function(t,e,r){"use strict";t.exports=r.p+"static/media/frag.1b07c9e6618ac4fe3d98.glsl"},47955:function(t,e,r){"use strict";t.exports=r.p+"static/media/vert.29d538f138721ace7f1e.glsl"},88677:function(){},62808:function(){},46601:function(){},42480:function(){},7801:function(){},96658:function(){},6042:function(){},74801:function(){},30991:function(){},30907:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,{Z:function(){return n}})},97326:function(t,e,r){"use strict";function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}r.d(e,{Z:function(){return n}})},15671:function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,{Z:function(){return n}})},43144:function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}r.d(e,{Z:function(){return i}})},54062:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var n=r(61120);var i=r(6215);function o(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=(0,n.Z)(t);if(e){var a=(0,n.Z)(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return(0,i.Z)(this,r)}}},11752:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});var n=r(61120);function i(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,n.Z)(t)););return t}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=i(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},o.apply(this,arguments)}},61120:function(t,e,r){"use strict";function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}r.d(e,{Z:function(){return n}})},79340:function(t,e,r){"use strict";function n(t,e){return n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)}r.d(e,{Z:function(){return i}})},6215:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}r.d(e,{Z:function(){return o}});var i=r(97326);function o(t,e){if(e&&("object"===n(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(t)}},40181:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(30907);function i(t,e){if(t){if("string"===typeof t)return(0,n.Z)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(t,e):void 0}}}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,r.amdO={},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,n){return r.f[n](t,e),e}),[]))},r.u=function(t){return"static/js/"+t+".3a92618a.chunk.js"},r.miniCssF=function(t){},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={},e="mvp-client:";r.l=function(n,i,o,a){if(t[n])t[n].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),h=0;h<l.length;h++){var c=l[h];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==e+o){s=c;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",e+o),s.src=n),t[n]=[i];var f=function(e,r){s.onerror=s.onload=null,clearTimeout(d);var i=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(r)})),e)return e(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},r.p="/northern-guilds-tech-demo/",function(){var t={179:0};r.f.j=function(e,n){var i=r.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((function(r,n){i=t[e]=[r,n]}));n.push(i[2]=o);var a=r.p+r.u(e),s=new Error;r.l(a,(function(n){if(r.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=function(e,n){var i,o,a=n[0],s=n[1],u=n[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)u(r)}for(e&&e(n);l<a.length;l++)o=a[l],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunkmvp_client=self.webpackChunkmvp_client||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),function(){"use strict";var t={};r.r(t),r.d(t,{BaseTextureCache:function(){return vn},CanvasRenderTarget:function(){return yn},DATA_URI:function(){return wn},EventEmitter:function(){return Or()},ProgramCache:function(){return dn},TextureCache:function(){return pn},clearTextureCache:function(){return gn},correctBlendMode:function(){return Kr},createIndicesForQuads:function(){return Qr},decomposeDataUri:function(){return xn},deprecation:function(){return fn},destroyTextureCache:function(){return mn},determineCrossOrigin:function(){return En},earcut:function(){return Dr()},getBufferType:function(){return tn},getResolutionOfUrl:function(){return Mn},hex2rgb:function(){return Vr},hex2string:function(){return Wr},interleaveTypedArrays:function(){return rn},isMobile:function(){return cr},isPow2:function(){return on},isWebGLSupported:function(){return zr},log2:function(){return an},nextPow2:function(){return nn},premultiplyBlendMode:function(){return Zr},premultiplyRgba:function(){return Yr},premultiplyTint:function(){return Jr},premultiplyTintToRgba:function(){return $r},removeItems:function(){return sn},rgb2hex:function(){return Xr},sayHello:function(){return jr},sign:function(){return un},skipHello:function(){return Gr},string2hex:function(){return qr},trimCanvas:function(){return bn},uid:function(){return hn},url:function(){return Fr}});var e={};r.r(e),r.d(e,{ALPHA_MODES:function(){return Mr},AbstractBatchRenderer:function(){return Za},AbstractMultiResource:function(){return zi},AbstractRenderer:function(){return Fa},AccessibilityManager:function(){return _i},AnimatedSprite:function(){return Ac},AppLoaderPlugin:function(){return As},Application:function(){return as},ArrayResource:function(){return Hi},Attribute:function(){return so},BLEND_MODES:function(){return vr},BUFFER_BITS:function(){return pr},BUFFER_TYPE:function(){return Pr},BaseImageResource:function(){return Vi},BasePrepare:function(){return Pl},BaseRenderTexture:function(){return to},BaseTexture:function(){return ji},BatchDrawCall:function(){return Wa},BatchGeometry:function(){return Ya},BatchPluginFactory:function(){return Qa},BatchRenderer:function(){return ts},BatchShaderGenerator:function(){return Ka},BatchSystem:function(){return So},BatchTextureArray:function(){return qa},BitmapFont:function(){return lh},BitmapFontData:function(){return th},BitmapFontLoader:function(){return ph},BitmapText:function(){return dh},BlobResource:function(){return Fs},Bounds:function(){return qn},Buffer:function(){return lo},BufferResource:function(){return Ui},CLEAR_MODES:function(){return Sr},CanvasResource:function(){return Wi},Circle:function(){return Pn},CompressedTextureLoader:function(){return Us},CompressedTextureResource:function(){return Bs},Container:function(){return gi},ContextSystem:function(){return ko},CountLimiter:function(){return xl},CubeResource:function(){return qi},DDSLoader:function(){return iu},DEG_TO_RAD:function(){return Tn},DRAW_MODES:function(){return mr},DisplayObject:function(){return pi},ENV:function(){return fr},Ellipse:function(){return In},Extract:function(){return ls},FORMATS:function(){return gr},FORMATS_TO_COMPONENTS:function(){return yu},FillStyle:function(){return Ru},Filter:function(){return aa},FilterState:function(){return _o},FilterSystem:function(){return Eo},Framebuffer:function(){return Qi},FramebufferSystem:function(){return Po},GC_MODES:function(){return Ar},GLFramebuffer:function(){return To},GLProgram:function(){return Aa},GLTexture:function(){return Oa},GRAPHICS_CURVES:function(){return Tu},Geometry:function(){return vo},GeometrySystem:function(){return No},Graphics:function(){return nl},GraphicsData:function(){return Yu},GraphicsGeometry:function(){return Qu},IGLUniformData:function(){return Sa},INSTALLED:function(){return Oi},INTERNAL_FORMATS:function(){return Rs},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:function(){return Is},ImageBitmapResource:function(){return Yi},ImageResource:function(){return Xi},InteractionData:function(){return Mi},InteractionEvent:function(){return Ai},InteractionManager:function(){return Ii},InteractionTrackingData:function(){return ki},KTXLoader:function(){return _u},LINE_CAP:function(){return Mu},LINE_JOIN:function(){return Eu},LineStyle:function(){return tl},Loader:function(){return Ss},LoaderResource:function(){return bs},MASK_TYPES:function(){return Tr},MIPMAP_MODES:function(){return Er},MSAA_QUALITY:function(){return Rr},MaskData:function(){return Oo},MaskSystem:function(){return ha},Matrix:function(){return Ln},Mesh:function(){return Yl},MeshBatchUvs:function(){return Xl},MeshGeometry:function(){return $l},MeshMaterial:function(){return Jl},NineSlicePlane:function(){return Mc},ObjectRenderer:function(){return Mo},ObservablePoint:function(){return Dn},PI_2:function(){return An},PRECISION:function(){return kr},ParticleContainer:function(){return Su},ParticleRenderer:function(){return ku},PlaneGeometry:function(){return bc},Point:function(){return Cn},Polygon:function(){return Nn},Prepare:function(){return Cl},Program:function(){return na},ProjectionSystem:function(){return va},Quad:function(){return mo},QuadUv:function(){return go},RAD_TO_DEG:function(){return kn},RENDERER_TYPE:function(){return dr},Rectangle:function(){return Rn},RenderTexture:function(){return oo},RenderTexturePool:function(){return ao},RenderTextureSystem:function(){return ya},Renderer:function(){return Ga},Resource:function(){return Bi},RopeGeometry:function(){return _c},RoundedRectangle:function(){return On},Runner:function(){return Ni},SAMPLER_TYPES:function(){return _r},SCALE_MODES:function(){return wr},SHAPES:function(){return Sn},SVGResource:function(){return Zi},ScissorSystem:function(){return da},Shader:function(){return ia},ShaderSystem:function(){return Pa},SimpleMesh:function(){return Ec},SimplePlane:function(){return xc},SimpleRope:function(){return wc},Sprite:function(){return ll},SpriteMaskFilter:function(){return la},Spritesheet:function(){return Ll},SpritesheetLoader:function(){return Fl},State:function(){return oa},StateSystem:function(){return Ia},StencilSystem:function(){return pa},System:function(){return Va},TARGETS:function(){return yr},TEXT_GRADIENT:function(){return al},TYPES:function(){return br},TYPES_TO_BYTES_PER_COMPONENT:function(){return gu},TYPES_TO_BYTES_PER_PIXEL:function(){return bu},TemporaryDisplayObject:function(){return vi},Text:function(){return _l},TextMetrics:function(){return gl},TextStyle:function(){return dl},Texture:function(){return no},TextureGCSystem:function(){return Na},TextureLoader:function(){return ks},TextureMatrix:function(){return ua},TextureSystem:function(){return Ca},TextureUvs:function(){return eo},Ticker:function(){return xi},TickerPlugin:function(){return Ei},TilingSprite:function(){return jl},TilingSpriteRenderer:function(){return Vl},TimeLimiter:function(){return Dl},Transform:function(){return Wn},UPDATE_PRIORITY:function(){return bi},UniformGroup:function(){return bo},VERSION:function(){return kc},VideoResource:function(){return Ki},ViewableBuffer:function(){return Xa},WRAP_MODES:function(){return xr},accessibleTarget:function(){return yi},autoDetectRenderer:function(){return ja},autoDetectResource:function(){return Ci},checkMaxIfStatementsInShader:function(){return ta},createUBOElements:function(){return xa},defaultFilterVertex:function(){return Ha},defaultVertex:function(){return za},filters:function(){return Tc},generateProgram:function(){return ka},generateUniformBufferSync:function(){return Ma},getTestContext:function(){return jo},getUBOData:function(){return Ea},graphicsUtils:function(){return il},groupD8:function(){return Vn},interactiveTarget:function(){return Ri},isMobile:function(){return cr},resources:function(){return es},settings:function(){return Ir},systems:function(){return is},uniformParsers:function(){return Zo},utils:function(){return t}});var n={};r.r(n),r.d(n,{AnimatedViking:function(){return af},AnimatedVikingRainbow:function(){return Cf},Armadillo:function(){return kf},Barrel:function(){return sf},BlackHole:function(){return Nf},Cobra:function(){return Af},Coin:function(){return mf},Fish:function(){return hf},Fox:function(){return Ef},Generic2DirectionalSprite:function(){return Jc},Generic8DirectionalSprite:function(){return Kc},GenericAnimatedSprite:function(){return Xc},Ground:function(){return uf},Hedgehog:function(){return Mf},IceElemental:function(){return wf},Lightning:function(){return Rf},MultiMushroom:function(){return Ff},NPC:function(){return Wc},NPC8D:function(){return of},PC:function(){return Lf},Plant:function(){return cf},Portal:function(){return If},ProcedurallyGeneratedGround:function(){return Df},QuestGiver:function(){return Bf},RainbowBridge:function(){return Tf},RedCoin:function(){return gf},ShaderSlime:function(){return bf},SimpleParticleSystem:function(){return df},Slime:function(){return pf},Squirrel:function(){return Sf},SuperTorch:function(){return Of},Torch:function(){return _f},Transformable:function(){return jc},Tree:function(){return ff},Wall:function(){return lf},Windmill:function(){return Pf},YellowCoin:function(){return yf}});var i=r(72791),o=r(1250),a=r(80184),s=r(21200),u=r.n(s),l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},l(t,e)};function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var c=function(){return c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},c.apply(this,arguments)};function f(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function d(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function p(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var v;!function(t){t.ONE_INCH="oneInch",t.OPEN_SEA="opensea",t.FIAT="fiat",t.RARIBLE="rarible"}(v||(v={}));new Intl.NumberFormat("en-us",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}),new Intl.NumberFormat("en-us",{style:"decimal",minimumSignificantDigits:1,maximumSignificantDigits:4});var m=(0,i.createContext)(null),g=function(t){function e(e){var r=t.call(this,"[react-moralis]: ".concat(e))||this;return r.name="ReactMoralisError",r.message=e,r}return h(e,t),e.isReactMoraliserrpr=!0,e}(Error),y=function(t){function e(e){var r=t.call(this,e)||this;return r.name="NoMoralisContextProviderError",r}return h(e,t),e}(g),b=function(t){function e(e){var r=t.call(this,e)||this;return r.name="NotAuthenticatedError",r}return h(e,t),e}(g),_=function(t){function e(e){var r=t.call(this,e)||this;return r.name="ValidationError",r}return h(e,t),e}(g),w=function(){var t=(0,i.useContext)(m);if(!t)throw new y("Make sure to only call useMoralis within a  <MoralisProvider>");return t};function x(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function E(t){return!!t&&!!t[ut]}function M(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===lt}(t)||Array.isArray(t)||!!t[st]||!!t.constructor[st]||R(t)||P(t))}function S(t,e,r){void 0===r&&(r=!1),0===A(t)?(r?Object.keys:ht)(t).forEach((function(n){r&&"symbol"==typeof n||e(n,t[n],t)})):t.forEach((function(r,n){return e(n,r,t)}))}function A(t){var e=t[ut];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:R(t)?2:P(t)?3:0}function k(t,e){return 2===A(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function T(t,e,r){var n=A(t);2===n?t.set(e,r):3===n?(t.delete(e),t.add(r)):t[e]=r}function R(t){return nt&&t instanceof Map}function P(t){return it&&t instanceof Set}function I(t){return t.o||t.t}function N(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=ct(t);delete e[ut];for(var r=ht(e),n=0;n<r.length;n++){var i=r[n],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function O(t,e){return void 0===e&&(e=!1),D(t)||E(t)||!M(t)||(A(t)>1&&(t.set=t.add=t.clear=t.delete=C),Object.freeze(t),e&&S(t,(function(t,e){return O(e,!0)}),!0)),t}function C(){x(2)}function D(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function L(t){var e=ft[t];return e||x(18,t),e}function F(){return et}function B(t,e){e&&(L("Patches"),t.u=[],t.s=[],t.v=e)}function U(t){G(t),t.p.forEach(z),t.p=null}function G(t){t===et&&(et=t.l)}function j(t){return et={p:[],l:et,h:t,m:!0,_:0}}function z(t){var e=t[ut];0===e.i||1===e.i?e.j():e.O=!0}function H(t,e){e._=e.p.length;var r=e.p[0],n=void 0!==t&&t!==r;return e.h.g||L("ES5").S(e,t,n),n?(r[ut].P&&(U(e),x(4)),M(t)&&(t=V(e,t),e.l||q(e,t)),e.u&&L("Patches").M(r[ut],t,e.u,e.s)):t=V(e,r,[]),U(e),e.u&&e.v(e.u,e.s),t!==at?t:void 0}function V(t,e,r){if(D(e))return e;var n=e[ut];if(!n)return S(e,(function(i,o){return W(t,n,e,i,o,r)}),!0),e;if(n.A!==t)return e;if(!n.P)return q(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=N(n.k):n.o;S(3===n.i?new Set(i):i,(function(e,o){return W(t,n,i,e,o,r)})),q(t,i,!1),r&&t.u&&L("Patches").R(n,r,t.u,t.s)}return n.o}function W(t,e,r,n,i,o){if(E(i)){var a=V(t,i,o&&e&&3!==e.i&&!k(e.D,n)?o.concat(n):void 0);if(T(r,n,a),!E(a))return;t.m=!1}if(M(i)&&!D(i)){if(!t.h.F&&t._<1)return;V(t,i),e&&e.A.l||q(t,i)}}function q(t,e,r){void 0===r&&(r=!1),t.h.F&&t.m&&O(e,r)}function X(t,e){var r=t[ut];return(r?I(r):t)[e]}function Z(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function K(t){t.P||(t.P=!0,t.l&&K(t.l))}function Y(t){t.o||(t.o=N(t.t))}function J(t,e,r){var n=R(e)?L("MapSet").N(e,r):P(e)?L("MapSet").T(e,r):t.g?function(t,e){var r=Array.isArray(t),n={i:r?1:0,A:e?e.A:F(),P:!1,I:!1,D:{},l:e,t:t,k:null,o:null,j:null,C:!1},i=n,o=dt;r&&(i=[n],o=pt);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return n.k=u,n.j=s,u}(e,r):L("ES5").J(e,r);return(r?r.A:F()).p.push(n),n}function $(t){return E(t)||x(22,t),function t(e){if(!M(e))return e;var r,n=e[ut],i=A(e);if(n){if(!n.P&&(n.i<4||!L("ES5").K(n)))return n.t;n.I=!0,r=Q(e,i),n.I=!1}else r=Q(e,i);return S(r,(function(e,i){n&&function(t,e){return 2===A(t)?t.get(e):t[e]}(n.t,e)===i||T(r,e,t(i))})),3===i?new Set(r):r}(t)}function Q(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return N(t)}var tt,et,rt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),nt="undefined"!=typeof Map,it="undefined"!=typeof Set,ot="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,at=rt?Symbol.for("immer-nothing"):((tt={})["immer-nothing"]=!0,tt),st=rt?Symbol.for("immer-draftable"):"__$immer_draftable",ut=rt?Symbol.for("immer-state"):"__$immer_state",lt=""+Object.prototype.constructor,ht="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ct=Object.getOwnPropertyDescriptors||function(t){var e={};return ht(t).forEach((function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)})),e},ft={},dt={get:function(t,e){if(e===ut)return t;var r=I(t);if(!k(r,e))return function(t,e,r){var n,i=Z(e,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(t.k):void 0}(t,r,e);var n=r[e];return t.I||!M(n)?n:n===X(t.t,e)?(Y(t),t.o[e]=J(t.A.h,n,t)):n},has:function(t,e){return e in I(t)},ownKeys:function(t){return Reflect.ownKeys(I(t))},set:function(t,e,r){var n=Z(I(t),e);if(null==n?void 0:n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=X(I(t),e),o=null==i?void 0:i[ut];if(o&&o.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}(r,i)&&(void 0!==r||k(t.t,e)))return!0;Y(t),K(t)}return t.o[e]===r&&"number"!=typeof r&&(void 0!==r||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==X(t.t,e)||e in t.t?(t.D[e]=!1,Y(t),K(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=I(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:n.enumerable,value:r[e]}:n},defineProperty:function(){x(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){x(12)}},pt={};S(dt,(function(t,e){pt[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),pt.deleteProperty=function(t,e){return dt.deleteProperty.call(this,t[0],e)},pt.set=function(t,e,r){return dt.set.call(this,t[0],e,r,t[0])};var vt=function(){function t(t){var e=this;this.g=ot,this.F=!0,this.produce=function(t,r,n){if("function"==typeof t&&"function"!=typeof r){var i=r;r=t;var o=e;return function(t){var e=this;void 0===t&&(t=i);for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return o.produce(t,(function(t){var n;return(n=r).call.apply(n,[e,t].concat(a))}))}}var a;if("function"!=typeof r&&x(6),void 0!==n&&"function"!=typeof n&&x(7),M(t)){var s=j(e),u=J(e,t,void 0),l=!0;try{a=r(u),l=!1}finally{l?U(s):G(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return B(s,n),H(t,s)}),(function(t){throw U(s),t})):(B(s,n),H(a,s))}if(!t||"object"!=typeof t){if((a=r(t))===at)return;return void 0===a&&(a=t),e.F&&O(a,!0),a}x(21,t)},this.produceWithPatches=function(t,r){return"function"==typeof t?function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(e){return t.apply(void 0,[e].concat(i))}))}:[e.produce(t,r,(function(t,e){n=t,i=e})),n,i];var n,i},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){M(t)||x(8),E(t)&&(t=$(t));var e=j(this),r=J(this,t,void 0);return r[ut].C=!0,G(e),r},e.finishDraft=function(t,e){var r=(t&&t[ut]).A;return B(r,e),H(void 0,r)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!ot&&x(20),this.g=t},e.applyPatches=function(t,e){var r;for(r=e.length-1;r>=0;r--){var n=e[r];if(0===n.path.length&&"replace"===n.op){t=n.value;break}}r>-1&&(e=e.slice(r+1));var i=L("Patches").$;return E(t)?i(t,e):this.produce(t,(function(t){return i(t,e)}))},t}(),mt=new vt;mt.produce;mt.produceWithPatches.bind(mt),mt.setAutoFreeze.bind(mt),mt.setUseProxies.bind(mt),mt.applyPatches.bind(mt),mt.createDraft.bind(mt),mt.finishDraft.bind(mt);var gt,yt=function(t,e){var r=t.password,n=t.email,i=t.username,o=f(t,["password","email","username"]);if(void 0!==r){if("string"!==typeof r)throw new _("password can only be a string type");e.setPassword(r)}if(void 0!==n){if("string"!==typeof n)throw new _("email can only be a string type");e.setEmail(n)}if(void 0!==i){if("string"!==typeof i)throw new _("username can only be a string type");e.setUsername(i)}Object.entries(o).filter((function(t){return void 0!==t[1]})).forEach((function(t){var r=t[0],n=t[1];e.set(r,n)}))};!function(t){t.UNDEFINED="undefined",t.UNAUTHENTICATED="unauthenticated",t.AUTHENTICATED="authenticated",t.AUTHENTICATING="authenticating",t.LOGGING_OUT="logging_out",t.ERROR="error"}(gt||(gt={}));var bt={state:gt.UNDEFINED,error:null},_t=function(t){var e=t.children,r=t.appId,n=t.serverUrl,o=t.jsKey,s=t.dangerouslyUseOfMasterKey,l=t.plugins,h=t.environment,v=t.getMoralis,y=t.options,_=(void 0===y?{}:y).onAccountChanged,w=t.initializeOnMount,x=void 0===w||w,E=(0,i.useState)(null!==r&&void 0!==r?r:null),M=E[0],S=E[1],A=(0,i.useState)(null!==n&&void 0!==n?n:null),k=A[0],T=function(t){var e=t.appId,r=t.serverUrl,n=t.jsKey,o=t.dangerouslyUseOfMasterKey,a=t.plugins,s=t.environment,l=void 0===s?"browser":s,h=t.getMoralis,c=void 0===h?function(){return u()}:h,f=t.initializeOnMount,v=t.setAppId,m=t.setServerUrl,y=(0,i.useState)(!1),b=y[0],_=y[1],w=(0,i.useState)(!1),x=w[0],E=w[1],M=(0,i.useState)(!1),S=M[0],A=M[1],k=(0,i.useRef)(c()),T=(0,i.useCallback)((function(t){var e=t.serverUrl,r=t.appId,n=t.javascriptKey,i=t.masterKey,o=t.plugins;return d(void 0,void 0,void 0,(function(){return p(this,(function(t){switch(t.label){case 0:if(b)return[2];if(!r)throw new g('Provide a "appId" provided to <MoralisProvider>');if(!e)throw new g('Provide a "serverUrl" provided to <MoralisProvider>');return E(!0),[4,k.current.start({serverUrl:e,appId:r,javascriptKey:n,masterKey:i,plugins:o})];case 1:return t.sent(),E(!1),_(!0),[2]}}))}))}),[]);(0,i.useEffect)((function(){b||(f||S)&&(T({appId:e,serverUrl:r,masterKey:o,javascriptKey:n,plugins:a}),_(!0))}),[e,r,o,n,a,b,f,S]);var R=(0,i.useCallback)((function(t){var n=void 0===t?{}:t,i=n.appId,o=n.serverUrl;if(i&&v(i),o&&m(o),!i&&!e)throw new Error("No appId is provided. Please provide an appId to the Moralis.Provider or as argument in initialize()");if(!o&&!r)throw new Error("No serverUrl is provided. Please provide an serverUrl to the Moralis.Provider or as argument in initialize()");A(!0)}),[e,r]);return{isInitialized:b,isInitializing:x,initialize:R,Moralis:k.current,environment:l}}({appId:M,serverUrl:k,jsKey:o,dangerouslyUseOfMasterKey:s,plugins:l,environment:h,getMoralis:v,initializeOnMount:x,setAppId:S,setServerUrl:A[1]}),R=function(t){var e=(0,i.useState)(!1),r=e[0],n=e[1],o=(0,i.useState)(null),a=o[0],s=o[1],u=(0,i.useState)(!1),l=u[0],h=u[1],c=(0,i.useState)(null),v=c[0],m=c[1],g=(0,i.useState)(null),y=g[0],b=g[1],_=(0,i.useState)(null),w=_[0],x=_[1],E=(0,i.useState)(null),M=E[0],S=E[1],A=(0,i.useState)(null),k=A[0],T=A[1];(0,i.useEffect)((function(){var e=function(){m(null),n(!1),b(null),x(null),S(null),T(null)},r=t.onChainChanged((function(e){b(e),m(t.web3)})),i=t.onAccountChanged(x),o=t.onWeb3Enabled((function(t){var e=t.web3,r=t.chainId,n=t.account,i=t.connector,o=t.provider;m(e),b(r),x(n),S(i),T(o)})),a=t.onWeb3Deactivated(e),s=t.onDisconnect(e);return function(){r(),i(),o(),a(),s()}}),[t]);var R=(0,i.useCallback)((function(e){return void 0===e&&(e={}),d(void 0,void 0,void 0,(function(){var r,i,o=e.throwOnError,a=e.onComplete,u=e.onError,l=e.onSuccess,c=f(e,["throwOnError","onComplete","onError","onSuccess"]);return p(this,(function(e){switch(e.label){case 0:h(!0),s(null),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,t.enableWeb3(c)];case 2:return r=e.sent(),n(!0),l&&l(r),[2,r];case 3:if(i=e.sent(),s(i),o)throw i;return u&&u(i),[3,5];case 4:return h(!1),a&&a(),[7];case 5:return[2]}}))}))}),[]),P=(0,i.useCallback)((function(){return d(void 0,void 0,void 0,(function(){return p(this,(function(e){switch(e.label){case 0:return[4,t.deactivateWeb3()];case 1:return e.sent(),[2]}}))}))}),[]),I=(0,i.useMemo)((function(){var t;return null!==(t=null===M||void 0===M?void 0:M.network)&&void 0!==t?t:null}),[M]),N=(0,i.useMemo)((function(){var t;return null!==(t=null===M||void 0===M?void 0:M.type)&&void 0!==t?t:null}),[M]);return{enableWeb3:R,web3:v,isWeb3Enabled:r,web3EnableError:a,isWeb3EnableLoading:l,_setIsWeb3Enabled:n,_setIsWeb3EnableLoading:h,chainId:y,account:w,network:I,connector:M,connectorType:N,deactivateWeb3:P,provider:k}}(T.Moralis),P=R._setIsWeb3Enabled,I=R._setIsWeb3EnableLoading,N=f(R,["_setIsWeb3Enabled","_setIsWeb3EnableLoading"]),O=function(t){var e=(0,i.useState)(null),r=e[0],n=e[1],o=(0,i.useState)(!1),a=o[0],s=o[1],u=(0,i.useState)(null),l=u[0],h=u[1],c=(0,i.useCallback)((function(e,i){var o=void 0===i?{}:i,a=o.throwOnError,u=o.onComplete,l=o.onError,c=o.onSuccess;return d(void 0,void 0,void 0,(function(){var i,o,f;return p(this,(function(d){switch(d.label){case 0:if(!r)throw new b("User needs to be authenticated before setting new data");s(!0),h(null),i=!1,d.label=1;case 1:return d.trys.push([1,3,4,5]),yt(e,r),i=!0,[4,r.save()];case 2:if(d.sent(),!(o=t.User.current()))throw new g("No user data found after save");return n(o),c&&c(r),[2,r];case 3:if(f=d.sent(),i&&r.revert(),h(f),a)throw f;return l&&l(f),[3,5];case 4:return s(!1),u&&u(),[7];case 5:return[2]}}))}))}),[r]),f=(0,i.useCallback)((function(t){var e=void 0===t?{}:t,i=e.throwOnError,o=e.onComplete,a=e.onError,u=e.onSuccess;return d(void 0,void 0,void 0,(function(){var t,e;return p(this,(function(l){switch(l.label){case 0:if(!r)throw new b("User needs to be authenticated before refetching");s(!0),h(null),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,r.fetch()];case 2:if(!(t=l.sent()))throw new g("No user data found after refetch");return n(t),u&&u(t),[2,t];case 3:if(e=l.sent(),h(e),i)throw e;return a&&a(e),[3,5];case 4:return s(!1),o&&o(),[7];case 5:return[2]}}))}))}),[r]);return{setUserData:c,setUser:n,refetchUserData:f,user:r,_setUser:n,isUserUpdating:a,userError:l}}(T.Moralis),C=O.setUser,D=f(O,["setUser"]),L=function(t){var e=c(c({},function(t){return{setUser:function(){},Moralis:t,environment:"browser"}}(t.Moralis)),t),r=e.onAccountChanged,n=e.Moralis,o=e.environment,a=e._setIsWeb3Enabled,s=e._setIsWeb3EnableLoading,u=t.setUser,l=(0,i.useState)(bt),h=l[0],v=l[1],m=(0,i.useState)(!1),g=m[0],y=m[1],b=(0,i.useCallback)((function(t){return void 0===t&&(t={}),d(void 0,void 0,void 0,(function(){var e,r,i=t.onComplete,o=t.onError,l=t.onSuccess,h=t.throwOnError,c=f(t,["onComplete","onError","onSuccess","throwOnError"]);return p(this,(function(t){switch(t.label){case 0:v({state:gt.AUTHENTICATING,error:null}),s&&s(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,n.authenticate(c)];case 2:return e=t.sent(),u(e),a&&a(!0),v({state:gt.AUTHENTICATED,error:null}),l&&l(e),[2,e];case 3:if(r=t.sent(),v({state:gt.ERROR,error:r}),u(null),o&&o(r),h)throw r;return[3,5];case 4:return s&&s(!1),i&&i(),[7];case 5:return[2]}}))}))}),[a,s]),_=(0,i.useCallback)((function(t,e,r,i,o){void 0===i&&(i={});var a=void 0===o?{}:o,s=a.throwOnError,l=a.onSuccess,h=a.onError,f=a.onComplete;return d(void 0,void 0,void 0,(function(){var o,a,d;return p(this,(function(p){switch(p.label){case 0:v({state:gt.AUTHENTICATING,error:null}),o=new n.User,yt(c({username:t,password:e,email:r},i),o),p.label=1;case 1:return p.trys.push([1,3,4,5]),[4,o.signUp()];case 2:return a=p.sent(),v({state:gt.AUTHENTICATED,error:null}),u(a),l&&l(a),[2,a];case 3:if(d=p.sent(),v({state:gt.ERROR,error:d}),s)throw d;return h&&h(d),[3,5];case 4:return f&&f(),[7];case 5:return[2]}}))}))}),[]),w=(0,i.useCallback)((function(t,e,r){var i=void 0===r?{}:r,o=i.usePost,a=i.throwOnError,s=i.onError,l=i.onSuccess,h=i.onComplete;return d(void 0,void 0,void 0,(function(){var r,i;return p(this,(function(c){switch(c.label){case 0:v({state:gt.AUTHENTICATING,error:null}),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,n.User.logIn(t,e,{usePost:o})];case 2:return r=c.sent(),v({state:gt.AUTHENTICATED,error:null}),u(r),l&&l(r),[2,r];case 3:if(i=c.sent(),v({state:gt.ERROR,error:i}),a)throw i;return s&&s(i),[3,5];case 4:return h&&h(),[7];case 5:return[2]}}))}))}),[]),x=(0,i.useCallback)((function(t){var e=void 0===t?{}:t,r=e.throwOnError,i=e.onError,o=e.onSuccess,a=e.onComplete;return d(void 0,void 0,void 0,(function(){var t,e;return p(this,(function(s){switch(s.label){case 0:v({state:gt.AUTHENTICATING,error:null}),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,n.User.logOut()];case 2:return s.sent(),v({state:gt.UNAUTHENTICATED,error:null}),u(null),o&&o(),[3,5];case 3:if(t=s.sent(),v({state:gt.ERROR,error:t}),u(null!==(e=n.User.current())&&void 0!==e?e:null),r)throw t;return i&&i(t),[3,5];case 4:return a&&a(),[7];case 5:return[2]}}))}))}),[]);(0,i.useEffect)((function(){try{var t=n.User.current();if(!t)throw new Error("Let it catch");v({state:gt.AUTHENTICATED,error:null}),u(t)}catch(e){v({state:gt.UNAUTHENTICATED,error:null}),u(null)}}),[]),(0,i.useEffect)((function(){if(!g&&"browser"===o)if(window){try{var t=window.ethereum;if(!t)return void console.warn("No window.ethereum found");t.on("accountsChanged",(function(t){return d(void 0,void 0,void 0,(function(){var e;return p(this,(function(n){return e=t[0],r&&r(e),[2]}))}))}))}catch(e){console.warn(e.message)}y(!0)}else console.warn("No window object found")}),[g]);var E=h.state===gt.AUTHENTICATED,M=h.state===gt.UNAUTHENTICATED,S=h.state===gt.AUTHENTICATING,A=h.state===gt.ERROR,k=h.state===gt.LOGGING_OUT,T=h.state===gt.UNDEFINED;return{auth:h,authenticate:b,signup:_,login:w,logout:x,authError:h.error,isAuthenticated:E,isUnauthenticated:M,isAuthenticating:S,hasAuthError:A,isLoggingOut:k,isAuthUndefined:T}}({onAccountChanged:_,setUser:C,Moralis:T.Moralis,environment:T.environment,_setIsWeb3Enabled:P,_setIsWeb3EnableLoading:I});return(0,a.jsx)(m.Provider,c({value:c(c(c(c(c({},T),L),D),N),{appId:M,serverUrl:k})},{children:e}),void 0)},wt=function(t){t&&t instanceof Function&&r.e(787).then(r.bind(r,787)).then((function(e){var r=e.getCLS,n=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;r(t),n(t),i(t),o(t),a(t)}))};var xt,Et=r(40181);function Mt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(t,e)||(0,Et.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(){return St=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},St.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(xt||(xt={}));var At=function(t){return t};var kt="beforeunload",Tt="popstate";function Rt(t){t.preventDefault(),t.returnValue=""}function Pt(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function It(){return Math.random().toString(36).substr(2,8)}function Nt(t){var e=t.pathname,r=void 0===e?"/":e,n=t.search,i=void 0===n?"":n,o=t.hash,a=void 0===o?"":o;return i&&"?"!==i&&(r+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(r+="#"===a.charAt(0)?a:"#"+a),r}function Ot(t){var e={};if(t){var r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));var n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}var Ct=(0,i.createContext)(null);var Dt=(0,i.createContext)(null);var Lt=(0,i.createContext)({outlet:null,matches:[]});function Ft(t,e){if(!t)throw new Error(e)}function Bt(t,e,r){void 0===r&&(r="/");var n=qt(("string"===typeof e?Ot(e):e).pathname||"/",r);if(null==n)return null;var i=Ut(t);!function(t){t.sort((function(t,e){return t.score!==e.score?e.score-t.score:function(t,e){var r=t.length===e.length&&t.slice(0,-1).every((function(t,r){return t===e[r]}));return r?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((function(t){return t.childrenIndex})),e.routesMeta.map((function(t){return t.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=Ht(i[a],n);return o}function Ut(t,e,r,n){return void 0===e&&(e=[]),void 0===r&&(r=[]),void 0===n&&(n=""),t.forEach((function(t,i){var o={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(n)||Ft(!1),o.relativePath=o.relativePath.slice(n.length));var a=Xt([n,o.relativePath]),s=r.concat(o);t.children&&t.children.length>0&&(!0===t.index&&Ft(!1),Ut(t.children,e,s,a)),(null!=t.path||t.index)&&e.push({path:a,score:zt(a,t.index),routesMeta:s})})),e}var Gt=/^:\w+$/,jt=function(t){return"*"===t};function zt(t,e){var r=t.split("/"),n=r.length;return r.some(jt)&&(n+=-2),e&&(n+=2),r.filter((function(t){return!jt(t)})).reduce((function(t,e){return t+(Gt.test(e)?3:""===e?1:10)}),n)}function Ht(t,e){for(var r=t.routesMeta,n={},i="/",o=[],a=0;a<r.length;++a){var s=r[a],u=a===r.length-1,l="/"===i?e:e.slice(i.length)||"/",h=Vt({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!h)return null;Object.assign(n,h.params);var c=s.route;o.push({params:n,pathname:Xt([i,h.pathname]),pathnameBase:Zt(Xt([i,h.pathnameBase])),route:c}),"/"!==h.pathnameBase&&(i=Xt([i,h.pathnameBase]))}return o}function Vt(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});var r=function(t,e,r){void 0===e&&(e=!1);void 0===r&&(r=!0);var n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(t,e){return n.push(e),"([^\\/]+)"}));t.endsWith("*")?(n.push("*"),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=r?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,e?void 0:"i"),n]}(t.path,t.caseSensitive,t.end),n=Mt(r,2),i=n[0],o=n[1],a=e.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),l=a.slice(1),h=o.reduce((function(t,e,r){if("*"===e){var n=l[r]||"";u=s.slice(0,s.length-n.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(r){return t}}(l[r]||""),t}),{});return{params:h,pathname:s,pathnameBase:u,pattern:t}}function Wt(t,e,r){var n,i="string"===typeof t?Ot(t):t,o=""===t||""===i.pathname?"/":i.pathname;if(null==o)n=r;else{var a=e.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}n=a>=0?e[a]:"/"}var u=function(t,e){void 0===e&&(e="/");var r="string"===typeof t?Ot(t):t,n=r.pathname,i=r.search,o=void 0===i?"":i,a=r.hash,s=void 0===a?"":a,u=n?n.startsWith("/")?n:function(t,e){var r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((function(t){".."===t?r.length>1&&r.pop():"."!==t&&r.push(t)})),r.length>1?r.join("/"):"/"}(n,e):e;return{pathname:u,search:Kt(o),hash:Yt(s)}}(i,n);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function qt(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;var r=t.charAt(e.length);return r&&"/"!==r?null:t.slice(e.length)||"/"}var Xt=function(t){return t.join("/").replace(/\/\/+/g,"/")},Zt=function(t){return t.replace(/\/+$/,"").replace(/^\/*/,"/")},Kt=function(t){return t&&"?"!==t?t.startsWith("?")?t:"?"+t:""},Yt=function(t){return t&&"#"!==t?t.startsWith("#")?t:"#"+t:""};function Jt(){return null!=(0,i.useContext)(Dt)}function $t(){return Jt()||Ft(!1),(0,i.useContext)(Dt).location}function Qt(){Jt()||Ft(!1);var t=(0,i.useContext)(Ct),e=t.basename,r=t.navigator,n=(0,i.useContext)(Lt).matches,o=$t().pathname,a=JSON.stringify(n.map((function(t){return t.pathnameBase}))),s=(0,i.useRef)(!1);return(0,i.useEffect)((function(){s.current=!0})),(0,i.useCallback)((function(t,n){if(void 0===n&&(n={}),s.current)if("number"!==typeof t){var i=Wt(t,JSON.parse(a),o);"/"!==e&&(i.pathname=Xt([e,i.pathname])),(n.replace?r.replace:r.push)(i,n.state)}else r.go(t)}),[e,r,a,o])}function te(t,e){return void 0===e&&(e=[]),null==t?null:t.reduceRight((function(r,n,o){return(0,i.createElement)(Lt.Provider,{children:void 0!==n.route.element?n.route.element:r,value:{outlet:r,matches:e.concat(t.slice(0,o+1))}})}),null)}function ee(t){Ft(!1)}function re(t){var e=t.basename,r=void 0===e?"/":e,n=t.children,o=void 0===n?null:n,a=t.location,s=t.navigationType,u=void 0===s?xt.Pop:s,l=t.navigator,h=t.static,c=void 0!==h&&h;Jt()&&Ft(!1);var f=Zt(r),d=(0,i.useMemo)((function(){return{basename:f,navigator:l,static:c}}),[f,l,c]);"string"===typeof a&&(a=Ot(a));var p=a,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,b=p.hash,_=void 0===b?"":b,w=p.state,x=void 0===w?null:w,E=p.key,M=void 0===E?"default":E,S=(0,i.useMemo)((function(){var t=qt(m,f);return null==t?null:{pathname:t,search:y,hash:_,state:x,key:M}}),[f,m,y,_,x,M]);return null==S?null:(0,i.createElement)(Ct.Provider,{value:d},(0,i.createElement)(Dt.Provider,{children:o,value:{location:S,navigationType:u}}))}function ne(t){var e=t.children,r=t.location;return function(t,e){Jt()||Ft(!1);var r,n=(0,i.useContext)(Lt).matches,o=n[n.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,$t());if(e){var l,h="string"===typeof e?Ot(e):e;"/"===s||(null==(l=h.pathname)?void 0:l.startsWith(s))||Ft(!1),r=h}else r=u;var c=r.pathname||"/",f=Bt(t,{pathname:"/"===s?c:c.slice(s.length)||"/"});return te(f&&f.map((function(t){return Object.assign({},t,{params:Object.assign({},a,t.params),pathname:Xt([s,t.pathname]),pathnameBase:"/"===t.pathnameBase?s:Xt([s,t.pathnameBase])})})),n)}(ie(e),r)}function ie(t){var e=[];return i.Children.forEach(t,(function(t){if((0,i.isValidElement)(t))if(t.type!==i.Fragment){t.type!==ee&&Ft(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=ie(t.props.children)),e.push(r)}else e.push.apply(e,ie(t.props.children))})),e}function oe(t){var e=t.basename,r=t.children,n=t.window,o=(0,i.useRef)();null==o.current&&(o.current=function(t){void 0===t&&(t={});var e=t.window,r=void 0===e?document.defaultView:e,n=r.history;function i(){var t=r.location,e=t.pathname,i=t.search,o=t.hash,a=n.state||{};return[a.idx,At({pathname:e,search:i,hash:o,state:a.usr||null,key:a.key||"default"})]}var o=null;r.addEventListener(Tt,(function(){if(o)c.call(o),o=null;else{var t=xt.Pop,e=i(),r=e[0],n=e[1];if(c.length){if(null!=r){var a=u-r;a&&(o={action:t,location:n,retry:function(){g(-1*a)}},g(a))}}else m(t)}}));var a=xt.Pop,s=i(),u=s[0],l=s[1],h=Pt(),c=Pt();function f(t){return"string"===typeof t?t:Nt(t)}function d(t,e){return void 0===e&&(e=null),At(St({pathname:l.pathname,hash:"",search:""},"string"===typeof t?Ot(t):t,{state:e,key:It()}))}function p(t,e){return[{usr:t.state,key:t.key,idx:e},f(t)]}function v(t,e,r){return!c.length||(c.call({action:t,location:e,retry:r}),!1)}function m(t){a=t;var e=i();u=e[0],l=e[1],h.call({action:a,location:l})}function g(t){n.go(t)}null==u&&(u=0,n.replaceState(St({},n.state,{idx:u}),""));var y={get action(){return a},get location(){return l},createHref:f,push:function t(e,i){var o=xt.Push,a=d(e,i);if(v(o,a,(function(){t(e,i)}))){var s=p(a,u+1),l=s[0],h=s[1];try{n.pushState(l,"",h)}catch(c){r.location.assign(h)}m(o)}},replace:function t(e,r){var i=xt.Replace,o=d(e,r);if(v(i,o,(function(){t(e,r)}))){var a=p(o,u),s=a[0],l=a[1];n.replaceState(s,"",l),m(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(t){return h.push(t)},block:function(t){var e=c.push(t);return 1===c.length&&r.addEventListener(kt,Rt),function(){e(),c.length||r.removeEventListener(kt,Rt)}}};return y}({window:n}));var a=o.current,s=Mt((0,i.useState)({action:a.action,location:a.location}),2),u=s[0],l=s[1];return(0,i.useLayoutEffect)((function(){return a.listen(l)}),[a]),(0,i.createElement)(re,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:a})}var ae=/iPhone/i,se=/iPod/i,ue=/iPad/i,le=/\biOS-universal(?:.+)Mac\b/i,he=/\bAndroid(?:.+)Mobile\b/i,ce=/Android/i,fe=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,de=/Silk/i,pe=/Windows Phone/i,ve=/\bWindows(?:.+)ARM\b/i,me=/BlackBerry/i,ge=/BB10/i,ye=/Opera Mini/i,be=/\b(CriOS|Chrome)(?:.+)Mobile/i,_e=/Mobile(?:.+)Firefox\b/i,we=function(t){return"undefined"!==typeof t&&"MacIntel"===t.platform&&"number"===typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"===typeof MSStream};function xe(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"===typeof navigator?"string"===typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=e.userAgent,n=r.split("[FBAN");"undefined"!==typeof n[1]&&(r=n[0]),"undefined"!==typeof(n=r.split("Twitter"))[1]&&(r=n[0]);var i=function(t){return function(e){return e.test(t)}}(r),o={apple:{phone:i(ae)&&!i(pe),ipod:i(se),tablet:!i(ae)&&(i(ue)||we(e))&&!i(pe),universal:i(le),device:(i(ae)||i(se)||i(ue)||i(le)||we(e))&&!i(pe)},amazon:{phone:i(fe),tablet:!i(fe)&&i(de),device:i(fe)||i(de)},android:{phone:!i(pe)&&i(fe)||!i(pe)&&i(he),tablet:!i(pe)&&!i(fe)&&!i(he)&&(i(de)||i(ce)),device:!i(pe)&&(i(fe)||i(de)||i(he)||i(ce))||i(/\bokhttp\b/i)},windows:{phone:i(pe),tablet:i(ve),device:i(pe)||i(ve)},other:{blackberry:i(me),blackberry10:i(ge),opera:i(ye),firefox:i(_e),chrome:i(be),device:i(me)||i(ge)||i(ye)||i(_e)||i(be)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}var Ee=r(15671),Me=r(43144);var Se=function(t){var e=this.constructor;return this.then((function(r){return e.resolve(t()).then((function(){return r}))}),(function(r){return e.resolve(t()).then((function(){return e.reject(r)}))}))};var Ae=function(t){return new this((function(e,r){if(!t||"undefined"===typeof t.length)return r(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var i=n.length;function o(t,r){if(r&&("object"===typeof r||"function"===typeof r)){var a=r.then;if("function"===typeof a)return void a.call(r,(function(e){o(t,e)}),(function(r){n[t]={status:"rejected",reason:r},0===--i&&e(n)}))}n[t]={status:"fulfilled",value:r},0===--i&&e(n)}for(var a=0;a<n.length;a++)o(a,n[a])}))},ke=setTimeout,Te="undefined"!==typeof setImmediate?setImmediate:null;function Re(t){return Boolean(t&&"undefined"!==typeof t.length)}function Pe(){}function Ie(t){if(!(this instanceof Ie))throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Fe(t,this)}function Ne(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,Ie._immediateFn((function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(i){return void Ce(e.promise,i)}Oe(e.promise,n)}else(1===t._state?Oe:Ce)(e.promise,t._value)}))):t._deferreds.push(e)}function Oe(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var r=e.then;if(e instanceof Ie)return t._state=3,t._value=e,void De(t);if("function"===typeof r)return void Fe(function(t,e){return function(){t.apply(e,arguments)}}(r,e),t)}t._state=1,t._value=e,De(t)}catch(n){Ce(t,n)}}function Ce(t,e){t._state=2,t._value=e,De(t)}function De(t){2===t._state&&0===t._deferreds.length&&Ie._immediateFn((function(){t._handled||Ie._unhandledRejectionFn(t._value)}));for(var e=0,r=t._deferreds.length;e<r;e++)Ne(t,t._deferreds[e]);t._deferreds=null}function Le(t,e,r){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=r}function Fe(t,e){var r=!1;try{t((function(t){r||(r=!0,Oe(e,t))}),(function(t){r||(r=!0,Ce(e,t))}))}catch(n){if(r)return;r=!0,Ce(e,n)}}Ie.prototype.catch=function(t){return this.then(null,t)},Ie.prototype.then=function(t,e){var r=new this.constructor(Pe);return Ne(this,new Le(t,e,r)),r},Ie.prototype.finally=Se,Ie.all=function(t){return new Ie((function(e,r){if(!Re(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(0===n.length)return e([]);var i=n.length;function o(t,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){o(t,e)}),r)}n[t]=a,0===--i&&e(n)}catch(u){r(u)}}for(var a=0;a<n.length;a++)o(a,n[a])}))},Ie.allSettled=Ae,Ie.resolve=function(t){return t&&"object"===typeof t&&t.constructor===Ie?t:new Ie((function(e){e(t)}))},Ie.reject=function(t){return new Ie((function(e,r){r(t)}))},Ie.race=function(t){return new Ie((function(e,r){if(!Re(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)Ie.resolve(t[n]).then(e,r)}))},Ie._immediateFn="function"===typeof Te&&function(t){Te(t)}||function(t){ke(t,0)},Ie._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Be=Ie,Ue=r(31725),Ge=r.n(Ue);self.Promise||(self.Promise=Be),Object.assign||(Object.assign=Ge());if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var je=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-je}}for(var ze=Date.now(),He=["ms","moz","webkit","o"],Ve=0;Ve<He.length&&!self.requestAnimationFrame;++Ve){var We=He[Ve];self.requestAnimationFrame=self[We+"RequestAnimationFrame"],self.cancelAnimationFrame=self[We+"CancelAnimationFrame"]||self[We+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if("function"!==typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+ze-e;return r<0&&(r=0),ze=e,self.setTimeout((function(){ze=Date.now(),t(performance.now())}),r)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var qe,Xe,Ze,Ke,Ye,Je,$e,Qe,tr,er,rr,nr,ir,or,ar,sr,ur,lr,hr,cr=xe(self.navigator);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(qe||(qe={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Xe||(Xe={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Ze||(Ze={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Ke||(Ke={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Ye||(Ye={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Je||(Je={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}($e||($e={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Qe||(Qe={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(tr||(tr={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(er||(er={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(rr||(rr={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(nr||(nr={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(ir||(ir={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(or||(or={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(ar||(ar={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(sr||(sr={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(ur||(ur={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(lr||(lr={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(hr||(hr={}));var fr,dr,pr,vr,mr,gr,yr,br,_r,wr,xr,Er,Mr,Sr,Ar,kr,Tr,Rr,Pr,Ir={MIPMAP_TEXTURES:nr.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:lr.NONE,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(cr.tablet||cr.phone){var r;if(cr.apple.device)if(r=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(r[1],10)<11&&(e=!1);if(cr.android.device)if(r=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(r[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:ar.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:rr.CLAMP,SCALE_MODE:er.LINEAR,PRECISION_VERTEX:sr.HIGH,PRECISION_FRAGMENT:cr.apple.device?sr.HIGH:sr.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!cr.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Nr=r(25810),Or=r.n(Nr),Cr=r(57089),Dr=r.n(Cr),Lr=r(12114);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(fr||(fr={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(dr||(dr={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(pr||(pr={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(vr||(vr={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(mr||(mr={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(gr||(gr={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(yr||(yr={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(br||(br={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(_r||(_r={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(wr||(wr={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(xr||(xr={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(Er||(Er={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Mr||(Mr={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Sr||(Sr={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Ar||(Ar={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(kr||(kr={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Tr||(Tr={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Rr||(Rr={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Pr||(Pr={}));var Fr={parse:Lr.Qc,format:Lr.WU,resolve:Lr.DB};Ir.RETINA_PREFIX=/@([0-9\.]+)x/,Ir.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Br,Ur=!1;function Gr(){Ur=!0}function jr(t){var e;if(!Ur){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS 6.2.1 - \u2730 "+t+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=self.console).log.apply(e,r)}else self.console&&self.console.log("PixiJS 6.2.1 - "+t+" - http://www.pixijs.com/");Ur=!0}}function zr(){return"undefined"===typeof Br&&(Br=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Ir.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(o){return!1}}()),Br}var Hr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Vr(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function Wr(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function qr(t){return"string"===typeof t&&"#"===(t=Hr[t.toLowerCase()]||t)[0]&&(t=t.substr(1)),parseInt(t,16)}function Xr(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var Zr=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[vr.NORMAL_NPM]=vr.NORMAL,t[vr.ADD_NPM]=vr.ADD,t[vr.SCREEN_NPM]=vr.SCREEN,e[vr.NORMAL]=vr.NORMAL_NPM,e[vr.ADD]=vr.ADD_NPM,e[vr.SCREEN]=vr.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}();function Kr(t,e){return Zr[e?1:0][t]}function Yr(t,e,r,n){return r=r||new Float32Array(4),n||void 0===n?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function Jr(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,n=t>>8&255,i=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(i=i*e+.5|0)}function $r(t,e,r,n){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(n||void 0===n)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Qr(t,e){void 0===e&&(e=null);var r=6*t;if((e=e||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function tn(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var en={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function rn(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;var a=new ArrayBuffer(4*r),s=null,u=0;for(o=0;o<t.length;o++){var l=e[o],h=t[o],c=tn(h);i[c]||(i[c]=new en[c](a)),s=i[c];for(var f=0;f<h.length;f++){s[(f/l|0)*n+u+f%l]=h[f]}u+=l}return new Float32Array(a)}function nn(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function on(t){return!(t&t-1)&&!!t}function an(t){var e=(t>65535?1:0)<<4,r=((t>>>=e)>255?1:0)<<3;return e|=r,e|=r=((t>>>=r)>15?1:0)<<2,(e|=r=((t>>>=r)>3?1:0)<<1)|(t>>>=r)>>1}function sn(t,e,r){var n,i=t.length;if(!(e>=i||0===r)){var o=i-(r=e+r>i?i-e:r);for(n=e;n<o;++n)t[n]=t[n+r];t.length=o}}function un(t){return 0===t?0:t<0?-1:1}var ln=0;function hn(){return++ln}var cn={};function fn(t,e,r){if(void 0===r&&(r=3),!cn[e]){var n=(new Error).stack;"undefined"===typeof n?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(n))),cn[e]=!0}}var dn={},pn=Object.create(null),vn=Object.create(null);function mn(){var t;for(t in pn)pn[t].destroy();for(t in vn)vn[t].destroy()}function gn(){var t;for(t in pn)delete pn[t];for(t in vn)delete vn[t]}var yn=function(){function t(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||Ir.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),t}();function bn(t){var e,r,n,i=t.width,o=t.height,a=t.getContext("2d"),s=a.getImageData(0,0,i,o).data,u=s.length,l={top:null,left:null,right:null,bottom:null},h=null;for(e=0;e<u;e+=4)0!==s[e+3]&&(r=e/4%i,n=~~(e/4/i),null===l.top&&(l.top=n),(null===l.left||r<l.left)&&(l.left=r),(null===l.right||l.right<r)&&(l.right=r+1),(null===l.bottom||l.bottom<n)&&(l.bottom=n));return null!==l.top&&(i=l.right-l.left,o=l.bottom-l.top+1,h=a.getImageData(l.left,l.top,i,o)),{height:o,width:i,data:h}}var _n,wn=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function xn(t){var e=wn.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function En(t,e){if(void 0===e&&(e=self.location),0===t.indexOf("data:"))return"";e=e||self.location,_n||(_n=document.createElement("a")),_n.href=t;var r=Fr.parse(_n.href),n=!r.port&&""===e.port||r.port===e.port;return r.hostname===e.hostname&&n&&r.protocol===e.protocol?"":"anonymous"}function Mn(t,e){var r=Ir.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var Sn,An=2*Math.PI,kn=180/Math.PI,Tn=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(Sn||(Sn={}));var Rn=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(n),this.type=Sn.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=n,this.height=Math.max(i-n,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=n-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=n,this.height=i-n,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Pn=function(){function t(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=Sn.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-t,i=this.y-e;return(n*=n)+(i*=i)<=r},t.prototype.getBounds=function(){return new Rn(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),In=function(){function t(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=t,this.y=e,this.width=r,this.height=n,this.type=Sn.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,n=(e-this.y)/this.height;return(r*=r)+(n*=n)<=1},t.prototype.getBounds=function(){return new Rn(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Nn=function(){function t(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var n=Array.isArray(e[0])?e[0]:e;if("number"!==typeof n[0]){for(var i=[],o=0,a=n.length;o<a;o++)i.push(n[o].x,n[o].y);n=i}this.points=n,this.type=Sn.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];s>e!==l>e&&t<(e-s)/(l-s)*(u-a)+a&&(r=!r)}return r},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(t,e){return t+", "+e}),"")+"]"},t}(),On=function(){function t(t,e,r,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=20),this.x=t,this.y=e,this.width=r,this.height=n,this.radius=i,this.type=Sn.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+r&&e<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;var n=t-(this.x+r),i=e-(this.y+r),o=r*r;if(n*n+i*i<=o)return!0;if((n=t-(this.x+this.width-r))*n+i*i<=o)return!0;if(n*n+(i=e-(this.y+this.height-r))*i<=o)return!0;if((n=t-(this.x+r))*n+i*i<=o)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),Cn=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Dn=function(){function t(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0),this._x=r,this._y=n,this.cb=t,this.scope=e}return t.prototype.clone=function(e,r){return void 0===e&&(e=this.cb),void 0===r&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Ln=function(){function t(t,e,r,n,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,r,n,i,o){return this.a=t,this.b=e,this.c=r,this.d=n,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},t.prototype.apply=function(t,e){e=e||new Cn;var r=t.x,n=t.y;return e.x=this.a*r+this.c*n+this.tx,e.y=this.b*r+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new Cn;var r=1/(this.a*this.d+this.c*-this.b),n=t.x,i=t.y;return e.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),n=this.a,i=this.c,o=this.tx;return this.a=n*e-this.b*r,this.b=n*r+this.b*e,this.c=i*e-this.d*r,this.d=i*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},t.prototype.append=function(t){var e=this.a,r=this.b,n=this.c,i=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*r+t.b*i,this.c=t.c*e+t.d*n,this.d=t.c*r+t.d*i,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*r+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,r,n,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(r*this.a+n*this.c),this.ty=e-(r*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,n=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,r=this.b,n=this.c,i=this.d,o=t.pivot,a=-Math.atan2(-n,i),s=Math.atan2(r,e),u=Math.abs(a+s);return u<1e-5||Math.abs(An-u)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(n*n+i*i),t.position.x=this.tx+(o.x*e+o.y*n),t.position.y=this.ty+(o.x*r+o.y*i),t},t.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,n=this.d,i=this.tx,o=t*n-e*r;return this.a=n/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Fn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Bn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Un=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],jn=[],zn=[],Hn=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];jn.push(e);for(var r=0;r<16;r++)for(var n=Hn(Fn[t]*Fn[r]+Un[t]*Bn[r]),i=Hn(Bn[t]*Fn[r]+Gn[t]*Bn[r]),o=Hn(Fn[t]*Un[r]+Un[t]*Gn[r]),a=Hn(Bn[t]*Un[r]+Gn[t]*Gn[r]),s=0;s<16;s++)if(Fn[s]===n&&Bn[s]===i&&Un[s]===o&&Gn[s]===a){e.push(s);break}}for(t=0;t<16;t++){var u=new Ln;u.set(Fn[t],Bn[t],Un[t],Gn[t],0,0),zn.push(u)}}();var Vn={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Fn[t]},uY:function(t){return Bn[t]},vX:function(t){return Un[t]},vY:function(t){return Gn[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return jn[t][e]},sub:function(t,e){return jn[t][Vn.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Vn.S:Vn.N:2*Math.abs(e)<=Math.abs(t)?t>0?Vn.E:Vn.W:e>0?t>0?Vn.SE:Vn.SW:t>0?Vn.NE:Vn.NW},matrixAppendRotationInv:function(t,e,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=zn[Vn.inv(e)];i.tx=r,i.ty=n,t.append(i)}},Wn=function(){function t(){this.worldTransform=new Ln,this.localTransform=new Ln,this.position=new Dn(this.onChange,this,0,0),this.scale=new Dn(this.onChange,this,1,1),this.pivot=new Dn(this.onChange,this,0,0),this.skew=new Dn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();Ir.SORTABLE_CHILDREN=!1;var qn=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Rn.EMPTY:((t=t||new Rn(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var r=t.a,n=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,u=r*e.x+i*e.y+a,l=n*e.x+o*e.y+s;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)},t.prototype.addQuad=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,r=a<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[2])<e?o:e,r=(a=t[3])<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[4])<e?o:e,r=(a=t[5])<r?a:r,n=o>n?o:n,i=a>i?a:i,e=(o=t[6])<e?o:e,r=(a=t[7])<r?a:r,n=o>n?o:n,i=a>i?a:i,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i},t.prototype.addFrame=function(t,e,r,n,i){this.addFrameMatrix(t.worldTransform,e,r,n,i)},t.prototype.addFrameMatrix=function(t,e,r,n,i){var o=t.a,a=t.b,s=t.c,u=t.d,l=t.tx,h=t.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=o*e+s*r+l,m=a*e+u*r+h;c=v<c?v:c,f=m<f?m:f,d=v>d?v:d,p=m>p?m:p,c=(v=o*n+s*r+l)<c?v:c,f=(m=a*n+u*r+h)<f?m:f,d=v>d?v:d,p=m>p?m:p,c=(v=o*e+s*i+l)<c?v:c,f=(m=a*e+u*i+h)<f?m:f,d=v>d?v:d,p=m>p?m:p,c=(v=o*n+s*i+l)<c?v:c,f=(m=a*n+u*i+h)<f?m:f,d=v>d?v:d,p=m>p?m:p,this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addVertexData=function(t,e,r){for(var n=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=e;s<r;s+=2){var u=t[s],l=t[s+1];n=u<n?u:n,i=l<i?l:i,o=u>o?u:o,a=l>a?l:a}this.minX=n,this.minY=i,this.maxX=o,this.maxY=a},t.prototype.addVertices=function(t,e,r,n){this.addVerticesMatrix(t.worldTransform,e,r,n)},t.prototype.addVerticesMatrix=function(t,e,r,n,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=t.a,s=t.b,u=t.c,l=t.d,h=t.tx,c=t.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,m=r;m<n;m+=2){var g=e[m],y=e[m+1],b=a*g+u*y+h,_=l*y+s*g+c;f=Math.min(f,b-i),p=Math.max(p,b+i),d=Math.min(d,_-o),v=Math.max(v,_+o)}this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addBounds=function(t){var e=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=i&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=r<a?r:a,this.minY=n<s?n:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,r,n,i,o){t-=i,e-=o,r+=i,n+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},t}(),Xn=function(t,e){return Xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Xn(t,e)};function Zn(t,e){function r(){this.constructor=t}Xn(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Kn,Yn,Jn,$n,Qn,ti,ei,ri,ni,ii,oi,ai,si,ui,li,hi,ci,fi,di,pi=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Wn,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new qn,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Zn(e,t),e.mixin=function(t){for(var r=Object.keys(t),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new Rn),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new Rn),t=this._localBoundsRect),this._localBounds||(this._localBounds=new qn);var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,t);return this.parent=r,this.transform=e,this._bounds=n,this._bounds.updateID+=this._boundsID-i,o},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,n,i,o,a,s,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new vi),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*kn},set:function(t){this.transform.rotation=t*Tn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){if(this._mask!==t){var e;if(this._mask)(e=this._mask.maskObject||this._mask)._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1);if(this._mask=t,this._mask)0===(e=this._mask.maskObject||this._mask)._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++}},enumerable:!1,configurable:!0}),e}(Or()),vi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return Zn(e,t),e}(pi);function mi(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}pi.prototype.displayObjectUpdateTransform=pi.prototype.updateTransform,function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Kn||(Kn={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Yn||(Yn={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Jn||(Jn={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}($n||($n={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Qn||(Qn={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(ti||(ti={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(ei||(ei={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(ri||(ri={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(ni||(ni={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(ii||(ii={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(oi||(oi={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(ai||(ai={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(si||(si={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(ui||(ui={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(li||(li={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(hi||(hi={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(ci||(ci={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(fi||(fi={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(di||(di={}));var gi=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=Ir.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Zn(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var n=0;n<e.length;n++)this.addChild(e[n]);else{var i=e[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);sn(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];if(e.length>1)for(var n=0;n<e.length;n++)this.removeChild(e[n]);else{var i=e[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,sn(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,sn(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var r,n=t,i=e-n;if(i>0&&i<=e){r=this.children.splice(n,i);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(mi),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var r=e._mask.maskObject||e._mask;r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var n=t.prototype.getLocalBounds.call(this,e);if(!r)for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i];a.visible&&a.updateTransform()}return n},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n])}var i=e&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==ci.NONE));i&&t.batch.flush(),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this._render(t);n=0;for(var o=this.children.length;n<o;n++)this.children[n].render(t);i&&t.batch.flush(),r&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"===typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(pi);gi.prototype.containerUpdateTransform=gi.prototype.updateTransform;var yi={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};pi.mixin(yi);var bi,_i=function(){function t(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(cr.tablet||cr.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},t.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},t.prototype.update=function(){var t=performance.now();if(!(cr.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.left,n=e.top,i=e.width,o=e.height,a=this.renderer,s=a.width,u=a.height,l=a.resolution,h=i/s*l,c=o/u*l,f=this.div;f.style.left=r+"px",f.style.top=n+"px",f.style.width=s+"px",f.style.height=u+"px";for(var d=0;d<this.children.length;d++){var p=this.children[d];if(p.renderId!==this.renderId)p._accessibleActive=!1,sn(this.children,d,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,d--;else{f=p._accessibleDiv;var v=p.hitArea,m=p.worldTransform;p.hitArea?(f.style.left=(m.tx+v.x*m.a)*h+"px",f.style.top=(m.ty+v.y*m.d)*c+"px",f.style.width=v.width*m.a*h+"px",f.style.height=v.height*m.d*c+"px"):(v=p.getBounds(),this.capHitArea(v),f.style.left=v.x*h+"px",f.style.top=v.y*c+"px",f.style.width=v.width*h+"px",f.style.height=v.height*c+"px",f.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(f.title=p.accessibleTitle),f.getAttribute("aria-label")!==p.accessibleHint&&null!==p.accessibleHint&&f.setAttribute("aria-label",p.accessibleHint)),p.accessibleTitle===f.title&&p.tabIndex===f.tabIndex||(f.title=p.accessibleTitle,f.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,r=e.width,n=e.height;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>n&&(t.height=n-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,r=t.target.displayObject,n=e.eventData;e.dispatchEvent(r,"click",n),e.dispatchEvent(r,"pointertap",n),e.dispatchEvent(r,"tap",n)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,r=t.target.displayObject,n=e.eventData;e.dispatchEvent(r,"mouseover",n)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,r=t.target.displayObject,n=e.eventData;e.dispatchEvent(r,"mouseout",n)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();Ir.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(bi||(bi={}));var wi=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=0),void 0===n&&(n=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=n}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),xi=function(){function t(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new wi(null,null,1/0),this.deltaMS=1/Ir.TARGET_FPMS,this.elapsedMS=1/Ir.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,r){return void 0===r&&(r=bi.NORMAL),this._addListener(new wi(t,e,r))},t.prototype.addOnce=function(t,e,r){return void 0===r&&(r=bi.NORMAL),this._addListener(new wi(t,e,r,!0))},t.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Ir.TARGET_FPMS;for(var n=this._head,i=n.next;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Ir.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Ei=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,bi.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?xi.shared:new xi,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}(),Mi=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Cn,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),Si=function(t,e){return Si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Si(t,e)};var Ai=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),ki=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!==(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!==(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!==(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),Ti=function(){function t(){this._tempPoint=new Cn}return t.prototype.recursiveFindHit=function(t,e,r,n,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(n=!1,u=!1)),s=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(n=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,h=l.length-1;h>=0;h--){var c=l[h],f=this.recursiveFindHit(t,c,r,n,s);if(f){if(!c.parent)continue;s=!1,f&&(t.target&&(n=!1),a=!0)}}return i&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),r&&r(t,e,!!a))),a},t.prototype.findHit=function(t,e,r,n){this.recursiveFindHit(t,e,r,n,!1)},t}(),Ri={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};pi.mixin(Ri);var Pi={target:null,data:{global:null}},Ii=function(t){function e(e,r){var n=t.call(this)||this;return r=r||{},n.renderer=e,n.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,n.interactionFrequency=r.interactionFrequency||10,n.mouse=new Mi,n.mouse.identifier=1,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[1]=n.mouse,n.interactionDataPool=[],n.eventData=new Ai,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!("PointerEvent"in self),n.supportsTouchEvents="ontouchstart"in self,n.supportsPointerEvents=!!self.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new Ti,n._tempDisplayObject=new vi,n._eventListenerOptions={capture:!0,passive:!1},n._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return function(t,e){function r(){this.constructor=t}Si(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return Pi.target=null,Pi.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(Pi,e,null,!0),Pi.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(xi.system.add(this.tickerUpdate,this,bi.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(xi.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,r)}else e&&"string"===typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopPropagationHint&&t!==r.stopsPropagatingAt||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.delayDispatchEvent=function(t,e,r){this.delayedEvents.push({displayObject:t,eventString:e,eventData:r})},e.prototype.mapPositionToPoint=function(t,e,r){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var i=1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*i,t.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},e.prototype.processInteractive=function(t,e,r,n){var i=this.search.findHit(t,e,r,n),o=this.delayedEvents;if(!o.length)return i;t.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var u=o[s],l=u.displayObject,h=u.eventString,c=u.eventData;c.stopsPropagatingAt===l&&(c.stopPropagationHint=!0),this.dispatchEvent(l,h,c)}return i},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var n=t.data,i=t.data.identifier;if(r)if(e.trackedPointers[i]||(e.trackedPointers[i]=new ki(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var n=this.normalizeToPointerData(t),i=n.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=n[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,l),"mouse"===s.pointerType||"pen"===s.pointerType){var h=2===s.button;this.emit(h?"rightup"+o:"mouseup"+o,l)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(s.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var n=t.data,i=t.data.identifier,o=e.trackedPointers[i],a="touch"===n.pointerType,s="mouse"===n.pointerType||"pen"===n.pointerType,u=!1;if(s){var l=2===n.button,h=ki.FLAGS,c=l?h.RIGHT_DOWN:h.LEFT_DOWN,f=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,l?"rightup":"mouseup",t),f&&(this.dispatchEvent(e,l?"rightclick":"click",t),u=!0)):f&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),o&&(l?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(s&&!u||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=e.length,n=0;n<r;n++){var i=e[n],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var n=t.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var n=t.data,i=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,a=e.trackedPointers[i];r&&!a&&(a=e.trackedPointers[i]=new ki(i)),void 0!==a&&(r&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),n=this.configureInteractionEventForDOMEvent(this.eventData,e,r);n.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",n)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return 1===r||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new Mi).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var i=t.changedTouches[r];"undefined"===typeof i.button&&(i.button=t.touches.length?1:0),"undefined"===typeof i.buttons&&(i.buttons=t.touches.length?1:0),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),"undefined"===typeof i.twist&&(i.twist=0),"undefined"===typeof i.tangentialPressure&&(i.tangentialPressure=0),"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else if(self.MouseEvent&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof self.PointerEvent))e.push(t);else{var o=t;"undefined"===typeof o.isPrimary&&(o.isPrimary=!0),"undefined"===typeof o.width&&(o.width=1),"undefined"===typeof o.height&&(o.height=1),"undefined"===typeof o.tiltX&&(o.tiltX=0),"undefined"===typeof o.tiltY&&(o.tiltY=0),"undefined"===typeof o.pointerType&&(o.pointerType="mouse"),"undefined"===typeof o.pointerId&&(o.pointerId=1),"undefined"===typeof o.pressure&&(o.pressure=.5),"undefined"===typeof o.twist&&(o.twist=0),"undefined"===typeof o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(Or()),Ni=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,r,n,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this,l=u.name,h=u.items;this._aliasCount++;for(var c=0,f=h.length;c<f;c++)h[c][l](t,e,r,n,i,o,a,s);return h===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Ni.prototype,{dispatch:{value:Ni.prototype.emit},run:{value:Ni.prototype.emit}}),Ir.PREFER_ENV=cr.any?fr.WEBGL:fr.WEBGL2,Ir.STRICT_TEXTURE_CACHE=!1;var Oi=[];function Ci(t,e){if(!t)return null;var r="";if("string"===typeof t){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=Oi.length-1;i>=0;--i){var o=Oi[i];if(o.test&&o.test(t,r))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var Di=function(t,e){return Di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Di(t,e)};function Li(t,e){function r(){this.constructor=t}Di(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Fi=function(){return Fi=Object.assign||function(t){for(var e,r=arguments,n=1,i=arguments.length;n<i;n++)for(var o in e=r[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Fi.apply(this,arguments)};var Bi=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Ni("setRealSize"),this.onUpdate=new Ni("update"),this.onError=new Ni("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,r){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),Ui=function(t){function e(e,r){var n=this,i=r||{},o=i.width,a=i.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(n=t.call(this,o,a)||this).data=e,n}return Li(e,t),e.prototype.upload=function(t,e,r){var n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===Mr.UNPACK);var i=e.realWidth,o=e.realHeight;return r.width===i&&r.height===o?n.texSubImage2D(e.target,0,0,0,i,o,e.format,r.type,this.data):(r.width=i,r.height=o,n.texImage2D(e.target,0,r.internalFormat,i,o,0,e.format,r.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(Bi),Gi={scaleMode:wr.NEAREST,format:gr.RGBA,alphaMode:Mr.NPM},ji=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var n=t.call(this)||this,i=(r=r||{}).alphaMode,o=r.mipmap,a=r.anisotropicLevel,s=r.scaleMode,u=r.width,l=r.height,h=r.wrapMode,c=r.format,f=r.type,d=r.target,p=r.resolution,v=r.resourceOptions;return!e||e instanceof Bi||((e=Ci(e,v)).internal=!0),n.resolution=p||Ir.RESOLUTION,n.width=Math.round((u||0)*n.resolution)/n.resolution,n.height=Math.round((l||0)*n.resolution)/n.resolution,n._mipmap=void 0!==o?o:Ir.MIPMAP_TEXTURES,n.anisotropicLevel=void 0!==a?a:Ir.ANISOTROPIC_LEVEL,n._wrapMode=h||Ir.WRAP_MODE,n._scaleMode=void 0!==s?s:Ir.SCALE_MODE,n.format=c||gr.RGBA,n.type=f||br.UNSIGNED_BYTE,n.target=d||yr.TEXTURE_2D,n.alphaMode=void 0!==i?i:Mr.UNPACK,n.uid=hn(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=u>0&&l>0,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(e),n}return Li(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=on(this.realWidth)&&on(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete vn[this.cacheId],delete pn[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,r,n){void 0===n&&(n=Ir.STRICT_TEXTURE_CACHE);var i="string"===typeof t,o=null;if(i)o=t;else{if(!t._pixiId){var a=r&&r.pixiIdPrefix||"pixiid";t._pixiId=a+"_"+hn()}o=t._pixiId}var s=vn[o];if(i&&n&&!s)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return s||((s=new e(t,r)).cacheId=o,e.addToCache(s,o)),s},e.fromBuffer=function(t,r,n,i){t=t||new Float32Array(r*n*4);var o=new Ui(t,{width:r,height:n}),a=t instanceof Float32Array?br.FLOAT:br.UNSIGNED_BYTE;return new e(o,Object.assign(Gi,i||{width:r,height:n,type:a}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),vn[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),vn[e]=t)},e.removeFromCache=function(t){if("string"===typeof t){var e=vn[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete vn[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete vn[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(Or()),zi=function(t){function e(e,r){var n=this,i=r||{},o=i.width,a=i.height;(n=t.call(this,o,a)||this).items=[],n.itemDirtyIds=[];for(var s=0;s<e;s++){var u=new ji;n.items.push(u),n.itemDirtyIds.push(-2)}return n.length=e,n._load=null,n.baseTexture=null,n}return Li(e,t),e.prototype.initFromArray=function(t,e){for(var r=0;r<this.length;r++)t[r]&&(t[r].castToBaseTexture?this.addBaseTextureAt(t[r].castToBaseTexture(),r):t[r]instanceof Bi?this.addResourceAt(t[r],r):this.addResourceAt(Ci(t[r],e),r))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],r=e.realWidth,n=e.realHeight;return t.resize(r,n),Promise.resolve(t)})),this._load},e}(Bi),Hi=function(t){function e(e,r){var n,i,o=this,a=r||{},s=a.width,u=a.height;return Array.isArray(e)?(n=e,i=e.length):i=e,o=t.call(this,i,{width:s,height:u})||this,n&&o.initFromArray(n,r),o}return Li(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=yr.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,r){var n=this,i=n.length,o=n.itemDirtyIds,a=n.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,e.format,r.type,null);for(var u=0;u<i;u++){var l=a[u];o[u]<l.dirtyId&&(o[u]=l.dirtyId,l.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,u,l.resource.width,l.resource.height,1,e.format,r.type,l.resource.source))}return!0},e}(zi),Vi=function(t){function e(e){var r=this,n=e,i=n.naturalWidth||n.videoWidth||n.width,o=n.naturalHeight||n.videoHeight||n.height;return(r=t.call(this,i,o)||this).source=e,r.noSubImage=!1,r}return Li(e,t),e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=En(e):!1!==r&&(t.crossOrigin="string"===typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,n){var i=t.gl,o=e.realWidth,a=e.realHeight;return n=n||this.source,i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===Mr.UNPACK),this.noSubImage||e.target!==i.TEXTURE_2D||r.width!==o||r.height!==a?(r.width=o,r.height=a,i.texImage2D(e.target,0,r.internalFormat,e.format,r.type,n)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,e.format,r.type,n),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Bi),Wi=function(t){function e(e){return t.call(this,e)||this}return Li(e,t),e.test=function(t){var e=self.OffscreenCanvas;return!!(e&&t instanceof e)||self.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(Vi),qi=function(t){function e(r,n){var i=this,o=n||{},a=o.width,s=o.height,u=o.autoLoad,l=o.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:a,height:s})||this;for(var h=0;h<e.SIDES;h++)i.items[h].target=yr.TEXTURE_CUBE_MAP_POSITIVE_X+h;return i.linkBaseTexture=!1!==l,r&&i.initFromArray(r,n),!1!==u&&i.load(),i}return Li(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=yr.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=yr.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,r,n){for(var i=this.itemDirtyIds,o=0;o<e.SIDES;o++){var a=this.items[o];i[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(t,a,n),i[o]=a.dirtyId):i[o]<-1&&(t.gl.texImage2D(a.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(zi),Xi=function(t){function e(e,r){var n=this;if(r=r||{},!(e instanceof HTMLImageElement)){var i=new Image;Vi.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}return n=t.call(this,e)||this,!e.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=e.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==r.createBitmap?r.createBitmap:Ir.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,n.alphaMode="number"===typeof r.alphaMode?r.alphaMode:null,n.bitmap=null,n._load=null,!1!==r.autoLoad&&n.load(),n}return Li(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,r){var n=e.source;e.url=n.src;var i=function(){e.destroyed||(n.onload=null,n.onerror=null,e.resize(n.width,n.height),e._load=null,e.createBitmap?t(e.process()):t(e))};n.complete&&n.src?i():(n.onload=i,n.onerror=function(t){r(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap,n=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then((function(t){return t.blob()})).then((function(n){return r(n,0,0,e.width,e.height,{premultiplyAlpha:t.alphaMode===Mr.UNPACK?"premultiply":"none"})})).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process},e.prototype.upload=function(e,r,n){if("number"===typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,n,this.bitmap),!this.preserveBitmap){var i=!0,o=r._glTextures;for(var a in o){var s=o[a];if(s!==n&&s.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"===typeof t||t instanceof HTMLImageElement},e}(Vi),Zi=function(t){function e(e,r){var n=this;return r=r||{},(n=t.call(this,document.createElement("canvas"))||this)._width=0,n._height=0,n.svg=e,n.scale=r.scale||1,n._overrideWidth=r.width,n._overrideHeight=r.height,n._resolve=null,n._crossorigin=r.crossorigin,n._load=null,!1!==r.autoLoad&&n.load(),n}return Li(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(r){if(t._resolve=function(){t.resize(t.source.width,t.source.height),r(t)},e.SVG_XML.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;Vi.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(r){t._resolve&&(e.onerror=null,t.onError.emit(r))},e.onload=function(){if(t._resolve){var r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=r*t.scale,o=n*t.scale;(t._overrideWidth||t._overrideHeight)&&(i=t._overrideWidth||t._overrideHeight/n*r,o=t._overrideHeight||t._overrideWidth/r*n),i=Math.round(i),o=Math.round(o);var a=t.source;a.width=i,a.height=o,a._pixiId="canvas_"+hn(),a.getContext("2d").drawImage(e,0,0,r,n,0,0,i,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,r){return"svg"===r||"string"===typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"===typeof t&&e.SVG_XML.test(t)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(Vi),Ki=function(t){function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"===typeof r&&(r=[r]);var a=r[0].src||r[0];Vi.crossOrigin(o,a,n.crossorigin);for(var s=0;s<r.length;++s){var u=document.createElement("source"),l=r[s],h=l.src,c=l.mime,f=(h=h||r[s]).split("?").shift().toLowerCase(),d=f.substr(f.lastIndexOf(".")+1);c=c||e.MIME_TYPES[d]||"video/"+d,u.src=h,u.type=c,o.appendChild(u)}r=o}return(i=t.call(this,r)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==n.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==n.autoLoad&&i.load(),i}return Li(e,t),e.prototype.update=function(e){if(!this.destroyed){var r=xi.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){t.valid?r(t):(t._resolve=r,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(xi.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(xi.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(xi.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(xi.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(xi.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,r){return self.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(Vi),Yi=function(t){function e(e){return t.call(this,e)||this}return Li(e,t),e.test=function(t){return!!self.createImageBitmap&&t instanceof ImageBitmap},e}(Vi);Oi.push(Xi,Yi,Wi,Ki,Zi,Ui,qi,Hi);var Ji={__proto__:null,Resource:Bi,BaseImageResource:Vi,INSTALLED:Oi,autoDetectResource:Ci,AbstractMultiResource:zi,ArrayResource:Hi,BufferResource:Ui,CanvasResource:Wi,CubeResource:qi,ImageResource:Xi,SVGResource:Zi,VideoResource:Ki,ImageBitmapResource:Yi},$i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Li(e,t),e.prototype.upload=function(t,e,r){var n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===Mr.UNPACK);var i=e.realWidth,o=e.realHeight;return r.width===i&&r.height===o?n.texSubImage2D(e.target,0,0,0,i,o,e.format,r.type,this.data):(r.width=i,r.height=o,n.texImage2D(e.target,0,r.internalFormat,i,o,0,e.format,r.type,this.data)),!0},e}(Ui),Qi=function(){function t(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ni("disposeFramebuffer"),this.multisample=Rr.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new ji(null,{scaleMode:wr.NEAREST,resolution:1,mipmap:Er.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new ji(new $i(null,{width:this.width,height:this.height}),{scaleMode:wr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Er.OFF,format:gr.DEPTH_COMPONENT,type:br.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var n=this.colorTextures[r],i=n.resolution;n.setSize(t/i,e/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(t/i,e/i)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),to=function(t){function e(e){var r=this;if("number"===typeof e){var n=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3];e={width:n,height:i,scaleMode:o,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:Rr.NONE,(r=t.call(this,null,e)||this).mipmap=Er.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Qi(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=e.multisample,r.maskStack=[],r.filterStack=[{}],r}return Li(e,t),e.prototype.resize=function(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(ji),eo=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,r){var n=e.width,i=e.height;if(r){var o=t.width/2/n,a=t.height/2/i,s=t.x/n+o,u=t.y/i+a;r=Vn.add(r,Vn.NW),this.x0=s+o*Vn.uX(r),this.y0=u+a*Vn.uY(r),r=Vn.add(r,2),this.x1=s+o*Vn.uX(r),this.y1=u+a*Vn.uY(r),r=Vn.add(r,2),this.x2=s+o*Vn.uX(r),this.y2=u+a*Vn.uY(r),r=Vn.add(r,2),this.x3=s+o*Vn.uX(r),this.y3=u+a*Vn.uY(r)}else this.x0=t.x/n,this.y0=t.y/i,this.x1=(t.x+t.width)/n,this.y1=t.y/i,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/i,this.x3=t.x/n,this.y3=(t.y+t.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),ro=new eo,no=function(t){function e(r,n,i,o,a,s){var u=t.call(this)||this;if(u.noFrame=!1,n||(u.noFrame=!0,n=new Rn(0,0,1,1)),r instanceof e&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=o,u.valid=!1,u._uvs=ro,u.uvMatrix=null,u.orig=i||n,u._rotate=Number(a||0),!0===a)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=s?new Cn(s.x,s.y):new Cn(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=n:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return Li(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture.resource;r&&r.url&&pn[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),n=new e(this.baseTexture,!this.noFrame&&t,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(n._frame=t),n},e.prototype.updateUvs=function(){this._uvs===ro&&(this._uvs=new eo),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r,n){void 0===r&&(r={}),void 0===n&&(n=Ir.STRICT_TEXTURE_CACHE);var i="string"===typeof t,o=null;if(i)o=t;else if(t instanceof ji){if(!t.cacheId){var a=r&&r.pixiIdPrefix||"pixiid";t.cacheId=a+"-"+hn(),ji.addToCache(t,t.cacheId)}o=t.cacheId}else{if(!t._pixiId){a=r&&r.pixiIdPrefix||"pixiid";t._pixiId=a+"_"+hn()}o=t._pixiId}var s=pn[o];if(i&&n&&!s)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return s||t instanceof ji?!s&&t instanceof ji&&(s=new e(t),e.addToCache(s,o)):(r.resolution||(r.resolution=Mn(t)),(s=new e(new ji(t,r))).baseTexture.cacheId=o,ji.addToCache(s.baseTexture,o),e.addToCache(s,o)),s},e.fromURL=function(t,r){var n=Object.assign({autoLoad:!1},null===r||void 0===r?void 0:r.resourceOptions),i=e.from(t,Object.assign({resourceOptions:n},r),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},e.fromBuffer=function(t,r,n,i){return new e(ji.fromBuffer(t,r,n,i))},e.fromLoader=function(t,r,n,i){var o=new ji(t,Object.assign({scaleMode:Ir.SCALE_MODE,resolution:Mn(r)},i)),a=o.resource;a instanceof Xi&&(a.url=r);var s=new e(o);return n||(n=r),ji.addToCache(s.baseTexture,n),e.addToCache(s,n),n!==r&&(ji.addToCache(s.baseTexture,r),e.addToCache(s,r)),s.baseTexture.valid?Promise.resolve(s):new Promise((function(t){s.baseTexture.once("loaded",(function(){return t(s)}))}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),pn[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),pn[e]=t)},e.removeFromCache=function(t){if("string"===typeof t){var e=pn[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete pn[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)pn[t.textureCacheIds[n]]===t&&delete pn[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,n=t.width,i=t.height,o=e+n>this.baseTexture.width,a=r+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",u="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,l="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+l)}this.valid=n&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(Or());function io(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}no.EMPTY=new no(new ji),io(no.EMPTY),io(no.EMPTY.baseTexture),no.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new no(new ji(new Wi(t)))}(),io(no.WHITE),io(no.WHITE.baseTexture);var oo=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}return Li(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,r){void 0===r&&(r=!0);var n=this.baseTexture.resolution,i=Math.round(t*n)/n,o=Math.round(e*n)/n;this.valid=i>0&&o>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(i,o),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){for(var r=arguments,n=[],i=1;i<arguments.length;i++)n[i-1]=r[i];return"number"===typeof t&&(fn("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:n[0],scaleMode:n[1],resolution:n[2]}),new e(new to(t))},e}(no),ao=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e,r){void 0===r&&(r=Rr.NONE);var n=new to(Object.assign({width:t,height:e,resolution:1,multisample:r},this.textureOptions));return new oo(n)},t.prototype.getOptimalTexture=function(t,e,r,n){var i;void 0===r&&(r=1),void 0===n&&(n=Rr.NONE),t=Math.ceil(t*r),e=Math.ceil(e*r),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?i=n>1?-n:-1:(i=((65535&(t=nn(t)))<<16|65535&(e=nn(e)))>>>0,n>1&&(i+=4294967296*n)),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(t,e,n)),o.filterPoolKey=i,o.setResolution(r),o},t.prototype.getFilterTexture=function(t,e,r){var n=this.getOptimalTexture(t.width,t.height,e||t.resolution,r||Rr.NONE);return n.filterFrame=t.filterFrame,n},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var r=this.texturePool[e];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},t.SCREEN_KEY=-1,t}(),so=function(){function t(t,e,r,n,i,o,a){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===n&&(n=br.FLOAT),this.buffer=t,this.size=e,this.normalized=r,this.type=n,this.stride=i,this.start=o,this.instance=a}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,o){return new t(e,r,n,i,o)},t}(),uo=0,lo=function(){function t(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=uo++,this.disposeRunner=new Ni("disposeBuffer")}return t.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Pr.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Pr.ELEMENT_ARRAY_BUFFER:Pr.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),ho={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var co={5126:4,5123:2,5121:1},fo=0,po={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},vo=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=fo++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ni("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,r,n,i,o,a,s){if(void 0===r&&(r=0),void 0===n&&(n=!1),void 0===s&&(s=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof lo||(e instanceof Array&&(e=new Float32Array(e)),e=new lo(e));var u=t.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],e,r,n,i);return this}var h=this.buffers.indexOf(e);return-1===h&&(this.buffers.push(e),h=this.buffers.length-1),this.attributes[t]=new so(h,r,n,i,o,a,s),this.instanced=this.instanced||s,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof lo||(t instanceof Array&&(t=new Uint16Array(t)),t=new lo(t)),t.type=Pr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],n=new lo;for(t in this.attributes){var i=this.attributes[t],o=this.buffers[i.buffer];e.push(o.data),r.push(i.size*co[i.type]/4),i.buffer=0}for(n.data=function(t,e){for(var r=0,n=0,i={},o=0;o<t.length;o++)n+=e[o],r+=t[o].length;var a=new ArrayBuffer(4*r),s=null,u=0;for(o=0;o<t.length;o++){var l=e[o],h=t[o],c=tn(h);i[c]||(i[c]=new ho[c](a)),s=i[c];for(var f=0;f<h.length;f++)s[(f/l|0)*n+u+f%l]=h[f];u+=l}return new Float32Array(a)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new lo(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new so(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Pr.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r,n=new t,i=[],o=[],a=[],s=0;s<e.length;s++){r=e[s];for(var u=0;u<r.buffers.length;u++)o[u]=o[u]||0,o[u]+=r.buffers[u].data.length,a[u]=0}for(s=0;s<r.buffers.length;s++)i[s]=new(po[tn(r.buffers[s].data)])(o[s]),n.buffers[s]=new lo(i[s]);for(s=0;s<e.length;s++){r=e[s];for(u=0;u<r.buffers.length;u++)i[u].set(r.buffers[u].data,a[u]),a[u]+=r.buffers[u].data.length}if(n.attributes=r.attributes,r.indexBuffer){n.indexBuffer=n.buffers[r.buffers.indexOf(r.indexBuffer)],n.indexBuffer.type=Pr.ELEMENT_ARRAY_BUFFER;var l=0,h=0,c=0,f=0;for(s=0;s<r.buffers.length;s++)if(r.buffers[s]!==r.indexBuffer){f=s;break}for(var s in r.attributes){var d=r.attributes[s];(0|d.buffer)===f&&(h+=d.size*co[d.type]/4)}for(s=0;s<e.length;s++){var p=e[s].indexBuffer.data;for(u=0;u<p.length;u++)n.indexBuffer.data[u+c]+=l;l+=e[s].buffers[f].data.length/h,c+=p.length}}return n},t}(),mo=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Li(e,t),e}(vo),go=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new lo(e.vertices),e.uvBuffer=new lo(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Li(e,t),e.prototype.map=function(t,e){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+e.width/t.width,this.uvs[3]=n,this.uvs[4]=r+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=r,this.uvs[7]=n+e.height/t.height,r=e.x,n=e.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+e.width,this.vertices[3]=n,this.vertices[4]=r+e.width,this.vertices[5]=n+e.height,this.vertices[6]=r,this.vertices[7]=n+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(vo),yo=0,bo=function(){function t(t,e,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=yo++,this.static=!!e,this.ubo=!!r,t instanceof lo?(this.buffer=t,this.buffer.type=Pr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new lo(new Float32Array(1)),this.buffer.type=Pr.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new t(r,n)},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,null===r||void 0===r||r,!0)},t}(),_o=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Rr.NONE,this.sourceFrame=new Rn,this.destinationFrame=new Rn,this.bindingSourceFrame=new Rn,this.bindingDestinationFrame=new Rn,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),wo=[new Cn,new Cn,new Cn,new Cn],xo=new Ln,Eo=function(){function t(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new ao,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new mo,this.quadUv=new go,this.tempRect=new Rn,this.activeState={},this.globalUniforms=new bo({outputFrame:new Rn,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(t,e){for(var r,n,i=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new _o,s=this.renderer.renderTexture,u=e[0].resolution,l=e[0].multisample,h=e[0].padding,c=e[0].autoFit,f=null===(r=e[0].legacy)||void 0===r||r,d=1;d<e.length;d++){var p=e[d];u=Math.min(u,p.resolution),l=Math.min(l,p.multisample),h=this.useMaxPadding?Math.max(h,p.padding):h+p.padding,c=c&&p.autoFit,f=f||null===(n=p.legacy)||void 0===n||n}if(1===o.length&&(this.defaultFilterStack[0].renderTexture=s.current),o.push(a),a.resolution=u,a.multisample=l,a.legacy=f,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(h),c){var v=this.tempRect.copyFrom(s.sourceFrame);i.projection.transform&&this.transformAABB(xo.copyFrom(i.projection.transform).invert(),v),a.sourceFrame.fit(v)}this.roundFrame(a.sourceFrame,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u,l),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=a.sourceFrame.width,m.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(s.sourceFrame),a.bindingDestinationFrame.copyFrom(s.destinationFrame),a.transform=i.projection.transform,i.projection.transform=null,s.bind(a.renderTexture,a.sourceFrame,m),i.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;var i=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(i[0]=e.destinationFrame.width,i[1]=e.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=Math.round(i[0]*e.resolution),o[1]=Math.round(i[1]*e.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=e.sourceFrame.width*i[2]-.5*o[2],a[3]=e.sourceFrame.height*i[3]-.5*o[3],e.legacy){var s=n.filterArea;s[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=e.sourceFrame.x,s[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,u.renderTexture,Sr.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var l=e.renderTexture,h=this.getOptimalFilterTexture(l.width,l.height,e.resolution);h.filterFrame=l.filterFrame;var c=0;for(c=0;c<r.length-1;++c){1===c&&e.multisample>1&&((h=this.getOptimalFilterTexture(l.width,l.height,e.resolution)).filterFrame=l.filterFrame),r[c].apply(this,l,h,Sr.CLEAR,e);var f=l;l=h,h=f}r[c].apply(this,l,u.renderTexture,Sr.BLEND,e),c>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(l),this.returnFilterTexture(h)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(t,e){void 0===e&&(e=Sr.CLEAR);var r=this.renderer,n=r.renderTexture,i=r.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,n.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var a=1&i.stateId||this.forceClear;(e===Sr.CLEAR||e===Sr.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(t,e,r,n){var i=this.renderer;i.state.set(t.state),this.bindAndClear(r,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(mr.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(mr.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,n=r.sourceFrame,i=r.destinationFrame,o=e._texture.orig,a=t.set(i.width,0,0,i.height,n.x,n.y),s=e.worldTransform.copyTo(Ln.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(e.anchor.x,e.anchor.y),a},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(t,e,r,n){return void 0===r&&(r=1),void 0===n&&(n=Rr.NONE),this.texturePool.getOptimalTexture(t,e,r,n)},t.prototype.getFilterTexture=function(t,e,r){if("number"===typeof t){var n=t;t=e,e=n}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,r||Rr.NONE);return i.filterFrame=t.filterFrame,i},t.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(t,e){var r=wo[0],n=wo[1],i=wo[2],o=wo[3];r.set(e.left,e.top),n.set(e.left,e.bottom),i.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(r,r),t.apply(n,n),t.apply(i,i),t.apply(o,o);var a=Math.min(r.x,n.x,i.x,o.x),s=Math.min(r.y,n.y,i.y,o.y),u=Math.max(r.x,n.x,i.x,o.x),l=Math.max(r.y,n.y,i.y,o.y);e.x=a,e.y=s,e.width=u-a,e.height=l-s},t.prototype.roundFrame=function(t,e,r,n,i){if(i){var o=i.a,a=i.b,s=i.c,u=i.d;if((Math.abs(a)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}(i=i?xo.copyFrom(i):xo.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.transformAABB(i,t),t.ceil(e),this.transformAABB(i.invert(),t)},t}(),Mo=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),So=function(){function t(t){this.renderer=t,this.emptyRenderer=new Mo(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,n=e-1;n>=0;--n)t[n]=r[n]||null,t[n]&&(t[n]._batchLocation=n)},t.prototype.boundArray=function(t,e,r,n){for(var i=t.elements,o=t.ids,a=t.count,s=0,u=0;u<a;u++){var l=i[u],h=l._batchLocation;if(h>=0&&h<n&&e[h]===l)o[u]=h;else for(;s<n;){var c=e[s];if(!c||c._batchEnabled!==r||c._batchLocation!==s){o[u]=s,l._batchLocation=s,e[s]=l;break}s++}}},t.prototype.destroy=function(){this.renderer=null},t}(),Ao=0,ko=function(){function t(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Ao++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Ao++,this.renderer.runners.contextChange.emit(t)},t.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},t.prototype.createContext=function(t,e){var r;if(Ir.PREFER_ENV>=fr.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(t){t.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var n=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),To=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Rr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Ro=new Rn,Po=function(){function t(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Qi(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rn,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;Ir.PREFER_ENV===fr.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},t.prototype.bind=function(t,e,r){void 0===r&&(r=0);var n=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,i.mipLevel=r),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,i.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var s=e.width>>r,u=e.height>>r,l=s/e.width;this.setViewport(e.x*l,e.y*l,s,u)}else{s=t.width>>r,u=t.height>>r;this.setViewport(0,0,s,u)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(t,e,r,n){var i=this.viewport;t=Math.round(t),e=Math.round(e),r=Math.round(r),n=Math.round(n),i.width===r&&i.height===n&&i.x===t&&i.y===e||(i.x=t,i.y=e,i.width=r,i.height=n,this.gl.viewport(t,e,r,n))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(t,e,r,n,i){void 0===i&&(i=pr.COLOR|pr.DEPTH);var o=this.gl;o.clearColor(t,e,r,n),o.clear(i)},t.prototype.initFramebuffer=function(t){var e=this.gl,r=new To(e.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},t.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height)),r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),r.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var n=t.colorTextures,i=n.length;e.drawBuffers||(i=Math.min(i,1));for(var o=0;o<i;o++){var a=n[o],s=a.parentTextureArray||a;this.renderer.texture.bind(s,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},t.prototype.updateFramebuffer=function(t,e){var r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(t)?(n.msaaBuffer=n.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,n.msaaBuffer)):n.msaaBuffer&&(r.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));for(var a=[],s=0;s<o;s++){var u=i[s],l=u.parentTextureArray||u;this.renderer.texture.bind(l,0),0===s&&n.msaaBuffer||(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+s,u.target,l._glTextures[this.CONTEXT_UID].texture,e),a.push(r.COLOR_ATTACHMENT0+s))}if((a.length>1&&r.drawBuffers(a),t.depthTexture)&&this.writeDepthTexture){var h=t.depthTexture;this.renderer.texture.bind(h,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?n.stencil&&(r.deleteRenderbuffer(n.stencil),n.stencil=null):(n.stencil=n.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n.stencil))},t.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},t.prototype.detectSamples=function(t){var e=this.msaaSamples,r=Rr.NONE;if(t<=1||null===e)return r;for(var n=0;n<e.length;n++)if(e[n]<=t){r=e[n];break}return 1===r&&(r=Rr.NONE),r},t.prototype.blit=function(t,e,r){var n=this,i=n.current,o=n.renderer,a=n.gl,s=n.CONTEXT_UID;if(2===o.context.webGLVersion&&i){var u=i.glFramebuffers[s];if(u){if(!t){if(!u.msaaBuffer)return;var l=i.colorTextures[0];if(!l)return;u.blitFramebuffer||(u.blitFramebuffer=new Qi(i.width,i.height),u.blitFramebuffer.addColorTexture(0,l)),(t=u.blitFramebuffer).colorTextures[0]!==l&&(t.colorTextures[0]=l,t.dirtyId++,t.dirtyFormat++),t.width===i.width&&t.height===i.height||(t.width=i.width,t.height=i.height,t.dirtyId++,t.dirtySize++)}e||((e=Ro).width=i.width,e.height=i.height),r||(r=e);var h=e.width===r.width&&e.height===r.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,a.COLOR_BUFFER_BIT,h?a.NEAREST:a.LINEAR)}}},t.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(t);i>=0&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&n.deleteRenderbuffer(r.msaaBuffer),r.stencil&&n.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},t.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var r=t.width,n=t.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),e.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,e.multisample,i.DEPTH24_STENCIL8,r,n):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,r,n),e.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rn},t.prototype.destroy=function(){this.renderer=null},t}(),Io={5126:4,5123:2,5121:1},No=function(){function t(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;Ir.PREFER_ENV===fr.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(t){return r.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return r.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=function(t,e){return n.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,i,o){return n.drawElementsInstancedANGLE(t,e,r,i,o)},t.drawArraysInstanced=function(t,e,r,i){return n.drawArraysInstancedANGLE(t,e,r,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,n=t.glVertexArrayObjects[this.CONTEXT_UID],i=!1;n||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={},i=!0);var o=n[e.program.id]||this.initGeometryVao(t,e,i);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,r=0;r<t.buffers.length;r++){var n=t.buffers[r];e.update(n)}},t.prototype.checkCompatibility=function(t,e){var r=t.attributes,n=e.attributeData;for(var i in n)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},t.prototype.getSignature=function(t,e){var r=t.attributes,n=e.attributeData,i=["g",t.id];for(var o in r)n[o]&&i.push(o,n[o].location);return i.join("-")},t.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0);var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=e.program;a.glPrograms[i]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var s=this.getSignature(t,a),u=t.glVertexArrayObjects[this.CONTEXT_UID],l=u[s];if(l)return u[a.id]=l,l;var h=t.buffers,c=t.attributes,f={},d={};for(var p in h)f[p]=0,d[p]=0;for(var p in c)!c[p].size&&a.attributeData[p]?c[p].size=a.attributeData[p].size:c[p].size||console.warn("PIXI Geometry attribute '"+p+"' size cannot be determined (likely the bound shader does not have the attribute)"),f[c[p].buffer]+=c[p].size*Io[c[p].type];for(var p in c){var v=c[p],m=v.size;void 0===v.stride&&(f[v.buffer]===m*Io[v.type]?v.stride=0:v.stride=f[v.buffer]),void 0===v.start&&(v.start=d[v.buffer],d[v.buffer]+=m*Io[v.type])}l=n.createVertexArray(),n.bindVertexArray(l);for(var g=0;g<h.length;g++){var y=h[g];o.bind(y),r&&y._glBuffers[i].refCount++}return this.activateVao(t,a),this._activeVao=l,u[a.id]=l,u[s]=l,l},t.prototype.disposeGeometry=function(t,e){var r;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var n=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=t.buffers,a=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(t.disposeRunner.remove(this),n){if(a)for(var s=0;s<o.length;s++){var u=o[s]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0!==u.refCount||e||a.dispose(o[s],e))}if(!e)for(var l in n)if("g"===l[0]){var h=n[l];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t)},t.prototype.activateVao=function(t,e){var r=this.gl,n=this.CONTEXT_UID,i=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&i.bind(t.indexBuffer);var s=null;for(var u in a){var l=a[u],h=o[l.buffer],c=h._glBuffers[n];if(e.attributeData[u]){s!==c&&(i.bind(h),s=c);var f=e.attributeData[u].location;if(r.enableVertexAttribArray(f),r.vertexAttribPointer(f,l.size,l.type||r.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(f,1)}}}},t.prototype.draw=function(t,e,r,n){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(t,e||o.indexBuffer.data.length,s,(r||0)*a,n||1):i.drawElements(t,e||o.indexBuffer.data.length,s,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(t,r,e||o.getSize(),n||1):i.drawArrays(t,r,e||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),Oo=function(){function t(t){void 0===t&&(t=null),this.type=Tr.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ir.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Tr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Co(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Do(t,e){var r=t.getShaderSource(e).split("\n").map((function(t,e){return e+": "+t})),n=t.getShaderInfoLog(e),i=n.split("\n"),o={},a=i.map((function(t){return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(t){return!(!t||o[t])&&(o[t]=!0,!0)})),s=[""];a.forEach((function(t){r[t-1]="%c"+r[t-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var u=r.join("\n");s[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function Lo(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function Fo(t,e){switch(t){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Lo(2*e);case"bvec3":return Lo(3*e);case"bvec4":return Lo(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Bo,Uo={},Go=Uo;function jo(){if(Go===Uo||Go&&Go.isContextLost()){var t=document.createElement("canvas"),e=void 0;Ir.PREFER_ENV>=fr.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),Go=e}return Go}function zo(t,e,r){if("precision"!==t.substring(0,9)){var n=e;return e===kr.HIGH&&r!==kr.HIGH&&(n=kr.MEDIUM),"precision "+n+" float;\n"+t}return r!==kr.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var Ho={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Vo(t){return Ho[t]}var Wo=null,qo={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Xo(t,e){if(!Wo){var r=Object.keys(qo);Wo={};for(var n=0;n<r.length;++n){var i=r[n];Wo[t[i]]=qo[i]}}return Wo[e]}var Zo=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '},codeUbo:function(t){return"\n                var "+t+"_matrix = uv."+t+".toArray(true);\n\n                data[offset] = "+t+"_matrix[0];\n                data[offset+1] = "+t+"_matrix[1];\n                data[offset+2] = "+t+"_matrix[2];\n        \n                data[offset + 4] = "+t+"_matrix[3];\n                data[offset + 5] = "+t+"_matrix[4];\n                data[offset + 6] = "+t+"_matrix[5];\n        \n                data[offset + 8] = "+t+"_matrix[6];\n                data[offset + 9] = "+t+"_matrix[7];\n                data[offset + 10] = "+t+"_matrix[8];\n            "}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'},codeUbo:function(t){return"\n                v = uv."+t+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(t){return"\n                    v = uv."+t+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Ko={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Yo={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Jo,$o=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Qo(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}function ta(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=$o.replace(/%forloop%/gi,Qo(t));if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}var ea=0,ra={},na=function(){function t(e,r,n){void 0===n&&(n="pixi-shader"),this.id=ea++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),ra[n]?(ra[n]++,n+="-"+ra[n]):ra[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=zo(this.vertexSrc,Ir.PRECISION_VERTEX,kr.HIGH),this.fragmentSrc=zo(this.fragmentSrc,Ir.PRECISION_FRAGMENT,function(){if(!Bo){Bo=kr.MEDIUM;var t=jo();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Bo=e.precision?kr.HIGH:kr.MEDIUM}}return Bo}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,o=dn[i];return o||(dn[i]=o=new t(e,r,n)),o},t}(),ia=function(){function t(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof bo?e:new bo(e):new bo({})}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var n=e.uniforms[r];if(n.group&&this.checkUniformExists(t,n))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){return new t(na.from(e,r),n)},t}(),oa=function(){function t(){this.data=0,this.blendMode=vr.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==vr.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),aa=function(t){function e(r,n,i){var o=this,a=na.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return(o=t.call(this,a,i)||this).padding=0,o.resolution=Ir.FILTER_RESOLUTION,o.multisample=Ir.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new oa,o}return Li(e,t),e.prototype.apply=function(t,e,r,n,i){t.applyFilter(this,e,r,n)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(ia),sa=new Ln,ua=function(){function t(t,e){this._texture=t,this.mapCoord=new Ln,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"===typeof e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,n=0;n<t.length;n+=2){var i=t[n],o=t[n+1];e[n]=i*r.a+o*r.c+r.tx,e[n+1]=i*r.b+o*r.d+r.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=e.orig,i=e.trim;i&&(sa.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(sa));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(e._frame.x+s+u)/o.width,a[1]=(e._frame.y+s+u)/o.height,a[2]=(e._frame.x+e._frame.width-s+u)/o.width,a[3]=(e._frame.y+e._frame.height-s+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),la=function(t){function e(e,r,n){var i=this,o=null;return"string"!==typeof e&&void 0===r&&void 0===n&&(o=e,e=void 0,r=void 0,n=void 0),(i=t.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",n)||this).maskSprite=o,i.maskMatrix=new Ln,i}return Li(e,t),Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(t,e,r,n){var i=this._maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new ua(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,r,n))},e}(aa),ha=function(){function t(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},t.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var n=this.maskDataPool.pop()||new Oo;n.pooled=!0,n.maskObject=e,r=n}var i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r.autoDetect&&this.detect(r),r._target=t,r.type!==Tr.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case Tr.SCISSOR:this.renderer.scissor.push(r);break;case Tr.STENCIL:this.renderer.stencil.push(r);break;case Tr.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r)}r.type===Tr.SPRITE&&this.maskStack.push(r)},t.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case Tr.SCISSOR:this.renderer.scissor.pop();break;case Tr.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case Tr.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var r=this.maskStack[this.maskStack.length-1];r.type===Tr.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},t.prototype.detect=function(t){t.maskObject.isSprite?t.type=Tr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Tr.SCISSOR:t.type=Tr.STENCIL},t.prototype.pushSpriteMask=function(t){var e,r,n=t.maskObject,i=t._target,o=t._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex])||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new la]);var a,s,u=this.renderer,l=u.renderTexture;if(l.current){var h=l.current;a=t.resolution||h.resolution,s=null!==(e=t.multisample)&&void 0!==e?e:h.multisample}else a=t.resolution||u.resolution,s=null!==(r=t.multisample)&&void 0!==r?r:u.multisample;o[0].resolution=a,o[0].multisample=s,o[0].maskSprite=n;var c=i.filterArea;i.filterArea=n.getBounds(!0),u.filter.push(i,o),i.filterArea=c,t._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),ca=function(){function t(t){this.renderer=t,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var n=this.getStackLength();n!==r&&(0===n?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),fa=new Ln,da=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return Li(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.calcScissorRect=function(t){if(!t._scissorRectLocal){var e=t._scissorRect,r=t.maskObject,n=this.renderer,i=n.renderTexture;r.renderable=!0;var o=r.getBounds();this.roundFrameToPixels(o,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),r.renderable=!1,e&&o.fit(e),t._scissorRectLocal=o}},e.isMatrixRotated=function(t){if(!t)return!1;var e=t.a,r=t.b,n=t.c,i=t.d;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)},e.prototype.testScissor=function(t){var r=t.maskObject;if(!r.isFastRect||!r.isFastRect())return!1;if(e.isMatrixRotated(r.worldTransform))return!1;if(e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);var n=t._scissorRectLocal;return n.width>0&&n.height>0},e.prototype.roundFrameToPixels=function(t,r,n,i,o){e.isMatrixRotated(o)||((o=o?fa.copyFrom(o):fa.identity()).translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(o,t),t.fit(i),t.x=Math.round(t.x*r),t.y=Math.round(t.y*r),t.width=Math.round(t.width*r),t.height=Math.round(t.height*r))},e.prototype.push=function(t){t._scissorRectLocal||this.calcScissorRect(t);var e=this.renderer.gl;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t,e=this.maskStack[this.maskStack.length-1]._scissorRect;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)},e}(ca),pa=function(t){function e(e){var r=t.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return Li(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,r=this.renderer.gl,n=t._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),t._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,n,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?e.disable(e.STENCIL_TEST):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e}(ca),va=function(){function t(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ln,this.transform=null}return t.prototype.update=function(t,e,r,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(t,e,r,n){var i=this.projectionMatrix,o=n?-1:1;i.identity(),i.a=1/e.width*2,i.d=o*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-o-e.y*i.d},t.prototype.setTransform=function(t){},t.prototype.destroy=function(){this.renderer=null},t}(),ma=new Rn,ga=new Rn,ya=function(){function t(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rn,this.destinationFrame=new Rn,this.viewportFrame=new Rn}return t.prototype.bind=function(t,e,r){void 0===t&&(t=null);var n,i,o,a=this.renderer;this.current=t,t?(o=(n=t.baseTexture).resolution,e||(ma.width=t.frame.width,ma.height=t.frame.height,e=ma),r||(ga.x=t.frame.x,ga.y=t.frame.y,ga.width=e.width,ga.height=e.height,r=ga),i=n.framebuffer):(o=a.resolution,e||(ma.width=a.screen.width,ma.height=a.screen.height,e=ma),r||((r=ma).width=e.width,r.height=e.height));var s=this.viewportFrame;s.x=r.x*o,s.y=r.y*o,s.width=r.width*o,s.height=r.height*o,t||(s.y=a.view.height-(s.y+s.height)),s.ceil(),this.renderer.framebuffer.bind(i,s),this.renderer.projection.update(r,e,o,!i),t?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},t.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var r=this.destinationFrame,n=this.current?this.current.baseTexture:this.renderer.screen,i=r.width!==n.width||r.height!==n.height;if(i){var o=this.viewportFrame,a=o.x,s=o.y,u=o.width,l=o.height;a=Math.round(a),s=Math.round(s),u=Math.round(u),l=Math.round(l),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,s,u,l)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),i&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function ba(t,e,r,n,i){r.buffer.update(i)}var _a={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},wa={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function xa(t){for(var e=t.map((function(t){return{data:t,offset:0,dataLen:0,dirty:0}})),r=0,n=0,i=0,o=0;o<e.length;o++){var a=e[o];if(r=wa[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=16*Math.ceil(i/16),a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return{uboElements:e,size:i=16*Math.ceil(i/16)}}function Ea(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort((function(t,e){return t.index-e.index})),r}function Ma(t,e){if(!t.autoManage)return{size:0,syncFunc:ba};for(var r=xa(Ea(t.uniforms,e)),n=r.uboElements,i=r.size,o=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<n.length;a++){for(var s=n[a],u=t.uniforms[s.data.name],l=s.data.name,h=!1,c=0;c<Zo.length;c++){var f=Zo[c];if(f.codeUbo&&f.test(s.data,u)){o.push("offset = "+s.offset/4+";",Zo[c].codeUbo(s.data.name,u)),h=!0;break}}if(!h)if(s.data.size>1){var d=Vo(s.data.type),p=Math.max(wa[s.data.type]/16,1),v=d/p,m=(4-v%4)%4;o.push("\n                cv = ud."+l+".value;\n                v = uv."+l+";\n                offset = "+s.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+s.data.size*p+"; i++)\n                {\n                    for(var j = 0; j < "+v+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+m+";\n                }\n\n                ")}else{var g=_a[s.data.type];o.push("\n                cv = ud."+l+".value;\n                v = uv."+l+";\n                offset = "+s.offset/4+";\n                "+g+";\n                ")}}return o.push("\n       renderer.buffer.update(buffer);\n    "),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join("\n"))}}var Sa=function(){},Aa=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function ka(t,e){var r=Co(t,t.VERTEX_SHADER,e.vertexSrc),n=Co(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||function(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||Do(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||Do(t,n),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}(t,i,r,n),e.attributeData=function(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=e.getActiveAttrib(t,i);if(0!==o.name.indexOf("gl_")){var a=Xo(e,o.type),s={type:a,name:o.name,size:Vo(a),location:e.getAttribLocation(t,o.name)};r[o.name]=s}}return r}(i,t),e.uniformData=function(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=e.getActiveUniform(t,i),a=o.name.replace(/\[.*?\]$/,""),s=!!o.name.match(/\[.*?\]$/),u=Xo(e,o.type);r[a]={name:a,index:i,type:u,size:o.size,isArray:s,value:Fo(u,o.size)}}return r}(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var o=Object.keys(e.attributeData);o.sort((function(t,e){return t>e?1:-1}));for(var a=0;a<o.length;a++)e.attributeData[o[a]].location=a,t.bindAttribLocation(i,a,o[a]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var s={};for(var a in e.uniformData){var u=e.uniformData[a];s[a]={location:t.getUniformLocation(i,a),value:Fo(u.type,u.size)}}return new Aa(i,s)}var Ta=0,Ra={textureCount:0,uboCount:0},Pa=function(){function t(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Ta++}return t.prototype.systemCheck=function(){if(!function(){if("boolean"===typeof Jo)return Jo;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Jo=!0===t({a:"b"},"a","b")}catch(e){Jo=!1}return Jo}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(t){this.gl=t,this.reset()},t.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),e||(Ra.textureCount=0,Ra.uboCount=0,this.syncUniformGroup(t.uniformGroup,Ra)),n},t.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},t.prototype.syncUniformGroup=function(t,e){var r=this.getGlProgram();t.static&&t.dirtyId===r.uniformDirtyGroups[t.id]||(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},t.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},t.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,e){var r,n=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var i in t.uniforms){var o=e[i];if(o){for(var a=t.uniforms[i],s=!1,u=0;u<Zo.length;u++)if(Zo[u].test(o,a)){n.push(Zo[u].code(i,a)),s=!0;break}if(!s){var l=(1===o.size?Ko:Yo)[o.type].replace("location",'ud["'+i+'"].location');n.push('\n            cu = ud["'+i+'"];\n            cv = cu.value;\n            v = uv["'+i+'"];\n            '+l+";")}}else(null===(r=t.uniforms[i])||void 0===r?void 0:r.group)&&(t.uniforms[i].ubo?n.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+i+", '"+i+"');\n                    "):n.push("\n                        renderer.shader.syncUniformGroup(uv."+i+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(t,e){var r=this.getGlProgram();if(!t.static||0!==t.dirtyId||!r.uniformGroups[t.id]){t.dirtyId=0;var n=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,e);t.buffer.update(),n(r.uniformData,t.uniforms,this.renderer,Ra,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(t,e,r){var n=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var i=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,n.uniformBlockBinding(e.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=Ma(t,this.shader.program.uniformData)),t.autoManage){var s=new Float32Array(a.size/4);t.buffer.update(s)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},t.prototype.getSignature=function(t,e,r){var n=t.uniforms,i=[r+"-"];for(var o in n)i.push(o),e[o]&&i.push(e[o].type);return i.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(t){var e=this.gl,r=t.program,n=ka(e,r);return r.glPrograms[this.renderer.CONTEXT_UID]=n,n},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();var Ia=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=vr.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new oa,this.defaultState.blend=!0}return t.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[vr.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.ADD]=[t.ONE,t.ONE],e[vr.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.NONE]=[0,0],e[vr.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[vr.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[vr.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[vr.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[vr.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[vr.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[vr.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[vr.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[vr.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[vr.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[vr.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},t.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},t.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(t){this.gl.depthMask(t)},t.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},t.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},t.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},t.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),Na=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Ir.GC_MAX_IDLE,this.checkCountMax=Ir.GC_MAX_CHECK_COUNT,this.mode=Ir.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Ar.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,n=0;n<e.length;n++){var i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){var o=0;for(n=0;n<e.length;n++)null!==e[n]&&(e[o++]=e[n]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},t.prototype.destroy=function(){this.renderer=null},t}();var Oa=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=br.UNSIGNED_BYTE,this.internalFormat=gr.RGBA,this.samplerType=0},Ca=function(){function t(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ji,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(t){var e,r,n,i,o,a,s,u,l,h,c,f,d,p,v,m,g,y,b,_,w,x,E;return"WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext?((e={})[br.UNSIGNED_BYTE]=((r={})[gr.RGBA]=t.RGBA8,r[gr.RGB]=t.RGB8,r[gr.RG]=t.RG8,r[gr.RED]=t.R8,r[gr.RGBA_INTEGER]=t.RGBA8UI,r[gr.RGB_INTEGER]=t.RGB8UI,r[gr.RG_INTEGER]=t.RG8UI,r[gr.RED_INTEGER]=t.R8UI,r[gr.ALPHA]=t.ALPHA,r[gr.LUMINANCE]=t.LUMINANCE,r[gr.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[br.BYTE]=((n={})[gr.RGBA]=t.RGBA8_SNORM,n[gr.RGB]=t.RGB8_SNORM,n[gr.RG]=t.RG8_SNORM,n[gr.RED]=t.R8_SNORM,n[gr.RGBA_INTEGER]=t.RGBA8I,n[gr.RGB_INTEGER]=t.RGB8I,n[gr.RG_INTEGER]=t.RG8I,n[gr.RED_INTEGER]=t.R8I,n),e[br.UNSIGNED_SHORT]=((i={})[gr.RGBA_INTEGER]=t.RGBA16UI,i[gr.RGB_INTEGER]=t.RGB16UI,i[gr.RG_INTEGER]=t.RG16UI,i[gr.RED_INTEGER]=t.R16UI,i[gr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[br.SHORT]=((o={})[gr.RGBA_INTEGER]=t.RGBA16I,o[gr.RGB_INTEGER]=t.RGB16I,o[gr.RG_INTEGER]=t.RG16I,o[gr.RED_INTEGER]=t.R16I,o),e[br.UNSIGNED_INT]=((a={})[gr.RGBA_INTEGER]=t.RGBA32UI,a[gr.RGB_INTEGER]=t.RGB32UI,a[gr.RG_INTEGER]=t.RG32UI,a[gr.RED_INTEGER]=t.R32UI,a[gr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,a),e[br.INT]=((s={})[gr.RGBA_INTEGER]=t.RGBA32I,s[gr.RGB_INTEGER]=t.RGB32I,s[gr.RG_INTEGER]=t.RG32I,s[gr.RED_INTEGER]=t.R32I,s),e[br.FLOAT]=((u={})[gr.RGBA]=t.RGBA32F,u[gr.RGB]=t.RGB32F,u[gr.RG]=t.RG32F,u[gr.RED]=t.R32F,u[gr.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,u),e[br.HALF_FLOAT]=((l={})[gr.RGBA]=t.RGBA16F,l[gr.RGB]=t.RGB16F,l[gr.RG]=t.RG16F,l[gr.RED]=t.R16F,l),e[br.UNSIGNED_SHORT_5_6_5]=((h={})[gr.RGB]=t.RGB565,h),e[br.UNSIGNED_SHORT_4_4_4_4]=((c={})[gr.RGBA]=t.RGBA4,c),e[br.UNSIGNED_SHORT_5_5_5_1]=((f={})[gr.RGBA]=t.RGB5_A1,f),e[br.UNSIGNED_INT_2_10_10_10_REV]=((d={})[gr.RGBA]=t.RGB10_A2,d[gr.RGBA_INTEGER]=t.RGB10_A2UI,d),e[br.UNSIGNED_INT_10F_11F_11F_REV]=((p={})[gr.RGB]=t.R11F_G11F_B10F,p),e[br.UNSIGNED_INT_5_9_9_9_REV]=((v={})[gr.RGB]=t.RGB9_E5,v),e[br.UNSIGNED_INT_24_8]=((m={})[gr.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,m),e[br.FLOAT_32_UNSIGNED_INT_24_8_REV]=((g={})[gr.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,g),E=e):((y={})[br.UNSIGNED_BYTE]=((b={})[gr.RGBA]=t.RGBA,b[gr.RGB]=t.RGB,b[gr.ALPHA]=t.ALPHA,b[gr.LUMINANCE]=t.LUMINANCE,b[gr.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,b),y[br.UNSIGNED_SHORT_5_6_5]=((_={})[gr.RGB]=t.RGB,_),y[br.UNSIGNED_SHORT_4_4_4_4]=((w={})[gr.RGBA]=t.RGBA,w),y[br.UNSIGNED_SHORT_5_5_5_1]=((x={})[gr.RGBA]=t.RGBA,x),E=y),E}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var n=new Oa(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Oa(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},t.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if((t=null===t||void 0===t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var n=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,n.texture)),n.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},t.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<r.length;n++)r[n]===this.unknownTexture&&this.bind(null,n)}for(n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(t.target,this.emptyTextures[t.target].texture),r[n]=null)},t.prototype.ensureSamplerType=function(t){var e=this,r=e.boundTextures,n=e.hasIntegerTextures,i=e.CONTEXT_UID;if(n)for(var o=t-1;o>=0;--o){var a=r[o];if(a)a._glTextures[i].samplerType!==_r.FLOAT&&this.renderer.texture.unbind(a)}},t.prototype.initTexture=function(t){var e=new Oa(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(t,e){var r,n;e.internalFormat=null!==(n=null===(r=this.internalFormats[t.type])||void 0===r?void 0:r[t.format])&&void 0!==n?n:t.format,2===this.webGLVersion&&t.type===br.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type},t.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e))e.samplerType!==_r.FLOAT&&(this.hasIntegerTextures=!0);else{var n=t.realWidth,i=t.realHeight,o=r.gl;(e.width!==n||e.height!==i||e.dirtyId<0)&&(e.width=n,e.height=i,o.texImage2D(t.target,0,e.internalFormat,n,i,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},t.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var n=this.managedTextures.indexOf(t);-1!==n&&sn(this.managedTextures,n,1)}},t.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==Er.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=xr.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},t.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&t.mipmap!==Er.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===wr.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&t.anisotropicLevel>0&&t.scaleMode===wr.LINEAR){var i=Math.min(t.anisotropicLevel,r.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,n.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===wr.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===wr.LINEAR?r.LINEAR:r.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),Da={__proto__:null,FilterSystem:Eo,BatchSystem:So,ContextSystem:ko,FramebufferSystem:Po,GeometrySystem:No,MaskSystem:ha,ScissorSystem:da,StencilSystem:pa,ProjectionSystem:va,RenderTextureSystem:ya,ShaderSystem:Pa,StateSystem:Ia,TextureGCSystem:Na,TextureSystem:Ca},La=new Ln,Fa=function(t){function e(e,r){void 0===e&&(e=dr.UNKNOWN);var n=t.call(this)||this;return r=Object.assign({},Ir.RENDER_OPTIONS,r),n.options=r,n.type=e,n.screen=new Rn(0,0,r.width,r.height),n.view=r.view||document.createElement("canvas"),n.resolution=r.resolution||Ir.RESOLUTION,n.useContextAlpha=r.useContextAlpha,n.autoDensity=!!r.autoDensity,n.preserveDrawingBuffer=r.preserveDrawingBuffer,n.clearBeforeRender=r.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,1],n._backgroundColorString="#000000",n.backgroundColor=r.backgroundColor||n._backgroundColor,n.backgroundAlpha=r.backgroundAlpha,void 0!==r.transparent&&(fn("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),n.useContextAlpha=r.transparent,n.backgroundAlpha=r.transparent?0:1),n._lastObjectRendered=null,n.plugins={},n}return Li(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(e*this.resolution);var r=this.view.width/this.resolution,n=this.view.height/this.resolution;this.screen.width=r,this.screen.height=n,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=n+"px"),this.emit("resize",r,n)},e.prototype.generateTexture=function(t,e,r,n){void 0===e&&(e={}),"number"===typeof e&&(fn("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),e={scaleMode:e,resolution:r,region:n});var i=e.region,o=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&(r[n[i]]=t[n[i]])}return r}(e,["region"]);0===(n=i||t.getLocalBounds(null,!0)).width&&(n.width=1),0===n.height&&(n.height=1);var a=oo.create(Fi({width:n.width,height:n.height},o));return La.tx=-n.x,La.ty=-n.y,this.render(t,{renderTexture:a,clear:!1,transform:La,skipUpdateTransform:!!t.parent}),a},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=dr.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Wr(t),Vr(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(Or()),Ba=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Ua=function(){function t(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(t){var e=this.gl,r=this.CONTEXT_UID,n=t._glBuffers[r]||this.createGLBuffer(t);e.bindBuffer(t.type,n.buffer)},t.prototype.bindBufferBase=function(t,e){var r=this.gl,n=this.CONTEXT_UID;if(this.boundBufferBases[e]!==t){var i=t._glBuffers[n]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,i.buffer)}},t.prototype.bindBufferRange=function(t,e,r){var n=this.gl,i=this.CONTEXT_UID;r=r||0;var o=t._glBuffers[i]||this.createGLBuffer(t);n.bindBufferRange(n.UNIFORM_BUFFER,e||0,o.buffer,256*r,256)},t.prototype.update=function(t){var e=this.gl,r=this.CONTEXT_UID,n=t._glBuffers[r];if(t._updateID!==n.updateID)if(n.updateID=t._updateID,e.bindBuffer(t.type,n.buffer),n.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{var i=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,i)}},t.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],n=this.gl;t.disposeRunner.remove(this),r&&(e||n.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],t)},t.prototype.createGLBuffer=function(t){var e=this.CONTEXT_UID,r=this.gl;return t._glBuffers[e]=new Ba(r.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]},t}(),Ga=function(t){function e(r){var n=t.call(this,dr.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Ni("destroy"),contextChange:new Ni("contextChange"),reset:new Ni("reset"),update:new Ni("update"),postrender:new Ni("postrender"),prerender:new Ni("prerender"),resize:new Ni("resize")},n.runners.contextChange.add(n),n.globalUniforms=new bo({projectionMatrix:new Ln},!0),n.addSystem(ha,"mask").addSystem(ko,"context").addSystem(Ia,"state").addSystem(Pa,"shader").addSystem(Ca,"texture").addSystem(Ua,"buffer").addSystem(No,"geometry").addSystem(Po,"framebuffer").addSystem(da,"scissor").addSystem(pa,"stencil").addSystem(va,"projection").addSystem(Na,"textureGC").addSystem(Eo,"filter").addSystem(ya,"renderTexture").addSystem(So,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&"notMultiplied"!==n.useContextAlpha,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,jr(2===n.context.webGLVersion?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return Li(e,t),e.create=function(t){if(zr())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var t,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=Rr.HIGH?this.multisample=Rr.HIGH:t>=Rr.MEDIUM?this.multisample=Rr.MEDIUM:t>=Rr.LOW?this.multisample=Rr.LOW:this.multisample=Rr.NONE},e.prototype.addSystem=function(t,e){var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var n in this[e]=r,this.runners)this.runners[n].add(r);return this},e.prototype.render=function(t,e){var r,n,i,o;if(e&&(e instanceof oo?(fn("6.0.0","Renderer#render arguments changed, use options instead."),r=e,n=arguments[2],i=arguments[3],o=arguments[4]):(r=e.renderTexture,n=e.clear,i=e.transform,o=e.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(r||(this._lastObjectRendered=t),!o){var a=t.enableTempParent();t.updateTransform(),t.disableTempParent(a)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(e,r,n,i){void 0===r&&(r={});var o=t.prototype.generateTexture.call(this,e,r,n,i);return this.framebuffer.blit(),o},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return fn("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(Fa);function ja(t){return Ga.create(t)}var za="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Ha="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Va=function(){function t(t){fn("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),Wa=function(){this.texArray=null,this.blend=0,this.type=mr.TRIANGLES,this.start=0,this.size=0,this.data=null},qa=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),Xa=function(){function t(t){"number"===typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),Za=function(t){function e(e){var r=t.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=oa.for2d(),r.size=4*Ir.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return Li(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;Ir.PREFER_ENV===fr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Ir.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=ta(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,r=e._textureArrayPool,n=this.size/4,i=Math.floor(n/this.MAX_TEXTURES)+1;t.length<n;)t.push(new Wa);for(;r.length<i;)r.push(new qa);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,r=this.MAX_TEXTURES,n=e._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++ji._globalBatch,u=0,l=n[0],h=0;i.copyBoundTextures(o,r);for(var c=0;c<this._bufferSize;++c){var f=t[c];t[c]=null,f._batchEnabled!==s&&(l.count>=r&&(i.boundArray(l,o,s,r),this.buildDrawCalls(l,h,c),h=c,l=n[++u],++s),f._batchEnabled=s,f.touched=a,l.elements[l.count++]=f)}l.count>0&&(i.boundArray(l,o,s,r),this.buildDrawCalls(l,h,this._bufferSize),++u,++s);for(c=0;c<o.length;c++)o[c]=null;ji._globalBatch=s},e.prototype.buildDrawCalls=function(t,r,n){var i=this,o=i._bufferedElements,a=i._attributeBuffer,s=i._indexBuffer,u=i.vertexSize,l=e._drawCallPool,h=this._dcIndex,c=this._aIndex,f=this._iIndex,d=l[h];d.start=this._iIndex,d.texArray=t;for(var p=r;p<n;++p){var v=o[p],m=v._texture.baseTexture,g=Zr[m.alphaMode?1:0][v.blendMode];o[p]=null,r<p&&d.blend!==g&&(d.size=f-d.start,r=p,(d=l[++h]).texArray=t,d.start=f),this.packInterleavedGeometry(v,a,s,c,f),c+=v.vertexData.length/2*u,f+=v.indices.length,d.blend=g}r<n&&(d.size=f-d.start,++h),this._dcIndex=h,this._aIndex=c,this._iIndex=f},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,r=t._attributeBuffer,n=t._indexBuffer;Ir.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,r=this.renderer,n=r.gl,i=r.state,o=e._drawCallPool,a=null,s=0;s<t;s++){var u=o[s],l=u.texArray,h=u.type,c=u.size,f=u.start,d=u.blend;a!==l&&(a=l,this.bindAndClearTexArray(l)),this.state.blendMode=d,i.set(this.state),n.drawElements(h,c,n.UNSIGNED_SHORT,2*f)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Ir.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=nn(Math.ceil(t/8)),r=an(e),n=8*e;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Xa(n*this.vertexSize*4)),i},e.prototype.getIndexBuffer=function(t){var e=nn(Math.ceil(t/12)),r=an(e),n=12*e;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i},e.prototype.packInterleavedGeometry=function(t,e,r,n,i){for(var o=e.uint32View,a=e.float32View,s=n/this.vertexSize,u=t.uvs,l=t.indices,h=t.vertexData,c=t._texture.baseTexture._batchLocation,f=Math.min(t.worldAlpha,1),d=f<1&&t._texture.baseTexture.alphaMode?Jr(t._tintRGB,f):t._tintRGB+(255*f<<24),p=0;p<h.length;p+=2)a[n++]=h[p],a[n++]=h[p+1],a[n++]=u[p],a[n++]=u[p+1],o[n++]=d,a[n++]=c;for(p=0;p<l.length;p++)r[i++]=s+l[p]},e._drawCallPool=[],e._textureArrayPool=[],e}(Mo),Ka=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=bo.from({uSamplers:e},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new na(this.vertexSrc,n)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ln,default:this.defaultGroupCache[t]};return new ia(this.programCache[t],i)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),Ya=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r._buffer=new lo(null,e,!1),r._indexBuffer=new lo(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,br.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,br.FLOAT).addAttribute("aColor",r._buffer,4,!0,br.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,br.FLOAT).addIndex(r._indexBuffer),r}return Li(e,t),e}(vo),Ja="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",$a="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Qa=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:Ja,fragment:$a,geometryClass:Ya,vertexSize:6},t),r=e.vertex,n=e.fragment,i=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var a=t.call(this,e)||this;return a.shaderGenerator=new Ka(r,n),a.geometryClass=o,a.vertexSize=i,a}return Li(e,t),e}(Za)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Ja},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return $a},enumerable:!1,configurable:!0}),t}(),ts=Qa.create(),es={},rs=function(t){Object.defineProperty(es,t,{get:function(){return fn("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),Ji[t]}})};for(var ns in Ji)rs(ns);var is={},os=function(t){Object.defineProperty(is,t,{get:function(){return fn("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Da[t]}})};for(var ns in Da)os(ns);var as=function(){function t(e){var r=this;this.stage=new gi,e=Object.assign({forceCanvas:!1},e),this.renderer=ja(e),t._plugins.forEach((function(t){t.init.call(r,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(n)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),ss=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){self.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,r;if(e.cancelResize(),e._resizeTo===self)t=self.innerWidth,r=self.innerHeight;else{var n=e._resizeTo;t=n.clientWidth,r=n.clientHeight}e.renderer.resize(t,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();as.registerPlugin(ss);var us=new Rn,ls=function(){function t(t){this.renderer=t}return t.prototype.image=function(t,e,r){var n=new Image;return n.src=this.base64(t,e,r),n},t.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},t.prototype.canvas=function(e){var r,n,i,o=this.renderer,a=!1,s=!1;e&&(e instanceof oo?i=e:(i=this.renderer.generateTexture(e),s=!0)),i?(r=i.baseTexture.resolution,n=i.frame,a=!1,o.renderTexture.bind(i)):(r=this.renderer.resolution,a=!0,(n=us).width=this.renderer.width,n.height=this.renderer.height,o.renderTexture.bind(null));var u=Math.floor(n.width*r+1e-4),l=Math.floor(n.height*r+1e-4),h=new yn(u,l,1),c=new Uint8Array(4*u*l),f=o.gl;f.readPixels(n.x*r,n.y*r,u,l,f.RGBA,f.UNSIGNED_BYTE,c);var d=h.context.getImageData(0,0,u,l);if(t.arrayPostDivide(c,d.data),h.context.putImageData(d,0,0),a){var p=new yn(h.width,h.height,1);p.context.scale(1,-1),p.context.drawImage(h.canvas,0,-l),h.destroy(),h=p}return s&&i.destroy(!0),h.canvas},t.prototype.pixels=function(e){var r,n,i,o=this.renderer,a=!1;e&&(e instanceof oo?i=e:(i=this.renderer.generateTexture(e),a=!0)),i?(r=i.baseTexture.resolution,n=i.frame,o.renderTexture.bind(i)):(r=o.resolution,(n=us).width=o.width,n.height=o.height,o.renderTexture.bind(null));var s=n.width*r,u=n.height*r,l=new Uint8Array(4*s*u),h=o.gl;return h.readPixels(n.x*r,n.y*r,s,u,h.RGBA,h.UNSIGNED_BYTE,l),a&&i.destroy(!0),t.arrayPostDivide(l,l),l},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var n=e[r+3]=t[r+3];0!==n?(e[r]=Math.round(Math.min(255*t[r]/n,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/n,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/n,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},t}(),hs=function(){function t(t,e,r){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},t}();function cs(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var fs=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r},t.prototype.has=function(t){if(!(t instanceof hs))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},t.prototype.dispatch=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var n=this._head;if(!n)return!1;for(;n;)n._once&&this.detach(n),n._fn.apply(n._thisArg,e),n=n._next;return!0},t.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!==typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return cs(this,new hs(t,!1,e))},t.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!==typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return cs(this,new hs(t,!0,e))},t.prototype.detach=function(t){if(!(t instanceof hs))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},t.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},t}();function ds(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,(function(t,e,n){e&&(i[r.q.name][e]=n)})),i}var ps=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),vs=null;function ms(){}function gs(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function ys(t){return t.toString().replace("object ","")}var bs=function(){function t(e,r,n){if(this._dequeue=ms,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!==typeof e||"string"!==typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=ms,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new fs,this.onProgress=new fs,this.onComplete=new fs,this.onAfterMiddleware=new fs}return t.setExtensionLoadType=function(e,r){gs(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){gs(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"===typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:ps&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!==(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&"undefined"!==typeof self.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&"undefined"!==typeof self.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{e=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=r,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(ys(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(ys(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(ys(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n="undefined"===typeof e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&"undefined"!==typeof e.responseType||(r=e.responseText),0===n&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(s){return void this.abort("Error trying to parse loaded xml: "+s)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,vs||(vs=document.createElement("a")),vs.href=t;var r=ds(vs.href,{strictMode:!0}),n=!r.port&&""===e.port||r.port===e.port,i=r.protocol?r.protocol+":":"";return r.host===e.hostname&&n&&i===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var n=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(n>-1?n:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();function _s(){}function ws(t){return function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];if(null===t)throw new Error("Callback was already called.");var i=t;t=null,i.apply(this,r)}}!function(t){!function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"}(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}(bs||(bs={}));var xs=function(t,e){this.data=t,this.callback=e},Es=function(){function t(t,e){var r=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=_s,this.unsaturated=_s,this.empty=_s,this.drain=_s,this.error=_s,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(t,e,n){if(n&&"function"!==typeof n)throw new Error("task callback must be a function");if(r.started=!0,null==t&&r.idle())setTimeout((function(){return r.drain()}),1);else{var i=new xs(t,"function"===typeof n?n:_s);e?r._tasks.unshift(i):r._tasks.push(i),setTimeout(r.process,1)}},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var t=r._tasks.shift();0===r._tasks.length&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(t.data,ws(r._next(t)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(t){var e=this;return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];e.workers-=1,t.callback.apply(t,n),null!=n[0]&&e.error(n[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(t,e){this._insert(t,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=_s,this.started=!1,this._tasks=[]},t.prototype.unshift=function(t,e){this._insert(t,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},t.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},t.eachSeries=function(t,e,r,n){var i=0,o=t.length;!function a(s){s||i===o?r&&r(s):n?setTimeout((function(){e(t[i++],a)}),1):e(t[i++],a)}()},t.queue=function(e,r){return new t(e,r)},t}(),Ms=/(#[\w-]+)?$/,Ss=function(){function t(e,r){var n=this;void 0===e&&(e=""),void 0===r&&(r=10),this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return n._loadResource(t,e)},this.resources={},this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return n._loadResource(t,e)},this._queue=Es.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new fs,this.onError=new fs,this.onLoad=new fs,this.onStart=new fs,this.onComplete=new fs;for(var i=0;i<t._plugins.length;++i){var o=t._plugins[i],a=o.pre,s=o.use;a&&this.pre(a),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(t,e,r,n){if(this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new bs(t,e,r),"function"===typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var i=r.parentResource,o=[],a=0;a<i.children.length;++a)i.children[a].isComplete||o.push(i.children[a]);var s=i.progressChunk*(o.length+1)/(o.length+2);i.children.push(this.resources[t]),i.progressChunk=s;for(a=0;a<o.length;++a)o[a].progressChunk=s;this.resources[t].progressChunk=s}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(t){if("function"===typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(t){var e,r=ds(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=Ms.exec(e)[0];-1!==(e=e.substr(0,e.length-n.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=n}return e},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,Es.eachSeries(this._beforeMiddleware,(function(e,n){e.call(r,t,(function(){n(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),Es.eachSeries(this._afterMiddleware,(function(r,n){r.call(e,t,n)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();Ss.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"===typeof t&&(r=t,n=e||r.callback||r.onComplete,e=r.url,t=r.name||r.key||r.url),"string"!==typeof e&&(n=r,r=e,e=t),"string"!==typeof e)throw new Error("No url passed to add resource to loader.");return"function"===typeof r&&(n=r,r=null),this._add(t,e,r,n)};var As=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Ss.shared:new Ss},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),ks=function(){function t(){}return t.add=function(){bs.setExtensionLoadType("svg",bs.LOAD_TYPE.XHR),bs.setExtensionXhrType("svg",bs.XHR_RESPONSE_TYPE.TEXT)},t.use=function(t,e){if(!t.data||t.type!==bs.TYPE.IMAGE&&"svg"!==t.extension)e();else{var r=t.data,n=t.url,i=t.name,o=t.metadata;no.fromLoader(r,n,i,o).then((function(r){t.texture=r,e()})).catch(e)}},t}();var Ts,Rs,Ps=self.URL||self.webkitURL;Ss.registerPlugin({use:function(t,e){if(t.data){if(t.xhr&&t.xhrType===bs.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!==typeof t.data){if(0===t.data.type.indexOf("image")){var r=Ps.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=r,t.type=bs.TYPE.IMAGE,void(t.data.onload=function(){Ps.revokeObjectURL(r),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<t.length?n[o]=255&t.charCodeAt(r++):n[o]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[o])}return e}(t.xhr.responseText),t.type=bs.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}}),Ss.registerPlugin(ks),function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(Rs||(Rs={}));var Is=((Ts={})[Rs.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Ts[Rs.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Ts[Rs.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Ts[Rs.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Ts[Rs.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Ts[Rs.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Ts[Rs.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Ts[Rs.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Ts[Rs.COMPRESSED_R11_EAC]=.5,Ts[Rs.COMPRESSED_SIGNED_R11_EAC]=.5,Ts[Rs.COMPRESSED_RG11_EAC]=1,Ts[Rs.COMPRESSED_SIGNED_RG11_EAC]=1,Ts[Rs.COMPRESSED_RGB8_ETC2]=.5,Ts[Rs.COMPRESSED_RGBA8_ETC2_EAC]=1,Ts[Rs.COMPRESSED_SRGB8_ETC2]=.5,Ts[Rs.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Ts[Rs.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ts[Rs.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ts[Rs.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Ts[Rs.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Ts[Rs.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Ts[Rs.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Ts[Rs.COMPRESSED_RGB_ETC1_WEBGL]=.5,Ts[Rs.COMPRESSED_RGB_ATC_WEBGL]=.5,Ts[Rs.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Ts[Rs.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Ts),Ns=function(t,e){return Ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Ns(t,e)};function Os(t,e){function r(){this.constructor=t}Ns(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function Cs(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Ds,Ls,Fs=function(t){function e(e,r){void 0===r&&(r={width:1,height:1,autoLoad:!0});var n,i,o=this;return"string"===typeof e?(n=e,i=new Uint8Array):(n=null,i=e),(o=t.call(this,i,r)||this).origin=n,o.buffer=i?new Xa(i):null,o.origin&&!1!==r.autoLoad&&o.load(),i&&i.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return Os(e,t),e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(e){o(e)}}function s(t){try{u(n.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(a,s)}u((n=n.apply(t,e||[])).next())}))}(this,void 0,Promise,(function(){var t;return Cs(this,(function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new Xa(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}}))}))},e}(Ui),Bs=function(t){function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return Os(e,t),e.prototype.upload=function(t,e,r){var n=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var i=0,o=this.levels;i<o;i++){var a=this._levelBuffers[i],s=a.levelID,u=a.levelWidth,l=a.levelHeight,h=a.levelBuffer;n.compressedTexImage2D(n.TEXTURE_2D,s,this.format,u,l,0,h)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,e,r,n,i,o,a){for(var s=new Array(r),u=t.byteOffset,l=o,h=a,c=l+n-1&~(n-1),f=h+i-1&~(i-1),d=c*f*Is[e],p=0;p<r;p++)s[p]={levelID:p,levelWidth:r>1?l:c,levelHeight:r>1?h:f,levelBuffer:new Uint8Array(t.buffer,u,d)},u+=d,d=(c=(l=l>>1||1)+n-1&~(n-1))*(f=(h=h>>1||1)+i-1&~(i-1))*Is[e];return s},e}(Fs),Us=function(){function t(){}return t.use=function(e,r){var n=e.data;if(e.type===bs.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var i=n.textures,o=void 0,a=void 0,s=0,u=i.length;s<u;s++){var l=i[s],h=l.src,c=l.format;if(c||(a=h),t.textureFormats[c]){o=h;break}}if(!(o=o||a))return void r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));if(o===e.url)return void r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var f={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=Fr.resolve(e.url.replace(this.baseUrl,""),o),p=n.cacheID;this.add(p,d,f,(function(t){if(t.error)r(t.error);else{var n=t.texture,i=void 0===n?null:n,o=t.textures,a=void 0===o?{}:o;Object.assign(e,{texture:i,textures:a}),r()}}))}else r()},t.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var r={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var n in t.textureExtensions=r,t.textureFormats={},r){var i=r[n];i&&Object.assign(t.textureFormats,Object.getPrototypeOf(i))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},t}();function Gs(t,e,r){var n={textures:{},texture:null};return e?(e.map((function(t){return new no(new ji(t,Object.assign({mipmap:Er.OFF,alphaMode:Mr.NO_PREMULTIPLIED_ALPHA},r)))})).forEach((function(e,r){var i=e.baseTexture,o=t+"-"+(r+1);ji.addToCache(i,o),no.addToCache(e,o),0===r&&(ji.addToCache(i,t),no.addToCache(e,t),n.texture=e),n.textures[o]=e})),n):n}bs.setExtensionXhrType("dds",bs.XHR_RESPONSE_TYPE.BUFFER);var js,zs,Hs=124,Vs=3,Ws=4,qs=7,Xs=19,Zs=2,Ks=0,Ys=1,Js=2,$s=3;!function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(js||(js={})),function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(zs||(zs={}));var Qs,tu,eu,ru=((Ds={})[827611204]=Rs.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ds[861165636]=Rs.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ds[894720068]=Rs.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ds),nu=((Ls={})[js.DXGI_FORMAT_BC1_TYPELESS]=Rs.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ls[js.DXGI_FORMAT_BC1_UNORM]=Rs.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ls[js.DXGI_FORMAT_BC2_TYPELESS]=Rs.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ls[js.DXGI_FORMAT_BC2_UNORM]=Rs.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ls[js.DXGI_FORMAT_BC3_TYPELESS]=Rs.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ls[js.DXGI_FORMAT_BC3_UNORM]=Rs.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ls[js.DXGI_FORMAT_BC1_UNORM_SRGB]=Rs.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Ls[js.DXGI_FORMAT_BC2_UNORM_SRGB]=Rs.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Ls[js.DXGI_FORMAT_BC3_UNORM_SRGB]=Rs.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Ls),iu=function(){function t(){}return t.use=function(e,r){if("dds"===e.extension&&e.data)try{Object.assign(e,Gs(e.name||e.url,t.parse(e.data),e.metadata))}catch(n){return void r(n)}r()},t.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,Hs/Uint32Array.BYTES_PER_ELEMENT),n=r[Vs],i=r[Ws],o=r[qs],a=new Uint32Array(t,Xs*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),s=a[1];if(4&s){var u=a[Zs];if(808540228!==u){var l=ru[u],h=new Uint8Array(t,128);return[new Bs(h,{format:l,width:i,height:n,levels:o})]}var c=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),f=c[Ks],d=c[Ys],p=c[Js],v=c[$s],m=nu[f];if(void 0===m)throw new Error("DDSLoader cannot parse texture data with DXGI format "+f);if(4===p)throw new Error("DDSLoader does not support cubemap textures");if(d===zs.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var g=new Array;if(1===v)g.push(new Uint8Array(t,148));else{for(var y=Is[m],b=0,_=i,w=n,x=0;x<o;x++){b+=Math.max(1,_+3&-4)*Math.max(1,w+3&-4)*y,_>>>=1,w>>>=1}var E=148;for(x=0;x<v;x++)g.push(new Uint8Array(t,E,b)),E+=b}return g.map((function(t){return new Bs(t,{format:m,width:i,height:n,levels:o})}))}if(64&s)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&s)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&s)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&s)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}();bs.setExtensionXhrType("ktx",bs.XHR_RESPONSE_TYPE.BUFFER);var ou=[171,75,84,88,32,49,49,187,13,10,26,10],au=12,su=16,uu=24,lu=28,hu=36,cu=40,fu=44,du=48,pu=52,vu=56,mu=60,gu=((Qs={})[br.UNSIGNED_BYTE]=1,Qs[br.UNSIGNED_SHORT]=2,Qs[br.FLOAT]=4,Qs[br.HALF_FLOAT]=8,Qs),yu=((tu={})[gr.RGBA]=4,tu[gr.RGB]=3,tu[gr.LUMINANCE]=1,tu[gr.LUMINANCE_ALPHA]=2,tu[gr.ALPHA]=1,tu),bu=((eu={})[br.UNSIGNED_SHORT_4_4_4_4]=2,eu[br.UNSIGNED_SHORT_5_5_5_1]=2,eu[br.UNSIGNED_SHORT_5_6_5]=2,eu),_u=function(){function t(){}return t.use=function(e,r){if("ktx"===e.extension&&e.data)try{var n=e.name||e.url;Object.assign(e,Gs(n,t.parse(n,e.data),e.metadata))}catch(i){return void r(i)}r()},t.parse=function(e,r){var n=new DataView(r);if(!t.validate(e,n))return null;var i=67305985===n.getUint32(au,!0),o=n.getUint32(su,i),a=n.getUint32(uu,i),s=n.getUint32(lu,i),u=n.getUint32(hu,i),l=n.getUint32(cu,i)||1,h=n.getUint32(fu,i)||1,c=n.getUint32(du,i)||1,f=n.getUint32(pu,i),d=n.getUint32(vu,i),p=n.getUint32(mu,i);if(0===l||1!==h)throw new Error("Only 2D textures are supported");if(1!==f)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==c)throw new Error("WebGL does not support array textures");var v,m=u+3&-4,g=l+3&-4,y=new Array(c),b=u*l;if(0===o&&(b=m*g),void 0===(v=0!==o?gu[o]?gu[o]*yu[a]:bu[o]:Is[s]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var _=b*v,w=u,x=l,E=m,M=g,S=64+p,A=0;A<d;A++){for(var k=n.getUint32(S,i),T=S+4,R=0;R<c;R++){var P=y[R];P||(P=y[R]=new Array(d)),P[A]={levelID:A,levelWidth:d>1?w:E,levelHeight:d>1?x:M,levelBuffer:new Uint8Array(r,T,_)},T+=_}S=(S+=k+4)%4!==0?S+4-S%4:S,_=(E=(w=w>>1||1)+4-1&-4)*(M=(x=x>>1||1)+4-1&-4)*v}if(0!==o)throw new Error("TODO: Uncompressed");return y.map((function(t){return new Bs(null,{format:s,width:u,height:l,levels:d,levelBuffers:t})}))},t.validate=function(t,e){for(var r=0;r<ou.length;r++)if(e.getUint8(r)!==ou[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},t}(),wu=function(t,e){return wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},wu(t,e)};function xu(t,e){function r(){this.constructor=t}wu(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Eu,Mu,Su=function(t){function e(e,r,n,i){void 0===e&&(e=1500),void 0===n&&(n=16384),void 0===i&&(i=!1);var o=t.call(this)||this;return n>16384&&(n=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=n,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=vr.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return xu(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,Vr(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(gi),Au=function(){function t(t,e,r){this.geometry=new vo,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;++n){var i=t[n];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||br.FLOAT,offset:i.offset},e[n]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new lo(Qr(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){(a=this.dynamicProperties[r]).offset=e,e+=a.size,this.dynamicStride+=a.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new lo(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(r=0;r<this.staticProperties.length;++r){(a=this.staticProperties[r]).offset=i,i+=a.size,this.staticStride+=a.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new lo(this.staticData,!0,!1);for(r=0;r<this.dynamicProperties.length;++r){var a=this.dynamicProperties[r];t.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===br.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(r=0;r<this.staticProperties.length;++r){a=this.staticProperties[r];t.addAttribute(a.attributeName,this.staticBuffer,0,a.type===br.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}},t.prototype.uploadDynamic=function(t,e,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(t,e,r,i.type===br.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(t,e,r,i.type===br.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),ku=function(t){function e(e){var r=t.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Ln,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:br.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=ia.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=oa.for2d(),r}return xu(e,t),e.prototype.render=function(t){var e=t.children,r=t._maxSize,n=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>r&&!t.autoResize&&(o=r);var a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));var s=e[0]._texture.baseTexture;this.state.blendMode=Kr(t.blendMode,s.alphaMode),i.state.set(this.state);var u=i.gl,l=t.worldTransform.copyTo(this.tempMatrix);l.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=l.toArray(!0),this.shader.uniforms.uColor=Yr(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var h=!1,c=0,f=0;c<o;c+=n,f+=1){var d=o-c;d>n&&(d=n),f>=a.length&&a.push(this._generateOneMoreBuffer(t));var p=a[f];p.uploadDynamic(e,c,d);var v=t._bufferUpdateIDs[f]||0;(h=h||p._updateID<v)&&(p._updateID=t._updateID,p.uploadStatic(e,c,d)),i.geometry.bind(p.geometry),u.drawElements(u.TRIANGLES,6*d,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,n=t._batchSize,i=t._properties,o=0;o<r;o+=n)e.push(new Au(this.properties,i,n));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new Au(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,n,i,o){for(var a=0,s=0,u=0,l=0,h=0;h<r;++h){var c=t[e+h],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,m=f.orig;v?(a=(s=v.x-c.anchor.x*m.width)+v.width,u=(l=v.y-c.anchor.y*m.height)+v.height):(a=m.width*(1-c.anchor.x),s=m.width*-c.anchor.x,u=m.height*(1-c.anchor.y),l=m.height*-c.anchor.y),n[o]=s*d,n[o+1]=l*p,n[o+i]=a*d,n[o+i+1]=l*p,n[o+2*i]=a*d,n[o+2*i+1]=u*p,n[o+3*i]=s*d,n[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].position;n[o]=s.x,n[o+1]=s.y,n[o+i]=s.x,n[o+i+1]=s.y,n[o+2*i]=s.x,n[o+2*i+1]=s.y,n[o+3*i]=s.x,n[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=t[e+a].rotation;n[o]=s,n[o+i]=s,n[o+2*i]=s,n[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a]._texture._uvs;s?(n[o]=s.x0,n[o+1]=s.y0,n[o+i]=s.x1,n[o+i+1]=s.y1,n[o+2*i]=s.x2,n[o+2*i+1]=s.y2,n[o+3*i]=s.x3,n[o+3*i+1]=s.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,r,n,i,o){for(var a=0;a<r;++a){var s=t[e+a],u=s._texture.baseTexture.alphaMode>0,l=s.alpha,h=l<1&&u?Jr(s._tintRGB,l):s._tintRGB+(255*l<<24);n[o]=h,n[o+i]=h,n[o+2*i]=h,n[o+3*i]=h,o+=4*i}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Mo);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(Eu||(Eu={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(Mu||(Mu={}));var Tu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},Ru=function(){function t(){this.color=16777215,this.alpha=1,this.texture=no.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=no.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Pu=function(t,e){return Pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Pu(t,e)};function Iu(t,e){function r(){this.constructor=t}Pu(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Nu={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,o=e.indices;if(r.length>=6){for(var a=[],s=0;s<n.length;s++){var u=n[s];a.push(r.length/2),r=r.concat(u.points)}var l=Dr()(r,a,2);if(!l)return;var h=i.length/2;for(s=0;s<l.length;s+=3)o.push(l[s]+h),o.push(l[s+1]+h),o.push(l[s+2]+h);for(s=0;s<r.length;s++)i.push(r[s])}}},Ou={build:function(t){var e,r,n=t.shape,i=t.points,o=n.x,a=n.y;if(i.length=0,t.type===Sn.CIRC)e=n.radius,r=n.radius;else{var s=t.shape;e=s.width,r=s.height}if(0!==e&&0!==r){var u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(e+r));u/=2.3;for(var l=2*Math.PI/u,h=0;h<u-.5;h++)i.push(o+Math.sin(-l*h)*e,a+Math.cos(-l*h)*r);i.push(i[0],i[1])}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices,o=n.length/2,a=o,s=t.shape,u=t.matrix,l=s.x,h=s.y;n.push(t.matrix?u.a*l+u.c*h+u.tx:l,t.matrix?u.b*l+u.d*h+u.ty:h);for(var c=0;c<r.length;c+=2)n.push(r[c],r[c+1]),i.push(o++,a,o)}},Cu={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,o=e.height,a=t.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Du(t,e,r){return t+(e-t)*r}function Lu(t,e,r,n,i,o,a){void 0===a&&(a=[]);for(var s=a,u=0,l=0,h=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=Du(t,r,v=p/20),l=Du(e,n,v),h=Du(r,i,v),c=Du(n,o,v),f=Du(u,h,v),d=Du(l,c,v),0===p&&s[s.length-2]===f&&s[s.length-1]===d||s.push(f,d);return s}var Fu={build:function(t){var e=t.shape,r=t.points,n=e.x,i=e.y,o=e.width,a=e.height,s=Math.max(0,Math.min(e.radius,Math.min(o,a)/2));r.length=0,s?(Lu(n,i+s,n,i,n+s,i,r),Lu(n+o-s,i,n+o,i,n+o,i+s,r),Lu(n+o,i+a-s,n+o,i+a,n+o-s,i+a,r),Lu(n+s,i+a,n,i+a,n,i+a-s,r)):r.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(t,e){for(var r=t.points,n=e.points,i=e.indices,o=n.length/2,a=Dr()(r,null,2),s=0,u=a.length;s<u;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(s=0,u=r.length;s<u;s++)n.push(r[s],r[++s])}};function Bu(t,e,r,n,i,o,a,s){var u,l;a?(u=n,l=-r):(u=-n,l=r);var h=t-r*i+u,c=e-n*i+l,f=t+r*o+u,d=e+n*o+l;return s.push(h,c),s.push(f,d),2}function Uu(t,e,r,n,i,o,a,s){var u=r-t,l=n-e,h=Math.atan2(u,l),c=Math.atan2(i-t,o-e);s&&h<c?h+=2*Math.PI:!s&&h>c&&(c+=2*Math.PI);var f=h,d=c-h,p=Math.abs(d),v=Math.sqrt(u*u+l*l),m=1+(15*p*Math.sqrt(v)/Math.PI>>0),g=d/m;if(f+=g,s){a.push(t,e),a.push(r,n);for(var y=1,b=f;y<m;y++,b+=g)a.push(t,e),a.push(t+Math.sin(b)*v,e+Math.cos(b)*v);a.push(t,e),a.push(i,o)}else{a.push(r,n),a.push(t,e);for(y=1,b=f;y<m;y++,b+=g)a.push(t+Math.sin(b)*v,e+Math.cos(b)*v),a.push(t,e);a.push(i,o),a.push(t,e)}return 2*m}function Gu(t,e){t.lineStyle.native?function(t,e){var r=0,n=t.shape,i=t.points||n.points,o=n.type!==Sn.POLY||n.closeStroke;if(0!==i.length){var a=e.points,s=e.indices,u=i.length/2,l=a.length/2,h=l;for(a.push(i[0],i[1]),r=1;r<u;r++)a.push(i[2*r],i[2*r+1]),s.push(h,h+1),h++;o&&s.push(h,l)}}(t,e):function(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(0!==n.length){var o=t.lineStyle,a=new Cn(n[0],n[1]),s=new Cn(n[n.length-2],n[n.length-1]),u=r.type!==Sn.POLY||r.closeStroke,l=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(u){n=n.slice(),l&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var h=.5*(a.x+s.x),c=.5*(s.y+a.y);n.unshift(h,c),n.push(h,c)}var f=e.points,d=n.length/2,p=n.length,v=f.length/2,m=o.width/2,g=m*m,y=o.miterLimit*o.miterLimit,b=n[0],_=n[1],w=n[2],x=n[3],E=0,M=0,S=-(_-x),A=b-w,k=0,T=0,R=Math.sqrt(S*S+A*A);S/=R,A/=R,S*=m,A*=m;var P=o.alignment,I=2*(1-P),N=2*P;u||(o.cap===Mu.ROUND?p+=Uu(b-S*(I-N)*.5,_-A*(I-N)*.5,b-S*I,_-A*I,b+S*N,_+A*N,f,!0)+2:o.cap===Mu.SQUARE&&(p+=Bu(b,_,S,A,I,N,!0,f))),f.push(b-S*I,_-A*I),f.push(b+S*N,_+A*N);for(var O=1;O<d-1;++O){b=n[2*(O-1)],_=n[2*(O-1)+1],w=n[2*O],x=n[2*O+1],E=n[2*(O+1)],M=n[2*(O+1)+1],S=-(_-x),A=b-w,S/=R=Math.sqrt(S*S+A*A),A/=R,S*=m,A*=m,k=-(x-M),T=w-E,k/=R=Math.sqrt(k*k+T*T),T/=R,k*=m,T*=m;var C=w-b,D=_-x,L=w-E,F=M-x,B=D*L-F*C,U=B<0;if(Math.abs(B)<.1)f.push(w-S*I,x-A*I),f.push(w+S*N,x+A*N);else{var G=(-S+b)*(-A+x)-(-S+w)*(-A+_),j=(-k+E)*(-T+x)-(-k+w)*(-T+M),z=(C*j-L*G)/B,H=(F*G-D*j)/B,V=(z-w)*(z-w)+(H-x)*(H-x),W=w+(z-w)*I,q=x+(H-x)*I,X=w-(z-w)*N,Z=x-(H-x)*N,K=U?I:N;V<=Math.min(C*C+D*D,L*L+F*F)+K*K*g?o.join===Eu.BEVEL||V/g>y?(U?(f.push(W,q),f.push(w+S*N,x+A*N),f.push(W,q),f.push(w+k*N,x+T*N)):(f.push(w-S*I,x-A*I),f.push(X,Z),f.push(w-k*I,x-T*I),f.push(X,Z)),p+=2):o.join===Eu.ROUND?U?(f.push(W,q),f.push(w+S*N,x+A*N),p+=Uu(w,x,w+S*N,x+A*N,w+k*N,x+T*N,f,!0)+4,f.push(W,q),f.push(w+k*N,x+T*N)):(f.push(w-S*I,x-A*I),f.push(X,Z),p+=Uu(w,x,w-S*I,x-A*I,w-k*I,x-T*I,f,!1)+4,f.push(w-k*I,x-T*I),f.push(X,Z)):(f.push(W,q),f.push(X,Z)):(f.push(w-S*I,x-A*I),f.push(w+S*N,x+A*N),o.join===Eu.BEVEL||V/g>y||(o.join===Eu.ROUND?p+=U?Uu(w,x,w+S*N,x+A*N,w+k*N,x+T*N,f,!0)+2:Uu(w,x,w-S*I,x-A*I,w-k*I,x-T*I,f,!1)+2:(U?(f.push(X,Z),f.push(X,Z)):(f.push(W,q),f.push(W,q)),p+=2)),f.push(w-k*I,x-T*I),f.push(w+k*N,x+T*N),p+=2)}}b=n[2*(d-2)],_=n[2*(d-2)+1],w=n[2*(d-1)],S=-(_-(x=n[2*(d-1)+1])),A=b-w,S/=R=Math.sqrt(S*S+A*A),A/=R,S*=m,A*=m,f.push(w-S*I,x-A*I),f.push(w+S*N,x+A*N),u||(o.cap===Mu.ROUND?p+=Uu(w-S*(I-N)*.5,x-A*(I-N)*.5,w-S*I,x-A*I,w+S*N,x+A*N,f,!1)+2:o.cap===Mu.SQUARE&&(p+=Bu(w,x,S,A,I,N,!1,f)));var Y=e.indices,J=Tu.epsilon*Tu.epsilon;for(O=v;O<p+v-2;++O)b=f[2*O],_=f[2*O+1],w=f[2*(O+1)],x=f[2*(O+1)+1],E=f[2*(O+2)],M=f[2*(O+2)+1],Math.abs(b*(x-M)+w*(M-_)+E*(_-x))<J||Y.push(O,O+1,O+2)}}(t,e)}var ju,zu=function(){function t(){}return t.curveTo=function(t,e,r,n,i,o){var a=o[o.length-2],s=o[o.length-1]-e,u=a-t,l=n-e,h=r-t,c=Math.abs(s*h-u*l);if(c<1e-8||0===i)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var f=s*s+u*u,d=l*l+h*h,p=s*l+u*h,v=i*Math.sqrt(f)/c,m=i*Math.sqrt(d)/c,g=v*p/f,y=m*p/d,b=v*h+m*u,_=v*l+m*s,w=u*(m+g),x=s*(m+g),E=h*(v+y),M=l*(v+y);return{cx:b+t,cy:_+e,radius:i,startAngle:Math.atan2(x-_,w-b),endAngle:Math.atan2(M-_,E-b),anticlockwise:u*l>h*s}},t.arc=function(t,e,r,n,i,o,a,s,u){for(var l=a-o,h=Tu._segmentsCount(Math.abs(l)*i,40*Math.ceil(Math.abs(l)/An)),c=l/(2*h),f=2*c,d=Math.cos(c),p=Math.sin(c),v=h-1,m=v%1/v,g=0;g<=v;++g){var y=c+o+f*(g+m*g),b=Math.cos(y),_=-Math.sin(y);u.push((d*b+p*_)*i+r,(d*-_+p*b)*i+n)}},t}(),Hu=function(){function t(){}return t.curveLength=function(t,e,r,n,i,o,a,s){for(var u=0,l=0,h=0,c=0,f=0,d=0,p=0,v=0,m=0,g=0,y=0,b=t,_=e,w=1;w<=10;++w)g=b-(v=(p=(d=(f=1-(l=w/10))*f)*f)*t+3*d*l*r+3*f*(h=l*l)*i+(c=h*l)*a),y=_-(m=p*e+3*d*l*n+3*f*h*o+c*s),b=v,_=m,u+=Math.sqrt(g*g+y*y);return u},t.curveTo=function(e,r,n,i,o,a,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var h=Tu._segmentsCount(t.curveLength(u,l,e,r,n,i,o,a)),c=0,f=0,d=0,p=0,v=0;s.push(u,l);for(var m=1,g=0;m<=h;++m)d=(f=(c=1-(g=m/h))*c)*c,v=(p=g*g)*g,s.push(d*u+3*f*g*e+3*c*p*n+v*o,d*l+3*f*g*r+3*c*p*i+v*a)},t}(),Vu=function(){function t(){}return t.curveLength=function(t,e,r,n,i,o){var a=t-2*r+i,s=e-2*n+o,u=2*r-2*t,l=2*n-2*e,h=4*(a*a+s*s),c=4*(a*u+s*l),f=u*u+l*l,d=2*Math.sqrt(h+c+f),p=Math.sqrt(h),v=2*h*p,m=2*Math.sqrt(f),g=c/p;return(v*d+p*c*(d-m)+(4*f*h-c*c)*Math.log((2*p+g+d)/(g+m)))/(4*v)},t.curveTo=function(e,r,n,i,o){for(var a=o[o.length-2],s=o[o.length-1],u=Tu._segmentsCount(t.curveLength(a,s,e,r,n,i)),l=0,h=0,c=1;c<=u;++c){var f=c/u;l=a+(e-a)*f,h=s+(r-s)*f,o.push(l+(e+(n-e)*f-l)*f,h+(r+(i-r)*f-h)*f)}},t}(),Wu=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),qu=((ju={})[Sn.POLY]=Nu,ju[Sn.CIRC]=Ou,ju[Sn.ELIP]=Ou,ju[Sn.RECT]=Cu,ju[Sn.RREC]=Fu,ju),Xu=[],Zu=[];function Ku(t){for(var e=t.points,r=0,n=0;n<e.length-2;n+=2)r+=(e[n+2]-e[n])*(e[n+3]+e[n+1]);return r>0}var Yu=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=n,this.type=t.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Ju=new Cn,$u=new qn,Qu=function(t){function e(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new qn,e.boundsDirty=-1,e}return Iu(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Zu.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),Xu.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null);var i=new Yu(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var r=new Yu(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var n=e[r];if(n.fillStyle.visible&&(n.shape&&(n.matrix?n.matrix.applyInverse(t,Ju):Ju.copyFrom(t),n.shape.contains(Ju.x,Ju.y)))){var i=!1;if(n.holes)for(var o=0;o<n.holes.length;o++){if(n.holes[o].shape.contains(Ju.x,Ju.y)){i=!0;break}}if(!i)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,n=null,i=null;this.batches.length>0&&(i=(n=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<r.length;o++){this.shapeIndex++;var a=r[o],s=a.fillStyle,u=a.lineStyle;qu[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var l=0;l<2;l++){var h=0===l?s:u;if(h.visible){var c=h.texture.baseTexture,f=this.indices.length,d=this.points.length/2;c.wrapMode=xr.REPEAT,0===l?this.processFill(a):this.processLine(a);var p=this.points.length/2-d;0!==p&&(n&&!this._compareStyles(i,h)&&(n.end(f,d),n=null),n||((n=Xu.pop()||new Wu).begin(h,f,d),this.batches.push(n),i=h),this.addUvs(this.points,e,h.texture,d,p,h.matrix))}}}var v=this.indices.length,m=this.points.length/2;if(n&&n.end(v,m),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var g=m>65535&&t;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native===!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,r=t.length;e<r;e++)for(var n=t[e],i=0;i<n.size;i++){var o=n.start+i;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++ji._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Zu.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.colors,n=this.textureIds,i=Zu.pop();i||((i=new Wa).texArray=new qa),i.texArray.count=0,i.start=0,i.size=0,i.type=mr.TRIANGLES;var o=0,a=null,s=0,u=!1,l=mr.TRIANGLES,h=0;this.drawCalls.push(i);for(e=0;e<this.batches.length;e++){var c=this.batches[e],f=c.style,d=f.texture.baseTexture;u!==!!f.native&&(l=(u=!!f.native)?mr.LINES:mr.TRIANGLES,a=null,o=8,t++),a!==d&&(a=d,d._batchEnabled!==t&&(8===o&&(t++,o=0,i.size>0&&((i=Zu.pop())||((i=new Wa).texArray=new qa),this.drawCalls.push(i)),i.start=h,i.size=0,i.texArray.count=0,i.type=l),d.touched=1,d._batchEnabled=t,d._batchLocation=o,d.wrapMode=xr.REPEAT,i.texArray.elements[i.texArray.count++]=d,o++)),i.size+=c.size,h+=c.size,s=d._batchLocation,this.addColors(r,f.color,f.alpha,c.attribSize,c.attribStart),this.addTextureIds(n,s,c.attribSize,c.attribStart)}ji._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*t.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,u=0;u<t.length/2;u++)o[s++]=t[2*u],o[s++]=t[2*u+1],o[s++]=e[2*u],o[s++]=e[2*u+1],a[s++]=r[u],o[s++]=n[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Nu.triangulate(t,this)):qu[t.type].triangulate(t,this)},e.prototype.processLine=function(t){Gu(t,this);for(var e=0;e<t.holes.length;e++)Gu(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];qu[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=$u,r=Ln.IDENTITY;this._bounds.clear(),e.clear();for(var n=0;n<this.graphicsData.length;n++){var i=this.graphicsData[n],o=i.shape,a=i.type,s=i.lineStyle,u=i.matrix||Ln.IDENTITY,l=0;if(s&&s.visible){var h=s.alignment;l=s.width,a===Sn.POLY?Ku(o)?l*=1-h:l*=h:l*=Math.max(0,h)}if(r!==u&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=u),a===Sn.RECT||a===Sn.RREC){var c=o;e.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,l,l)}else if(a===Sn.CIRC){var f=o;e.addFramePad(f.x,f.y,f.x,f.y,f.radius+l,f.radius+l)}else if(a===Sn.ELIP){var d=o;e.addFramePad(d.x,d.y,d.x,d.y,d.width+l,d.height+l)}else{var p=o;t.addVerticesMatrix(r,p.points,0,p.points.length,l,l)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var n=t[2*r],i=t[2*r+1];t[2*r]=e.a*n+e.c*i+e.tx,t[2*r+1]=e.b*n+e.d*i+e.ty}},e.prototype.addColors=function(t,e,r,n,i){void 0===i&&(i=0);var o=Jr((e>>16)+(65280&e)+((255&e)<<16),r);t.length=Math.max(t.length,i+n);for(var a=0;a<n;a++)t[i+a]=o},e.prototype.addTextureIds=function(t,e,r,n){void 0===n&&(n=0),t.length=Math.max(t.length,n+r);for(var i=0;i<r;i++)t[n+i]=e},e.prototype.addUvs=function(t,e,r,n,i,o){void 0===o&&(o=null);for(var a=0,s=e.length,u=r.frame;a<i;){var l=t[2*(n+a)],h=t[2*(n+a)+1];if(o){var c=o.a*l+o.c*h+o.tx;h=o.b*l+o.d*h+o.ty,l=c}a++,e.push(l/u.width,h/u.height)}var f=r.baseTexture;(u.width<f.width||u.height<f.height)&&this.adjustUvs(e,r,s,i)},e.prototype.adjustUvs=function(t,e,r,n){for(var i=e.baseTexture,o=1e-6,a=r+2*n,s=e.frame,u=s.width/i.width,l=s.height/i.height,h=s.x/s.width,c=s.y/s.height,f=Math.floor(t[r]+o),d=Math.floor(t[r+1]+o),p=r+2;p<a;p+=2)f=Math.min(f,Math.floor(t[p]+o)),d=Math.min(d,Math.floor(t[p+1]+o));h-=f,c-=d;for(p=r;p<a;p+=2)t[p]=(t[p]+h)*u,t[p+1]=(t[p+1]+c)*l},e.BATCHABLE_SIZE=100,e}(Ya),tl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Mu.BUTT,e.join=Eu.MITER,e.miterLimit=10,e}return Iu(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Ru),el=new Float32Array(3),rl={},nl=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r.shader=null,r.pluginName="batch",r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r._fillStyle=new Ru,r._lineStyle=new tl,r._matrix=null,r._holeMode=!1,r.state=oa.for2d(),r._geometry=e||new Qu,r._geometry.refCount++,r._transformID=-1,r.tint=16777215,r.blendMode=vr.NORMAL,r}return Iu(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,r,n,i){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=.5),void 0===i&&(i=!1),"number"===typeof t&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:no.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Mu.BUTT,join:Eu.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Nn,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Nn,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return n===t&&i===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,n){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),Vu.curveTo(t,e,r,n,i),this},e.prototype.bezierCurveTo=function(t,e,r,n,i,o){return this._initCurve(),Hu.curveTo(t,e,r,n,i,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,n,i){this._initCurve(t,e);var o=this.currentPath.points,a=zu.curveTo(t,e,r,n,i,o);if(a){var s=a.cx,u=a.cy,l=a.radius,h=a.startAngle,c=a.endAngle,f=a.anticlockwise;this.arc(s,u,l,h,c,f)}return this},e.prototype.arc=function(t,e,r,n,i,o){if(void 0===o&&(o=!1),n===i)return this;if(!o&&i<=n?i+=An:o&&n<=i&&(n+=An),0===i-n)return this;var a=t+Math.cos(n)*r,s=e+Math.sin(n)*r,u=this._geometry.closePointEps,l=this.currentPath?this.currentPath.points:null;if(l){var h=Math.abs(l[l.length-2]-a),c=Math.abs(l[l.length-1]-s);h<u&&c<u||l.push(a,s)}else this.moveTo(a,s),l=this.currentPath.points;return zu.arc(a,s,t,e,r,n,i,o,l),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:no.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:no.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new Rn(t,e,r,n))},e.prototype.drawRoundedRect=function(t,e,r,n,i){return this.drawShape(new On(t,e,r,n,i))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new Pn(t,e,r))},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new In(t,e,r,n))},e.prototype.drawPolygon=function(){for(var t,e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=!0,o=r[0];o.points?(i=o.closeStroke,t=o.points):t=Array.isArray(r[0])?r[0]:r;var a=new Nn(t);return a.closeStroke=i,this.drawShape(a),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===Sn.RECT&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var n=0;n<r;n++){var i=t.batches[n],o=i.style.color,a=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(t.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),u={vertexData:a,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:Vr(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=u}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,r=this.batches.length;e<r;e++){var n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,n=this.tint,i=this.worldAlpha,o=e.uniforms,a=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(n>>16&255)/255*i,o.tint[1]=(n>>8&255)/255*i,o.tint[2]=(255&n)/255*i,o.tint[3]=i,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var s=0,u=a.length;s<u;s++)this._renderDrawCallDirect(t,r.drawCalls[s])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,n=e.type,i=e.size,o=e.start,a=r.count,s=0;s<a;s++)t.texture.bind(r.elements[s],s);t.geometry.draw(n,i,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!rl[r]){for(var n=t.plugins.batch.MAX_TEXTURES,i=new Int32Array(n),o=0;o<n;o++)i[o]=o;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ln,default:bo.from({uSamplers:i},!0)},s=t.plugins[r]._shader.program;rl[r]=new ia(s,a)}e=rl[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,n=e.minY,i=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,n,i,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Vr(this.tint,el),e=0;e<this.batches.length;e++){var r=this.batches[e],n=r._batchRGB,i=(t[0]*n[0]*255<<16)+(t[1]*n[1]*255<<8)+(0|t[2]*n[2]*255);r._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this._geometry.points,l=this.vertexData,h=0,c=0;c<u.length;c+=2){var f=u[c],d=u[c+1];l[h++]=r*f+i*d+a,l[h++]=o*d+n*f+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new Cn,e}(gi),il={buildPoly:Nu,buildCircle:Ou,buildRectangle:Cu,buildRoundedRectangle:Fu,buildLine:Gu,ArcUtils:zu,BezierUtils:Hu,QuadraticUtils:Vu,BatchPart:Wu,FILL_COMMANDS:qu,BATCH_POOL:Xu,DRAW_CALL_POOL:Zu},ol=function(t,e){return ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},ol(t,e)};var al,sl=new Cn,ul=new Uint16Array([0,1,2,0,2,3]),ll=function(t){function e(e){var r=t.call(this)||this;return r._anchor=new Dn(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=vr.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||no.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=ul,r.pluginName="batch",r.isSprite=!0,r._roundPixels=Ir.ROUND_PIXELS,r}return function(t,e){function r(){this.constructor=t}ol(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=un(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=un(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,l=t.trim,h=t.orig,c=this._anchor,f=0,d=0,p=0,v=0;if(l?(f=(d=l.x-c._x*h.width)+l.width,p=(v=l.y-c._y*h.height)+l.height):(f=(d=-c._x*h.width)+h.width,p=(v=-c._y*h.height)+h.height),u[0]=r*d+i*v+a,u[1]=o*v+n*d+s,u[2]=r*f+i*v+a,u[3]=o*v+n*f+s,u[4]=r*f+i*p+a,u[5]=o*p+n*f+s,u[6]=r*d+i*p+a,u[7]=o*p+n*d+s,this._roundPixels)for(var m=Ir.RESOLUTION,g=0;g<u.length;++g)u[g]=Math.round((u[g]*m|0)/m)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,h=i.ty,c=-n._x*r.width,f=c+r.width,d=-n._y*r.height,p=d+r.height;e[0]=o*c+s*d+l,e[1]=u*d+a*c+h,e[2]=o*f+s*d+l,e[3]=u*d+a*f+h,e[4]=o*f+s*p+l,e[5]=u*p+a*f+h,e[6]=o*c+s*p+l,e[7]=u*p+a*c+h},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rn),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,sl);var e=this._texture.orig.width,r=this._texture.orig.height,n=-e*this.anchor.x,i=0;return sl.x>=n&&sl.x<n+e&&(i=-r*this.anchor.y,sl.y>=i&&sl.y<i+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"===typeof e?e:e&&e.texture){var r="boolean"===typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null},e.from=function(t,r){return new e(t instanceof no?t:no.from(t,r))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=un(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=un(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||no.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(gi),hl=function(t,e){return hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},hl(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(al||(al={}));var cl={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:al.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},fl=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],dl=function(){function t(t){this.styleID=0,this.reset(),ml(this,t,t)}return t.prototype.clone=function(){var e={};return ml(e,this,cl),new t(e)},t.prototype.reset=function(){ml(this,cl,cl)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=vl(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=vl(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=vl(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&fl.indexOf(n)<0&&(n='"'+n+'"'),e[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function pl(t){return"number"===typeof t?Wr(t):("string"===typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function vl(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=pl(t[e]);return t}return pl(t)}function ml(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var gl=function(){function t(t,e,r,n,i,o,a,s,u){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=u}return t.measureText=function(e,r,n,i){void 0===i&&(i=t._canvas),n=void 0===n||null===n?r.wordWrap:n;var o=r.toFontString(),a=t.measureFont(o);0===a.fontSize&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var s=i.getContext("2d");s.font=o;for(var u=(n?t.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),h=0,c=0;c<u.length;c++){var f=s.measureText(u[c]).width+(u[c].length-1)*r.letterSpacing;l[c]=f,h=Math.max(h,f)}var d=h+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);var p=r.lineHeight||a.fontSize+r.strokeThickness,v=Math.max(p,a.fontSize+r.strokeThickness)+(u.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new t(e,r,d,v,u,l,p+r.leading,h,a)},t.wordWrap=function(e,r,n){void 0===n&&(n=t._canvas);for(var i=n.getContext("2d"),o=0,a="",s="",u=Object.create(null),l=r.letterSpacing,h=r.whiteSpace,c=t.collapseSpaces(h),f=t.collapseNewlines(h),d=!c,p=r.wordWrapWidth+l,v=t.tokenize(e),m=0;m<v.length;m++){var g=v[m];if(t.isNewline(g)){if(!f){s+=t.addLine(a),d=!c,a="",o=0;continue}g=" "}if(c){var y=t.isBreakingSpace(g),b=t.isBreakingSpace(a[a.length-1]);if(y&&b)continue}var _=t.getFromCache(g,l,u,i);if(_>p)if(""!==a&&(s+=t.addLine(a),a="",o=0),t.canBreakWords(g,r.breakWords))for(var w=t.wordWrapSplit(g),x=0;x<w.length;x++){for(var E=w[x],M=1;w[x+M];){var S=w[x+M],A=E[E.length-1];if(t.canBreakChars(A,S,g,x,r.breakWords))break;E+=S,M++}x+=E.length-1;var k=t.getFromCache(E,l,u,i);k+o>p&&(s+=t.addLine(a),d=!1,a="",o=0),a+=E,o+=k}else{a.length>0&&(s+=t.addLine(a),a="",o=0);var T=m===v.length-1;s+=t.addLine(g,!T),d=!1,a="",o=0}else _+o>p&&(d=!1,s+=t.addLine(a),a="",o=0),(a.length>0||!t.isBreakingSpace(g)||d)&&(a+=g,o+=_)}return s+=t.addLine(a,!1)},t.addLine=function(e,r){return void 0===r&&(r=!0),e=t.trimRight(e),e=r?e+"\n":e},t.getFromCache=function(t,e,r,n){var i=r[t];if("number"!==typeof i){var o=t.length*e;i=n.measureText(t).width+o,r[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!==typeof e)return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"===typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return"string"===typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if("string"!==typeof e)return r;for(var i=0;i<e.length;i++){var o=e[i],a=e[i+1];t.isBreakingSpace(o,a)||t.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,r,n,i){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,n.width=a,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var l=i.getImageData(0,0,a,u).data,h=l.length,c=4*a,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var v=0;v<c;v+=4)if(255!==l[d+v]){p=!0;break}if(p)break;d+=c}for(r.ascent=s-f,d=h-c,p=!1,f=u;f>s;--f){for(v=0;v<c;v+=4)if(255!==l[d+v]){p=!0;break}if(p)break;d-=c}return r.descent=f-s,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),yl=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(r){return document.createElement("canvas")}}();yl.width=yl.height=10,gl._canvas=yl,gl._context=yl.getContext("2d"),gl._fonts={},gl.METRICS_STRING="|\xc9q\xc5",gl.BASELINE_SYMBOL="M",gl.BASELINE_MULTIPLIER=1.4,gl.HEIGHT_MULTIPLIER=2,gl._newlines=[10,13],gl._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var bl={texture:!0,children:!1,baseTexture:!0},_l=function(t){function e(e,r,n){var i=this,o=!1;n||(n=document.createElement("canvas"),o=!0),n.width=3,n.height=3;var a=no.from(n);return a.orig=new Rn,a.trim=new Rn,(i=t.call(this,a)||this)._ownCanvas=o,i.canvas=n,i.context=i.canvas.getContext("2d"),i._resolution=Ir.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=e,i.style=r,i.localStyleID=-1,i}return function(t,e){function r(){this.constructor=t}hl(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(t){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!t){this._font=this._style.toFontString();var n,i,o=this.context,a=gl.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=a.width,u=a.height,l=a.lines,h=a.lineHeight,c=a.lineWidths,f=a.maxLineWidth,d=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*r.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,u)+2*r.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=r.strokeThickness,o.textBaseline=r.textBaseline,o.lineJoin=r.lineJoin,o.miterLimit=r.miterLimit;for(var p=r.dropShadow?2:1,v=0;v<p;++v){var m=r.dropShadow&&0===v,g=m?Math.ceil(Math.max(1,u)+2*r.padding):0,y=g*this._resolution;if(m){o.fillStyle="black",o.strokeStyle="black";var b=r.dropShadowColor,_=Vr("number"===typeof b?b:qr(b));o.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+r.dropShadowAlpha+")",o.shadowBlur=r.dropShadowBlur,o.shadowOffsetX=Math.cos(r.dropShadowAngle)*r.dropShadowDistance,o.shadowOffsetY=Math.sin(r.dropShadowAngle)*r.dropShadowDistance+y}else o.fillStyle=this._generateFillStyle(r,l,a),o.strokeStyle=r.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;var w=(h-d.fontSize)/2;(!e.nextLineHeightBehavior||h-d.fontSize<0)&&(w=0);for(var x=0;x<l.length;x++)n=r.strokeThickness/2,i=r.strokeThickness/2+x*h+d.ascent+w,"right"===r.align?n+=f-c[x]:"center"===r.align&&(n+=(f-c[x])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(l[x],n+r.padding,i+r.padding-g,!0),r.fill&&this.drawLetterSpacing(l[x],n+r.padding,i+r.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,n){void 0===n&&(n=!1);var i=this._style.letterSpacing,o="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype;if(0===i||o)return o&&(this.context.letterSpacing=i,this.context.textLetterSpacing=i),void(n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r));for(var a=e,s=Array.from?Array.from(t):t.split(""),u=this.context.measureText(t).width,l=0,h=0;h<s.length;++h){var c=s[h];n?this.context.strokeText(c,a,r):this.context.fillText(c,a,r),a+=u-(l=this.context.measureText(t.substring(h+1)).width)+i,u=l}},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=bn(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;r.trim.width=r._frame.width=t.width/this._resolution,r.trim.height=r._frame.height=t.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),r.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,r){var n,i=t.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,s=this.canvas.width/this._resolution-o-2*a,u=this.canvas.height/this._resolution-o-2*a,l=i.slice(),h=t.fillGradientStops.slice();if(!h.length)for(var c=l.length+1,f=1;f<c;++f)h.push(f/c);if(l.unshift(i[0]),h.unshift(0),l.push(i[i.length-1]),h.push(1),t.fillGradientType===al.LINEAR_VERTICAL){n=this.context.createLinearGradient(s/2,a,s/2,u+a);var d=r.fontProperties.fontSize+t.strokeThickness;for(f=0;f<e.length;f++){var p=r.lineHeight*(f-1)+d,v=r.lineHeight*f,m=v;f>0&&p>v&&(m=(v+p)/2);var g=v+d,y=r.lineHeight*(f+1),b=g;f+1<e.length&&y<g&&(b=(g+y)/2);for(var _=(b-m)/u,w=0;w<l.length;w++){var x=0;x="number"===typeof h[w]?h[w]:w/l.length;var E=Math.min(1,Math.max(0,m/u+x*_));E=Number(E.toFixed(5)),n.addColorStop(E,l[w])}}}else{n=this.context.createLinearGradient(a,u/2,s+a,u/2);var M=l.length+1,S=1;for(f=0;f<l.length;f++){var A=void 0;A="number"===typeof h[f]?h[f]:S/M,n.addColorStop(A,l[f]),S++}}return n},e.prototype.destroy=function(e){"boolean"===typeof e&&(e={children:e}),e=Object.assign({},bl,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=un(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=un(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof dl?t:new dl(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null===t||void 0===t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e}(ll);Ir.UPLOADS_PER_FRAME=4;var wl=function(t,e){return wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},wl(t,e)};var xl=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function El(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof no){var i=t._textures[n].baseTexture;-1===e.indexOf(i)&&(e.push(i),r=!0)}return r}function Ml(t,e){if(t.baseTexture instanceof ji){var r=t.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Sl(t,e){if(t._texture&&t._texture instanceof no){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Al(t,e){return e instanceof _l&&(e.updateText(!0),!0)}function kl(t,e){if(e instanceof dl){var r=e.toFontString();return gl.measureFont(r),!0}return!1}function Tl(t,e){if(t instanceof _l){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function Rl(t,e){return t instanceof dl&&(-1===e.indexOf(t)&&e.push(t),!0)}var Pl=function(){function t(t){var e=this;this.limiter=new xl(Ir.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Tl),this.registerFindHook(Rl),this.registerFindHook(El),this.registerFindHook(Ml),this.registerFindHook(Sl),this.registerUploadHook(Al),this.registerUploadHook(kl)}return t.prototype.upload=function(t,e){"function"===typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,xi.system.addOnce(this.tick,this,bi.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)xi.system.addOnce(this.tick,this,bi.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(r=0,n=i.length;r<n;r++)i[r]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof gi)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&xi.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Il(t,e){return e instanceof ji&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Nl(t,e){if(!(e instanceof nl))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&Il(t,o.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function Ol(t,e){return t instanceof nl&&(e.push(t),!0)}var Cl=function(t){function e(e){var r=t.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Ol),r.registerUploadHook(Il),r.registerUploadHook(Nl),r}return function(t,e){function r(){this.constructor=t}wl(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(Pl),Dl=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}(),Ll=function(){function t(t,e,r){void 0===r&&(r=null),this._texture=t instanceof no?t:null,this.baseTexture=t instanceof ji?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=Mn(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],a=o.frame;if(a){var s=null,u=null,l=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,h=new Rn(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);s=o.rotated?new Rn(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new Rn(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(u=new Rn(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new no(this.baseTexture,s,h,u,o.rotated?2:0,o.anchor),no.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var n=t[e][r];this.animations[e].push(this.textures[n])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),Fl=function(){function t(){}return t.use=function(e,r){var n,i,o=this,a=e.name+"_image";if(e.data&&e.type===bs.TYPE.JSON&&e.data.frames&&!o.resources[a]){var s=null===(i=null===(n=e.data)||void 0===n?void 0:n.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(s))for(var u=function(t){if("string"!==typeof t)return"continue";var r=t.replace(".json",""),n=Fr.resolve(e.url.replace(o.baseUrl,""),t);if(o.resources[r]||Object.values(o.resources).some((function(t){return Fr.format(Fr.parse(t.url))===n})))return"continue";var i={crossOrigin:e.crossOrigin,loadType:bs.LOAD_TYPE.XHR,xhrType:bs.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};o.add(r,n,i)},l=0,h=s;l<h.length;l++){u(h[l])}var c={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},f=t.getResourcePath(e,o.baseUrl);o.add(a,f,c,(function(t){if(t.error)r(t.error);else{var n=new Ll(t.texture,e.data,e.url);n.parse((function(){e.spritesheet=n,e.textures=n.textures,r()}))}}))}else r()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Fr.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),Bl=function(t,e){return Bl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Bl(t,e)};function Ul(t,e){function r(){this.constructor=t}Bl(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Gl=new Cn,jl=function(t){function e(e,r,n){void 0===r&&(r=100),void 0===n&&(n=100);var i=t.call(this,e)||this;return i.tileTransform=new Wn,i._width=r,i._height=n,i.uvMatrix=i.texture.uvMatrix||new ua(e),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}return Ul(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rn),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Gl);var e=this._width,r=this._height,n=-e*this.anchor._x;if(Gl.x>=n&&Gl.x<n+e){var i=-r*this.anchor._y;if(Gl.y>=i&&Gl.y<i+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r){return new e(t instanceof no?t:no.from(t,r),r.width,r.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(ll),zl="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Hl=new Ln,Vl=function(t){function e(e){var r=t.call(this,e)||this;return e.runners.contextChange.add(r),r.quad=new go,r.state=oa.for2d(),r}return Ul(e,t),e.prototype.contextChange=function(){var t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=ia.from(zl,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",e),this.shader=t.context.webGLVersion>1?ia.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",e):ia.from(zl,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",e)},e.prototype.render=function(t){var e=this.renderer,r=this.quad,n=r.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y);var i=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;(n=r.uvs)[0]=n[6]=-i,n[1]=n[3]=-o,n[2]=n[4]=1-i,n[5]=n[7]=1-o,r.invalidate();var a=t._texture,s=a.baseTexture,u=t.tileTransform.localTransform,l=t.uvMatrix,h=s.isPowerOfTwo&&a.frame.width===s.width&&a.frame.height===s.height;h&&(s._glTextures[e.CONTEXT_UID]?h=s.wrapMode!==xr.CLAMP:s.wrapMode===xr.CLAMP&&(s.wrapMode=xr.REPEAT));var c=h?this.simpleShader:this.shader,f=a.width,d=a.height,p=t._width,v=t._height;Hl.set(u.a*f/p,u.b*f/v,u.c*d/p,u.d*d/v,u.tx/p,u.ty/v),Hl.invert(),h?Hl.prepend(l.mapCoord):(c.uniforms.uMapCoord=l.mapCoord.toArray(!0),c.uniforms.uClampFrame=l.uClampFrame,c.uniforms.uClampOffset=l.uClampOffset),c.uniforms.uTransform=Hl.toArray(!0),c.uniforms.uColor=$r(t.tint,t.worldAlpha,c.uniforms.uColor,s.alphaMode),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=a,e.shader.bind(c),e.geometry.bind(r),this.state.blendMode=Kr(t.blendMode,s.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Mo),Wl=function(t,e){return Wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Wl(t,e)};function ql(t,e){function r(){this.constructor=t}Wl(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Xl=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Zl=new Cn,Kl=new Nn,Yl=function(t){function e(e,r,n,i){void 0===i&&(i=mr.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,o.shader=r,o.state=n||oa.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=Ir.ROUND_PIXELS,o.batchUvs=null,o}return ql(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===mr.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,u=n.tx,l=n.ty,h=this.vertexData,c=0;c<h.length/2;c++){var f=e[2*c],d=e[2*c+1];h[2*c]=i*f+a*d+u,h[2*c+1]=o*f+s*d+l}if(this._roundPixels){var p=Ir.RESOLUTION;for(c=0;c<h.length;++c)h[c]=Math.round((h[c]*p|0)/p)}this.vertexDirty=r}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new Xl(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Zl);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=Kl.points,n=this.geometry.getIndex().data,i=n.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*n[a],u=2*n[a+1],l=2*n[a+2];if(r[0]=e[s],r[1]=e[s+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[l],r[5]=e[l+1],Kl.contains(Zl.x,Zl.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(gi),Jl=function(t){function e(e,r){var n=this,i={uSampler:e,alpha:1,uTextureMatrix:Ln.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(i,r.uniforms),(n=t.call(this,r.program||na.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,n.uvMatrix=new ua(e),n.batchable=void 0===r.program,n.pluginName=r.pluginName,n.tint=r.tint,n.alpha=r.alpha,n}return ql(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;$r(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(ia),$l=function(t){function e(e,r,n){var i=t.call(this)||this,o=new lo(e),a=new lo(r,!0),s=new lo(n,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,br.FLOAT).addAttribute("aTextureCoord",a,2,!1,br.FLOAT).addIndex(s),i._updateId=-1,i}return ql(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(vo),Ql=function(t,e){return Ql=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Ql(t,e)};var th=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},eh=function(){function t(){}return t.test=function(t){return"string"===typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var n in e){var i=e[n].match(/^[a-z]+/gm)[0],o=e[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in o){var u=o[s].split("="),l=u[0],h=u[1].replace(/"/gm,""),c=parseFloat(h),f=isNaN(c)?h:c;a[l]=f}r[i].push(a)}var d=new th;return r.info.forEach((function(t){return d.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return d.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return d.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return d.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return d.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),r.distanceField.forEach((function(t){return d.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType})})),d},t}(),rh=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new th,r=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),s=t.getElementsByTagName("distanceField"),u=0;u<r.length;u++)e.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)});for(u=0;u<n.length;u++)e.common.push({lineHeight:parseInt(n[u].getAttribute("lineHeight"),10)});for(u=0;u<i.length;u++)e.page.push({id:parseInt(i[u].getAttribute("id"),10)||0,file:i[u].getAttribute("file")});for(u=0;u<o.length;u++){var l=o[u];e.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(u=0;u<a.length;u++)e.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(u=0;u<s.length;u++)e.distanceField.push({fieldType:s[u].getAttribute("fieldType"),distanceRange:parseInt(s[u].getAttribute("distanceRange"),10)});return e},t}(),nh=function(){function t(){}return t.test=function(t){if("string"===typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return rh.test(e)}return!1},t.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return rh.parse(e)},t}(),ih=[eh,rh,nh];function oh(t){for(var e=0;e<ih.length;e++)if(ih[e].test(t))return ih[e];return null}function ah(t,e,r,n,i,o,a){var s=r.text,u=r.fontProperties;e.translate(n,i),e.scale(o,o);var l=a.strokeThickness/2,h=-a.strokeThickness/2;e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=function(t,e,r,n,i,o){var a,s=r.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,h=t.width/n-u-2*l,c=t.height/n-u-2*l,f=s.slice(),d=r.fillGradientStops.slice();if(!d.length)for(var p=f.length+1,v=1;v<p;++v)d.push(v/p);if(f.unshift(s[0]),d.unshift(0),f.push(s[s.length-1]),d.push(1),r.fillGradientType===al.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,l,h/2,c+l);var m=0,g=(o.fontProperties.fontSize+r.strokeThickness)/c;for(v=0;v<i.length;v++)for(var y=o.lineHeight*v,b=0;b<f.length;b++){var _=y/c+("number"===typeof d[b]?d[b]:b/f.length)*g,w=Math.max(m,_);w=Math.min(w,1),a.addColorStop(w,f[b]),m=w}}else{a=e.createLinearGradient(l,c/2,h+l,c/2);var x=f.length+1,E=1;for(v=0;v<f.length;v++){var M=void 0;M="number"===typeof d[v]?d[v]:E/x,a.addColorStop(M,f[v]),E++}}return a}(t,e,a,o,[s],r),e.strokeStyle=a.stroke;var c=a.dropShadowColor,f=Vr("number"===typeof c?c:qr(c));a.dropShadow?(e.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+a.dropShadowAlpha+")",e.shadowBlur=a.dropShadowBlur,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*a.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),a.stroke&&a.strokeThickness&&e.strokeText(s,l,h+r.lineHeight-u.descent),a.fill&&e.fillText(s,l,h+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function sh(t){return Array.from?Array.from(t):t.split("")}function uh(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var lh=function(){function t(t,e,r){var n,i,o=t.info[0],a=t.common[0],s=t.page[0],u=t.distanceField[0],l=Mn(s.file),h={};this._ownsTextures=r,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/l,this.chars={},this.pageTextures=h;for(var c=0;c<t.page.length;c++){var f=t.page[c],d=f.id,p=f.file;h[d]=e instanceof Array?e[c]:e[p],(null===u||void 0===u?void 0:u.fieldType)&&"none"!==u.fieldType&&(h[d].baseTexture.alphaMode=Mr.NO_PREMULTIPLIED_ALPHA)}for(c=0;c<t.char.length;c++){var v=t.char[c],m=(d=v.id,v.page),g=t.char[c],y=g.x,b=g.y,_=g.width,w=g.height,x=g.xoffset,E=g.yoffset,M=g.xadvance;b/=l,_/=l,w/=l,x/=l,E/=l,M/=l;var S=new Rn((y/=l)+h[m].frame.x/l,b+h[m].frame.y/l,_,w);this.chars[d]={xOffset:x,yOffset:E,xAdvance:M,kerning:{},texture:new no(h[m].baseTexture,S),page:m}}for(c=0;c<t.kerning.length;c++){var A=t.kerning[c],k=A.first,T=A.second,R=A.amount;k/=l,T/=l,R/=l,this.chars[T]&&(this.chars[T].kerning[k]=R)}this.distanceFieldRange=null===u||void 0===u?void 0:u.distanceRange,this.distanceFieldType=null!==(i=null===(n=null===u||void 0===u?void 0:u.fieldType)||void 0===n?void 0:n.toLowerCase())&&void 0!==i?i:"none"}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof th)i=e;else{var o=oh(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof no&&(r=[r]);var a=new t(i,r,n);return t.available[a.font]=a,a},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),o=i.chars,a=i.padding,s=i.resolution,u=i.textureWidth,l=i.textureHeight,h=function(t){"string"===typeof t&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,u=a;s<=u;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,sh(i))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),c=r instanceof dl?r:new dl(r),f=u,d=new th;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};for(var p,v,m,g=0,y=0,b=0,_=[],w=0;w<h.length;w++){p||((p=document.createElement("canvas")).width=u,p.height=l,v=p.getContext("2d"),m=new ji(p,{resolution:s}),_.push(new no(m)),d.page.push({id:_.length-1,file:""}));var x=gl.measureText(h[w],c,!1,p),E=x.width,M=Math.ceil(x.height),S=Math.ceil(("italic"===c.fontStyle?2:1)*E);if(y>=l-M*s){if(0===y)throw new Error("[BitmapFont] textureHeight "+l+"px is too small for "+c.fontSize+"px fonts");--w,p=null,v=null,m=null,y=0,g=0,b=0}else if(b=Math.max(M+x.fontProperties.descent,b),S*s+g>=f)--w,y+=b*s,y=Math.ceil(y),g=0,b=0;else{ah(p,v,x,g,y,s,c);var A=uh(x.text);d.char.push({id:A,page:_.length-1,x:g/s,y:y/s,width:S,height:M,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),g+=(S+2*a)*s,g=Math.ceil(g)}}w=0;for(var k=h.length;w<k;w++)for(var T=h[w],R=0;R<k;R++){var P=h[R],I=v.measureText(T).width,N=v.measureText(P).width,O=v.measureText(T+P).width-(I+N);O&&d.kerning.push({first:uh(T),second:uh(P),amount:O})}var C=new t(d,_,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=C,C},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),hh=[],ch=[],fh=[],dh=function(t){function e(r,n){void 0===n&&(n={});var i=t.call(this)||this;i._tint=16777215;var o=Object.assign({},e.styleDefaults,n),a=o.align,s=o.tint,u=o.maxWidth,l=o.letterSpacing,h=o.fontName,c=o.fontSize;if(!lh.available[h])throw new Error('Missing BitmapFont "'+h+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=h,i._fontSize=c||lh.available[h].size,i._text=r,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=l,i._anchor=new Dn((function(){i.dirty=!0}),i,0,0),i._roundPixels=Ir.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return function(t,e){function r(){this.constructor=t}Ql(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(){for(var t,e=lh.available[this._fontName],r=this._fontSize/e.size,n=new Cn,i=[],o=[],a=[],s=sh(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),u=this._maxWidth*e.size/this._fontSize,l="none"===e.distanceFieldType?hh:ch,h=null,c=0,f=0,d=0,p=-1,v=0,m=0,g=0,y=0,b=0;b<s.length;b++){var _=uh(G=s[b]);if(/(?:\s)/.test(G)&&(p=b,v=c,y++),"\r"!==G&&"\n"!==G){var w=e.chars[_];if(w){h&&w.kerning[h]&&(n.x+=w.kerning[h]);var x=fh.pop()||{texture:no.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Cn};x.texture=w.texture,x.line=d,x.charCode=_,x.position.x=n.x+w.xOffset+this._letterSpacing/2,x.position.y=n.y+w.yOffset,x.prevSpaces=y,i.push(x),c=x.position.x+w.texture.orig.width,n.x+=w.xAdvance+this._letterSpacing,g=Math.max(g,w.yOffset+w.texture.height),h=_,-1!==p&&u>0&&n.x>u&&(sn(i,1+p-++m,1+b-p),b=p,p=-1,o.push(v),a.push(i.length>0?i[i.length-1].prevSpaces:0),f=Math.max(f,v),d++,n.x=0,n.y+=e.lineHeight,h=null,y=0)}}else o.push(c),a.push(-1),f=Math.max(f,c),++d,++m,n.x=0,n.y+=e.lineHeight,h=null,y=0}var E=s[s.length-1];"\r"!==E&&"\n"!==E&&(/(?:\s)/.test(E)&&(c=v),o.push(c),f=Math.max(f,c),a.push(-1));var M=[];for(b=0;b<=d;b++){var S=0;"right"===this._align?S=f-o[b]:"center"===this._align?S=(f-o[b])/2:"justify"===this._align&&(S=a[b]<0?0:(f-o[b])/a[b]),M.push(S)}var A=i.length,k={},T=[],R=this._activePagesMeshData;for(b=0;b<R.length;b++)l.push(R[b]);for(b=0;b<A;b++){var P=(z=i[b].texture).baseTexture.uid;if(!k[P]){if(!(K=l.pop())){var I=new $l,N=void 0,O=void 0;"none"===e.distanceFieldType?(N=new Jl(no.EMPTY),O=vr.NORMAL):(N=new Jl(no.EMPTY,{program:na.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),O=vr.NORMAL_NPM);var C=new Yl(I,N);C.blendMode=O,K={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:C,vertices:null,uvs:null,indices:null}}K.index=0,K.indexCount=0,K.vertexCount=0,K.uvsCount=0,K.total=0;var D=this._textureCache;D[P]=D[P]||new no(z.baseTexture),K.mesh.texture=D[P],K.mesh.tint=this._tint,T.push(K),k[P]=K}k[P].total++}for(b=0;b<R.length;b++)-1===T.indexOf(R[b])&&this.removeChild(R[b].mesh);for(b=0;b<T.length;b++)T[b].mesh.parent!==this&&this.addChild(T[b].mesh);for(var b in this._activePagesMeshData=T,k){var L=(K=k[b]).total;if(!((null===(t=K.indices)||void 0===t?void 0:t.length)>6*L)||K.vertices.length<2*Yl.BATCHABLE_SIZE)K.vertices=new Float32Array(8*L),K.uvs=new Float32Array(8*L),K.indices=new Uint16Array(6*L);else for(var F=K.total,B=K.vertices,U=4*F*2;U<B.length;U++)B[U]=0;K.mesh.size=6*L}for(b=0;b<A;b++){var G,j=(G=i[b]).position.x+M[G.line]*("justify"===this._align?G.prevSpaces:1);this._roundPixels&&(j=Math.round(j));var z,H=j*r,V=G.position.y*r,W=k[(z=G.texture).baseTexture.uid],q=z.frame,X=z._uvs,Z=W.index++;W.indices[6*Z+0]=0+4*Z,W.indices[6*Z+1]=1+4*Z,W.indices[6*Z+2]=2+4*Z,W.indices[6*Z+3]=0+4*Z,W.indices[6*Z+4]=2+4*Z,W.indices[6*Z+5]=3+4*Z,W.vertices[8*Z+0]=H,W.vertices[8*Z+1]=V,W.vertices[8*Z+2]=H+q.width*r,W.vertices[8*Z+3]=V,W.vertices[8*Z+4]=H+q.width*r,W.vertices[8*Z+5]=V+q.height*r,W.vertices[8*Z+6]=H,W.vertices[8*Z+7]=V+q.height*r,W.uvs[8*Z+0]=X.x0,W.uvs[8*Z+1]=X.y0,W.uvs[8*Z+2]=X.x1,W.uvs[8*Z+3]=X.y1,W.uvs[8*Z+4]=X.x2,W.uvs[8*Z+5]=X.y2,W.uvs[8*Z+6]=X.x3,W.uvs[8*Z+7]=X.y3}for(var b in this._textWidth=f*r,this._textHeight=(n.y+e.lineHeight)*r,k){var K=k[b];if(0!==this.anchor.x||0!==this.anchor.y)for(var Y=0,J=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y,Q=0;Q<K.total;Q++)K.vertices[Y++]-=J,K.vertices[Y++]-=$,K.vertices[Y++]-=J,K.vertices[Y++]-=$,K.vertices[Y++]-=J,K.vertices[Y++]-=$,K.vertices[Y++]-=J,K.vertices[Y++]-=$;this._maxLineHeight=g*r;var tt=K.mesh.geometry.getBuffer("aVertexPosition"),et=K.mesh.geometry.getBuffer("aTextureCoord"),rt=K.mesh.geometry.getIndex();tt.data=K.vertices,et.data=K.uvs,rt.data=K.indices,tt.update(),et.update(),rt.update()}for(b=0;b<i.length;b++)fh.push(i[b])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(e){var r=lh.available[this._fontName],n=r.distanceFieldRange,i=r.distanceFieldType,o=r.size;if("none"!==i)for(var a=this.worldTransform,s=a.a,u=a.b,l=a.c,h=a.d,c=Math.sqrt(s*s+u*u),f=Math.sqrt(l*l+h*h),d=(Math.abs(c)+Math.abs(f))/2,p=this._fontSize/o,v=0,m=this._activePagesMeshData;v<m.length;v++){m[v].mesh.shader.uniforms.uFWidth=d*n*p*e.resolution}t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!lh.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"===typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null===t||void 0===t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype.destroy=function(e){var r=this._textureCache;for(var n in r){r[n].destroy(),delete r[n]}this._textureCache=null,t.prototype.destroy.call(this,e)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(gi),ph=function(){function t(){}return t.add=function(){bs.setExtensionXhrType("fnt",bs.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=oh(e.data);if(n)for(var i=t.getBaseUrl(this,e),o=n.parse(e.data),a={},s=function(t){a[t.metadata.pageFile]=t.texture,Object.keys(a).length===o.page.length&&(e.bitmapFont=lh.install(o,a,!0),r())},u=0;u<o.page.length;++u){var l=o.page[u].file,h=i+l,c=!1;for(var f in this.resources){var d=this.resources[f];if(d.url===h){d.metadata.pageFile=l,d.texture?s(d):d.onAfterMiddleware.add(s),c=!0;break}}if(!c){var p={crossOrigin:e.crossOrigin,loadType:bs.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(h,p,s)}}else r()},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===n&&(n=""),e.baseUrl&&n&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(n+="/")),(n=n.replace(e.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}(),vh=function(t,e){return vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},vh(t,e)};var mh=function(t){function e(e){void 0===e&&(e=1);var r=t.call(this,za,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}return function(t,e){function r(){this.constructor=t}vh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(aa),gh=function(t,e){return gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},gh(t,e)};function yh(t,e){function r(){this.constructor=t}gh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var bh,_h,wh,xh,Eh,Mh,Sh,Ah,kh,Th,Rh,Ph,Ih,Nh,Oh,Ch,Dh,Lh,Fh,Bh={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Uh=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(bh||(bh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(_h||(_h={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(wh||(wh={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(xh||(xh={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Eh||(Eh={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Mh||(Mh={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Sh||(Sh={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Ah||(Ah={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(kh||(kh={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Th||(Th={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Rh||(Rh={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(Ph||(Ph={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Ih||(Ih={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Nh||(Nh={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Oh||(Oh={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Ch||(Ch={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Dh||(Dh={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Lh||(Lh={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Fh||(Fh={}));var Gh=function(t){function e(e,r,n,i,o){void 0===r&&(r=8),void 0===n&&(n=4),void 0===i&&(i=Ir.FILTER_RESOLUTION),void 0===o&&(o=5);var a=this,s=function(t,e){var r,n=Math.ceil(t/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=r.replace("%index%",a.toString());o+=s=s.replace("%sampleIndex%",a-(n-1)+".0"),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o,e),u=function(t){for(var e,r=Bh[t],n=r.length,i=Uh,o="",a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());e=a,a>=n&&(e=t-a-1),o+=s=s.replace("%value%",r[e].toString()),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(o);return(a=t.call(this,s,u)||this).horizontal=e,a.resolution=i,a._quality=0,a.quality=n,a.blur=r,a}return yh(e,t),e.prototype.apply=function(t,e,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{var i=t.getFilterTexture(),o=t.renderer,a=e,s=i;this.state.blend=!1,t.applyFilter(this,a,s,Nh.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(a,Nh.BLIT),this.uniforms.uSampler=s;var l=s;s=a,a=l,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,s,r,n),t.returnFilterTexture(i)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(aa),jh=function(t){function e(e,r,n,i){void 0===e&&(e=8),void 0===r&&(r=4),void 0===n&&(n=Ir.FILTER_RESOLUTION),void 0===i&&(i=5);var o=t.call(this)||this;return o.blurXFilter=new Gh(!0,e,r,n,i),o.blurYFilter=new Gh(!1,e,r,n,i),o.resolution=n,o.quality=r,o.blur=e,o.repeatEdgePixels=!1,o}return yh(e,t),e.prototype.apply=function(t,e,r,n){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var a=t.getFilterTexture();this.blurXFilter.apply(t,e,a,Nh.CLEAR),this.blurYFilter.apply(t,a,r,n),t.returnFilterTexture(a)}else o?this.blurYFilter.apply(t,e,r,n):this.blurXFilter.apply(t,e,r,n)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(aa),zh=function(t,e){return zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},zh(t,e)};var Hh=function(t){function e(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,Ha,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function(t,e){function r(){this.constructor=t}zh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.tint=function(t,e){var r=[(t>>16&255)/255,0,0,0,0,0,(t>>8&255)/255,0,0,0,0,0,(255&t)/255,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),n=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,n,i){var o=((r=r||16770432)>>16&255)/255,a=(r>>8&255)/255,s=(255&r)/255,u=((n=n||3375104)>>16&255)/255,l=(n>>8&255)/255,h=(255&n)/255,c=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,l,h,e=e||.15,0,o-u,a-l,s-h,0,0];this._loadMatrix(c,i)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(aa);Hh.prototype.grayscale=Hh.prototype.greyscale;var Vh=function(t,e){return Vh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Vh(t,e)};var Wh=function(t){function e(e,r){var n=this,i=new Ln;return e.renderable=!1,(n=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,n.maskMatrix=i,null!==r&&void 0!==r||(r=20),n.scale=new Cn(r,r),n}return function(t,e){function r(){this.constructor=t}Vh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.apply=function(t,e,r,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),t.applyFilter(this,e,r,n)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(aa),qh=function(t,e){return qh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},qh(t,e)};var Xh=function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(t,e){function r(){this.constructor=t}qh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e}(aa),Zh=function(t,e){return Zh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Zh(t,e)};var Kh,Yh,Jh,$h,Qh,tc,ec,rc,nc,ic,oc,ac,sc,uc,lc,hc,cc,fc,dc,pc=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var n=t.call(this,Ha,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return n.noise=e,n.seed=r,n}return function(t,e){function r(){this.constructor=t}Zh(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(aa);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Kh||(Kh={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Yh||(Yh={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Jh||(Jh={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}($h||($h={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Qh||(Qh={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(tc||(tc={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(ec||(ec={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(rc||(rc={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(nc||(nc={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(ic||(ic={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(oc||(oc={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(ac||(ac={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(sc||(sc={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(uc||(uc={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(lc||(lc={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(hc||(hc={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(cc||(cc={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(fc||(fc={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(dc||(dc={}));var vc=new Ln;pi.prototype._cacheAsBitmap=!1,pi.prototype._cacheData=null,pi.prototype._cacheAsBitmapResolution=null,pi.prototype._cacheAsBitmapMultisample=fc.NONE;var mc=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(pi.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new mc),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),pi.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},pi.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var r=this.alpha;this.alpha=1,t.batch.flush();var n=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var i=this.filters[0].padding;n.pad(i)}n.ceil(Ir.RESOLUTION);var o=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),u=t.projection.transform,l=oo.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),h="cacheAsBitmap_"+hn();this._cacheData.textureCacheId=h,ji.addToCache(l.baseTexture,h),no.addToCache(l,h);var c=this.transform.localTransform.copyTo(vc).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=u,t.renderTexture.bind(o,a,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var f=new ll(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-n.x/n.width,f.anchor.y=-n.y/n.height,f.alpha=r,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)}},pi.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},pi.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var n=t.context,i=t._projTransform;e.ceil(Ir.RESOLUTION);var o=oo.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+hn();this._cacheData.textureCacheId=a,ji.addToCache(o.baseTexture,a),no.addToCache(o,a);var s=vc;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:s,skipUpdateTransform:!1}),t.context=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var u=new ll(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},pi.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},pi.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},pi.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ji.removeFromCache(this._cacheData.textureCacheId),no.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},pi.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},pi.prototype.name=null,gi.prototype.getChildByName=function(t,e){for(var r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,n=this.children.length;r<n;r++){if(this.children[r].getChildByName){var i=this.children[r].getChildByName(t,!0);if(i)return i}}return null},pi.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new Cn),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var gc=function(t,e){return gc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},gc(t,e)};function yc(t,e){function r(){this.constructor=t}gc(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var bc=function(t){function e(e,r,n,i){void 0===e&&(e=100),void 0===r&&(r=100),void 0===n&&(n=10),void 0===i&&(i=10);var o=t.call(this)||this;return o.segWidth=n,o.segHeight=i,o.width=e,o.height=r,o.build(),o}return yc(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],n=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,u=0;u<t;u++){var l=u%this.segWidth,h=u/this.segWidth|0;e.push(l*a,h*s),r.push(l/i,h/o)}var c=i*o;for(u=0;u<c;u++){var f=u%i,d=u/i|0,p=d*this.segWidth+f,v=d*this.segWidth+f+1,m=(d+1)*this.segWidth+f,g=(d+1)*this.segWidth+f+1;n.push(p,v,m,v,g,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}($l),_c=function(t){function e(e,r,n){void 0===e&&(e=200),void 0===n&&(n=0);var i=t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return i.points=r,i._width=e,i.textureScale=n,i.build(),i}return yc(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),n=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),n.data=new Uint16Array(6*(t.length-1)));var i=r.data,o=n.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var a=0,s=t[0],u=this._width*this.textureScale,l=t.length,h=0;h<l;h++){var c=4*h;if(this.textureScale>0){var f=s.x-t[h].x,d=s.y-t[h].y,p=Math.sqrt(f*f+d*d);s=t[h],a+=p/u}else a=h/(l-1);i[c]=a,i[c+1]=0,i[c+2]=a,i[c+3]=1}var v=0;for(h=0;h<l-1;h++){c=2*h;o[v++]=c,o[v++]=c+1,o[v++]=c+2,o[v++]=c+2,o[v++]=c+1,o[v++]=c+3}r.update(),n.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],n=0,i=0,o=this.buffers[0].data,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;i=-((e=s<t.length-1?t[s+1]:u).x-r.x),n=e.y-r.y;var h=Math.sqrt(n*n+i*i),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;n/=h,i/=h,n*=c,i*=c,o[l]=u.x+n,o[l+1]=u.y+i,o[l+2]=u.x-n,o[l+3]=u.y-i,r=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}($l),wc=function(t){function e(e,r,n){void 0===n&&(n=0);var i=this,o=new _c(e.height,r,n),a=new Jl(e);return n>0&&(e.baseTexture.wrapMode=xr.REPEAT),(i=t.call(this,o,a)||this).autoUpdate=!0,i}return yc(e,t),e.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),t.prototype._render.call(this,e)},e}(Yl),xc=function(t){function e(e,r,n){var i=this,o=new bc(e.width,e.height,r,n),a=new Jl(no.WHITE);return(i=t.call(this,o,a)||this).texture=e,i.autoResize=!0,i}return yc(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry,e=this.shader.texture,r=e.width,n=e.height;!this.autoResize||t.width===r&&t.height===n||(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(Yl),Ec=function(t){function e(e,r,n,i,o){void 0===e&&(e=no.EMPTY);var a=this,s=new $l(r,n,i);s.getBuffer("aVertexPosition").static=!1;var u=new Jl(e);return(a=t.call(this,s,u,null,o)||this).autoUpdate=!0,a}return yc(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(Yl),Mc=function(t){function e(e,r,n,i,o){void 0===r&&(r=10),void 0===n&&(n=10),void 0===i&&(i=10),void 0===o&&(o=10);var a=t.call(this,no.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=r,a._rightWidth=i,a._topHeight=n,a._bottomHeight=o,a.texture=e,a}return yc(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,r=this._topHeight+this._bottomHeight,n=this._height>r?1:this._height/r;return Math.min(e,n)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(xc),Sc=function(t,e){return Sc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},Sc(t,e)};var Ac=function(t){function e(e,r){void 0===r&&(r=!0);var n=t.call(this,e[0]instanceof no?e[0]:e[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=r,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=e,n}return function(t,e){function r(){this.constructor=t}Sc(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(xi.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(xi.shared.add(this.update,this,bi.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],n=0;n<t.length;++n)r.push(no.from(t[n]));return new e(r)},e.fromImages=function(t){for(var r=[],n=0;n<t.length;++n)r.push(no.from(t[n]));return new e(r)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof no)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(xi.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(xi.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(ll);Ga.registerPlugin("accessibility",_i),Ga.registerPlugin("extract",ls),Ga.registerPlugin("interaction",Ii),Ga.registerPlugin("particle",ku),Ga.registerPlugin("prepare",Cl),Ga.registerPlugin("batch",ts),Ga.registerPlugin("tilingSprite",Vl),Ss.registerPlugin(ph),Ss.registerPlugin(Us),Ss.registerPlugin(iu),Ss.registerPlugin(_u),Ss.registerPlugin(Fl),as.registerPlugin(Ei),as.registerPlugin(As);var kc="6.2.1",Tc={AlphaFilter:mh,BlurFilter:jh,BlurFilterPass:Gh,ColorMatrixFilter:Hh,DisplacementFilter:Wh,FXAAFilter:Xh,NoiseFilter:pc};window.PIXI=e;var Rc=[{key:"3901",value:"Slime"},{key:"3902",value:"RedCoin"},{key:"3903",value:"YellowCoin"},{key:"3904",value:"ShaderSlime"},{key:"3905",value:"Torch"},{key:"3907",value:"IceElemental"},{key:"3908",value:"Fox"},{key:"3909",value:"Hedgehog"},{key:"3910",value:"Squirrel"},{key:"3911",value:"Cobra"},{key:"3912",value:"Armadillo"},{key:"3913",value:"RainbowBridge"},{key:"3914",value:"Lightning"},{key:"3915",value:"Windmill"},{key:"3916",value:"Portal"},{key:"3917",value:"BlackHole"},{key:"3918",value:"SuperTorch"},{key:"3919",value:"ProcedurallyGeneratedGround"},{key:"3920",value:"PC"},{key:"7920",value:"PC"},{key:"3921",value:"MultiMushroom"},{key:"3922",value:"QuestGiver"},{key:"4000",value:"Generic2DirectionalSprite"},{key:"4200",value:"NPC8D"}],Pc=r(79340),Ic=r(54062),Nc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],Oc=16,Cc=window.localStorage.getItem("NG_UPSCALE_FACTOR"),Dc=3;null!==Cc?Dc=Number(Cc):window.localStorage.setItem("NG_UPSCALE_FACTOR",String(Dc)),Dc<1&&(Dc=1);var Lc=Math.ceil(Dc),Fc=function(){function t(){(0,Ee.Z)(this,t),this.scratchPadBuffer=void 0,this.scratchPad=void 0,this.properties=void 0,this.properties=[],this.scratchPadBuffer=new ArrayBuffer(16),this.scratchPad=new Uint16Array(this.scratchPadBuffer)}return(0,Me.Z)(t,[{key:"load",value:function(t){for(var e=0;e<t.length;e++)this.properties.push(t[e])}},{key:"addProperty",value:function(t){this.properties.push(t)}},{key:"size",value:function(){return this.properties.reduce((function(t,e){return e.bits+t}),0)}},{key:"length",value:function(){return this.properties.length}},{key:"packRaw",value:function(t){for(var e=0;e<t.length;e++)this.scratchPad[e]=t[e]}},{key:"pack",value:function(t){var e=this,r=0,n=0,i=0,o=0;this.properties.forEach((function(a){o=(Oc-(r+a.bits)%Oc)%Oc,i|=t[a.key]<<o,r+=a.bits,e.scratchPad[n]=i,0===o&&(n+=1,i=0)}))}},{key:"unpack",value:function(){for(var t=[],e=[0,0],r=0;r<this.properties.length;r++)e[1]=e[0]+this.properties[r].bits,t.push({key:this.properties[r].key,value:this.unpackFromBuffer(e)}),e[0]=e[1];return t}},{key:"unpackFromBuffer",value:function(t){for(var e=t[1]-t[0],r=[Math.floor(t[0]/Oc),Math.floor(t[1]/Oc)],n=0;n<=r[1]-r[0];n++);var i=(Oc-t[1]%Oc)%Oc,o=Nc[e]<<i;return(this.scratchPad[r[0]]&o)>>i}}]),t}(),Bc=[{key:"id",bits:16},{key:"class",bits:16}],Uc=function(){function t(){(0,Ee.Z)(this,t),this.staticOrInstanced="static",this.template=void 0,this.attributes=[],this.assets=[],this.template=new Fc,this.template.load(Bc)}return(0,Me.Z)(t,[{key:"unpackTemplate",value:function(){this.attributes=this.template.unpack()}}]),t}(),Gc=[{key:"pos_x",bits:16},{key:"pos_y",bits:16}],jc=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).template.load(Gc),t}return(0,Me.Z)(r,[{key:"create",value:function(){return new gi}},{key:"update",value:function(t,e){var r,n,i=null===(r=this.attributes.find((function(t){return"pos_x"===t.key})))||void 0===r?void 0:r.value,o=null===(n=this.attributes.find((function(t){return"pos_y"===t.key})))||void 0===n?void 0:n.value;e.position.set(i,o)}}]),r}(Uc),zc=r(11752),Hc=r(61120),Vc=[{key:"hp",bits:8},{key:"mana",bits:8}],Wc=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).template.load(Vc),t}return(0,Me.Z)(r,[{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),qc=[{key:"animation",bits:8},{key:"direction",bits:8}],Xc=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).sizeX=-1,t.sizeY=-1,t.frameLengths=[],t.animationLUT=[],t.template.load(qc),t.unpackTemplate(),t}return(0,Me.Z)(r,[{key:"create",value:function(){if(0===this.assets.length)throw new Error("Your prefab needs to implement an asset");return this.convertSpriteSheet()}},{key:"update",value:function(t,e){var n,i,o;(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e);var a=null===(n=this.attributes.find((function(t){return"animation"===t.key})))||void 0===n?void 0:n.value,s=null===(i=this.attributes.find((function(t){return"direction"===t.key})))||void 0===i?void 0:i.value,u=null===(o=this.attributes.find((function(t){return"hp"===t.key})))||void 0===o?void 0:o.value,l=e.getChildAt(0);if(void 0!==a&&this.animationLUT[Number(a)]<l.children.length){l.children.forEach((function(t){return t.renderable=!1}));var h=l.children[this.animationLUT[Number(a)]];h.renderable=!0,4===Number(a)&&h.playing&&(h.gotoAndPlay(0),h.loop=!1)}e.children[0].scale.set(0===s?1:-1,1),e.children[1].children[1].scale.set(Number(u)/255,1),e.children[1].renderable=!1}},{key:"convertSpriteSheet",value:function(){var t=this,e=no.from(this.assets[0]).castToBaseTexture(),r=new gi;this.frameLengths.forEach((function(n,i){for(var o=[],a=0;a<n;a++)o.push(new no(e,new Rn(Math.floor(a*t.sizeX)+0,Math.floor(i*t.sizeY)+0,t.sizeX,t.sizeY)));var s=new Ac(o);s.name="animation_set_".concat(i),s.animationSpeed=.15,s.gotoAndPlay(Math.floor(Math.random()*n)),s.anchor.set(.5,1),s.renderable=!1,r.addChild(s)}));var n=new gi;n.addChild(r);var i=new gi;i.scale.set(.25,1),i.position.set(0,-20);var o=new ll(no.from(Ss.shared.resources.hp_bar.data)),a=new ll(no.from(Ss.shared.resources.hp_bar.data));o.position.set(-32,0),a.position.set(-32,0),i.addChild(o),i.addChild(a),a.tint=16711680,a.scale.set(1,1);var s=new ll(no.from(Ss.shared.resources.hp_bar.data));s.position.set(-32,2);var u=new ll(no.from(Ss.shared.resources.hp_bar.data));return u.position.set(-32,2),u.scale.set(1,1),u.tint=3368703,i.addChild(s),i.addChild(u),n.addChild(i),i.alpha=.5,n}}]),r}(jc),Zc=r(97326),Kc=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).sizeX=-1,t.sizeY=-1,t.frameLengths=[],t.animationLUT=[],t.uniforms={sizeMulti:1,flowDistance:.5,flowX:10,flowY:10,stretchX:40,stretchY:40,time:10240*Math.random(),size:800,theta:.5*Math.PI,offset:Math.random(),timeX:0,timeY:0},t.mushroomFilters=[],t.filters=[],t.buddyOn=!1,t.tickerFn=void 0,t.template.load(qc),t.unpackTemplate(),t.staticOrInstanced="instanced",t.assets.push("./images/wolf_no-edge_full.png"),t.toggleBuddy=t.toggleBuddy.bind((0,Zc.Z)(t)),window.toggleBuddy=t.toggleBuddy,t}return(0,Me.Z)(r,[{key:"toggleBuddy",value:function(){this.buddyOn=!this.buddyOn}},{key:"create",value:function(){var t=this,e=function(e){t.uniforms.time+=e,t.uniforms.offset=.05*(2*Math.random()-1)};if(this.tickerFn=e,xi.shared.add(e),0===this.assets.length)throw new Error("Your prefab needs to implement an asset");return this.convertSpriteSheet()}},{key:"update",value:function(t,e){if((0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e),this.buddyOn){var n,i=[{x:0,y:1},{x:-1,y:1},{x:1,y:1},{x:0,y:-1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:1},{x:1,y:-1}],o=Number(null===(n=this.attributes.find((function(t){return"direction"===t.key})))||void 0===n?void 0:n.value);o<8?(this.uniforms.flowX=-20*i[o%8].x,this.uniforms.flowY=-20*i[o%8].y):(this.uniforms.flowX=0,this.uniforms.flowY=-15),this.uniforms.theta=[-1,.5,.5,0,.75,.25,-.75,-.25][o%8]*Math.PI,e.children.forEach((function(t){t.renderable=!1})),e.children[o].renderable=!0}else e.children.forEach((function(t){t.renderable=!1}))}},{key:"convertSpriteSheet",value:function(){var t=this,e=no.from(this.assets[0]).castToBaseTexture(),r=new gi;["demo_shader_0","demo_shader_1","demo_shader_2","demo_shader_3","rainbow_dog_frag"].forEach((function(e){var r=new aa(void 0,Ss.shared.resources[e].data,t.uniforms);r.autoFit=!1,r.enabled=!0,r.padding=16,r.resolution=1,t.mushroomFilters.push(r)})),r.filters=[],this.filters=r.filters;var n=11184810;return this.frameLengths.forEach((function(i,o){for(var a=[],s=0;s<i;s++)a.push(new no(e,new Rn(Math.floor(s*t.sizeX)+0,Math.floor(o*t.sizeY)+0,t.sizeX,t.sizeY)));var u=new Ac(a);u.name="animation_set_".concat(o),u.animationSpeed=.15,u.gotoAndPlay(Math.floor(Math.random()*i)),u.anchor.set(.5,1),u.scale.set(1),u.tint=n,u.renderable=!1,r.addChild(u)})),this.frameLengths.forEach((function(i,o){for(var a=[],s=7;s<8;s++)a.push(new no(e,new Rn(Math.floor(s*t.sizeX)+0,Math.floor(o*t.sizeY)+0,t.sizeX,t.sizeY)));var u=new Ac(a);u.name="animation_set_".concat(o),u.tint=n,u.animationSpeed=.15,u.gotoAndPlay(Math.floor(1*Math.random())),u.anchor.set(.5,1),u.scale.set(1),u.renderable=!1,r.addChild(u)})),r}}]),r}(jc),Yc=window.localStorage.getItem("nft_id")||"0023",Jc=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).sizeX=-1,t.sizeY=-1,t.frameLengths=[],t.animationLUT=[],t.uniforms={sizeMulti:1,flowDistance:.5,flowX:10,flowY:10,stretchX:40,stretchY:40,time:10240*Math.random(),size:800,theta:.5*Math.PI,offset:Math.random(),timeX:0,timeY:0,centerPositionOffset:{x:.5,y:.5},centerPositionOffsetSample:{x:.5,y:.5},stacks:1,mushroom1:no.WHITE,mushroom2:no.WHITE,mushroom3:no.WHITE,mushroom4:no.WHITE,mushroom5:no.WHITE,mushroom6:no.WHITE,mushroom7:no.WHITE,mushroom8:no.WHITE,mushroom9:no.WHITE,mushroom10:no.WHITE},t.mushroomFilters=[],t.filters=[],t.tickerFn=void 0,t.template.load(qc),t.unpackTemplate(),t.staticOrInstanced="instanced",null!==Yc?(t.assets.push(["./output-sheets/",Yc,"_show - idle.png"].join("")),t.assets.push(["./output-sheets/",Yc,"_show - jog.png"].join(""))):(t.assets.push("./idle.png"),t.assets.push("./jog.png")),window.uniforms=t.uniforms,t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=this,e=function(e){t.uniforms.time+=e,t.uniforms.offset=.05*(2*Math.random()-1)};if(setTimeout((function(){t.uniforms.mushroom1=no.from(Ss.shared.resources["./images/mushrooms/mushroom_01.png"].data),t.uniforms.mushroom2=no.from(Ss.shared.resources["./images/mushrooms/mushroom_02.png"].data),t.uniforms.mushroom3=no.from(Ss.shared.resources["./images/mushrooms/mushroom_03.png"].data),t.uniforms.mushroom4=no.from(Ss.shared.resources["./images/mushrooms/mushroom_04.png"].data),t.uniforms.mushroom5=no.from(Ss.shared.resources["./images/mushrooms/mushroom_05.png"].data),t.uniforms.mushroom6=no.from(Ss.shared.resources["./images/mushrooms/mushroom_06.png"].data),t.uniforms.mushroom7=no.from(Ss.shared.resources["./images/mushrooms/mushroom_07.png"].data),t.uniforms.mushroom8=no.from(Ss.shared.resources["./images/mushrooms/mushroom_08.png"].data),t.uniforms.mushroom9=no.from(Ss.shared.resources["./images/mushrooms/mushroom_09.png"].data),t.uniforms.mushroom10=no.from(Ss.shared.resources["./images/mushrooms/mushroom_10.png"].data)}),600),this.tickerFn=e,xi.shared.add(e),0===this.assets.length)throw new Error("Your prefab needs to implement an asset");return this.convertSpriteSheet()}},{key:"update",value:function(t,e){var n;(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e);var i=[{x:0,y:1},{x:-1,y:1},{x:1,y:1},{x:0,y:-1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:1},{x:1,y:-1}],o=Number(null===(n=this.attributes.find((function(t){return"direction"===t.key})))||void 0===n?void 0:n.value);o<8?(this.uniforms.flowX=-20*i[o%8].x,this.uniforms.flowY=-20*i[o%8].y):(this.uniforms.flowX=0,this.uniforms.flowY=-15),this.uniforms.theta=[-1,.5,.5,0,.75,.25,-.75,-.25][o%8]*Math.PI,e.children.forEach((function(t){t.renderable=!1})),e.children[o].renderable=!0}},{key:"convertSpriteSheet",value:function(){var t=this,e=new gi;["demo_shader_0","demo_shader_1","demo_shader_2","demo_shader_3","rainbow_dog_frag","demo_shader_4","demo_shader_5","demo_shader_6","demo_shader_7","demo_shader_8"].forEach((function(e){var r=new aa(void 0,Ss.shared.resources[e].data,t.uniforms);r.autoFit=!1,r.enabled=!0,r.padding=0,r.resolution=1,t.mushroomFilters.push(r)})),e.filters=[],this.filters=e.filters;var r=null===Yc?64:96,n=[9,8],i=[9,8];[1,0].forEach((function(o){var a=no.from(t.assets[o]),s=a.castToBaseTexture();n[o]=a.width/r,i[o]=n[o];for(var u=[],l=0;l<8*n[o];l++){var h=Math.floor(l/i[o]),c=l-h*i[o];u.push(new no(s,new Rn(c*r,h*r,r,r)))}for(var f=0;f<8;f++){var d=new Ac(u.slice(f*n[o],f*n[o]+n[o]));d.animationSpeed=1.5/n[o],d.gotoAndPlay(0),d.anchor.set(.5,.85),d.scale.set(1),d.tint=16777215,d.renderable=!0,e.addChild(d)}}));var o=Math.pow(2,Math.ceil(Math.log(Math.ceil(window.innerWidth/Lc))/Math.log(2))),a=Math.pow(2,Math.ceil(Math.log(Math.ceil(window.innerHeight/Lc))/Math.log(2)));return e.filterArea=new Rn(.5*o-128,.5*a-128,256,256),e}}]),r}(jc);function $c(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void r(l)}s.done?e(u):Promise.resolve(u).then(n,i)}function Qc(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){$c(o,n,i,a,s,"next",t)}function s(t){$c(o,n,i,a,s,"throw",t)}a(void 0)}))}}var tf=r(87757),ef=r.n(tf),rf=[{key:"nftId",bits:16}],nf=["0023","0059","0067","0082","0102","0104","0113","0118","0134","0159","0161","0179","0180","0183","0206","0213","0224","0228","0256","0268","0272","0288","0307","0309","0338","0342","0361","0362","0374","0391","0393","0430","0445","0450","0452","0455","0468","0477","0484","0495","0497","0498","0502","0524","0563","0582","0593","0602","0620","0628","0687","0699","0700","0702","0705","0721","0723","0737","0760","0765","0779","0791","0829","0835","0865","0882","0886","0899","0909","0917","0924","0929","0934","0962","0977","0983","0989","0996","1009","1022","1049","1055","1056","1060","1061","1103","1140","1169","1201","1210","1211","1215","1218","1219","1236","1243","1244","1249","1278","1281"],of=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;(0,Ee.Z)(this,r),(t=e.call(this)).sizeX=-1,t.sizeY=-1,t.frameLengths=[],t.animationLUT=[],t.loaded=!1,t.tickerFn=void 0,t.template.load(qc),t.template.load(rf),t.unpackTemplate(),t.staticOrInstanced="instanced";var n=nf[Math.floor(Math.random()*nf.length)];return t.assets.push(["./output-sheets/",n,"_show - idle.png"].join("")),t.assets.push(["./output-sheets/",n,"_show - jog.png"].join("")),t}return(0,Me.Z)(r,[{key:"create",value:function(){return this.convertSpriteSheet()}},{key:"update",value:function(t,e){var n;(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e);var i=Number(null===(n=this.attributes.find((function(t){return"direction"===t.key})))||void 0===n?void 0:n.value);this.loaded&&(e.children[0].children.forEach((function(t){t.renderable=!1})),e.children[1].children.forEach((function(t){t.renderable=!1})),i<8?e.children[1].children[i].renderable=!0:e.children[0].children[i-8].renderable=!0)}},{key:"convertSpriteSheet",value:function(){var t=this,e=new gi;e.addChild(new gi),e.addChild(new gi);var r=[9,8],n=[9,8],i=[];return[1,0].forEach(function(){var o=Qc(ef().mark((function o(a){var s,u,l,h,c,f,d,p;return ef().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=no.from(t.assets[a],{resourceOptions:{autoLoad:!1}}),o.next=3,s.baseTexture.resource.load();case 3:for(u=s.castToBaseTexture(),r[a]=s.width/96,n[a]=r[a],l=[],h=0;h<8*r[a];h++)c=Math.floor(h/n[a]),f=h-c*n[a],l.push(new no(u,new Rn(96*f,96*c,96,96)));for(d=0;d<8;d++)(p=new Ac(l.slice(d*r[a],d*r[a]+r[a]))).animationSpeed=1.5/r[a],p.gotoAndPlay(Math.floor(Math.random()*p.totalFrames)),p.anchor.set(.5,.85),p.scale.set(1),p.tint=16777215,p.renderable=!0,e.children[a].addChild(p);i.push(a),2===i.length&&(t.loaded=!0,t.update(0,e));case 11:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}()),e}}]),r}(jc),af=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).assets.push("pixel_animation"),t}return(0,Me.Z)(r,[{key:"create",value:function(){var t,e=Ss.shared.resources.pixel_animation;e.spritesheet&&(t=new Ac(e.spritesheet.animations.idle_dude)),t.animationSpeed=.167+.01*Math.random(),t.scale.set(.2),t.anchor.set(.5,1),t.gotoAndPlay(Math.floor(6*Math.random()));var r=new gi;return r.addChild(t),r}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),sf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).assets.push("/images/barrel.png"),t}return(0,Me.Z)(r,[{key:"create",value:function(){return new ll(no.from(Ss.shared.resources[this.assets[0]].data))}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),uf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).assets.push("./images/orthographic-ground.png"),t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=new ll(no.from(Ss.shared.resources[this.assets[0]].data));return t.tint=7829367,t}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),lf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).assets.push("./images/wall.png"),t}return(0,Me.Z)(r,[{key:"create",value:function(){return new ll(no.from(Ss.shared.resources[this.assets[0]].data))}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),hf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).rageMode=!1,t.template.addProperty({key:"rageMode",bits:8}),t}return(0,Me.Z)(r,[{key:"update",value:function(t){}}]),r}(jc),cf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){return(0,Ee.Z)(this,r),e.apply(this,arguments)}return(0,Me.Z)(r,[{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),ff=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){return(0,Ee.Z)(this,r),e.apply(this,arguments)}return(0,Me.Z)(r,[{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),df=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).age=0,t.assets.push("/images/barrel.png"),t}return(0,Me.Z)(r,[{key:"create",value:function(){for(var t=new gi,e=new gi,r=0,n=Math.random(),i=Math.random(),o=0;o<10;o++)e.addChild(new ll(no.from(Ss.shared.resources[this.assets[0]].data)));return t.addChild(e),xi.shared.add((function(t){r+=t;for(var o=0;o<10;o++)e.children[o].position.x=.5*window.innerWidth*Math.sin(.01*r*n+o),e.children[o].position.y=.5*window.innerHeight*Math.cos(.01*r*i+o)})),t}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),pf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).assets.push("./images/slime-sheet.png"),t}return(0,Me.Z)(r,[{key:"create",value:function(){return this.convertSlime()}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"convertSlime",value:function(){for(var t=no.from(this.assets[0]),e=[],r=0;r<8;r++)e.push(new no(t.castToBaseTexture(),new Rn(32*r,0,32,26)));for(var n=[],i=0;i<8;i++)n.push(new no(t.castToBaseTexture(),new Rn(32*i,24,32,26)));var o=new gi,a=new Ac(e);a.name="idle_animation",a.animationSpeed=.15,a.play(),a.anchor.set(.5,1);var s=new Ac(n);return a.name="walking_animation",s.animationSpeed=.15,s.play(),s.anchor.set(.5,1),s.renderable=!1,o.addChild(a),o.addChild(s),o}}]),r}(jc),vf=[{key:"dead",bits:16}],mf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).template.load(vf),t}return(0,Me.Z)(r,[{key:"create",value:function(){return this.convertSpriteSheet()}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"convertSpriteSheet",value:function(){for(var t=no.from(this.assets[0]),e=[],r=0;r<t.width/16;r++)e.push(new no(t.castToBaseTexture(),new Rn(16*r,0,16,16)));var n=new Ac(e);return n.animationSpeed=1/8,n.gotoAndPlay(Math.floor(Math.random()*t.width/16)),n.anchor.set(.5,1),n}}]),r}(jc),gf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).assets.push("./images/coin-sheets/spr_coin_roj.png"),t}return(0,Me.Z)(r,[{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(mf),yf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).assets.push("./images/coin-sheets/MonedaP.png"),t}return(0,Me.Z)(r,[{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(mf),bf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).rgbGlitchUniforms={offset:.1*Math.random()},t.startTime=0,t.speed=0,t.tickerFn=void 0,t.assets.push("./images/slime-sheet.png"),t.staticOrInstanced="instanced",t.startTime=Date.now(),t.speed=.1*Math.random(),t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=this,e=function(e){t.rgbGlitchUniforms.offset=.1*Math.sin((t.startTime+Date.now())*t.speed)};return this.tickerFn=e,xi.shared.add(e),this.convertSlime()}},{key:"destroy",value:function(){xi.shared.remove(this.tickerFn)}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"convertSlime",value:function(){new aa(void 0,Ss.shared.resources.rgb_glitch_frag.data,this.rgbGlitchUniforms);for(var t=no.from(this.assets[0]),e=[],r=0;r<8;r++)e.push(new no(t.castToBaseTexture(),new Rn(32*r,0,32,26)));for(var n=[],i=0;i<8;i++)n.push(new no(t.castToBaseTexture(),new Rn(32*i,24,32,26)));var o=new gi,a=new Ac(e);a.name="idle_animation",a.animationSpeed=.15,a.play(),a.anchor.set(.5,1);var s=new Ac(n);return a.name="walking_animation",s.animationSpeed=.15,s.play(),s.anchor.set(.5,1),s.renderable=!1,o.addChild(a),o.addChild(s),o}}]),r}(jc),_f=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).uniforms={sizeMulti:1,flowDistance:.5,flowX:0,flowY:10+10*Math.random(),stretchX:40,stretchY:40,time:10240*Math.random(),size:800},t.startTime=0,t.speed=0,t.tickerFn=void 0,t.assets.push("./images/fire-base.png"),t.assets.push("./images/fire-flame-bigger.png"),t.staticOrInstanced="instanced",t.startTime=Date.now(),t.speed=.1*Math.random(),t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=this,e=function(e){t.uniforms.time+=e};return this.tickerFn=e,xi.shared.add(e),this.convertSlime()}},{key:"destroy",value:function(){xi.shared.remove(this.tickerFn)}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"convertSlime",value:function(){var t=new aa(void 0,Ss.shared.resources.fire_and_smoke_frag.data,this.uniforms),e=new gi,r=new ll(no.from(Ss.shared.resources[this.assets[0]].data)),n=new ll(no.from(Ss.shared.resources[this.assets[1]].data));return r.anchor.set(.5,1),n.anchor.set(.5,1),t.autoFit=!1,n.filters=[t],e.addChild(n),e}}]),r}(jc),wf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).template.load(vf),t.unpackTemplate(),t.assets.push("./images/ice-elemental.png"),t.sizeX=32,t.sizeY=32,t.frameLengths=[6,4,8,7,5,3,7],t}return(0,Me.Z)(r)}(Xc),xf=[{key:"score",bits:16}],Ef=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).template.load(xf),t.template.load(Vc),t.unpackTemplate(),t.assets.push("./images/animals/fox.png"),t.sizeX=32,t.sizeY=32,t.frameLengths=[5,14,8,11,5,6,7],t.animationLUT[3]=3,t.animationLUT[4]=6,t.animationLUT[0]=1,t.animationLUT[2]=4,t.animationLUT[1]=2,t}return(0,Me.Z)(r)}(Xc),Mf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).template.load(vf),t.unpackTemplate(),t.assets.push("./images/animals/hedgehog.png"),t.sizeX=32,t.sizeY=32,t.frameLengths=[4,4,4,3],t}return(0,Me.Z)(r)}(Xc),Sf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).template.load(xf),t.template.load(Vc),t.unpackTemplate(),t.assets.push("./images/animals/squirrel.png"),t.sizeX=32,t.sizeY=32,t.frameLengths=[6,6,8,4,2,4,4],t.animationLUT[3]=3,t.animationLUT[4]=6,t.animationLUT[0]=0,t.animationLUT[2]=5,t.animationLUT[1]=2,t}return(0,Me.Z)(r)}(Xc),Af=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).template.load(xf),t.template.load(Vc),t.unpackTemplate(),t.assets.push("./images/animals/cobra.png"),t.sizeX=32,t.sizeY=32,t.frameLengths=[8,8,6,4,6],t.animationLUT[3]=2,t.animationLUT[4]=4,t.animationLUT[0]=0,t.animationLUT[2]=3,t.animationLUT[1]=1,t}return(0,Me.Z)(r)}(Xc),kf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).template.load(vf),t.unpackTemplate(),t.assets.push("./images/animals/armadillo.png"),t.sizeX=32,t.sizeY=32,t.frameLengths=[7,4,7,3,3],t}return(0,Me.Z)(r)}(Xc),Tf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).uniforms={time:10240*Math.random(),theta:.785},t.tickerFn=void 0,t.assets.push("./images/bridge.png"),t.staticOrInstanced="instanced",t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=this,e=function(e){t.uniforms.time+=e};return this.tickerFn=e,xi.shared.add(e),this.createAsset()}},{key:"destroy",value:function(){xi.shared.remove(this.tickerFn)}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"createAsset",value:function(){var t=new gi,e=new ll(no.from(Ss.shared.resources[this.assets[0]].data)),r=new aa(void 0,Ss.shared.resources.rainbow_bridge_frag.data,this.uniforms);return e.filters=[r],e.anchor.set(.5),r.autoFit=!1,t.addChild(e),t}}]),r}(jc),Rf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).uniforms={time:10240*Math.random()},t.tickerFn=void 0,t.graphics=[],t.visibleIndex=0,t.assets.push("./images/bridge.png"),t.staticOrInstanced="instanced",t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=this,e=function(e){t.uniforms.time+=e,t.visibleIndex+=1,t.visibleIndex=t.visibleIndex%t.graphics.length,Math.random()<.35||(t.graphics.forEach((function(t){t.renderable=!1})),Math.random()<.5||(t.graphics[t.visibleIndex].renderable=!0))};return this.tickerFn=e,xi.shared.add(e),this.createAsset()}},{key:"destroy",value:function(){xi.shared.remove(this.tickerFn)}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"createAsset",value:function(){for(var t=this,e=new gi,r=0;r<16;r++)e.addChild(this.makeLightning());return e.children.forEach((function(e){t.graphics.push(e)})),e}},{key:"makeLightning",value:function(){var t=new nl;t.beginFill(16777215);var e=Math.floor(48),r=256,n=1;return new Array(64).fill(0).map((function(t,e){return{slope:Math.floor(4*Math.random())+2,distance:Math.floor(12*Math.random())+4}})).forEach((function(i,o){if(n*=-1,!(r<0))for(var a=0;a<i.distance;a++)if(r-=1,((e+=n*i.slope)>=96||e<=0)&&(n*=-1),r>0&&t.drawRect(e,r,i.slope,1),Math.random()<.2){for(var s=r,u=.5*i.distance,l=-1*n,h=Math.floor(2*Math.random())+2,c=e,f=0;f<u;f++)c+=l*h,(r+=1)>0&&t.drawRect(c,r,h,1);r=s}})),t.position.set(-48,-256),t}}]),r}(jc),Pf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).assets.push("/images/Windmill.png"),t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=new gi,e=no.from(Ss.shared.resources[this.assets[0]].data),r=new ll(e);return r.scale.set(.1),r.anchor.set(.5,1),t.addChild(r),t}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),If=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).uniforms={time:10240*Math.random()},t.tickerFn=void 0,t.assets.push("./images/bridge.png"),t.staticOrInstanced="instanced",t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=this,e=function(e){t.uniforms.time+=e};return this.tickerFn=e,xi.shared.add(e),this.createAsset()}},{key:"destroy",value:function(){xi.shared.remove(this.tickerFn)}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"createAsset",value:function(){var t=new gi,e=new nl;e.beginFill(255),e.drawRect(-100,-100,200,200),e.endFill(),e.beginFill(16711680),e.drawEllipse(0,0,40,70),e.endFill(),t.addChild(e);var r=new aa(void 0,Ss.shared.resources.portal_frag.data,this.uniforms);return r.autoFit=!1,r.padding=0,e.filters=[r],t}}]),r}(jc),Nf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).uniforms={time:10240*Math.random(),uBg:{}},t.tickerFn=void 0,t.filter={},t.assets.push("./images/bridge.png"),t.staticOrInstanced="instanced",t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=this,e=function(e){t.uniforms.time+=e};return this.tickerFn=e,xi.shared.add(e),this.createAsset()}},{key:"destroy",value:function(){xi.shared.remove(this.tickerFn)}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"createAsset",value:function(){var t=new gi,e=new nl;e.beginFill(16777215),e.drawEllipse(0,0,30,50),t.addChild(e);var r=new aa(void 0,Ss.shared.resources.black_hole_frag.data,this.uniforms);return r.autoFit=!1,r.padding=10,this.filter=r,t.filters=[r],t}}]),r}(jc),Of=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).uniforms={sizeMulti:1,flowDistance:.5,flowX:0,flowY:10+10*Math.random(),stretchX:40,stretchY:40,time:10240*Math.random(),size:800},t.heatUniforms={time:0,uBg:{},renderTextureDimensions:{x:0,y:0}},t.startTime=0,t.speed=0,t.tickerFn=void 0,t.assets.push("./images/fire-base.png"),t.assets.push("./images/fire-flame-bigger.png"),t.staticOrInstanced="instanced",t.startTime=Date.now(),t.speed=.1*Math.random(),t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=this,e=function(e){t.uniforms.time+=e,t.heatUniforms.time+=e};return this.tickerFn=e,xi.shared.add(e),this.convertSlime()}},{key:"destroy",value:function(){xi.shared.remove(this.tickerFn)}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"convertSlime",value:function(){var t=new aa(void 0,Ss.shared.resources.super_fire_and_smoke_frag.data,this.heatUniforms);t.autoFit=!1;var e=new aa(void 0,Ss.shared.resources.fire_and_smoke_frag.data,this.uniforms),r=new gi,n=new ll(oo.create({width:32,height:64}));n.filters=[t];var i=new ll(no.from(Ss.shared.resources[this.assets[0]].data)),o=new ll(no.from(Ss.shared.resources[this.assets[1]].data));return n.anchor.set(.5,1.2),i.anchor.set(.5,1),o.anchor.set(.5,1),e.autoFit=!1,o.filters=[e],r.addChild(n),r.addChild(i),r.addChild(o),r}}]),r}(jc),Cf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).uniforms={time:10240*Math.random()},t.tickerFn=void 0,t.assets.push("./images/bridge.png"),t.staticOrInstanced="instanced",t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=this,e=function(e){t.uniforms.time+=e};return this.tickerFn=e,xi.shared.add(e),this.createAsset()}},{key:"destroy",value:function(){xi.shared.remove(this.tickerFn)}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"createAsset",value:function(){var t,e=new gi,r=Ss.shared.resources.pixel_animation;r.spritesheet&&(t=new Ac(r.spritesheet.animations.idle_dude)),t.animationSpeed=.167+.01*Math.random(),t.scale.set((Math.random()>.5?-1:1)/5,.2),t.anchor.set(.5,1),t.gotoAndPlay(Math.floor(6*Math.random())),e.addChild(t);var n=new aa(void 0,Ss.shared.resources.portal_frag.data,this.uniforms);return n.autoFit=!1,n.padding=10,e.filters=[n],e}}]),r}(jc),Df=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).uniforms={time:10240*Math.random(),uGrass:{},uDirt:{},dirtDimensions:{x:0,y:0},grassDimensions:{x:0,y:0},tileDimensions:{x:0,y:0},d1:0,multi1:{x:1,y:1},d2:0,theta:0,multi2:{x:1,y:1},sampleDistance:.01,sampleMulti:{x:.1,y:.1},rotationDistance:10},t.tickerFn=void 0,t.assets.push("./images/test_village/test-village-procedural-grass.png"),t.assets.push("./images/test_village/test-village-procedural-dirt.png"),t.staticOrInstanced="instanced",t.createAsset=t.createAsset.bind((0,Zc.Z)(t)),t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=this,e=function(e){t.uniforms.time+=e};return this.tickerFn=e,xi.shared.add(e),this.createAsset()}},{key:"destroy",value:function(){xi.shared.remove(this.tickerFn)}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}},{key:"createAsset",value:function(){var t=new gi,e=new nl,r=512,n=512;e.beginFill(16711680),e.drawRect(-256,-256,r,n),e.beginFill(65280),e.drawCircle(0,0,128),e.beginFill(16711680),e.drawRect(-25.6,-179.2,51.2,230.4);var i=new aa(void 0,Ss.shared.resources.procedural_ground_frag.data,this.uniforms);i.autoFit=!1;var o=new aa(void 0,Ss.shared.resources.procedural_ground_edge_frag.data,this.uniforms);o.autoFit=!1;var a=new aa(void 0,Ss.shared.resources.procedural_ground_color_frag.data,this.uniforms);a.autoFit=!1;var s=window.gui.addFolder("Procedural Ground");s.add(this.uniforms,"d1",0,200).name("d1"),s.add(this.uniforms.multi1,"x",0,10).name("multi1.x"),s.add(this.uniforms.multi1,"y",0,10).name("multi1.y"),s.add(this.uniforms,"d2",0,200).name("d2"),s.add(this.uniforms.multi2,"x",0,10).name("multi2.x"),s.add(this.uniforms.multi2,"y",0,10).name("multi2.y"),s.add(this.uniforms,"sampleDistance",0,1).name("sample d"),s.add(this.uniforms.sampleMulti,"x",0,1).name("sampleMulti.x"),s.add(this.uniforms.sampleMulti,"y",0,1).name("sampleMulti.y"),s.add(this.uniforms,"rotationDistance",0,100).name("rotationDistance"),s.open();var u=no.from(Ss.shared.resources[this.assets[0]].data),l=no.from(Ss.shared.resources[this.assets[1]].data);return this.uniforms.uGrass=u,this.uniforms.uDirt=l,this.uniforms.dirtDimensions={x:l.width,y:l.height},this.uniforms.grassDimensions={x:u.width,y:u.height},this.uniforms.tileDimensions={x:r,y:n},t.filters=[i,o,a],t.addChild(e),t}}]),r}(jc),Lf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).template.load(vf),t.unpackTemplate(),t.sizeX=32,t.sizeY=32,t.frameLengths=[6,6,6,6,6,6,6,6],t}return(0,Me.Z)(r)}(Kc),Ff=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).baseTexture=void 0,t.assets.push("./images/mushrooms/mushroom_01.png"),t.assets.push("./images/mushrooms/mushroom_02.png"),t.assets.push("./images/mushrooms/mushroom_03.png"),t.assets.push("./images/mushrooms/mushroom_04.png"),t.assets.push("./images/mushrooms/mushroom_05.png"),t.assets.push("./images/mushrooms/mushroom_06.png"),t.assets.push("./images/mushrooms/mushroom_07.png"),t.assets.push("./images/mushrooms/mushroom_08.png"),t.assets.push("./images/mushrooms/mushroom_09.png"),t.assets.push("./images/mushrooms/mushroom_10.png"),t.baseTexture=no.EMPTY.baseTexture,t}return(0,Me.Z)(r,[{key:"init",value:function(){this.baseTexture=no.from(Ss.shared.resources[this.assets[0]].data).castToBaseTexture()}},{key:"createSpecific",value:function(t){this.init();var e=new ll(no.from(this.assets[t]));e.name=JSON.stringify({layer:"entities",type:"mushroom",spriteIdx:t}),e.anchor.set(.5,1);var r=new gi;return r.name="pbr",r.addChild(e),r}},{key:"create",value:function(){return this.init(),new gi}},{key:"getSpriteByIdx",value:function(t){return new ll(no.from(this.assets[t]))}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),Bf=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){var t;return(0,Ee.Z)(this,r),(t=e.call(this)).assets.push("./images/placeholder-text.png"),t.assets.push("./images/quest-indicator.png"),t}return(0,Me.Z)(r,[{key:"create",value:function(){var t=new ll(no.from(Ss.shared.resources[this.assets[0]].data));t.name=JSON.stringify({layer:"overlay",type:"placeholder-text"}),t.position.set(-10,-50),t.anchor.set(1,1);var e=new ll(no.from(Ss.shared.resources[this.assets[1]].data));e.name=JSON.stringify({layer:"entities",type:"quest-indicator"}),e.position.set(0,-55),e.anchor.set(.5,1);var r=new gi;return r.name="pbr",r.addChild(t),r.addChild(e),r}},{key:"update",value:function(t,e){(0,zc.Z)((0,Hc.Z)(r.prototype),"update",this).call(this,t,e)}}]),r}(jc),Uf=new Map;Rc.forEach((function(t){if(void 0===n[t.value])throw new Error("Prefab not found ".concat(t.key," ").concat(t.value));var e=new n[t.value];Uf.set(t.key,e)}));var Gf=function(){function t(){(0,Ee.Z)(this,t),this.animatedPrefabs=new Map}return(0,Me.Z)(t,[{key:"getPrefab",value:function(t){return Uf.get(t)}}]),t}();console.log();var jf=function(){function t(){var e=this;(0,Ee.Z)(this,t),this.prefabManager=void 0,this.assets=[],this.prefabManager=new Gf,Rc.forEach((function(t){e.prefabManager.getPrefab(t.key).assets.forEach((function(t){-1===e.assets.indexOf(t)&&e.assets.push(t)}))}))}return(0,Me.Z)(t,[{key:"loadAssets",value:function(t){[["tiled_level","./images/Tiled_village/test_village.tmx"],["compositor_frag","/shaders/compositor.frag"],["default_frag","/shaders/default.frag"],["fire_and_smoke_frag","/shaders/fire-and-smoke.frag"],["fire_and_smoke_dog_frag","/shaders/fire-and-smoke-dog.frag"],["fog_frag","/shaders/fog.frag"],["ground_shadow_frag","/shaders/ground-shadow.frag"],["easy_lights_frag","/shaders/lights-easy.frag"],["god_rays_frag","/shaders/god-rays.frag"],["old_tv_frag","/shaders/old-tv.frag"],["rainbow_bridge_frag","/shaders/rainbow-bridge.frag"],["rainbow_dog_frag","/shaders/rainbow-dog.frag"],["rgb_glitch_frag","/shaders/rgb-glitch.frag"],["solid_color_frag","/shaders/solid-color.frag"],["super_fire_and_smoke_frag",r(80686)],["portal_frag",r(3893)],["black_hole_frag",r(96402)],["water_frag",r(99039)],["procedural_ground_frag",r(24031)],["procedural_ground_edge_frag",r(727)],["procedural_ground_color_frag",r(96418)],["lights_frag",r(11775)],["lights_compute_x_frag",r(39513)],["lights_compute_y_frag",r(90854)],["lights_compute_reducer_frag",r(31268)],["webgl2_vert",r(47955)],["webgl2_frag",r(93730)],["grass_move_frag",r(56002)],["demo_shader_0",r(30802)],["demo_shader_1",r(77611)],["demo_shader_2",r(56622)],["demo_shader_3",r(87184)],["demo_shader_4",r(50070)],["demo_shader_5",r(22721)],["demo_shader_6",r(41905)],["demo_shader_7",r(43021)],["demo_shader_8",r(64333)],["pixel_animation","/sprite-sheets/idle_animation_sheet.json"],["village-dirt","./images/new-test-village/ntv-dirt.png"],["village-grass","./images/new-test-village/ntv-grass.png"],["village-dock","./images/new-test-village/ntv-dock.png"],["village-water","./images/new-test-village/ntv-water.png"],["village-mask-water","./images/new-test-village/ntv-water.png"],["dock-assets","./images/Tiled_village/tiles/dock/dock_tileset.png"]].forEach((function(t){2===t.length?Ss.shared.add(t[0],t[1]):1===t.length&&Ss.shared.add(t[0])}));this.assets.forEach((function(t){Ss.shared.add(t)})),Ss.shared.load((function(){t()}))}}]),t}();function zf(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=(0,Et.Z)(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var Hf=function(){function t(e){(0,Ee.Z)(this,t),this.system=void 0,this.system=e}return(0,Me.Z)(t,[{key:"parse",value:function(t){for(var e=this,r=new gi,n=[];t.children.length;)t.children.forEach((function(i){var o=JSON.parse(i.name),a=e.system.renderManager.layerManager.assetLayers.get(o.layer);if(void 0!==a){var s=new gi;s.name=i.name,s.position.set(t.position.x,t.position.y),s.addChild(i),n.push(s),a.addChild(s)}else console.log("layer not found"),r.addChild(i)}));return n}}]),t}(),Vf=function(){function t(e){(0,Ee.Z)(this,t),this.system=void 0,this.demo=void 0,this.welcomeMessageActive=!0,this.debugSpawnIndex=0,this.vikingSpawnIndex=0,this.system=e.system,this.demo=e;var r=document.querySelector(".dg"),n=document.querySelector(".press-e");r.style.zIndex="5000",n.style.display="none"}return(0,Me.Z)(t,[{key:"initialize",value:function(){var t=this,e=document.querySelector(".dg"),r=document.querySelector(".build-info"),n=document.querySelector(".loc"),i=document.querySelector(".show-controls");document.querySelector(".press-e");document.addEventListener("keypress",(function(o){if(t.welcomeMessageActive&&(t.welcomeMessageActive=!1),0===o.code.indexOf("Digit")){var a=o.code.split("Digit")[1];console.log(parseInt(a)),t.demo.mushroomManager.pickup(parseInt(a))}else switch(o.key.toLowerCase()){case"]":var s=t.demo.mushroomSpawns[t.debugSpawnIndex];t.system.world.write(2,2,[s.x,s.y]),t.debugSpawnIndex+=1,t.debugSpawnIndex%=t.demo.mushroomSpawns.length;break;case"}":var u=t.demo.vikingPositions[t.vikingSpawnIndex];t.system.world.write(2,2,[u.x-20,u.y]),t.vikingSpawnIndex+=1,t.vikingSpawnIndex%=t.demo.vikingPositions.length;break;case"l":for(var l=0;l<8;l++)t.demo.mushroomManager.pickup(Math.floor(10*Math.random()));t.demo.mushroomManager.eat();break;case"_":window.toggleBuddy();break;case"v":t.demo.parentUIContainer.renderable=!t.demo.parentUIContainer.renderable;var h=t.demo.parentUIContainer.renderable?"block":"none";r.style.display=h,n.style.display=h,i.style.display=h;break;case"c":t.demo.mushroomManager.wash(),window.location.hash="";break;case"r":t.system.renderManager.layerManager.debugViewmanager.debugViewContainer.renderable=!t.system.renderManager.layerManager.debugViewmanager.debugViewContainer.renderable;break;case"e":t.demo.mushroomManager.eat();break;case"u":var c="none"!==e.style.display;e.style.display=c?"none":"block"}}))}}]),t}(),Wf=function(){function t(e){(0,Ee.Z)(this,t),this.system=void 0,this.system=e}return(0,Me.Z)(t,[{key:"pickup",value:function(t){document.querySelector(".press-e").style.display="block";var e=this.system.demoManager.inventoryIndex;this.system.demoManager.inventoryValues[e]=t,this.system.demoManager.inventoryIndex+=1,this.system.demoManager.inventoryIndex%=8;var r=this.system.demoManager.inventoryMushrooms.getSpriteByIdx(t);r.position.set(8+16*e+1,8),r.anchor.set(.5,.5),r.scale.set(.6),void 0===this.system.demoManager.uiContainer.children[e]||this.system.demoManager.uiContainer.removeChildAt(e),this.system.demoManager.uiContainer.addChild(r),this.system.demoManager.uiContainer.setChildIndex(r,e),console.log(this.system.demoManager.inventoryValues)}},{key:"eat",value:function(){var t=this;document.querySelector(".press-e").style.display="none";var e=this.system.demoManager.inventoryValues.filter((function(t){return 6===t})).length,r=this.system.demoManager.inventoryValues.findIndex((function(t){return 6===t}));if(console.log("eating",e),console.log("inventory values",this.system.demoManager.inventoryValues),0!==this.system.demoManager.inventoryValues.filter((function(t){return-1!==t})).length){setTimeout((function(){t.system.renderManager.shaderManager.compositorUniforms.ambientLightStrength=2,t.system.renderManager.shaderManager.groundShadowFilterUniforms.watts=.3}),60),window.location.hash=this.system.demoManager.inventoryValues.filter((function(t){return-1!==t})).join(",");var n=[{x:0,y:0},{x:0,y:.15},{x:.38,y:.38},{x:.5,y:.25},{x:.3125,y:.3125},{x:.38,y:.38},{x:.44,y:.44},{x:.5,y:.25},{x:.285,y:.285}];if(8!==this.system.demoManager.inventoryValues.filter((function(t){return-1===t})).length){var i=this.system.renderManager.layerManager.assetLayers.get("emission"),o=this.system.renderManager.layerManager.assetLayers.get("entities");for(["128"].forEach((function(a){var s,u=null===(s=t.system.renderManager.instancedPrefabs.find((function(t){return t.key===a})))||void 0===s?void 0:s.value;if(void 0!==u){console.log("pc_prefab",u),console.log("STACKS",n[e],e,r);var l=u.mushroomFilters,h=u.filters;u.uniforms.stacks=e;var c=null===o||void 0===o?void 0:o.getChildByName(a);void 0!==c&&null!==c&&(null===i||void 0===i||i.addChild(c)),h.length=0,t.system.demoManager.inventoryValues.forEach((function(t){if(-1!==t){var e=t%l.length;h.push(l[e])}})),null===h||void 0===h||h.forEach((function(t){t.enabled=!0})),console.log("filters",h)}})),this.system.demoManager.inventoryIndex=0,this.system.demoManager.inventoryValues=[-1,-1,-1],console.log(this.system.demoManager.uiContainer.children);this.system.demoManager.uiContainer.children.length>0;)this.system.demoManager.uiContainer.removeChildAt(0)}}}},{key:"wash",value:function(){var t,e=this;setTimeout((function(){e.system.renderManager.shaderManager.compositorUniforms.ambientLightStrength=1.8,e.system.renderManager.shaderManager.groundShadowFilterUniforms.watts=2.09}),60);var r=null===(t=this.system.renderManager.instancedPrefabs.find((function(t){return"128"===t.key})))||void 0===t?void 0:t.value,n=r.filters;null===n||void 0===n||n.forEach((function(t){t.enabled=!1}));var i=this.system.renderManager.layerManager.assetLayers.get("emission"),o=this.system.renderManager.layerManager.assetLayers.get("entities"),a=null===i||void 0===i?void 0:i.getChildByName("128");void 0!==a&&null!==a&&(null===o||void 0===o||o.addChild(a))}}]),t}();var qf=function(){function t(e){(0,Ee.Z)(this,t),this.system=void 0,this.system=e}return(0,Me.Z)(t,[{key:"parseAssets",value:function(t){for(var e=new Map,r=t.getElementsByTagName("tileset"),n=0;n<r.length;n++)for(var i=r[n],o=i.getAttribute("firstgid"),a=0;a<i.children.length;a++){var s,u=i.children[a],l=String(Number(o)+Number(u.id)),h=null===(s=u.querySelector("image"))||void 0===s?void 0:s.getAttribute("source");void 0!==h&&e.set(l,h)}return e}},{key:"parseObjectGroups",value:function(t){for(var e=new Map,r=t.getElementsByTagName("objectgroup"),n=["15","8","6","16"],i=0;i<r.length;i++){var o=r[i];if(-1!==n.indexOf(String(o.id)))for(var a=o.children.length,s=0;s<a;s++){var u=o.children[s],l=u.getAttribute("gid"),h=u.getAttribute("id"),c=u.getAttribute("x"),f=u.getAttribute("y"),d=u.getAttribute("width"),p=u.getAttribute("height"),v=u.getAttribute("rotation"),m=this.fixTiledBugs(l).value,g=this.fixTiledBugs(l).flag;e.set(h,{gid:m,objectId:h,x:c,y:f,width:d,height:p,rotation:v,gidErrorFlag:g})}}return e}},{key:"fixTiledBugs",value:function(t){var e="",r=Number(t);return r>Math.pow(2,30)&&(e=(BigInt(r)&BigInt(4026531840)).toString(16).charAt(0),r&=4095),{flag:e,value:String(r)}}},{key:"initialize",value:function(t){var e=this,r=Ss.shared.resources.tiled_level.data,n=this.parseAssets(r),i=this.parseObjectGroups(r),o=[];n.forEach((function(t,e){var r="./images/Tiled_village/".concat(t);-1===o.indexOf(r)&&o.push(r)})),o.forEach((function(t){Ss.shared.add(String(t))})),Ss.shared.load((function(){document.querySelector(".loading").style.display="none";var r=e.system.renderManager.layerManager.assetLayers.get("entities");e.system.renderManager.layerManager.assetLayers.get("overlay");i.forEach((function(t,e){var i=function(t,e){if(void 0!==t)return new ll(no.from(Ss.shared.resources["./images/Tiled_village/".concat(t)].data));var r=Number(e.gid)-1275,n=Math.floor(r/10),i=r-10*n,o=no.from("./images/Tiled_village/tiles/dock/dock_tileset.png").castToBaseTexture();return new ll(new no(o,new Rn(64*i,64*n,64,64)))}(n.get(t.gid),t);i.interactive=!1,i.interactiveChildren=!1,i.anchor.set(0,1);var o=Math.floor(Number(t.x)),a=Math.floor(Number(t.y));i.name=t.objectId,i.position.set(o,a),""!==t.gidErrorFlag&&("8"==t.gidErrorFlag&&(i.scale.set(-1,1),i.anchor.set(1,1)),"4"==t.gidErrorFlag&&(i.scale.set(-1,1),i.anchor.set(1,1),i.position.x-=Math.round(i.width),i.position.y+=Math.round(i.height)),t.gidErrorFlag),null===r||void 0===r||r.addChild(i)})),t()}))}}]),t}(),Xf=r(97143),Zf=new(r.n(Xf)()),Kf=16,Yf=function(){function t(e){var r=this;(0,Ee.Z)(this,t),this.system=void 0,this.assetParser=void 0,this.keyManager=void 0,this.tiledManager=void 0,this.npcs=[],this.interactionLocations=[],this.interactionHistory=[{code:"NULL",time:0}],this.mushroomManager=void 0,this.parentUIContainer=new gi,this.uiContainer=new gi,this.inventoryMushrooms=new Ff,this.inventoryIndex=0,this.inventoryValues=[-1,-1,-1],this.collisionCanvas=void 0,this.collisionData=void 0,this.waterCanvas=void 0,this.waterData=void 0,this.dogBuffer=[],this.mushroomSpawns=[{mushroomIdx:1,x:1330,y:970,r:200},{mushroomIdx:2,x:2500,y:1510,r:150},{mushroomIdx:3,x:1400,y:1800,r:400},{mushroomIdx:4,x:1230,y:2700,r:500},{mushroomIdx:5,x:4e3,y:2900,r:400},{mushroomIdx:6,x:4e3,y:1800,r:300},{mushroomIdx:7,x:3306,y:1370,r:300},{mushroomIdx:8,x:2700,y:2400,r:700},{mushroomIdx:9,x:2960,y:960,r:70},{mushroomIdx:0,x:1930,y:1030,r:150}],this.vikingPositions=[{x:3365,y:1685,scaleX:1},{x:3872,y:1829,scaleX:1},{x:1023,y:1586,scaleX:1},{x:2754,y:2851,scaleX:1},{x:1990,y:3384,scaleX:1},{x:2800,y:900,scaleX:-1},{x:2328,y:2345,scaleX:-1},{x:485,y:2407,scaleX:-1},{x:4488,y:3100,scaleX:-1},{x:1985,y:1104,scaleX:-1}],this.system=e,this.assetParser=new Hf(this.system),this.keyManager=new Vf(this),this.mushroomManager=new Wf(this.system),this.tiledManager=new qf(this.system),this.collisionData=[],this.waterData=[],this.collisionCanvas=document.createElement("canvas");var n=document.createElement("img");n.src="./images/new-test-village/ntv-collision.png",n.onload=function(){r.collisionCanvas.width=n.width,r.collisionCanvas.height=n.height,r.collisionCanvas.getContext("2d").drawImage(n,0,0,n.width,n.height),r.collisionData=o(r.collisionCanvas)},this.waterCanvas=document.createElement("canvas");var i=document.createElement("img");function o(t){if(null!==t){for(var e=[],r=0;r<2;r++)e.push(t.getContext("2d").getImageData(0,r*(.5*t.height),t.width,.5*t.height).data);return function(t){var e,r=0,n=zf(t);try{for(n.s();!(e=n.n()).done;){r+=e.value.byteLength}}catch(h){n.e(h)}finally{n.f()}var i,o=new Uint8ClampedArray(r),a=0,s=zf(t);try{for(s.s();!(i=s.n()).done;){var u=i.value,l=new Uint8ClampedArray(u.buffer,u.byteOffset,u.byteLength);o.set(l,a),a+=l.byteLength}}catch(h){s.e(h)}finally{s.f()}return o}(e)}}i.src="./images/new-test-village/ntv-water.png",i.onload=function(){r.waterCanvas.width=i.width,r.waterCanvas.height=i.height,r.waterCanvas.getContext("2d").drawImage(i,0,0,i.width,i.height),r.waterData=o(r.waterCanvas)}}return(0,Me.Z)(t,[{key:"initialize",value:function(){var t=this;this.keyManager.initialize(),this.inventoryMushrooms.init();var e=this.system.renderManager.layerManager.assetLayers.get("background-level"),r=this.system.renderManager.layerManager.assetLayers.get("background-ground-objects"),n=this.system.renderManager.layerManager.assetLayers.get("entities");this.system.renderManager.layerManager.assetLayers.get("emission"),this.system.renderManager.layerManager.assetLayers.get("overlay");null===e||void 0===e||e.addChild(new ll(no.from(Ss.shared.resources["village-dirt"].data))),null===e||void 0===e||e.addChild(new ll(no.from(Ss.shared.resources["village-grass"].data))),null===r||void 0===r||r.addChild(new ll(no.from(Ss.shared.resources["village-dock"].data))),this.vikingPositions.forEach((function(t){var e=(new af).create();e.position.set(t.x,t.y),e.scale.set(t.scaleX,1),null===n||void 0===n||n.addChild(e)})),this.mushroomSpawns.forEach((function(e){for(var r=0;r<12;r++){var n=(new Ff).createSpecific(e.mushroomIdx),i=e.r*Math.random()*.5,o=Math.random()*Math.PI*2;n.position.set(Math.floor(e.x+Math.cos(o)*i),Math.floor(e.y+Math.sin(o)*i)),t.assetParser.parse(n).forEach((function(e){var r=JSON.parse(e.name);t.npcs.push({key:r.type,value:e})}))}}));var i=new gi;this.parentUIContainer=i;var o=new gi;i.scale.set(5),i.position.set(.5*this.system.app.view.width-320,this.system.app.view.height-80-5);var a=new nl;a.beginFill(11184810),a.drawRoundedRect(0,0,129,Kf,2);for(var s=0;s<8;s++)a.beginFill(13421772),a.drawRoundedRect(s*Kf+1,1,15,14,1);if(o.addChild(a),i.addChild(o),i.addChild(this.uiContainer),this.system.app.stage.addChild(i),""!==window.location.hash){console.log("HASH",window.location.hash);var u=window.location.hash.slice(1).split(",").map((function(t){return Number(t)})).filter((function(t){return-1!==t}));window.setTimeout((function(){u.forEach((function(e){t.mushroomManager.pickup(e)})),t.mushroomManager.eat()}),1e3)}this.tickLevel=this.tickLevel.bind(this),xi.shared.add(this.tickLevel);for(var l=2e3,h=Math.floor(1e3),c=0;c<32;c++)this.system.world.write(16+8*c,8,[320+c,4200,1650+Math.floor(Math.random()*l)-h,1200+Math.floor(Math.random()*l)-h,8+Math.floor(8*Math.random()),29,29,0])}},{key:"tickLevel",value:function(){var t=this,e=this.system.world;if(-1!==e.identity.address){var r={x:0,y:0};-1!==this.system.interactionManager.keyboardManager.pressedKeys.indexOf("KeyA")&&(r.x-=1),-1!==this.system.interactionManager.keyboardManager.pressedKeys.indexOf("KeyD")&&(r.x+=1),-1!==this.system.interactionManager.keyboardManager.pressedKeys.indexOf("KeyW")&&(r.y-=1),-1!==this.system.interactionManager.keyboardManager.pressedKeys.indexOf("KeyS")&&(r.y+=1);var n=Math.SQRT2/2*1.1;1===Math.abs(r.y)&&1===Math.abs(r.x)&&(r.x*=n,r.y*=n),-1!==this.system.interactionManager.keyboardManager.pressedKeys.indexOf("ShiftLeft")?(r.x*=4,r.y*=4):(r.x*=3,r.y*=3);var i=Math.round(e._view[e.identity.address+2]+r.x),o=Math.round(e._view[e.identity.address+3]+r.y),a=e._view[e.identity.address+4];r.x<0&&r.y<0?a=3:r.x<0&&0==r.y?a=4:r.x<0&&r.y>0?a=5:0==r.x&&r.y<0?a=2:0==r.x&&r.y>0?a=6:r.x>0&&r.y<0?a=1:r.x>0&&0==r.y?a=0:r.x>0&&r.y>0?a=7:0===r.x&&0===r.y&&a<8&&(a+=8);var s=-1;this.collisionData.length>0&&this.collisionData[4*(o*this.collisionCanvas.width+i)+3],this.waterData.length>0&&(s=this.waterData[4*(o*this.waterCanvas.width+i)+3]),e.write(2,2,[i,o]),e._view[e.identity.address+4]=a,0===r.x&&0===r.y||this.dogBuffer.push([i,o,a]);e._view[e.identity.address+2+8],e._view[e.identity.address+3+8];if(this.dogBuffer.length>20){var u=this.dogBuffer.shift();void 0!==u&&(e.write(10,2,[u[0],u[1]]),e._view[e.identity.address+12]=u[2])}else e.write(12,1,[a]);var l=Math.floor(.5*this.system.renderManager.textureManager.dimensions.x-e._view[e.identity.address+2]),h=Math.floor(.5*this.system.renderManager.textureManager.dimensions.y-e._view[e.identity.address+3]);this.system.renderManager.layerManager.moveWorld(l,h),255===s&&this.system.demoManager.mushroomManager.wash()}var c=this.system.world._view[2],f=this.system.world._view[3];Zf.emit("position-update",{value:[c,f]}),this.npcs.forEach((function(e){if(!1!==e.value.renderable&&Math.sqrt(Math.pow(e.value.position.x-c,2)+Math.pow(e.value.position.y-f,2))<20){e.value.renderable=!1;var r=JSON.parse(e.value.name).spriteIdx;t.mushroomManager.pickup(r)}})),this.interactionLocations.forEach((function(e){var r=t.interactionHistory[t.interactionHistory.length-1];Date.now()-r.time<1e3||r.code!==e.code&&Math.sqrt(Math.pow(e.position.x-c,2)+Math.pow(e.position.y-f,2))<e.distance&&(t.interactionHistory.push({code:e.code,time:Date.now()}),console.log(r.code,e.code),Zf.emit("world-interaction",{value:e.code}))}))}}]),t}(),Jf=function(){function t(){(0,Ee.Z)(this,t),this.pressedKeys=void 0,this.pressedKeys=new Array,this.handleEvent=this.handleEvent.bind(this)}return(0,Me.Z)(t,[{key:"handleEvent",value:function(t){"keydown"===t.type?-1===this.pressedKeys.indexOf(t.code)&&(this.pressedKeys.push(t.code),Zf.emit("keydown",{value:t.code})):"keyup"===t.type&&-1!==this.pressedKeys.indexOf(t.code)&&(this.pressedKeys=this.pressedKeys.filter((function(e){return e!==t.code})))}}]),t}(),$f=(0,Me.Z)((function t(){(0,Ee.Z)(this,t)})),Qf=function(){function t(e){(0,Ee.Z)(this,t),this.keyboardManager=new Jf,this.mouseManager=new $f,this.network=void 0,this.network=e.networkManager,this.keyEvent=this.keyEvent.bind(this),this.attachEvents()}return(0,Me.Z)(t,[{key:"attachEvents",value:function(){window.addEventListener("keydown",this.keyEvent),window.addEventListener("keyup",this.keyEvent)}},{key:"keyEvent",value:function(t){this.keyboardManager.handleEvent(t)}}]),t}(),td=function(){function t(){(0,Ee.Z)(this,t),this.panels=void 0,this.panels=[new ed({name:"Render (ms)",min:0,max:33.4,mode:"interframe"}),new ed({name:"World Speed (ms)",min:0,max:.5}),new ed({name:"World Updates (n)",min:0,max:300}),new ed({name:"World Skips (n)",min:0,max:300}),new ed({name:"Network Down",min:0,max:1e3}),new ed({name:"Network Up",min:0,max:1e3}),new ed({name:"Ping (ms)",min:0,max:2e3})]}return(0,Me.Z)(t,[{key:"updatePanels",value:function(t){for(var e=0;e<t.length;e++)this.panels[e].update(t[e])}},{key:"addPanel",value:function(t){this.panels.push(t)}}]),t}(),ed=function(){function t(e){var r,n=this;(0,Ee.Z)(this,t),this.avg=void 0,this.name=void 0,this.min=void 0,this.max=void 0,this.mode=void 0,this.setMin=void 0,this.setMax=void 0,this.ctx=void 0,this.history=void 0,this.dimensions={x:256,y:32},this.runningValue=0,this.avg=0,this.name=e.name,this.min=Math.pow(2,16),this.max=0|e.max,this.setMin=0,this.setMax=this.max,this.history=new nd(this.dimensions.x),this.mode=e.mode?String(e.mode):"count";var i=document.createElement("canvas");i.addEventListener("click",(function(){n.min=Math.pow(2,16),n.max=0})),i.addEventListener("wheel",(function(t){t.preventDefault()})),i.addEventListener("mousewheel",(function(t){t.preventDefault()})),this.ctx=i.getContext("2d"),this.ctx.font="32px Monospace,Helvetica,Arial,sans-serif",i.width=this.dimensions.x,i.height=2*this.dimensions.y,null===(r=document.querySelector(".stats"))||void 0===r||r.appendChild(i)}return(0,Me.Z)(t,[{key:"update",value:function(t){"interframe"===this.mode?this.updateInterframe(t):this.updateCount(t)}},{key:"updateCount",value:function(t){t=Math.max(t,0),this.min>t&&(this.min=t),this.max<t&&(this.max=t),this.history.update(t),this.avg=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e/t.length}(this.history.buffer),this.draw()}},{key:"updateInterframe",value:function(t){this.updateCount(t-this.runningValue),this.runningValue=t}},{key:"draw",value:function(){var t=this.history.latest()/(this.setMax-this.setMin);this.ctx.strokeStyle="none",this.ctx.fillStyle="#000",this.ctx.fillRect(this.history.index,0,1,32),this.ctx.fillStyle="#3366FF",this.ctx.fillRect((this.history.index+1)%this.history.size,0,1,32),this.ctx.fillStyle=this.history.latest()>this.avg?"#F33":"#AAA",this.ctx.fillRect(this.history.index,32-32*t,1,32*t),this.ctx.fillStyle="#000",this.ctx.fillRect(0,this.dimensions.y,this.dimensions.x,this.dimensions.y),this.ctx.fillStyle="#FFF",this.ctx.font="bold 11px Helvetica,Arial",this.ctx.fillText("".concat(this.name," - ").concat([rd(this.avg),rd(this.history.latest()),rd(this.min),rd(this.max)].join(" ")),6,54)}}]),t}();function rd(t){return String(t.toFixed(1))}var nd=function(){function t(e){(0,Ee.Z)(this,t),this.buffer=void 0,this.index=void 0,this.memory=void 0,this.size=void 0,this.index=0,this.size=e,this.memory=new ArrayBuffer(4*e),this.buffer=new Float32Array(this.memory)}return(0,Me.Z)(t,[{key:"latest",value:function(){return 0!==this.index?this.buffer[this.index-1]:this.buffer[this.size-1]}},{key:"update",value:function(t){this.buffer[this.index]=t,this.index+=1,this.index=this.index%this.buffer.length}}]),t}(),id=function(){function t(e){(0,Ee.Z)(this,t),this.manager=void 0,this.networkIn=0,this.networkOut=0,this.ping=0,this.socket=void 0,this.world=void 0,this.world=e.world}return(0,Me.Z)(t,[{key:"getBytesDown",value:function(){return this.networkIn}},{key:"getBytesUp",value:function(){return this.networkOut}},{key:"getPing",value:function(){return this.ping}},{key:"clearStats",value:function(){this.networkIn=0,this.networkOut=0}}]),t}();function od(){var t=this;console.log("initializing layer manager",this.system.renderManager.textureManager.dimensions);var e=new Rn(0,0,this.system.renderManager.textureManager.dimensions.x,this.system.renderManager.textureManager.dimensions.y);this.assetLayers.forEach((function(t){t.filterArea=e})),this.compositedLayers.forEach((function(t){t.filterArea=e})),this.effectsLayers.forEach((function(t){t.filterArea=e})),this.computeLayers.forEach((function(e,r){"find-lights-x"===r?e.filterArea=new Rn(0,0,t.system.renderManager.textureManager.dimensions.x,1):"find-lights-y"===r?e.filterArea=new Rn(0,0,1,t.system.renderManager.textureManager.dimensions.y):"find-lights-reducer"===r&&(e.filterArea=new Rn(0,0,1,1))})),this.waterMask=no.from(Ss.shared.resources["village-mask-water"].data),this.waterTexture=no.from(Ss.shared.resources["village-water"].data)}var ad=function(){function t(e){(0,Ee.Z)(this,t),this.system=void 0,this.debugViewContainer=new gi,this.system=e}return(0,Me.Z)(t,[{key:"initialize",value:function(){var t=this.debugViewContainer;t.renderable=!1,t.position.set(20,20);var e=this.system.renderManager.layerManager.dimensions.x,r=(this.system.renderManager.layerManager.dimensions.y,0),n=0,i=.75;t.scale.set(i);var o={"lights-compute-x":{scale:{x:1,y:10},shift:0},"lights-compute-y":{scale:{x:10,y:1},shift:void 0},"lights-compute-reducer":{scale:{x:1,y:10},shift:0}};this.system.renderManager.textureManager.renderTargets.forEach((function(a,s){var u=a.width,l=a.height;console.log("name",s,u,l);var h=new gi,c=o[s];void 0!==c&&(h.scale.set(c.scale.x,c.scale.y),h.scale.set(0,0)),t.addChild(h),h.position.set(r,n);var f=new nl;f.position.set(-2,-2),f.beginFill(65280),f.drawRect(0,0,u+4,l+4),h.addChild(f),h.addChild(new ll(a)),void 0!==c&&void 0!==c.shift?r+=c.shift:r+=u+10,r+u+10>e/i&&(r=0,n+=l+10)}));var a=new ll(this.system.renderManager.textureManager.renderTargets.get("lights-compute-x"));a.position.set(0,-30),a.scale.set(1/i,10/i);var s=new ll(this.system.renderManager.textureManager.renderTargets.get("lights-compute-y"));s.position.set(-30,0),s.scale.set(10/i,1/i);var u=new ll(this.system.renderManager.textureManager.renderTargets.get("lights-compute-reducer"));u.position.set(-30,-30),u.scale.set(20),t.addChild(a),t.addChild(s),t.addChild(u),this.system.app.stage.addChild(t)}}]),t}(),sd=function(){function t(e){(0,Ee.Z)(this,t),this.system=void 0,this.assetLayers=new Map,this.effectsLayers=new Map,this.computeLayers=new Map,this.compositedLayers=new Map,this.debugViewmanager=void 0,this.screenSprite=new ll(no.EMPTY),this.dimensions={x:0,y:0},this.offset={x:0,y:0},this.grassMaskTexture=no.EMPTY,this.grassMaskBuildingTexture=no.EMPTY,this.waterMask=no.EMPTY,this.waterTexture=no.EMPTY,this.cullScreen=new Rn(0,0,0,0),this.initialize=void 0,console.log("layer manager constructor"),this.system=e,this.debugViewmanager=new ad(this.system),this.assetLayers.set("background-level",new gi),this.assetLayers.set("background-ground-objects",new gi),this.assetLayers.set("entities",new gi),this.assetLayers.set("emission",new gi),this.assetLayers.set("normal",new gi),this.assetLayers.set("reflectance",new gi),this.assetLayers.set("specular",new gi),this.assetLayers.set("transmission",new gi),this.effectsLayers.set("ground-shadow",new gi),this.effectsLayers.set("building-and-entities-shadow",new gi),this.effectsLayers.set("fog",new gi),this.effectsLayers.set("lights",new gi),this.effectsLayers.set("darkness",new gi),this.effectsLayers.set("specular",new gi),this.effectsLayers.set("reflectance",new gi);var r=new gi;r.renderable=!1,this.assetLayers.set("overlay",r),this.computeLayers.set("find-lights-x",new gi),this.computeLayers.set("find-lights-y",new gi),this.computeLayers.set("find-lights-reducer",new gi),this.compositedLayers.set("render-screen",new gi),this.dimensions={x:this.system.app.view.width,y:this.system.app.view.height},this.initialize=od.bind(this)}return(0,Me.Z)(t,[{key:"addScreenToStage",value:function(){console.log(this.system.renderManager),this.screenSprite=new ll(this.system.renderManager.textureManager.renderTargets.get("render")),this.screenSprite.position.set(Math.floor(.5*this.system.app.view.width),Math.floor(.5*this.system.app.view.height)),this.screenSprite.anchor.set(.5,.5),this.screenSprite.scale.set(Lc),this.system.app.stage.addChild(this.screenSprite);var t=new aa(void 0,Ss.shared.resources.old_tv_frag.data,this.system.renderManager.shaderManager.oldTVUniforms);t.enabled=!1,this.screenSprite.filters=[t],this.debugViewmanager.initialize()}},{key:"cull",value:function(){var t=this,e=[300,300,300,300][Lc-1];this.cullScreen.x=-this.offset.x-e,this.cullScreen.y=-this.offset.y-e,this.cullScreen.width=this.system.renderManager.textureManager.dimensions.x+2*e,this.cullScreen.height=this.system.renderManager.textureManager.dimensions.y+2*e;var r=0,n=this.assetLayers.get("entities");return null===n||void 0===n||n.children.forEach((function(e,n){e.name&&"{"===e.name[0]||(e.renderable=t.cullScreen.contains(e.position.x,e.position.y),r+=e.renderable?0:1)})),r}},{key:"moveWorld",value:function(t,e){if(this.offset.x!==t||this.offset.y!==e){var r=document.querySelector(".loc"),n=this.system.world._view[2],i=this.system.world._view[3];null!==r&&(r.innerHTML="".concat(Number(n).toFixed(0),", ").concat(Number(i).toFixed(0)," ")),this.offset.x=t,this.offset.y=e+32,this.assetLayers.forEach((function(r){r.position.set(t,e+32)}))}}},{key:"tickPools",value:function(){}},{key:"reconcile",value:function(){var t=this,e=this.system.world;e.disconnectedPCs.forEach((function(e){var r,n=t.system.renderManager.instancedPrefabs.findIndex((function(t){return t.key===String(e)}));-1!==n&&(null!==t.instancedPrefabs[n].value.destroy&&t.instancedPrefabs[n].value.destroy(),t.system.renderManager.instancedPrefabs=t.system.renderManager.instancedPrefabs.splice(n,1));var i=null===(r=t.assetLayers.get("entities"))||void 0===r?void 0:r.getChildByName(String(e));i&&i.destroy()})),e.disconnectedPCs.length=0;for(var r=this.assetLayers.get("entities"),n=e._updatedEntitiesManager.count(),i=function(n){var i,o,a=e._updatedEntitiesManager.getUpdatedEntity(n);e.loadEntityBytesIntoPrefab(a,t.system.renderManager.basePrefab);var s=t.system.renderManager.basePrefab.attributes,u=String(null===(i=s.find((function(t){return"class"===t.key})))||void 0===i?void 0:i.value),l=String(null===(o=s.find((function(t){return"id"===t.key})))||void 0===o?void 0:o.value),h=t.system.renderManager.prefabManager.getPrefab(u);if(void 0===h)return"continue";if("instanced"===h.staticOrInstanced){var c=t.system.renderManager.instancedPrefabs.find((function(t){return t.key===l}));c?h=c.value:(h=new h.__proto__.constructor,t.system.renderManager.instancedPrefabs.push({key:l,value:h}),console.log(t.system.renderManager.instancedPrefabs))}var f,d=t.system.renderManager.objectReferences.get(l);if(null!==d&&void 0!==d){if(!h)throw f="No Prefab",void console.log(f);e.loadEntityBytesIntoPrefab(a,h),h.update(0,d)}else{var p=h.create();p.name=l,t.system.renderManager.objectReferences.set(l,p),e.loadEntityBytesIntoPrefab(a,h),h.update(0,p),null===r||void 0===r||r.addChild(p),e._updatedEntitiesManager.skip(a)}},o=0;o<n;o++)i(o);e._updatedEntitiesManager.clearAndRestoreSkipped()}},{key:"sort",value:function(){var t;null===(t=this.assetLayers.get("entities"))||void 0===t||t.children.sort((function(t,e){return t.position.y-e.position.y}))}}]),t}();var ud=function(t,e){return ud=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},ud(t,e)};var ld=function(t){function e(e,r,n){void 0===e&&(e=4),void 0===r&&(r=3),void 0===n&&(n=!1);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",n?"\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}\n":"\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}")||this;return i._kernels=[],i._blur=4,i._quality=3,i.uniforms.uOffset=new Float32Array(2),i._pixelSize=new Cn,i.pixelSize=1,i._clamp=n,Array.isArray(e)?i.kernels=e:(i._blur=e,i.quality=r),i}return function(t,e){function r(){this.constructor=t}ud(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.apply=function(t,e,r,n){var i,o=this._pixelSize.x/e._frame.width,a=this._pixelSize.y/e._frame.height;if(1===this._quality||0===this._blur)i=this._kernels[0]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,e,r,n);else{for(var s=t.getFilterTexture(),u=e,l=s,h=void 0,c=this._quality-1,f=0;f<c;f++)i=this._kernels[f]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,u,l,1),h=u,u=l,l=h;i=this._kernels[c]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,u,r,n),t.returnFilterTexture(s)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce((function(t,e){return t+e+.5}),0))},e.prototype._generateKernels=function(){var t=this._blur,e=this._quality,r=[t];if(t>0)for(var n=t,i=t/e,o=1;o<e;o++)n-=i,r.push(n);this._kernels=r,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max.apply(Math,t)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(t){"number"===typeof t?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof Cn?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=t,this._generateKernels()},enumerable:!1,configurable:!0}),e}(aa),hd=function(t,e){return hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},hd(t,e)};function cd(t,e){function r(){this.constructor=t}hd(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var fd="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",dd=function(t){function e(e){void 0===e&&(e=.5);var r=t.call(this,fd,"\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform float threshold;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    // A simple & fast algorithm for getting brightness.\n    // It's inaccuracy , but good enought for this feature.\n    float _max = max(max(color.r, color.g), color.b);\n    float _min = min(min(color.r, color.g), color.b);\n    float brightness = (_max + _min) * 0.5;\n\n    if(brightness > threshold) {\n        gl_FragColor = color;\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n")||this;return r.threshold=e,r}return cd(e,t),Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(t){this.uniforms.threshold=t},enumerable:!1,configurable:!0}),e}(aa),pd=function(t){function e(r){var n=t.call(this,fd,"uniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D bloomTexture;\nuniform float bloomScale;\nuniform float brightness;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color.rgb *= brightness;\n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);\n    bloomColor.rgb *= bloomScale;\n    gl_FragColor = color + bloomColor;\n}\n")||this;n.bloomScale=1,n.brightness=1,n._resolution=Ir.FILTER_RESOLUTION,"number"===typeof r&&(r={threshold:r});var i=Object.assign(e.defaults,r);n.bloomScale=i.bloomScale,n.brightness=i.brightness;var o=i.kernels,a=i.blur,s=i.quality,u=i.pixelSize,l=i.resolution;return n._extractFilter=new dd(i.threshold),n._extractFilter.resolution=l,n._blurFilter=o?new ld(o):new ld(a,s),n.pixelSize=u,n.resolution=l,n}return cd(e,t),e.prototype.apply=function(t,e,r,n,i){var o=t.getFilterTexture();this._extractFilter.apply(t,e,o,1,i);var a=t.getFilterTexture();this._blurFilter.apply(t,o,a,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=a,t.applyFilter(this,e,r,n),t.returnFilterTexture(a),t.returnFilterTexture(o)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t,this._extractFilter&&(this._extractFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(t){this._extractFilter.threshold=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(t){this._blurFilter.kernels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(t){this._blurFilter.blur=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(t){this._blurFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(t){this._blurFilter.pixelSize=t},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:Ir.FILTER_RESOLUTION},e}(aa);function vd(){console.log("intializing shader manager"),this.tickUniforms();var t=new aa(void 0,Ss.shared.resources.compositor_frag.data,this.compositorUniforms);t.autoFit=!1,this.compositorUniforms.uEntities=this.system.renderManager.textureManager.renderTargets.get("entity"),this.compositorUniforms.uBackground=this.system.renderManager.textureManager.renderTargets.get("background"),this.compositorUniforms.uEmission=this.system.renderManager.textureManager.renderTargets.get("emission"),this.compositorUniforms.uShadow=this.system.renderManager.textureManager.renderTargets.get("shadow"),this.compositorUniforms.uFog=this.system.renderManager.textureManager.renderTargets.get("fog"),this.compositorUniforms.uLights=this.system.renderManager.textureManager.renderTargets.get("lights"),this.compositorUniforms.uDarkness=this.system.renderManager.textureManager.renderTargets.get("darkness"),this.compositorUniforms.uEmissionMask=this.system.renderManager.textureManager.renderTargets.get("emission-entities-mask"),this.system.renderManager.layerManager.compositedLayers.get("render-screen").filters=[t],this.groundShadowFilterUniforms.uEntities=this.system.renderManager.textureManager.renderTargets.get("entity"),this.groundShadowFilterUniforms.textureDimensions.x=this.system.renderManager.textureManager.dimensions.x,this.groundShadowFilterUniforms.textureDimensions.y=this.system.renderManager.textureManager.dimensions.y,this.groundShadowFilterUniforms.uLampPosition=this.system.renderManager.textureManager.renderTargets.get("lights-compute-reducer");var e=new aa(void 0,Ss.shared.resources.ground_shadow_frag.data,this.groundShadowFilterUniforms);e.autoFit=!1;var r=new aa(void 0,Ss.shared.resources.easy_lights_frag.data,this.groundShadowFilterUniforms);r.autoFit=!1;var n=this.system.renderManager.layerManager.effectsLayers.get("ground-shadow");void 0!==n&&(n.filters=[e]);var i=this.system.renderManager.layerManager.effectsLayers.get("darkness");void 0!==i&&(i.filters=[r]),this.lightsFilterUniforms.uEmission=this.system.renderManager.textureManager.renderTargets.get("emission"),this.lightsFilterUniforms.textureDimensions.x=this.system.renderManager.textureManager.dimensions.x,this.lightsFilterUniforms.textureDimensions.y=this.system.renderManager.textureManager.dimensions.y;var o=new aa(void 0,Ss.shared.resources.lights_frag.data,this.lightsFilterUniforms);o.autoFit=!1;this.system.renderManager.textureManager.dimensions.x,this.system.renderManager.textureManager.dimensions.y;var a=new pd;a.brightness=1.8,a.threshold=.2,a.blur=10,a.quality=7,a.resolution=1;var s=new Cn(3,3);a.pixelSize=s;var u=window.gui.addFolder("Bloom Settings");u.open(),u.add(a,"brightness",0,10,.1).name("Brightness"),u.add(a,"threshold",0,1,.01).name("Threshold"),u.add(a,"blur",0,64).name("Size"),u.add(a,"quality",0,64).name("Quality"),u.add(s,"x",1,16,1).name("Lens Flare X").onChange((function(t){s.x=t,a.pixelSize=s})),u.add(s,"y",1,16,1).name("Lens Flare Y").onChange((function(t){s.y=t,a.pixelSize=s})),a.autoFit=!1;var l=this.system.renderManager.layerManager.effectsLayers.get("lights");void 0!==l&&(l.filters=[o,a]);var h={uEmission:this.system.renderManager.textureManager.renderTargets.get("lights")},c=new aa(void 0,Ss.shared.resources.lights_compute_x_frag.data,h);c.autoFit=!1;var f=new aa(void 0,Ss.shared.resources.lights_compute_y_frag.data,h);f.autoFit=!1;var d=new aa(void 0,Ss.shared.resources.lights_compute_reducer_frag.data,{uLightsX:this.system.renderManager.textureManager.renderTargets.get("lights-compute-x"),uLightsY:this.system.renderManager.textureManager.renderTargets.get("lights-compute-y"),dimensions:this.system.renderManager.textureManager.dimensions}),p=this.system.renderManager.layerManager.computeLayers.get("find-lights-x");void 0!==p&&(p.filters=[c]);var v=this.system.renderManager.layerManager.computeLayers.get("find-lights-y");void 0!==v&&(v.filters=[f]);var m=this.system.renderManager.layerManager.computeLayers.get("find-lights-reducer");void 0!==m&&(m.filters=[d]);var g=new aa(void 0,Ss.shared.resources.fog_frag.data,this.fogUniforms);g.autoFit=!1;var y=this.system.renderManager.layerManager.effectsLayers.get("fog");void 0!==y&&(y.filters=[g]);var b=new aa(void 0,Ss.shared.resources.water_frag.data,this.waterUniforms);b.autoFit=!1,this.waterUniforms.uWaterMask=this.system.renderManager.layerManager.waterMask,this.waterUniforms.uWaterTexture=this.system.renderManager.layerManager.waterTexture,this.waterUniforms.renderDimensions.x=this.system.renderManager.textureManager.dimensions.x,this.waterUniforms.renderDimensions.y=this.system.renderManager.textureManager.dimensions.y,this.waterUniforms.offset.x=this.system.renderManager.layerManager.offset.x*Lc,this.waterUniforms.offset.y=this.system.renderManager.layerManager.offset.y*Lc;var _=new aa(void 0,Ss.shared.resources.grass_move_frag.data,this.grassUniformsBackground);_.autoFit=!1,this.grassUniformsBackground.uGrassMask=this.system.renderManager.layerManager.grassMaskTexture,this.grassUniformsBackground.renderDimensions.x=this.system.renderManager.textureManager.dimensions.x,this.grassUniformsBackground.renderDimensions.y=this.system.renderManager.textureManager.dimensions.y,this.grassUniformsBackground.offset.x=this.system.renderManager.layerManager.offset.x*Lc,this.grassUniformsBackground.offset.y=this.system.renderManager.layerManager.offset.y*Lc;var w=this.system.renderManager.layerManager.assetLayers.get("background-level");void 0!==w&&(w.filters=[_,b]);var x=new aa(void 0,Ss.shared.resources.grass_move_frag.data,this.grassUniformsForeground);x.autoFit=!1,this.grassUniformsForeground.uGrassMask=this.system.renderManager.layerManager.grassMaskBuildingTexture,this.grassUniformsForeground.renderDimensions.x=this.system.renderManager.textureManager.dimensions.x,this.grassUniformsForeground.renderDimensions.y=this.system.renderManager.textureManager.dimensions.y,this.grassUniformsForeground.offset.x=this.system.renderManager.layerManager.offset.x*Lc,this.grassUniformsForeground.offset.y=this.system.renderManager.layerManager.offset.y*Lc;var E=this.system.renderManager.layerManager.assetLayers.get("entities");console.log(E),void 0!==E&&(null===E.filters&&(E.filters=[]),E.filters.push(x))}function md(t,e){var r=t.__state.conversionName.toString(),n=Math.round(t.r),i=Math.round(t.g),o=Math.round(t.b),a=t.a,s=Math.round(t.h),u=t.s.toFixed(1),l=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===r||"SIX_CHAR_HEX"===r){for(var h=t.hex.toString(16);h.length<6;)h="0"+h;return"#"+h}return"CSS_RGB"===r?"rgb("+n+","+i+","+o+")":"CSS_RGBA"===r?"rgba("+n+","+i+","+o+","+a+")":"HEX"===r?"0x"+t.hex.toString(16):"RGB_ARRAY"===r?"["+n+","+i+","+o+"]":"RGBA_ARRAY"===r?"["+n+","+i+","+o+","+a+"]":"RGB_OBJ"===r?"{r:"+n+",g:"+i+",b:"+o+"}":"RGBA_OBJ"===r?"{r:"+n+",g:"+i+",b:"+o+",a:"+a+"}":"HSV_OBJ"===r?"{h:"+s+",s:"+u+",v:"+l+"}":"HSVA_OBJ"===r?"{h:"+s+",s:"+u+",v:"+l+",a:"+a+"}":"unknown format"}var gd=Array.prototype.forEach,yd=Array.prototype.slice,bd={BREAK:{},extend:function(t){return this.each(yd.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(r){this.isUndefined(e[r])||(t[r]=e[r])}.bind(this))}),this),t},defaults:function(t){return this.each(yd.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(r){this.isUndefined(t[r])&&(t[r]=e[r])}.bind(this))}),this),t},compose:function(){var t=yd.call(arguments);return function(){for(var e=yd.call(arguments),r=t.length-1;r>=0;r--)e=[t[r].apply(this,e)];return e[0]}},each:function(t,e,r){if(t)if(gd&&t.forEach&&t.forEach===gd)t.forEach(e,r);else if(t.length===t.length+0){var n,i=void 0;for(i=0,n=t.length;i<n;i++)if(i in t&&e.call(r,t[i],i)===this.BREAK)return}else for(var o in t)if(e.call(r,t[o],o)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,r){var n=void 0;return function(){var i=this,o=arguments;function a(){n=null,r||t.apply(i,o)}var s=r||!n;clearTimeout(n),n=setTimeout(a,e),s&&t.apply(i,o)}},toArray:function(t){return t.toArray?t.toArray():yd.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return isNaN(t)})),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return t instanceof Function}},_d=[{litmus:bd.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:md},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:md},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:md},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:md}}},{litmus:bd.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:bd.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:bd.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(bd.isNumber(t.r)&&bd.isNumber(t.g)&&bd.isNumber(t.b)&&bd.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(bd.isNumber(t.r)&&bd.isNumber(t.g)&&bd.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(bd.isNumber(t.h)&&bd.isNumber(t.s)&&bd.isNumber(t.v)&&bd.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(bd.isNumber(t.h)&&bd.isNumber(t.s)&&bd.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],wd=void 0,xd=void 0,Ed=function(){xd=!1;var t=arguments.length>1?bd.toArray(arguments):arguments[0];return bd.each(_d,(function(e){if(e.litmus(t))return bd.each(e.conversions,(function(e,r){if(wd=e.read(t),!1===xd&&!1!==wd)return xd=wd,wd.conversionName=r,wd.conversion=e,bd.BREAK})),bd.BREAK})),xd},Md=void 0,Sd={hsv_to_rgb:function(t,e,r){var n=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),o=r*(1-e),a=r*(1-i*e),s=r*(1-(1-i)*e),u=[[r,s,o],[a,r,o],[o,r,s],[o,a,r],[s,o,r],[r,o,a]][n];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,r){var n=Math.min(t,e,r),i=Math.max(t,e,r),o=i-n,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=t===i?(e-r)/o:e===i?2+(r-t)/o:4+(t-e)/o,(a/=6)<0&&(a+=1),{h:360*a,s:o/i,v:i/255})},rgb_to_hex:function(t,e,r){var n=this.hex_with_component(0,2,t);return n=this.hex_with_component(n,1,e),n=this.hex_with_component(n,0,r)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,r){return r<<(Md=8*e)|t&~(255<<Md)}},Ad="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Td=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Rd=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},Pd=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Id=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},Nd=function(){function t(){if(kd(this,t),this.__state=Ed.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return Td(t,[{key:"toString",value:function(){return md(this)}},{key:"toHexString",value:function(){return md(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function Od(t,e,r){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||Nd.recalculateRGB(this,e,r),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(Nd.recalculateRGB(this,e,r),this.__state.space="RGB"),this.__state[e]=t}})}function Cd(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||Nd.recalculateHSV(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(Nd.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}Nd.recalculateRGB=function(t,e,r){if("HEX"===t.__state.space)t.__state[e]=Sd.component_from_hex(t.__state.hex,r);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");bd.extend(t.__state,Sd.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},Nd.recalculateHSV=function(t){var e=Sd.rgb_to_hsv(t.r,t.g,t.b);bd.extend(t.__state,{s:e.s,v:e.v}),bd.isNaN(e.h)?bd.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},Nd.COMPONENTS=["r","g","b","h","s","v","hex","a"],Od(Nd.prototype,"r",2),Od(Nd.prototype,"g",1),Od(Nd.prototype,"b",0),Cd(Nd.prototype,"h"),Cd(Nd.prototype,"s"),Cd(Nd.prototype,"v"),Object.defineProperty(Nd.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(Nd.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=Sd.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var Dd=function(){function t(e,r){kd(this,t),this.initialValue=e[r],this.domElement=document.createElement("div"),this.object=e,this.property=r,this.__onChange=void 0,this.__onFinishChange=void 0}return Td(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),Ld={};bd.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(t,e){bd.each(t,(function(t){Ld[t]=e}))}));var Fd=/(\d+(\.\d+)?)px/;function Bd(t){if("0"===t||bd.isUndefined(t))return 0;var e=t.match(Fd);return bd.isNull(e)?0:parseFloat(e[1])}var Ud={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,r){var n=r,i=e;bd.isUndefined(i)&&(i=!0),bd.isUndefined(n)&&(n=!0),t.style.position="absolute",i&&(t.style.left=0,t.style.right=0),n&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,r,n){var i=r||{},o=Ld[e];if(!o)throw new Error("Event type "+e+" not supported.");var a=document.createEvent(o);switch(o){case"MouseEvents":var s=i.x||i.clientX||0,u=i.y||i.clientY||0;a.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,s,u,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var l=a.initKeyboardEvent||a.initKeyEvent;bd.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),l(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:a.initEvent(e,i.bubbles||!1,i.cancelable||!0)}bd.defaults(a,n),t.dispatchEvent(a)},bind:function(t,e,r,n){var i=n||!1;return t.addEventListener?t.addEventListener(e,r,i):t.attachEvent&&t.attachEvent("on"+e,r),Ud},unbind:function(t,e,r,n){var i=n||!1;return t.removeEventListener?t.removeEventListener(e,r,i):t.detachEvent&&t.detachEvent("on"+e,r),Ud},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var r=t.className.split(/ +/);-1===r.indexOf(e)&&(r.push(e),t.className=r.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return Ud},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var r=t.className.split(/ +/),n=r.indexOf(e);-1!==n&&(r.splice(n,1),t.className=r.join(" "))}else t.className=void 0;return Ud},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return Bd(e["border-left-width"])+Bd(e["border-right-width"])+Bd(e["padding-left"])+Bd(e["padding-right"])+Bd(e.width)},getHeight:function(t){var e=getComputedStyle(t);return Bd(e["border-top-width"])+Bd(e["border-bottom-width"])+Bd(e["padding-top"])+Bd(e["padding-bottom"])+Bd(e.height)},getOffset:function(t){var e=t,r={left:0,top:0};if(e.offsetParent)do{r.left+=e.offsetLeft,r.top+=e.offsetTop,e=e.offsetParent}while(e);return r},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},Gd=function(t){function e(t,r){kd(this,e);var n=Id(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r)),i=n;return n.__prev=n.getValue(),n.__checkbox=document.createElement("input"),n.__checkbox.setAttribute("type","checkbox"),Ud.bind(n.__checkbox,"change",(function(){i.setValue(!i.__prev)}),!1),n.domElement.appendChild(n.__checkbox),n.updateDisplay(),n}return Pd(e,t),Td(e,[{key:"setValue",value:function(t){var r=Rd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),r}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),Rd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Dd),jd=function(t){function e(t,r,n){kd(this,e);var i=Id(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r)),o=n,a=i;if(i.__select=document.createElement("select"),bd.isArray(o)){var s={};bd.each(o,(function(t){s[t]=t})),o=s}return bd.each(o,(function(t,e){var r=document.createElement("option");r.innerHTML=e,r.setAttribute("value",t),a.__select.appendChild(r)})),i.updateDisplay(),Ud.bind(i.__select,"change",(function(){var t=this.options[this.selectedIndex].value;a.setValue(t)})),i.domElement.appendChild(i.__select),i}return Pd(e,t),Td(e,[{key:"setValue",value:function(t){var r=Rd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),r}},{key:"updateDisplay",value:function(){return Ud.isActive(this.__select)?this:(this.__select.value=this.getValue(),Rd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(Dd),zd=function(t){function e(t,r){kd(this,e);var n=Id(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r)),i=n;function o(){i.setValue(i.__input.value)}return n.__input=document.createElement("input"),n.__input.setAttribute("type","text"),Ud.bind(n.__input,"keyup",o),Ud.bind(n.__input,"change",o),Ud.bind(n.__input,"blur",(function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())})),Ud.bind(n.__input,"keydown",(function(t){13===t.keyCode&&this.blur()})),n.updateDisplay(),n.domElement.appendChild(n.__input),n}return Pd(e,t),Td(e,[{key:"updateDisplay",value:function(){return Ud.isActive(this.__input)||(this.__input.value=this.getValue()),Rd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Dd);function Hd(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var Vd=function(t){function e(t,r,n){kd(this,e);var i=Id(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r)),o=n||{};return i.__min=o.min,i.__max=o.max,i.__step=o.step,bd.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=Hd(i.__impliedStep),i}return Pd(e,t),Td(e,[{key:"setValue",value:function(t){var r=t;return void 0!==this.__min&&r<this.__min?r=this.__min:void 0!==this.__max&&r>this.__max&&(r=this.__max),void 0!==this.__step&&r%this.__step!==0&&(r=Math.round(r/this.__step)*this.__step),Rd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,r)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=Hd(t),this}}]),e}(Dd);var Wd=function(t){function e(t,r,n){kd(this,e);var i=Id(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,n));i.__truncationSuspended=!1;var o=i,a=void 0;function s(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function u(t){var e=a-t.clientY;o.setValue(o.getValue()+e*o.__impliedStep),a=t.clientY}function l(){Ud.unbind(window,"mousemove",u),Ud.unbind(window,"mouseup",l),s()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),Ud.bind(i.__input,"change",(function(){var t=parseFloat(o.__input.value);bd.isNaN(t)||o.setValue(t)})),Ud.bind(i.__input,"blur",(function(){s()})),Ud.bind(i.__input,"mousedown",(function(t){Ud.bind(window,"mousemove",u),Ud.bind(window,"mouseup",l),a=t.clientY})),Ud.bind(i.__input,"keydown",(function(t){13===t.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,s())})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return Pd(e,t),Td(e,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():function(t,e){var r=Math.pow(10,e);return Math.round(t*r)/r}(this.getValue(),this.__precision),Rd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Vd);function qd(t,e,r,n,i){return n+(t-e)/(r-e)*(i-n)}var Xd=function(t){function e(t,r,n,i,o){kd(this,e);var a=Id(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,{min:n,max:i,step:o})),s=a;function u(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(qd(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function l(){Ud.unbind(window,"mousemove",u),Ud.unbind(window,"mouseup",l),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function h(t){var e=t.touches[0].clientX,r=s.__background.getBoundingClientRect();s.setValue(qd(e,r.left,r.right,s.__min,s.__max))}function c(){Ud.unbind(window,"touchmove",h),Ud.unbind(window,"touchend",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),Ud.bind(a.__background,"mousedown",(function(t){document.activeElement.blur(),Ud.bind(window,"mousemove",u),Ud.bind(window,"mouseup",l),u(t)})),Ud.bind(a.__background,"touchstart",(function(t){if(1!==t.touches.length)return;Ud.bind(window,"touchmove",h),Ud.bind(window,"touchend",c),h(t)})),Ud.addClass(a.__background,"slider"),Ud.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return Pd(e,t),Td(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",Rd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Vd),Zd=function(t){function e(t,r,n){kd(this,e);var i=Id(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r)),o=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===n?"Fire":n,Ud.bind(i.__button,"click",(function(t){return t.preventDefault(),o.fire(),!1})),Ud.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return Pd(e,t),Td(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(Dd),Kd=function(t){function e(t,r){kd(this,e);var n=Id(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));n.__color=new Nd(n.getValue()),n.__temp=new Nd(0);var i=n;n.domElement=document.createElement("div"),Ud.makeSelectable(n.domElement,!1),n.__selector=document.createElement("div"),n.__selector.className="selector",n.__saturation_field=document.createElement("div"),n.__saturation_field.className="saturation-field",n.__field_knob=document.createElement("div"),n.__field_knob.className="field-knob",n.__field_knob_border="2px solid ",n.__hue_knob=document.createElement("div"),n.__hue_knob.className="hue-knob",n.__hue_field=document.createElement("div"),n.__hue_field.className="hue-field",n.__input=document.createElement("input"),n.__input.type="text",n.__input_textShadow="0 1px 1px ",Ud.bind(n.__input,"keydown",(function(t){13===t.keyCode&&c.call(this)})),Ud.bind(n.__input,"blur",c),Ud.bind(n.__selector,"mousedown",(function(){Ud.addClass(this,"drag").bind(window,"mouseup",(function(){Ud.removeClass(i.__selector,"drag")}))})),Ud.bind(n.__selector,"touchstart",(function(){Ud.addClass(this,"drag").bind(window,"touchend",(function(){Ud.removeClass(i.__selector,"drag")}))}));var o,a=document.createElement("div");function s(t){d(t),Ud.bind(window,"mousemove",d),Ud.bind(window,"touchmove",d),Ud.bind(window,"mouseup",l),Ud.bind(window,"touchend",l)}function u(t){p(t),Ud.bind(window,"mousemove",p),Ud.bind(window,"touchmove",p),Ud.bind(window,"mouseup",h),Ud.bind(window,"touchend",h)}function l(){Ud.unbind(window,"mousemove",d),Ud.unbind(window,"touchmove",d),Ud.unbind(window,"mouseup",l),Ud.unbind(window,"touchend",l),f()}function h(){Ud.unbind(window,"mousemove",p),Ud.unbind(window,"touchmove",p),Ud.unbind(window,"mouseup",h),Ud.unbind(window,"touchend",h),f()}function c(){var t=Ed(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function f(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function d(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),r=t.touches&&t.touches[0]||t,n=r.clientX,o=r.clientY,a=(n-e.left)/(e.right-e.left),s=1-(o-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function p(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),r=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return r>1?r=1:r<0&&(r=0),i.__color.h=360*r,i.setValue(i.__color.toOriginal()),!1}return bd.extend(n.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),bd.extend(n.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:n.__field_knob_border+(n.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),bd.extend(n.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),bd.extend(n.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),bd.extend(a.style,{width:"100%",height:"100%",background:"none"}),Jd(a,"top","rgba(0,0,0,0)","#000"),bd.extend(n.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(o=n.__hue_field).style.background="",o.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",o.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",o.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",bd.extend(n.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:n.__input_textShadow+"rgba(0,0,0,0.7)"}),Ud.bind(n.__saturation_field,"mousedown",s),Ud.bind(n.__saturation_field,"touchstart",s),Ud.bind(n.__field_knob,"mousedown",s),Ud.bind(n.__field_knob,"touchstart",s),Ud.bind(n.__hue_field,"mousedown",u),Ud.bind(n.__hue_field,"touchstart",u),n.__saturation_field.appendChild(a),n.__selector.appendChild(n.__field_knob),n.__selector.appendChild(n.__saturation_field),n.__selector.appendChild(n.__hue_field),n.__hue_field.appendChild(n.__hue_knob),n.domElement.appendChild(n.__input),n.domElement.appendChild(n.__selector),n.updateDisplay(),n}return Pd(e,t),Td(e,[{key:"updateDisplay",value:function(){var t=Ed(this.getValue());if(!1!==t){var e=!1;bd.each(Nd.COMPONENTS,(function(r){if(!bd.isUndefined(t[r])&&!bd.isUndefined(this.__color.__state[r])&&t[r]!==this.__color.__state[r])return e=!0,{}}),this),e&&bd.extend(this.__color.__state,t)}bd.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var r=this.__color.v<.5||this.__color.s>.5?255:0,n=255-r;bd.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+r+","+r+","+r+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,Jd(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),bd.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+r+","+r+","+r+")",textShadow:this.__input_textShadow+"rgba("+n+","+n+","+n+",.7)"})}}]),e}(Dd),Yd=["-moz-","-o-","-webkit-","-ms-",""];function Jd(t,e,r,n){t.style.background="",bd.each(Yd,(function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+r+" 0%, "+n+" 100%); "}))}var $d=function(t,e){var r=e||document,n=document.createElement("style");n.type="text/css",n.innerHTML=t;var i=r.getElementsByTagName("head")[0];try{i.appendChild(n)}catch(o){}},Qd='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',tp=function(t,e){var r=t[e];return bd.isArray(arguments[2])||bd.isObject(arguments[2])?new jd(t,e,arguments[2]):bd.isNumber(r)?bd.isNumber(arguments[2])&&bd.isNumber(arguments[3])?bd.isNumber(arguments[4])?new Xd(t,e,arguments[2],arguments[3],arguments[4]):new Xd(t,e,arguments[2],arguments[3]):bd.isNumber(arguments[4])?new Wd(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Wd(t,e,{min:arguments[2],max:arguments[3]}):bd.isString(r)?new zd(t,e):bd.isFunction(r)?new Zd(t,e,""):bd.isBoolean(r)?new Gd(t,e):null};var ep=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},rp=function(){function t(){kd(this,t),this.backgroundElement=document.createElement("div"),bd.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),Ud.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),bd.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;Ud.bind(this.backgroundElement,"click",(function(){e.hide()}))}return Td(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),bd.defer((function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",Ud.unbind(t.domElement,"webkitTransitionEnd",e),Ud.unbind(t.domElement,"transitionend",e),Ud.unbind(t.domElement,"oTransitionEnd",e)};Ud.bind(this.domElement,"webkitTransitionEnd",e),Ud.bind(this.domElement,"transitionend",e),Ud.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-Ud.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-Ud.getHeight(this.domElement)/2+"px"}}]),t}(),np=function(t){if(t&&"undefined"!==typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");$d(np);var ip="Default",op=function(){try{return!!window.localStorage}catch(t){return!1}}(),ap=void 0,sp=!0,up=void 0,lp=!1,hp=[],cp=function t(e){var r=this,n=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),Ud.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],n=bd.defaults(n,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),n=bd.defaults(n,{resizable:n.autoPlace,hideable:n.autoPlace}),bd.isUndefined(n.load)?n.load={preset:ip}:n.preset&&(n.load.preset=n.preset),bd.isUndefined(n.parent)&&n.hideable&&hp.push(this),n.resizable=bd.isUndefined(n.parent)&&n.resizable,n.autoPlace&&bd.isUndefined(n.scrollable)&&(n.scrollable=!0);var i=op&&"true"===localStorage.getItem(gp(this,"isLocal")),o=void 0,a=void 0;if(Object.defineProperties(this,{parent:{get:function(){return n.parent}},scrollable:{get:function(){return n.scrollable}},autoPlace:{get:function(){return n.autoPlace}},closeOnTop:{get:function(){return n.closeOnTop}},preset:{get:function(){return r.parent?r.getRoot().preset:n.load.preset},set:function(t){r.parent?r.getRoot().preset=t:n.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),r.revert()}},width:{get:function(){return n.width},set:function(t){n.width=t,xp(r,t)}},name:{get:function(){return n.name},set:function(t){n.name=t,a&&(a.innerHTML=n.name)}},closed:{get:function(){return n.closed},set:function(e){n.closed=e,n.closed?Ud.addClass(r.__ul,t.CLASS_CLOSED):Ud.removeClass(r.__ul,t.CLASS_CLOSED),this.onResize(),r.__closeButton&&(r.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return n.load}},useLocalStorage:{get:function(){return i},set:function(t){op&&(i=t,t?Ud.bind(window,"unload",o):Ud.unbind(window,"unload",o),localStorage.setItem(gp(r,"isLocal"),t))}}}),bd.isUndefined(n.parent)){if(this.closed=n.closed||!1,Ud.addClass(this.domElement,t.CLASS_MAIN),Ud.makeSelectable(this.domElement,!1),op&&i){r.useLocalStorage=!0;var s=localStorage.getItem(gp(this,"gui"));s&&(n.load=JSON.parse(s))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,Ud.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),n.closeOnTop?(Ud.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(Ud.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),Ud.bind(this.__closeButton,"click",(function(){r.closed=!r.closed}))}else{void 0===n.closed&&(n.closed=!0);var u=document.createTextNode(n.name);Ud.addClass(u,"controller-name"),a=fp(r,u);Ud.addClass(this.__ul,t.CLASS_CLOSED),Ud.addClass(a,"title"),Ud.bind(a,"click",(function(t){return t.preventDefault(),r.closed=!r.closed,!1})),n.closed||(this.closed=!1)}n.autoPlace&&(bd.isUndefined(n.parent)&&(sp&&(up=document.createElement("div"),Ud.addClass(up,"dg"),Ud.addClass(up,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(up),sp=!1),up.appendChild(this.domElement),Ud.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||xp(r,n.width)),this.__resizeHandler=function(){r.onResizeDebounced()},Ud.bind(window,"resize",this.__resizeHandler),Ud.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),Ud.bind(this.__ul,"transitionend",this.__resizeHandler),Ud.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),n.resizable&&wp(this),o=function(){op&&"true"===localStorage.getItem(gp(r,"isLocal"))&&localStorage.setItem(gp(r,"gui"),JSON.stringify(r.getSaveObject()))},this.saveToLocalStorageIfPossible=o,n.parent||function(){var t=r.getRoot();t.width+=1,bd.defer((function(){t.width-=1}))}()};function fp(t,e,r){var n=document.createElement("li");return e&&n.appendChild(e),r?t.__ul.insertBefore(n,r):t.__ul.appendChild(n),t.onResize(),n}function dp(t){Ud.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&Ud.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function pp(t,e){var r=t.__preset_select[t.__preset_select.selectedIndex];r.innerHTML=e?r.value+"*":r.value}function vp(t,e){var r=t.getRoot(),n=r.__rememberedObjects.indexOf(e.object);if(-1!==n){var i=r.__rememberedObjectIndecesToControllers[n];if(void 0===i&&(i={},r.__rememberedObjectIndecesToControllers[n]=i),i[e.property]=e,r.load&&r.load.remembered){var o=r.load.remembered,a=void 0;if(o[t.preset])a=o[t.preset];else{if(!o.Default)return;a=o.Default}if(a[n]&&void 0!==a[n][e.property]){var s=a[n][e.property];e.initialValue=s,e.setValue(s)}}}}function mp(t,e,r,n){if(void 0===e[r])throw new Error('Object "'+e+'" has no property "'+r+'"');var i=void 0;if(n.color)i=new Kd(e,r);else{var o=[e,r].concat(n.factoryArgs);i=tp.apply(t,o)}n.before instanceof Dd&&(n.before=n.before.__li),vp(t,i),Ud.addClass(i.domElement,"c");var a=document.createElement("span");Ud.addClass(a,"property-name"),a.innerHTML=i.property;var s=document.createElement("div");s.appendChild(a),s.appendChild(i.domElement);var u=fp(t,s,n.before);return Ud.addClass(u,cp.CLASS_CONTROLLER_ROW),i instanceof Kd?Ud.addClass(u,"color"):Ud.addClass(u,Ad(i.getValue())),function(t,e,r){if(r.__li=e,r.__gui=t,bd.extend(r,{options:function(e){if(arguments.length>1){var n=r.__li.nextElementSibling;return r.remove(),mp(t,r.object,r.property,{before:n,factoryArgs:[bd.toArray(arguments)]})}if(bd.isArray(e)||bd.isObject(e)){var i=r.__li.nextElementSibling;return r.remove(),mp(t,r.object,r.property,{before:i,factoryArgs:[e]})}},name:function(t){return r.__li.firstElementChild.firstElementChild.innerHTML=t,r},listen:function(){return r.__gui.listen(r),r},remove:function(){return r.__gui.remove(r),r}}),r instanceof Xd){var n=new Wd(r.object,r.property,{min:r.__min,max:r.__max,step:r.__step});bd.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(t){var e=r[t],i=n[t];r[t]=n[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(n,t),e.apply(r,t)}})),Ud.addClass(e,"has-slider"),r.domElement.insertBefore(n.domElement,r.domElement.firstElementChild)}else if(r instanceof Wd){var i=function(e){if(bd.isNumber(r.__min)&&bd.isNumber(r.__max)){var n=r.__li.firstElementChild.firstElementChild.innerHTML,i=r.__gui.__listening.indexOf(r)>-1;r.remove();var o=mp(t,r.object,r.property,{before:r.__li.nextElementSibling,factoryArgs:[r.__min,r.__max,r.__step]});return o.name(n),i&&o.listen(),o}return e};r.min=bd.compose(i,r.min),r.max=bd.compose(i,r.max)}else r instanceof Gd?(Ud.bind(e,"click",(function(){Ud.fakeEvent(r.__checkbox,"click")})),Ud.bind(r.__checkbox,"click",(function(t){t.stopPropagation()}))):r instanceof Zd?(Ud.bind(e,"click",(function(){Ud.fakeEvent(r.__button,"click")})),Ud.bind(e,"mouseover",(function(){Ud.addClass(r.__button,"hover")})),Ud.bind(e,"mouseout",(function(){Ud.removeClass(r.__button,"hover")}))):r instanceof Kd&&(Ud.addClass(e,"color"),r.updateDisplay=bd.compose((function(t){return e.style.borderLeftColor=r.__color.toString(),t}),r.updateDisplay),r.updateDisplay());r.setValue=bd.compose((function(e){return t.getRoot().__preset_select&&r.isModified()&&pp(t.getRoot(),!0),e}),r.setValue)}(t,u,i),t.__controllers.push(i),i}function gp(t,e){return document.location.href+"."+e}function yp(t,e,r){var n=document.createElement("option");n.innerHTML=e,n.value=e,t.__preset_select.appendChild(n),r&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function bp(t,e){e.style.display=t.useLocalStorage?"block":"none"}function _p(t){var e=t.__save_row=document.createElement("li");Ud.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),Ud.addClass(e,"save-row");var r=document.createElement("span");r.innerHTML="&nbsp;",Ud.addClass(r,"button gears");var n=document.createElement("span");n.innerHTML="Save",Ud.addClass(n,"button"),Ud.addClass(n,"save");var i=document.createElement("span");i.innerHTML="New",Ud.addClass(i,"button"),Ud.addClass(i,"save-as");var o=document.createElement("span");o.innerHTML="Revert",Ud.addClass(o,"button"),Ud.addClass(o,"revert");var a=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?bd.each(t.load.remembered,(function(e,r){yp(t,r,r===t.preset)})):yp(t,ip,!1),Ud.bind(a,"change",(function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value})),e.appendChild(a),e.appendChild(r),e.appendChild(n),e.appendChild(i),e.appendChild(o),op){var s=document.getElementById("dg-local-explain"),u=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(gp(0,"isLocal"))&&u.setAttribute("checked","checked"),bp(t,s),Ud.bind(u,"change",(function(){t.useLocalStorage=!t.useLocalStorage,bp(t,s)}))}var l=document.getElementById("dg-new-constructor");Ud.bind(l,"keydown",(function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||ap.hide()})),Ud.bind(r,"click",(function(){l.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),ap.show(),l.focus(),l.select()})),Ud.bind(n,"click",(function(){t.save()})),Ud.bind(i,"click",(function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)})),Ud.bind(o,"click",(function(){t.revert()}))}function wp(t){var e=void 0;function r(r){return r.preventDefault(),t.width+=e-r.clientX,t.onResize(),e=r.clientX,!1}function n(){Ud.removeClass(t.__closeButton,cp.CLASS_DRAG),Ud.unbind(window,"mousemove",r),Ud.unbind(window,"mouseup",n)}function i(i){return i.preventDefault(),e=i.clientX,Ud.addClass(t.__closeButton,cp.CLASS_DRAG),Ud.bind(window,"mousemove",r),Ud.bind(window,"mouseup",n),!1}t.__resize_handle=document.createElement("div"),bd.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),Ud.bind(t.__resize_handle,"mousedown",i),Ud.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function xp(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function Ep(t,e){var r={};return bd.each(t.__rememberedObjects,(function(n,i){var o={},a=t.__rememberedObjectIndecesToControllers[i];bd.each(a,(function(t,r){o[r]=e?t.initialValue:t.getValue()})),r[i]=o})),r}function Mp(t){0!==t.length&&ep.call(window,(function(){Mp(t)})),bd.each(t,(function(t){t.updateDisplay()}))}cp.toggleHide=function(){lp=!lp,bd.each(hp,(function(t){t.domElement.style.display=lp?"none":""}))},cp.CLASS_AUTO_PLACE="a",cp.CLASS_AUTO_PLACE_CONTAINER="ac",cp.CLASS_MAIN="main",cp.CLASS_CONTROLLER_ROW="cr",cp.CLASS_TOO_TALL="taller-than-window",cp.CLASS_CLOSED="closed",cp.CLASS_CLOSE_BUTTON="close-button",cp.CLASS_CLOSE_TOP="close-top",cp.CLASS_CLOSE_BOTTOM="close-bottom",cp.CLASS_DRAG="drag",cp.DEFAULT_WIDTH=245,cp.TEXT_CLOSED="Close Controls",cp.TEXT_OPEN="Open Controls",cp._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||cp.toggleHide()},Ud.bind(window,"keydown",cp._keydownHandler,!1),bd.extend(cp.prototype,{add:function(t,e){return mp(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return mp(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;bd.defer((function(){e.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&up.removeChild(this.domElement);var t=this;bd.each(this.__folders,(function(e){t.removeFolder(e)})),Ud.unbind(window,"keydown",cp._keydownHandler,!1),dp(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var r=new cp(e);this.__folders[t]=r;var n=fp(this,r.domElement);return Ud.addClass(n,"folder"),r},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],dp(t);var e=this;bd.each(t.__folders,(function(e){t.removeFolder(e)})),bd.defer((function(){e.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=Ud.getOffset(t.__ul).top,r=0;bd.each(t.__ul.childNodes,(function(e){t.autoPlace&&e===t.__save_row||(r+=Ud.getHeight(e))})),window.innerHeight-e-20<r?(Ud.addClass(t.domElement,cp.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(Ud.removeClass(t.domElement,cp.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&bd.defer((function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:bd.debounce((function(){this.onResize()}),50),remember:function(){if(bd.isUndefined(ap)&&((ap=new rp).domElement.innerHTML=Qd),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;bd.each(Array.prototype.slice.call(arguments),(function(e){0===t.__rememberedObjects.length&&_p(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)})),this.autoPlace&&xp(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=Ep(this)),t.folders={},bd.each(this.__folders,(function(e,r){t.folders[r]=e.getSaveObject()})),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Ep(this),pp(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=Ep(this,!0)),this.load.remembered[t]=Ep(this),this.preset=t,yp(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){bd.each(this.__controllers,(function(e){this.getRoot().load.remembered?vp(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),this),bd.each(this.__folders,(function(t){t.revert(t)})),t||pp(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&Mp(this.__listening)},updateDisplay:function(){bd.each(this.__controllers,(function(t){t.updateDisplay()})),bd.each(this.__folders,(function(t){t.updateDisplay()}))}});var Sp=cp,Ap=oo.create({width:0,height:0}),kp={x:4928,y:4096},Tp=function(){function t(e){(0,Ee.Z)(this,t),this.system=void 0,this.initialize=void 0,this.environmentVariables={windSpeed:{x:1,y:-1},windPosition:{x:-2e3,y:0}},this.fogUniforms={time:.1,windTime:{x:-1e3,y:0},dimensions:{x:window.innerWidth,y:window.innerHeight},pixelSize:1,pixelSizeReducer:1,sizeMultiplier:6.1,colorReductionSteps:14,thickness:1,windSpeed:{x:0,y:0}},this.godRaysUniforms={time:0,bend:.5},this.rgbGlitchUniforms={offset:.001*Math.random()},this.oldTVUniforms={screenDimensions:{x:-1,y:-1},time:0},this.groundShadowFilterUniforms={uEntities:{},screenDimensions:{x:window.innerWidth/3,y:window.innerHeight/3},textureDimensions:{x:-1,y:-1},watts:1.8,shadowDistance:72,wattsMulti:1,shadowDarkness:.002,shadowFalloff:1,lampPosition:{x:.5,y:.5},uLampPosition:no.EMPTY,lampColor:{x:1,y:1,z:1}},this.lightsFilterUniforms={uEmission:{},screenDimensions:{x:window.innerWidth/3,y:window.innerHeight/3},textureDimensions:{x:-1,y:-1},blurSize:10,sigma:2,texOffset:{x:0,y:0}},this.grassUniformsBackground={uGrassMask:{},renderDimensions:{x:-1,y:-1},maskDimensions:kp,offset:{x:0,y:0},noiseSizeMultiplier:{x:6,y:1},baseOffset:{x:0,y:0},timeMulti:.05,time:0,noiseSamplePosition:{x:0,y:0},proceduralMudDistance:676,proceduralMudSize:.0026,windSpeed:{x:0,y:0}},this.grassUniformsForeground={uGrassMask:{},renderDimensions:{x:-1,y:-1},maskDimensions:kp,offset:{x:0,y:0},noiseSizeMultiplier:{x:150,y:40},baseOffset:{x:20240,y:0},timeMulti:.87,time:0,noiseSamplePosition:{x:0,y:0},proceduralMudDistance:0,proceduralMudSize:0,factor:5,windSpeed:{x:0,y:0}},this.waterUniforms={uWaterMask:{},uWaterTexture:{},renderDimensions:{x:-1,y:-1},maskDimensions:kp,offset:{x:0,y:0},baseOffset:{x:0,y:0},timeMulti:1.14,noiseSamplePosition:{x:0,y:0},time:0,distanceMulti:.17,fadeFactor:.26,fadeThreshold:.3},this.compositorUniforms={uEntities:Ap,uEmission:Ap,uBackground:Ap,uShadow:Ap,uFog:Ap,uLights:Ap,uDarkness:Ap,uEmissionMask:Ap,emissionStrength:1.2,ambientLightStrength:2.09,glowStrength:4,_lampColor:{r:.1,g:.1,b:.1}},this.system=e;var r=new Sp;r.width=300,window.gui=r;var n=r.addFolder("Environment Settings");n.add(this.environmentVariables.windSpeed,"x",-20,20,.1).name("Wind Speed X").listen(),n.add(this.environmentVariables.windSpeed,"y",-20,20,.1).name("Wind Speed Y").listen(),n.open();var i=r.addFolder("Lights & Shadow Settings");i.open(),i.add(this.groundShadowFilterUniforms,"watts",0,10),i.add(this.groundShadowFilterUniforms,"shadowDistance",1,128);var o=r.addFolder("Fog");o.open(),o.add(this.fogUniforms,"thickness",0,4).name("Thickness"),o.add(this.fogUniforms,"colorReductionSteps",1,64).name("Color Steps"),o.add(this.fogUniforms,"sizeMultiplier",1,100).name("Size");var a=r.addFolder("Water");a.open(),a.add(this.waterUniforms,"timeMulti",0,10).name("Speed"),a.add(this.waterUniforms,"distanceMulti",0,2).name("Amount"),a.add(this.waterUniforms,"fadeFactor",0,2).name("Fade"),a.add(this.waterUniforms,"fadeThreshold",0,2).name("Threshold");var s=r.addFolder("Procedural Grass & Mud");s.open(),s.add(this.grassUniformsBackground,"proceduralMudDistance",0,1e3).name("Sample Distance"),s.add(this.grassUniformsBackground,"proceduralMudSize",0,.02).name("Sample Scale");var u=r.addFolder("Fluttering in the Wind");u.open(),u.add(this.grassUniformsBackground,"timeMulti",0,2,.01).name("Wind Speed");var l=r.addFolder("Compositor");l.open(),l.add(this.compositorUniforms,"emissionStrength",0,30).name("Emissive"),l.add(this.compositorUniforms,"glowStrength",0,30).name("Glow"),l.add(this.compositorUniforms,"ambientLightStrength",0,5).name("Ambient"),this.initialize=vd.bind(this)}return(0,Me.Z)(t,[{key:"tickUniforms",value:function(){this.environmentVariables.windPosition.x+=this.environmentVariables.windSpeed.x,this.environmentVariables.windPosition.y+=this.environmentVariables.windSpeed.y,this.fogUniforms.windTime.x=this.environmentVariables.windPosition.x+2*this.system.renderManager.layerManager.offset.x,this.fogUniforms.windTime.y=this.environmentVariables.windPosition.y+2*this.system.renderManager.layerManager.offset.y,this.godRaysUniforms.time+=.05,this.rgbGlitchUniforms.offset=.004*Math.random()*(Math.random()>.5?-1:1),this.oldTVUniforms.screenDimensions.x=this.system.app.view.width,this.oldTVUniforms.screenDimensions.y=this.system.app.view.height,this.oldTVUniforms.time+=.01,this.grassUniformsBackground.offset.x=this.system.renderManager.layerManager.offset.x,this.grassUniformsBackground.offset.y=this.system.renderManager.layerManager.offset.y,this.grassUniformsBackground.noiseSamplePosition.x+=.01*this.environmentVariables.windSpeed.x,this.grassUniformsBackground.noiseSamplePosition.y+=.01*this.environmentVariables.windSpeed.y,this.grassUniformsBackground.windSpeed.x=this.environmentVariables.windSpeed.x,this.grassUniformsBackground.windSpeed.y=this.environmentVariables.windSpeed.y,this.grassUniformsBackground.time+=.01,this.waterUniforms.offset.x=this.system.renderManager.layerManager.offset.x,this.waterUniforms.offset.y=this.system.renderManager.layerManager.offset.y,this.waterUniforms.noiseSamplePosition.x+=.01*this.environmentVariables.windSpeed.x,this.waterUniforms.noiseSamplePosition.y+=.01*this.environmentVariables.windSpeed.y,this.waterUniforms.time+=.01,this.grassUniformsForeground.offset.x=this.system.renderManager.layerManager.offset.x,this.grassUniformsForeground.offset.y=this.system.renderManager.layerManager.offset.y,this.grassUniformsForeground.noiseSamplePosition.x+=.01*this.environmentVariables.windSpeed.x,this.grassUniformsForeground.noiseSamplePosition.y+=.01*this.environmentVariables.windSpeed.y,this.grassUniformsForeground.windSpeed.x=this.environmentVariables.windSpeed.x,this.grassUniformsForeground.windSpeed.y=this.environmentVariables.windSpeed.y,this.grassUniformsForeground.time+=.01}}]),t}(),Rp=(0,Me.Z)((function t(e){(0,Ee.Z)(this,t),this.system=void 0,this.renderTargets=new Map,this.masks=new Map,this.dimensions={x:0,y:0},console.log("texture manager constructor"),this.system=e;var r=Math.pow(2,Math.ceil(Math.log(Math.ceil(this.system.app.view.width/Lc))/Math.log(2))),n=Math.pow(2,Math.ceil(Math.log(Math.ceil(this.system.app.view.height/Lc))/Math.log(2)));this.dimensions.x=r,this.dimensions.y=n,console.log("initializing texture manager",this.dimensions),this.renderTargets.set("background",oo.create({width:r,height:n})),this.renderTargets.set("entity",oo.create({width:r,height:n})),this.renderTargets.set("emission",oo.create({width:r,height:n})),this.renderTargets.set("emission-entities-mask",oo.create({width:r,height:n})),this.renderTargets.set("shadow",oo.create({width:r,height:n})),this.renderTargets.set("fog",oo.create({width:r,height:n})),this.renderTargets.set("lights",oo.create({width:r,height:n})),this.renderTargets.set("darkness",oo.create({width:r,height:n})),this.renderTargets.set("lights-compute-x",oo.create({width:r,height:1})),this.renderTargets.set("lights-compute-y",oo.create({width:1,height:n})),this.renderTargets.set("lights-compute-reducer",oo.create({width:1,height:1})),this.renderTargets.set("render",oo.create({width:r,height:n}))})),Pp=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){return(0,Ee.Z)(this,r),e.apply(this,arguments)}return(0,Me.Z)(r,[{key:"create",value:function(){return new gi}},{key:"update",value:function(t,e){}}]),r}(Uc),Ip=function(){function t(e){(0,Ee.Z)(this,t),this.system=void 0,this.layerManager=void 0,this.prefabManager=new Gf,this.shaderManager=void 0,this.textureManager=void 0,this.frameCount=0,this.instancedPrefabs=[],this.objectReferences=new Map,this.basePrefab=new Pp,this.extractBufferX=new ArrayBuffer(0),this.extractPixelsX=new Uint8Array,this.extractBufferY=new ArrayBuffer(0),this.extractPixelsY=new Uint8Array,this.system=e,this.textureManager=new Rp(this.system),this.layerManager=new sd(this.system),this.shaderManager=new Tp(this.system),this.basePrefab.template.load(Gc),this.basePrefab.unpackTemplate()}return(0,Me.Z)(t,[{key:"initialize",value:function(){console.log("intializing render manager"),this.layerManager.initialize(),this.layerManager.addScreenToStage(),this.shaderManager.initialize(),this.extractBufferX=new ArrayBuffer(4*this.textureManager.dimensions.x),this.extractBufferY=new ArrayBuffer(4*this.textureManager.dimensions.y),this.extractPixelsX=new Uint8Array(this.extractBufferX),this.extractPixelsY=new Uint8Array(this.extractBufferY)}},{key:"doRenderPipeline",value:function(){var t;this.layerManager.cull(),this.shaderManager.tickUniforms(),this.renderLayerToTexture(this.layerManager.assetLayers.get("background-level"),this.textureManager.renderTargets.get("background"),!0),this.renderLayerToTexture(this.layerManager.assetLayers.get("background-ground-objects"),this.textureManager.renderTargets.get("background"),!1),this.renderLayerToTexture(this.layerManager.assetLayers.get("entities"),this.textureManager.renderTargets.get("entity"),!0),this.renderLayerToTexture(this.layerManager.assetLayers.get("emission"),this.textureManager.renderTargets.get("emission"),!0);var e,r,n=null===(t=this.layerManager.assetLayers.get("emission"))||void 0===t?void 0:t.getChildByName("128");null!==n&&void 0!==n&&(null===(e=this.layerManager.assetLayers.get("entities"))||void 0===e||e.addChild(n),this.layerManager.sort(),this.renderLayerToTexture(this.layerManager.assetLayers.get("entities"),this.textureManager.renderTargets.get("emission-entities-mask"),!0),null===(r=this.layerManager.assetLayers.get("emission"))||void 0===r||r.addChild(n));this.frameCount%2===0&&(this.renderLayerToTexture(this.layerManager.computeLayers.get("find-lights-x"),this.textureManager.renderTargets.get("lights-compute-x"),!0),this.renderLayerToTexture(this.layerManager.computeLayers.get("find-lights-y"),this.textureManager.renderTargets.get("lights-compute-y"),!0),this.renderLayerToTexture(this.layerManager.computeLayers.get("find-lights-reducer"),this.textureManager.renderTargets.get("lights-compute-reducer"),!0)),this.renderLayerToTexture(this.layerManager.effectsLayers.get("ground-shadow"),this.textureManager.renderTargets.get("shadow"),!0),this.renderLayerToTexture(this.layerManager.effectsLayers.get("fog"),this.textureManager.renderTargets.get("fog"),!0),this.renderLayerToTexture(this.layerManager.effectsLayers.get("lights"),this.textureManager.renderTargets.get("lights"),!0),this.renderLayerToTexture(this.layerManager.effectsLayers.get("darkness"),this.textureManager.renderTargets.get("darkness"),!0),this.renderLayerToTexture(this.layerManager.compositedLayers.get("render-screen"),this.textureManager.renderTargets.get("render"),!0),this.renderLayerToTexture(this.layerManager.assetLayers.get("overlay"),this.textureManager.renderTargets.get("render"),!1),this.frameCount+=1}},{key:"renderLayerToTexture",value:function(t,e,r){void 0!==t&&void 0!==e?this.system.app.renderer.render(t,{renderTexture:e,clear:r}):console.log("returning because of undefined layer or texture",t,e)}}]),t}(),Np=function(){function t(){(0,Ee.Z)(this,t),this._buffer=void 0,this._view=void 0,this._skippedBuffer=void 0,this._skippedView=void 0,this._buffer=new ArrayBuffer(16386),this._view=new Uint16Array(this._buffer),this._skippedBuffer=new ArrayBuffer(16386),this._skippedView=new Uint16Array(this._skippedBuffer),this._view[0]=0,this._skippedView[0]=0}return(0,Me.Z)(t,[{key:"add",value:function(t){var e=this.count();this._view[e+1]=t,this.incrementCount()}},{key:"clearAndRestoreSkipped",value:function(){this._view[0]=0;var t=this._skippedView[0];if(t>0){for(var e=0;e<t+1;e++)this._view[e]=this._skippedView[e];this._skippedView[0]=0}}},{key:"count",value:function(){return this._view[0]}},{key:"countSkipped",value:function(){return this._skippedView[0]}},{key:"getUpdatedEntity",value:function(t){return this._view[t+1]}},{key:"incrementCount",value:function(){this._view[0]+=1}},{key:"skip",value:function(t){var e=this._skippedView[0];this._skippedView[e+1]=t,this._skippedView[0]+=1}}]),t}(),Op=1630,Cp=850,Dp=function(){function t(){(0,Ee.Z)(this,t),this._buffer=void 0,this._view=void 0,this._updatedEntitiesManager=void 0,this.disconnectedPCs=[],this.identity={id:-1,address:-1},this._buffer=new ArrayBuffer(16384),this._view=new Uint16Array(this._buffer),this._updatedEntitiesManager=new Np,this.identity.address=0,this.write(0,8,[128,4e3,Op,Cp,0,0,0,0]),this.write(8,8,[129,7920,Op,Cp-20,0,8,0,0])}return(0,Me.Z)(t,[{key:"write",value:function(t,e,r){if(0!==e){var n=0;for(n=0;n<e;n++)this._view[n+t]=r[n];if(e>8)for(n=0;n<Math.ceil(e/8);n++)this._updatedEntitiesManager.add(Math.floor(t/8)+n);else this._updatedEntitiesManager.add(Math.floor(t/8))}}},{key:"setIdentity",value:function(t){this.identity=t}},{key:"loadEntityBytesIntoPrefab",value:function(t,e){e.template.packRaw(this._view.slice(8*t,8*t+8)),e.unpackTemplate()}}]),t}();var Lp=function(){function t(e){var r=this;(0,Ee.Z)(this,t),this.app=void 0,this.assetManager=new jf,this.demoManager=void 0,this.interactionManager=void 0,this.metricsManager=void 0,this.networkManager=void 0,this.renderManager=void 0,this.world=void 0,this.pos={x:2048,y:1024},this.app=function(t){var e;Gr(),Ir.RENDER_OPTIONS.antialias=!1,Ir.SCALE_MODE=wr.NEAREST,Ir.MIPMAP_TEXTURES=Er.OFF,Ir.WRAP_MODE=xr.MIRRORED_REPEAT;var r=new as({antialias:!1,autoDensity:!1,backgroundColor:4603963,sharedTicker:!0,sharedLoader:!0,resizeTo:window});null===(e=document.querySelector(".game"))||void 0===e||e.appendChild(r.view);var n=setTimeout((function(){}),0);return window.addEventListener("resize",(function(){clearTimeout(n),n=setTimeout((function(){window.location.reload()}),500)})),r}(),this.metricsManager=new td,this.world=new Dp,this.renderManager=new Ip(this),this.networkManager=new id(this),this.interactionManager=new Qf(this),this.demoManager=new Yf(this),this.tick=this.tick.bind(this),this.initialize=this.initialize.bind(this);var n=new gi;n.name="loading-screen",n.position.set(.5*this.app.view.width,.5*this.app.view.height);var i=new ll(no.from("./images/ng-poster.png"));i.anchor.set(.5,.5),n.addChild(i),this.app.stage.addChild(n),this.assetManager.loadAssets((function(){r.demoManager.tiledManager.initialize(r.initialize)}))}return(0,Me.Z)(t,[{key:"initialize",value:function(){var t=this;this.renderManager.initialize(),this.demoManager.initialize(),function(t,e){var r=null,n=!1;e=e||!1,window.requestAnimationFrame||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame);var i=[];window.requestAnimationFrame((function o(a){if(i.unshift(a),i.length>10){var s=i.pop(),u=Math.floor(1e4/(a-s));n||t.call(void 0,u,i),n=!e}r=window.requestAnimationFrame(o)})),e||window.setTimeout((function(){window.cancelAnimationFrame(r),r=null}),500)}((function(e){console.log("FPS",e),e>100&&(xi.shared.maxFPS=61),t.app.ticker.add(t.tick)}),!1)}},{key:"tick",value:function(t){var e=window.performance.now(),r=this.world._updatedEntitiesManager.count(),n=this.world._updatedEntitiesManager.countSkipped(),i=window.performance.now();this.renderManager.layerManager.reconcile();var o=window.performance.now();this.metricsManager.updatePanels([e,o-i,r,n,this.networkManager.getBytesDown(),this.networkManager.getBytesUp(),this.networkManager.getPing()]),this.networkManager.clearStats(),this.renderManager.layerManager.sort(),this.renderManager.doRenderPipeline()}}]),t}(),Fp=Lp;var Bp,Up,Gp=function(){return(0,a.jsx)("div",{className:"container",style:{background:"url(/images/mobile-background.png) no-repeat center center",backgroundSize:"cover"},children:(0,a.jsxs)("div",{className:"pop-over",children:[(0,a.jsx)("div",{className:"pop-over__top",style:{background:"url(/images/trees.png)"}}),(0,a.jsxs)("div",{className:"pop-over__body",children:[(0,a.jsx)("h1",{className:"pop-over__title",children:"Mobile device detected"}),(0,a.jsxs)("p",{children:["Hi there! Unfortunately the Northern Guilds test environment is not yet supported on mobile devices, but we are working on it!",(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),"In the meantime, we encourage you to check it out from the browser on your computer. Below is a little demonstration to motivate you to go find said computer.",(0,a.jsx)("iframe",{src:"https://www.youtube-nocookie.com/embed/3wSR0gswexI",title:"Northern Guilds Tech Demo",style:{minWidth:"50%",minHeight:"300px"}}),(0,a.jsx)("a",{href:"https://northernguilds.com/",target:"_blank",rel:"noopener noreferrer",children:"Learn more on the Northern Guilds website \u2bc8"})]})]})]})})},jp=[{key:"H",value:"Show / Hide this menu"},{key:"M",value:"Show / Hide the Welcome Message"},{key:"F",value:"Show / Hide the FAQ"},{key:"U",value:"Show / Hide Shader Controls"},{key:"I",value:"Show / Hide Stats"},{key:"V",value:"Show / Hide Inventory, Loc, & Build Info"},{key:"R",value:"Show / Hide Render Layer Viewer"},{key:"1,2,3,4,5,6,7,8,9,0",value:"Free Mushrooms"},{key:"E",value:"Eat Mushrooms"},{key:"W-A-S-D + Shift",value:"Move"},{key:"C",value:"Clear effects"},{key:"L",value:"Random effects"}],zp=[{key:"Low",value:4},{key:"Medium",value:3},{key:"High",value:2},{key:"Ultra",value:1}];!function(t){t.NG_UPSCALE_FACTOR="NG_UPSCALE_FACTOR"}(Bp||(Bp={})),function(t){t[t.NONE=0]="NONE",t[t.FAQ=1]="FAQ",t[t.Controls=2]="Controls",t[t.Stats=3]="Stats",t[t.Disclaimer=4]="Disclaimer",t[t.Quest=5]="Quest"}(Up||(Up={}));var Hp={q:Up.Quest,f:Up.FAQ,h:Up.Controls,m:Up.Disclaimer,i:Up.Stats};var Vp=function(t,e){var r=Mt((0,i.useState)((function(){if("undefined"===typeof window)return e;try{var r=window.localStorage.getItem(t);return r?JSON.parse(r):e}catch(n){return console.log(n),e}})),2),n=r[0],o=r[1];return[n,function(e){try{var r=e instanceof Function?e(n):e;o(r),"undefined"!==typeof window&&(console.log(t,r),window.localStorage.setItem(t,JSON.stringify(r)))}catch(i){console.log(i)}}]},Wp=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,n=(0,i.useRef)();(0,i.useEffect)((function(){n.current=e}),[e]),(0,i.useEffect)((function(){var e=function(t){return n.current(t)};return r.addEventListener(t,e),function(){r.removeEventListener(t,e)}}),[t,r])};var qp=function(){var t=Mt(Vp(Bp.NG_UPSCALE_FACTOR,4),2),e=t[0],r=t[1],n=Mt((0,i.useState)([]),2),o=n[0],s=n[1];return(0,i.useEffect)((function(){s(zp)}),[s]),(0,a.jsxs)("div",{className:"controls",children:[(0,a.jsx)("h1",{children:"Controls"}),(0,a.jsx)("h2",{children:"\xa0"}),jp.map((function(t){return(0,a.jsxs)("div",{className:"controls-table-row",children:[(0,a.jsx)("div",{className:"controls-table-key",children:t.key}),(0,a.jsx)("div",{className:"controls-table-value",children:t.value})]},t.key)})),(0,a.jsx)("h5",{children:"Graphics Settings"}),(0,a.jsx)("div",{className:"button-container",children:o.map((function(t){var n=e===t.value,i={borderColor:n?"#FFD700":"white",color:n?"#FFD700":"white"};return(0,a.jsx)("div",{className:"faux-button",style:i,onClick:function(){return function(t){r(t.value),window.location.reload()}(t)},children:t.key},t.key)}))}),(0,a.jsx)("h6",{children:"Note: Changing graphics settings will refresh the page."})]})};var Xp=function(){return(0,a.jsxs)("div",{className:"disclaimer",children:[(0,a.jsx)("h1",{children:"Northern Guilds Tech Demo"}),(0,a.jsx)("p",{children:"Welcome to our technology demonstration. Game mechanics, graphics, and art displayed here are not final."}),(0,a.jsx)("p",{children:"Report your experience to us via the feedback form linked below."}),(0,a.jsxs)("p",{children:[(0,a.jsx)("b",{children:"Epilepsy warning"}),": This game contains flashing, colorful lights.",(0,a.jsx)("br",{}),"Do not play this demo without supervision if you suffer from epilepsy or other sensitivities to light."]}),(0,a.jsx)("p",{children:"\xa0"}),(0,a.jsx)("h2",{children:"How to Play"}),(0,a.jsx)("p",{children:"Move by pressing W-A-S-D.  Press Shift to run."}),(0,a.jsx)("p",{children:"Pick up mushrooms by walking near them.  Eat them by pressing E."}),(0,a.jsx)("p",{children:"Hint: Experiment with different mushroom combinations for a fun time. (Do not try this in real life.)"}),(0,a.jsx)("p",{children:"Remove the effects of the mushrooms by walking in or over water."}),(0,a.jsx)("p",{children:"\xa0"}),(0,a.jsx)("h2",{children:"More Information"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{onClick:function(){document.querySelector(".disclaimer").style.display="none",document.querySelector(".faq").style.display="block"},style:{textDecoration:"underline",cursor:"pointer"},children:"FAQ"}),(0,a.jsx)("a",{target:"_blank",href:"https://www.northernguilds.com",children:"Northern Guilds Website"}),(0,a.jsx)("a",{target:"_blank",href:"https://twitter.com/northernguilds_",children:"Twitter"}),(0,a.jsx)("a",{target:"_blank",href:"https://discord.gg/pixieinteractive",children:"Discord"}),(0,a.jsx)("a",{target:"_blank",href:"https://opensea.io/collection/northern-guilds-guild-of-thor",children:"OpenSea"})]}),(0,a.jsxs)("p",{children:["We would love to hear your ",(0,a.jsx)("a",{target:"_blank",href:"https://forms.clickup.com/f/q9tvx-4521/8FVDNSAEMAAMFCNNRE",children:"feedback"}),"."]})]})};var Zp=function(){return(0,a.jsxs)("div",{className:"faq",children:[(0,a.jsxs)("h1",{children:["FAQ",(0,a.jsx)("span",{onClick:function(){document.querySelector(".faq").style.display="none"},style:{position:"relative",left:"350px",cursor:"pointer"},children:"\u2716"})]}),(0,a.jsxs)("p",{children:["Have ",(0,a.jsx)("a",{target:"_blank",href:"https://forms.clickup.com/f/q9tvx-4521/8FVDNSAEMAAMFCNNRE",children:"feedback"}),"?  We would love to hear it."]}),(0,a.jsxs)("div",{style:{textAlign:"left",width:"800px",margin:"auto"},children:[(0,a.jsx)("h3",{children:"Why doesn't this demo have . . . "}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:["Collision",(0,a.jsx)("p",{style:{paddingLeft:20},children:"There is collision, just not the kind that stops your movement.  Mushroom pickups are collision based, the water washing off the mushroom effects is collision.  For this release we asked the artists to focus on a big rich environment instead of working on hundreds of collision masks.  We are sorry if this detracts from your experience, our next release will have collision."})]}),(0,a.jsxs)("li",{children:["Mobile Support",(0,a.jsx)("p",{style:{paddingLeft:20},children:"Our current list of supported mobile devices is small and specific.  Instead of saying only people with these models of iPad or Galaxy Tablet can experience the demo we are limiting it to desktop computers.  Future releases will have mobile support, we just need time to test a wide array of devices."})]})]}),(0,a.jsx)("h3",{children:"How did you do . . ."}),(0,a.jsxs)("p",{children:["We have an in-depth article about the technology in the demo.  Read it ",(0,a.jsx)("a",{target:"_blank",href:"https://blog.pixieinteractive.io/lets-talk-rendering-technology-62ecd8e8ae09",children:"here"}),"."]})]})]})};var Kp=function(){var t=Mt((0,i.useState)(Up.NONE),2),e=t[0],r=t[1],n=Mt((0,i.useState)(!1),2),o=n[0],s=n[1];return Wp("keypress",(function(t){if(!1===o)return r(Up.NONE),void s(!0);var n=t.key.toLowerCase();if(Object.keys(Hp).includes(n)){var i=Hp[n];r(i===e?Up.NONE:i)}})),(0,i.useEffect)((function(){r(Up.Disclaimer)}),[]),(0,a.jsxs)(a.Fragment,{children:[e===Up.Controls&&(0,a.jsx)(qp,{}),e===Up.Disclaimer&&(0,a.jsx)(Xp,{}),e===Up.FAQ&&(0,a.jsx)(Zp,{})]})};var Yp=function(){var t=Mt((0,i.useState)(),2),e=t[0],r=t[1];return(0,i.useEffect)((function(){var t=xe(window.navigator);r(t.any)}),[]),(0,i.useEffect)((function(){if(!0===e)console.log("this is a mobile browser");else{if(!1!==e)return;new Fp({})}}),[e]),!0===e?(0,a.jsx)(Gp,{}):!1===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"game"}),(0,a.jsx)("div",{className:"loading",children:"Loading . . ."}),(0,a.jsx)("div",{className:"build-info",children:"Build: v0.12.00-8D"}),(0,a.jsx)("div",{className:"loc"}),(0,a.jsx)("div",{className:"loc press-e",children:"Press E to Eat"}),(0,a.jsx)("div",{className:"loc show-controls",children:"Press H for Help"}),(0,a.jsx)(Kp,{})]}):null},Jp="Auth_logo__1+rmM",$p="Auth_buttons__82wNn",Qp="Auth_spacer__8fZAn",tv="Auth_connectButton__W9fcx";var ev=function(){var t=Qt(),e=w(),r=e.authenticate,n=e.isAuthenticated,o=(0,i.useCallback)((function(){t("/")}),[t]),s=function(){var t=Qc(ef().mark((function t(){return ef().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return t.next=3,r({signingMessage:"Log in using Moralis"}).then((function(t){console.log("logged in user:",t),console.log(t.get("ethAddress"))})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var t=Qc(ef().mark((function t(){return ef().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,i.useEffect)((function(){n&&o()}),[n,o]),(0,a.jsxs)("div",{className:$p,children:[(0,a.jsxs)("button",{onClick:function(){return u()},className:tv,children:[(0,a.jsx)("img",{className:Jp,src:"/logos/metamask.svg",alt:"Metamask"}),(0,a.jsx)("span",{children:"Metamask"})]}),(0,a.jsx)("div",{className:Qp}),(0,a.jsxs)("button",{onClick:function(){},className:tv,children:[(0,a.jsx)("img",{className:Jp,src:"/logos/unstoppable_domains.svg",alt:"Unstoppable Domains"}),(0,a.jsx)("span",{children:"Unstoppable Domains"})]})]})},rv=["0023","0059","0067","0082","0102","0104","0113","0118","0134","0159","0161","0179","0180","0183","0206","0213","0224","0228","0256","0268","0272","0288","0307","0309","0338","0342","0361","0362","0374","0391","0393","0430","0445","0450","0452","0455","0468","0477","0484","0495","0497","0498","0502","0524","0563","0582","0593","0602","0620","0628","0687","0699","0700","0702","0705","0721","0723","0737","0760","0765","0779","0791","0829","0835","0865","0882","0886","0899","0909","0917","0924","0929","0934","0962","0977","0983","0989","0996","1009","1022","1049","1055","1056","1060","1061","1103","1140","1169","1201","1210","1211","1215","1218","1219","1236","1243","1244","1249","1278","1281"],nv=window.localStorage.getItem("nft_id")||"0023",iv=function(t){(0,Pc.Z)(r,t);var e=(0,Ic.Z)(r);function r(){return(0,Ee.Z)(this,r),e.apply(this,arguments)}return(0,Me.Z)(r,[{key:"render",value:function(){return(0,a.jsxs)("div",{className:"select-nft",children:[(0,a.jsx)("select",{defaultValue:nv,onChange:function(t){nv=t.target.value},children:rv.map((function(t){return(0,a.jsx)("option",{value:t,children:t},t)}))}),(0,a.jsx)("button",{onClick:function(t){window.localStorage.setItem("nft_id",nv),window.location.reload()},children:"Change"})]})}}]),r}(i.Component);var ov=function(){return(0,a.jsx)("div",{className:"stats"})};window.innerWidth,window.innerHeight;var av=function(){var t=Mt((0,i.useState)([0,0]),2),e=(t[0],t[1]);return(0,i.useEffect)((function(){Zf.on("position-update",(function(t){e(t.value)}))}),[]),w().isAuthenticated,(0,a.jsx)(oe,{children:(0,a.jsxs)("div",{id:"interface",className:"fullscreen",children:[(0,a.jsx)(ov,{}),(0,a.jsxs)(ne,{children:[(0,a.jsx)(ee,{path:"/",element:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Yp,{}),(0,a.jsx)(iv,{})]})}),(0,a.jsx)(ee,{path:"auth",element:(0,a.jsx)(ev,{})})]})]})})};o.createRoot(document.getElementById("root")).render((0,a.jsx)(i.StrictMode,{children:(0,a.jsx)(_t,{serverUrl:"https://pl29byvi1fgp.usemoralis.com:2053/server",appId:"xVay2Dsg35Y0Y7qMQ3g7Q69BeVBFdTto8bP0fPTZ",children:(0,a.jsx)(av,{})})})),wt()}()}();
//# sourceMappingURL=main.e6b90304.js.map